function RM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Zme=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var x1={exports:{}},Ym={};var T3;function DM(){if(T3)return Ym;T3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,i){var c=null;if(i!==void 0&&(c=""+i),s.key!==void 0&&(c=""+s.key),"key"in s){i={};for(var u in s)u!=="key"&&(i[u]=s[u])}else i=s;return s=i.ref,{$$typeof:e,type:n,key:c,ref:s!==void 0?s:null,props:i}}return Ym.Fragment=t,Ym.jsx=r,Ym.jsxs=r,Ym}var R3;function IM(){return R3||(R3=1,x1.exports=DM()),x1.exports}var a=IM(),g1={exports:{}},er={};var D3;function MM(){if(D3)return er;D3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function b(G){return G===null||typeof G!="object"?null:(G=g&&G[g]||G["@@iterator"],typeof G=="function"?G:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function S(G,P,H){this.props=G,this.context=P,this.refs=j,this.updater=H||y}S.prototype.isReactComponent={},S.prototype.setState=function(G,P){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,P,"setState")},S.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function _(){}_.prototype=S.prototype;function E(G,P,H){this.props=G,this.context=P,this.refs=j,this.updater=H||y}var k=E.prototype=new _;k.constructor=E,N(k,S.prototype),k.isPureReactComponent=!0;var T=Array.isArray;function D(){}var M={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function B(G,P,H){var $=H.ref;return{$$typeof:e,type:G,key:P,ref:$!==void 0?$:null,props:H}}function K(G,P){return B(G.type,P,G.props)}function U(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function F(G){var P={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(H){return P[H]})}var X=/\/+/g;function Q(G,P){return typeof G=="object"&&G!==null&&G.key!=null?F(""+G.key):P.toString(36)}function pe(G){switch(G.status){case"fulfilled":return G.value;case"rejected":throw G.reason;default:switch(typeof G.status=="string"?G.then(D,D):(G.status="pending",G.then(function(P){G.status==="pending"&&(G.status="fulfilled",G.value=P)},function(P){G.status==="pending"&&(G.status="rejected",G.reason=P)})),G.status){case"fulfilled":return G.value;case"rejected":throw G.reason}}throw G}function re(G,P,H,$,ae){var le=typeof G;(le==="undefined"||le==="boolean")&&(G=null);var be=!1;if(G===null)be=!0;else switch(le){case"bigint":case"string":case"number":be=!0;break;case"object":switch(G.$$typeof){case e:case t:be=!0;break;case m:return be=G._init,re(be(G._payload),P,H,$,ae)}}if(be)return ae=ae(G),be=$===""?"."+Q(G,0):$,T(ae)?(H="",be!=null&&(H=be.replace(X,"$&/")+"/"),re(ae,P,H,"",function(me){return me})):ae!=null&&(U(ae)&&(ae=K(ae,H+(ae.key==null||G&&G.key===ae.key?"":(""+ae.key).replace(X,"$&/")+"/")+be)),P.push(ae)),1;be=0;var ce=$===""?".":$+":";if(T(G))for(var oe=0;oe<G.length;oe++)$=G[oe],le=ce+Q($,oe),be+=re($,P,H,le,ae);else if(oe=b(G),typeof oe=="function")for(G=oe.call(G),oe=0;!($=G.next()).done;)$=$.value,le=ce+Q($,oe++),be+=re($,P,H,le,ae);else if(le==="object"){if(typeof G.then=="function")return re(pe(G),P,H,$,ae);throw P=String(G),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return be}function ue(G,P,H){if(G==null)return G;var $=[],ae=0;return re(G,$,"","",function(le){return P.call(H,le,ae++)}),$}function V(G){if(G._status===-1){var P=G._result;P=P(),P.then(function(H){(G._status===0||G._status===-1)&&(G._status=1,G._result=H)},function(H){(G._status===0||G._status===-1)&&(G._status=2,G._result=H)}),G._status===-1&&(G._status=0,G._result=P)}if(G._status===1)return G._result.default;throw G._result}var Z=typeof reportError=="function"?reportError:function(G){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof G=="object"&&G!==null&&typeof G.message=="string"?String(G.message):String(G),error:G});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",G);return}console.error(G)},ge={map:ue,forEach:function(G,P,H){ue(G,function(){P.apply(this,arguments)},H)},count:function(G){var P=0;return ue(G,function(){P++}),P},toArray:function(G){return ue(G,function(P){return P})||[]},only:function(G){if(!U(G))throw Error("React.Children.only expected to receive a single React element child.");return G}};return er.Activity=p,er.Children=ge,er.Component=S,er.Fragment=r,er.Profiler=s,er.PureComponent=E,er.StrictMode=n,er.Suspense=d,er.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,er.__COMPILER_RUNTIME={__proto__:null,c:function(G){return M.H.useMemoCache(G)}},er.cache=function(G){return function(){return G.apply(null,arguments)}},er.cacheSignal=function(){return null},er.cloneElement=function(G,P,H){if(G==null)throw Error("The argument must be a React element, but you passed "+G+".");var $=N({},G.props),ae=G.key;if(P!=null)for(le in P.key!==void 0&&(ae=""+P.key),P)!R.call(P,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&P.ref===void 0||($[le]=P[le]);var le=arguments.length-2;if(le===1)$.children=H;else if(1<le){for(var be=Array(le),ce=0;ce<le;ce++)be[ce]=arguments[ce+2];$.children=be}return B(G.type,ae,$)},er.createContext=function(G){return G={$$typeof:c,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null},G.Provider=G,G.Consumer={$$typeof:i,_context:G},G},er.createElement=function(G,P,H){var $,ae={},le=null;if(P!=null)for($ in P.key!==void 0&&(le=""+P.key),P)R.call(P,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ae[$]=P[$]);var be=arguments.length-2;if(be===1)ae.children=H;else if(1<be){for(var ce=Array(be),oe=0;oe<be;oe++)ce[oe]=arguments[oe+2];ae.children=ce}if(G&&G.defaultProps)for($ in be=G.defaultProps,be)ae[$]===void 0&&(ae[$]=be[$]);return B(G,le,ae)},er.createRef=function(){return{current:null}},er.forwardRef=function(G){return{$$typeof:u,render:G}},er.isValidElement=U,er.lazy=function(G){return{$$typeof:m,_payload:{_status:-1,_result:G},_init:V}},er.memo=function(G,P){return{$$typeof:f,type:G,compare:P===void 0?null:P}},er.startTransition=function(G){var P=M.T,H={};M.T=H;try{var $=G(),ae=M.S;ae!==null&&ae(H,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(D,Z)}catch(le){Z(le)}finally{P!==null&&H.types!==null&&(P.types=H.types),M.T=P}},er.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},er.use=function(G){return M.H.use(G)},er.useActionState=function(G,P,H){return M.H.useActionState(G,P,H)},er.useCallback=function(G,P){return M.H.useCallback(G,P)},er.useContext=function(G){return M.H.useContext(G)},er.useDebugValue=function(){},er.useDeferredValue=function(G,P){return M.H.useDeferredValue(G,P)},er.useEffect=function(G,P){return M.H.useEffect(G,P)},er.useEffectEvent=function(G){return M.H.useEffectEvent(G)},er.useId=function(){return M.H.useId()},er.useImperativeHandle=function(G,P,H){return M.H.useImperativeHandle(G,P,H)},er.useInsertionEffect=function(G,P){return M.H.useInsertionEffect(G,P)},er.useLayoutEffect=function(G,P){return M.H.useLayoutEffect(G,P)},er.useMemo=function(G,P){return M.H.useMemo(G,P)},er.useOptimistic=function(G,P){return M.H.useOptimistic(G,P)},er.useReducer=function(G,P,H){return M.H.useReducer(G,P,H)},er.useRef=function(G){return M.H.useRef(G)},er.useState=function(G){return M.H.useState(G)},er.useSyncExternalStore=function(G,P,H){return M.H.useSyncExternalStore(G,P,H)},er.useTransition=function(){return M.H.useTransition()},er.version="19.2.3",er}var I3;function Qh(){return I3||(I3=1,g1.exports=MM()),g1.exports}var v=Qh();const Ju=Kl(v),BM=RM({__proto__:null,default:Ju},[v]);var b1={exports:{}},Xm={},y1={exports:{}},v1={};var M3;function zM(){return M3||(M3=1,(function(e){function t(re,ue){var V=re.length;re.push(ue);e:for(;0<V;){var Z=V-1>>>1,ge=re[Z];if(0<s(ge,ue))re[Z]=ue,re[V]=ge,V=Z;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var ue=re[0],V=re.pop();if(V!==ue){re[0]=V;e:for(var Z=0,ge=re.length,G=ge>>>1;Z<G;){var P=2*(Z+1)-1,H=re[P],$=P+1,ae=re[$];if(0>s(H,V))$<ge&&0>s(ae,H)?(re[Z]=ae,re[$]=V,Z=$):(re[Z]=H,re[P]=V,Z=P);else if($<ge&&0>s(ae,V))re[Z]=ae,re[$]=V,Z=$;else break e}}return ue}function s(re,ue){var V=re.sortIndex-ue.sortIndex;return V!==0?V:re.id-ue.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var d=[],f=[],m=1,p=null,g=3,b=!1,y=!1,N=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function k(re){for(var ue=r(f);ue!==null;){if(ue.callback===null)n(f);else if(ue.startTime<=re)n(f),ue.sortIndex=ue.expirationTime,t(d,ue);else break;ue=r(f)}}function T(re){if(N=!1,k(re),!y)if(r(d)!==null)y=!0,D||(D=!0,F());else{var ue=r(f);ue!==null&&pe(T,ue.startTime-re)}}var D=!1,M=-1,R=5,B=-1;function K(){return j?!0:!(e.unstable_now()-B<R)}function U(){if(j=!1,D){var re=e.unstable_now();B=re;var ue=!0;try{e:{y=!1,N&&(N=!1,_(M),M=-1),b=!0;var V=g;try{t:{for(k(re),p=r(d);p!==null&&!(p.expirationTime>re&&K());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,g=p.priorityLevel;var ge=Z(p.expirationTime<=re);if(re=e.unstable_now(),typeof ge=="function"){p.callback=ge,k(re),ue=!0;break t}p===r(d)&&n(d),k(re)}else n(d);p=r(d)}if(p!==null)ue=!0;else{var G=r(f);G!==null&&pe(T,G.startTime-re),ue=!1}}break e}finally{p=null,g=V,b=!1}ue=void 0}}finally{ue?F():D=!1}}}var F;if(typeof E=="function")F=function(){E(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,Q=X.port2;X.port1.onmessage=U,F=function(){Q.postMessage(null)}}else F=function(){S(U,0)};function pe(re,ue){M=S(function(){re(e.unstable_now())},ue)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(re){switch(g){case 1:case 2:case 3:var ue=3;break;default:ue=g}var V=g;g=ue;try{return re()}finally{g=V}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(re,ue){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var V=g;g=re;try{return ue()}finally{g=V}},e.unstable_scheduleCallback=function(re,ue,V){var Z=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Z+V:Z):V=Z,re){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=V+ge,re={id:m++,callback:ue,priorityLevel:re,startTime:V,expirationTime:ge,sortIndex:-1},V>Z?(re.sortIndex=V,t(f,re),r(d)===null&&re===r(f)&&(N?(_(M),M=-1):N=!0,pe(T,V-Z))):(re.sortIndex=ge,t(d,re),y||b||(y=!0,D||(D=!0,F()))),re},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(re){var ue=g;return function(){var V=g;g=ue;try{return re.apply(this,arguments)}finally{g=V}}}})(v1)),v1}var B3;function FM(){return B3||(B3=1,y1.exports=zM()),y1.exports}var w1={exports:{}},us={};var z3;function UM(){if(z3)return us;z3=1;var e=Qh();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,us.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(d,f,null,m)},us.flushSync=function(d){var f=c.T,m=n.p;try{if(c.T=null,n.p=2,d)return d()}finally{c.T=f,n.p=m,n.d.f()}},us.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},us.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},us.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:b}):m==="script"&&n.d.X(d,{crossOrigin:p,integrity:g,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},us.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},us.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=u(m,f.crossOrigin);n.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},us.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},us.requestFormReset=function(d){n.d.r(d)},us.unstable_batchedUpdates=function(d,f){return d(f)},us.useFormState=function(d,f,m){return c.H.useFormState(d,f,m)},us.useFormStatus=function(){return c.H.useHostTransitionStatus()},us.version="19.2.3",us}var F3;function s8(){if(F3)return w1.exports;F3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),w1.exports=UM(),w1.exports}var U3;function qM(){if(U3)return Xm;U3=1;var e=FM(),t=Qh(),r=s8();function n(o){var l="https://react.dev/errors/"+o;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)l+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var l=o,h=o;if(o.alternate)for(;l.return;)l=l.return;else{o=l;do l=o,(l.flags&4098)!==0&&(h=l.return),o=l.return;while(o)}return l.tag===3?h:null}function c(o){if(o.tag===13){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function u(o){if(o.tag===31){var l=o.memoizedState;if(l===null&&(o=o.alternate,o!==null&&(l=o.memoizedState)),l!==null)return l.dehydrated}return null}function d(o){if(i(o)!==o)throw Error(n(188))}function f(o){var l=o.alternate;if(!l){if(l=i(o),l===null)throw Error(n(188));return l!==o?null:o}for(var h=o,x=l;;){var A=h.return;if(A===null)break;var O=A.alternate;if(O===null){if(x=A.return,x!==null){h=x;continue}break}if(A.child===O.child){for(O=A.child;O;){if(O===h)return d(A),o;if(O===x)return d(A),l;O=O.sibling}throw Error(n(188))}if(h.return!==x.return)h=A,x=O;else{for(var q=!1,te=A.child;te;){if(te===h){q=!0,h=A,x=O;break}if(te===x){q=!0,x=A,h=O;break}te=te.sibling}if(!q){for(te=O.child;te;){if(te===h){q=!0,h=O,x=A;break}if(te===x){q=!0,x=O,h=A;break}te=te.sibling}if(!q)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:l}function m(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o;for(o=o.child;o!==null;){if(l=m(o),l!==null)return l;o=o.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(o){return o===null||typeof o!="object"?null:(o=U&&o[U]||o["@@iterator"],typeof o=="function"?o:null)}var X=Symbol.for("react.client.reference");function Q(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===X?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case N:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case E:return o.displayName||"Context";case _:return(o._context.displayName||"Context")+".Consumer";case k:var l=o.render;return o=o.displayName,o||(o=l.displayName||l.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return l=o.displayName||null,l!==null?l:Q(o.type)||"Memo";case R:l=o._payload,o=o._init;try{return Q(o(l))}catch{}}return null}var pe=Array.isArray,re=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Z=[],ge=-1;function G(o){return{current:o}}function P(o){0>ge||(o.current=Z[ge],Z[ge]=null,ge--)}function H(o,l){ge++,Z[ge]=o.current,o.current=l}var $=G(null),ae=G(null),le=G(null),be=G(null);function ce(o,l){switch(H(le,l),H(ae,o),H($,null),l.nodeType){case 9:case 11:o=(o=l.documentElement)&&(o=o.namespaceURI)?r3(o):0;break;default:if(o=l.tagName,l=l.namespaceURI)l=r3(l),o=n3(l,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}P($),H($,o)}function oe(){P($),P(ae),P(le)}function me(o){o.memoizedState!==null&&H(be,o);var l=$.current,h=n3(l,o.type);l!==h&&(H(ae,o),H($,h))}function Ae(o){ae.current===o&&(P($),P(ae)),be.current===o&&(P(be),Gm._currentValue=V)}var xe,Ie;function Ve(o){if(xe===void 0)try{throw Error()}catch(h){var l=h.stack.trim().match(/\n( *(at )?)/);xe=l&&l[1]||"",Ie=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+o+Ie}var se=!1;function at(o,l){if(!o||se)return"";se=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(l){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(Me){var Re=Me}Reflect.construct(o,[],Qe)}else{try{Qe.call()}catch(Me){Re=Me}o.call(Qe.prototype)}}else{try{throw Error()}catch(Me){Re=Me}(Qe=o())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(Me){if(Me&&Re&&typeof Me.stack=="string")return[Me.stack,Re.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var O=x.DetermineComponentFrameRoot(),q=O[0],te=O[1];if(q&&te){var ye=q.split(`
`),Te=te.split(`
`);for(A=x=0;x<ye.length&&!ye[x].includes("DetermineComponentFrameRoot");)x++;for(;A<Te.length&&!Te[A].includes("DetermineComponentFrameRoot");)A++;if(x===ye.length||A===Te.length)for(x=ye.length-1,A=Te.length-1;1<=x&&0<=A&&ye[x]!==Te[A];)A--;for(;1<=x&&0<=A;x--,A--)if(ye[x]!==Te[A]){if(x!==1||A!==1)do if(x--,A--,0>A||ye[x]!==Te[A]){var $e=`
`+ye[x].replace(" at new "," at ");return o.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",o.displayName)),$e}while(1<=x&&0<=A);break}}}finally{se=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Ve(h):""}function Dt(o,l){switch(o.tag){case 26:case 27:case 5:return Ve(o.type);case 16:return Ve("Lazy");case 13:return o.child!==l&&l!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return at(o.type,!1);case 11:return at(o.type.render,!1);case 1:return at(o.type,!0);case 31:return Ve("Activity");default:return""}}function xt(o){try{var l="",h=null;do l+=Dt(o,h),h=o,o=o.return;while(o);return l}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var tt=Object.prototype.hasOwnProperty,jt=e.unstable_scheduleCallback,ut=e.unstable_cancelCallback,kt=e.unstable_shouldYield,Ct=e.unstable_requestPaint,Gt=e.unstable_now,nr=e.unstable_getCurrentPriorityLevel,Ut=e.unstable_ImmediatePriority,ar=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,ct=e.unstable_LowPriority,Ht=e.unstable_IdlePriority,Se=e.log,qe=e.unstable_setDisableYieldValue,Fe=null,Je=null;function Xe(o){if(typeof Se=="function"&&qe(o),Je&&typeof Je.setStrictMode=="function")try{Je.setStrictMode(Fe,o)}catch{}}var et=Math.clz32?Math.clz32:gt,nt=Math.log,Nt=Math.LN2;function gt(o){return o>>>=0,o===0?32:31-(nt(o)/Nt|0)|0}var it=256,Et=262144,Tt=4194304;function ht(o){var l=o&42;if(l!==0)return l;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Xt(o,l,h){var x=o.pendingLanes;if(x===0)return 0;var A=0,O=o.suspendedLanes,q=o.pingedLanes;o=o.warmLanes;var te=x&134217727;return te!==0?(x=te&~O,x!==0?A=ht(x):(q&=te,q!==0?A=ht(q):h||(h=te&~o,h!==0&&(A=ht(h))))):(te=x&~O,te!==0?A=ht(te):q!==0?A=ht(q):h||(h=x&~o,h!==0&&(A=ht(h)))),A===0?0:l!==0&&l!==A&&(l&O)===0&&(O=A&-A,h=l&-l,O>=h||O===32&&(h&4194048)!==0)?l:A}function Zr(o,l){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&l)===0}function Jr(o,l){switch(o){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aa(){var o=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),o}function as(o){for(var l=[],h=0;31>h;h++)l.push(o);return l}function Ot(o,l){o.pendingLanes|=l,l!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function oi(o,l,h,x,A,O){var q=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var te=o.entanglements,ye=o.expirationTimes,Te=o.hiddenUpdates;for(h=q&~h;0<h;){var $e=31-et(h),Qe=1<<$e;te[$e]=0,ye[$e]=-1;var Re=Te[$e];if(Re!==null)for(Te[$e]=null,$e=0;$e<Re.length;$e++){var Me=Re[$e];Me!==null&&(Me.lane&=-536870913)}h&=~Qe}x!==0&&Rs(o,x,0),O!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=O&~(q&~l))}function Rs(o,l,h){o.pendingLanes|=l,o.suspendedLanes&=~l;var x=31-et(l);o.entangledLanes|=l,o.entanglements[x]=o.entanglements[x]|1073741824|h&261930}function qa(o,l){var h=o.entangledLanes|=l;for(o=o.entanglements;h;){var x=31-et(h),A=1<<x;A&l|o[x]&l&&(o[x]|=l),h&=~A}}function $a(o,l){var h=l&-l;return h=(h&42)!==0?1:Ur(h),(h&(o.suspendedLanes|l))!==0?0:h}function Ur(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function gn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function _n(){var o=ue.p;return o!==0?o:(o=window.event,o===void 0?32:_3(o.type))}function Ri(o,l){var h=ue.p;try{return ue.p=o,l()}finally{ue.p=h}}var ha=Math.random().toString(36).slice(2),jr="__reactFiber$"+ha,qr="__reactProps$"+ha,sa="__reactContainer$"+ha,Ha="__reactEvents$"+ha,ss="__reactListeners$"+ha,bo="__reactHandles$"+ha,gs="__reactResources$"+ha,Pe="__reactMarker$"+ha;function lt(o){delete o[jr],delete o[qr],delete o[Ha],delete o[ss],delete o[bo]}function St(o){var l=o[jr];if(l)return l;for(var h=o.parentNode;h;){if(l=h[sa]||h[jr]){if(h=l.alternate,l.child!==null||h!==null&&h.child!==null)for(o=u3(o);o!==null;){if(h=o[jr])return h;o=u3(o)}return l}o=h,h=o.parentNode}return null}function on(o){if(o=o[jr]||o[sa]){var l=o.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return o}return null}function Di(o){var l=o.tag;if(l===5||l===26||l===27||l===6)return o.stateNode;throw Error(n(33))}function Ds(o){var l=o[gs];return l||(l=o[gs]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function ln(o){o[Pe]=!0}var ol=new Set,Ga={};function is(o,l){li(o,l),li(o+"Capture",l)}function li(o,l){for(Ga[o]=l,o=0;o<l.length;o++)ol.add(l[o])}var Wn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rd={},nd={};function Sf(o){return tt.call(nd,o)?!0:tt.call(rd,o)?!1:Wn.test(o)?nd[o]=!0:(rd[o]=!0,!1)}function bs(o,l,h){if(Sf(l))if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(l);return;case"boolean":var x=l.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){o.removeAttribute(l);return}}o.setAttribute(l,""+h)}}function yo(o,l,h){if(h===null)o.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(l);return}o.setAttribute(l,""+h)}}function ci(o,l,h,x){if(x===null)o.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(l,h,""+x)}}function vr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function ad(o){var l=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Ii(o,l,h){var x=Object.getOwnPropertyDescriptor(o.constructor.prototype,l);if(!o.hasOwnProperty(l)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var A=x.get,O=x.set;return Object.defineProperty(o,l,{configurable:!0,get:function(){return A.call(this)},set:function(q){h=""+q,O.call(this,q)}}),Object.defineProperty(o,l,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(q){h=""+q},stopTracking:function(){o._valueTracker=null,delete o[l]}}}}function ll(o){if(!o._valueTracker){var l=ad(o)?"checked":"value";o._valueTracker=Ii(o,l,""+o[l])}}function sd(o){if(!o)return!1;var l=o._valueTracker;if(!l)return!0;var h=l.getValue(),x="";return o&&(x=ad(o)?o.checked?"true":"false":o.value),o=x,o!==h?(l.setValue(o),!0):!1}function Ka(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Yn=/[\n"\\]/g;function In(o){return o.replace(Yn,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function tu(o,l,h,x,A,O,q,te){o.name="",q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?o.type=q:o.removeAttribute("type"),l!=null?q==="number"?(l===0&&o.value===""||o.value!=l)&&(o.value=""+vr(l)):o.value!==""+vr(l)&&(o.value=""+vr(l)):q!=="submit"&&q!=="reset"||o.removeAttribute("value"),l!=null?id(o,q,vr(l)):h!=null?id(o,q,vr(h)):x!=null&&o.removeAttribute("value"),A==null&&O!=null&&(o.defaultChecked=!!O),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?o.name=""+vr(te):o.removeAttribute("name")}function Af(o,l,h,x,A,O,q,te){if(O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.type=O),l!=null||h!=null){if(!(O!=="submit"&&O!=="reset"||l!=null)){ll(o);return}h=h!=null?""+vr(h):"",l=l!=null?""+vr(l):h,te||l===o.value||(o.value=l),o.defaultValue=l}x=x??A,x=typeof x!="function"&&typeof x!="symbol"&&!!x,o.checked=te?o.checked:!!x,o.defaultChecked=!!x,q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"&&(o.name=q),ll(o)}function id(o,l,h){l==="number"&&Ka(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Va(o,l,h,x){if(o=o.options,l){l={};for(var A=0;A<h.length;A++)l["$"+h[A]]=!0;for(h=0;h<o.length;h++)A=l.hasOwnProperty("$"+o[h].value),o[h].selected!==A&&(o[h].selected=A),A&&x&&(o[h].defaultSelected=!0)}else{for(h=""+vr(h),l=null,A=0;A<o.length;A++){if(o[A].value===h){o[A].selected=!0,x&&(o[A].defaultSelected=!0);return}l!==null||o[A].disabled||(l=o[A])}l!==null&&(l.selected=!0)}}function od(o,l,h){if(l!=null&&(l=""+vr(l),l!==o.value&&(o.value=l),h==null)){o.defaultValue!==l&&(o.defaultValue=l);return}o.defaultValue=h!=null?""+vr(h):""}function ld(o,l,h,x){if(l==null){if(x!=null){if(h!=null)throw Error(n(92));if(pe(x)){if(1<x.length)throw Error(n(93));x=x[0]}h=x}h==null&&(h=""),l=h}h=vr(l),o.defaultValue=h,x=o.textContent,x===h&&x!==""&&x!==null&&(o.value=x),ll(o)}function ui(o,l){if(l){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=l;return}}o.textContent=l}var Ql=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _f(o,l,h){var x=l.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?o.setProperty(l,""):l==="float"?o.cssFloat="":o[l]="":x?o.setProperty(l,h):typeof h!="number"||h===0||Ql.has(l)?l==="float"?o.cssFloat=h:o[l]=(""+h).trim():o[l]=h+"px"}function Cf(o,l,h){if(l!=null&&typeof l!="object")throw Error(n(62));if(o=o.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||l!=null&&l.hasOwnProperty(x)||(x.indexOf("--")===0?o.setProperty(x,""):x==="float"?o.cssFloat="":o[x]="");for(var A in l)x=l[A],l.hasOwnProperty(A)&&h[A]!==x&&_f(o,A,x)}else for(var O in l)l.hasOwnProperty(O)&&_f(o,O,l[O])}function cd(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ud=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function os(o){return Ef.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function di(){}var vo=null;function Zl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var cl=null,zt=null;function kf(o){var l=on(o);if(l&&(o=l.stateNode)){var h=o[qr]||null;e:switch(o=l.stateNode,l.type){case"input":if(tu(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),l=h.name,h.type==="radio"&&l!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+In(""+l)+'"][type="radio"]'),l=0;l<h.length;l++){var x=h[l];if(x!==o&&x.form===o.form){var A=x[qr]||null;if(!A)throw Error(n(90));tu(x,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(l=0;l<h.length;l++)x=h[l],x.form===o.form&&sd(x)}break e;case"textarea":od(o,h.value,h.defaultValue);break e;case"select":l=h.value,l!=null&&Va(o,!!h.multiple,l,!1)}}}var dd=!1;function Of(o,l,h){if(dd)return o(l,h);dd=!0;try{var x=o(l);return x}finally{if(dd=!1,(cl!==null||zt!==null)&&(Xp(),cl&&(l=cl,o=zt,zt=cl=null,kf(l),o)))for(l=0;l<o.length;l++)kf(o[l])}}function ys(o,l){var h=o.stateNode;if(h===null)return null;var x=h[qr]||null;if(x===null)return null;h=x[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,l,typeof h));return h}var ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fd=!1;if(ma)try{var Jl={};Object.defineProperty(Jl,"passive",{get:function(){fd=!0}}),window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{fd=!1}var vs=null,ec=null,Mi=null;function Pf(){if(Mi)return Mi;var o,l=ec,h=l.length,x,A="value"in vs?vs.value:vs.textContent,O=A.length;for(o=0;o<h&&l[o]===A[o];o++);var q=h-o;for(x=1;x<=q&&l[h-x]===A[O-x];x++);return Mi=A.slice(o,1<x?1-x:void 0)}function Is(o){var l=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&l===13&&(o=13)):o=l,o===10&&(o=13),32<=o||o===13?o:0}function ru(){return!0}function nu(){return!1}function ia(o){function l(h,x,A,O,q){this._reactName=h,this._targetInst=A,this.type=x,this.nativeEvent=O,this.target=q,this.currentTarget=null;for(var te in o)o.hasOwnProperty(te)&&(h=o[te],this[te]=h?h(O):O[te]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ru:nu,this.isPropagationStopped=nu,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=ru)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=ru)},persist:function(){},isPersistent:ru}),l}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=ia(Bi),wo=p({},Bi,{view:0,detail:0}),au=ia(wo),tc,No,jo,rc=p({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$t,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==jo&&(jo&&o.type==="mousemove"?(tc=o.screenX-jo.screenX,No=o.screenY-jo.screenY):No=tc=0,jo=o),tc)},movementY:function(o){return"movementY"in o?o.movementY:No}}),hd=ia(rc),So=p({},rc,{dataTransfer:0}),Ao=ia(So),Lf=p({},wo,{relatedTarget:0}),_o=ia(Lf),Tf=p({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),L=ia(Tf),W=p({},Bi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),he=ia(W),ve=p({},Bi,{data:0}),_e=ia(ve),Ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function At(o){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(o):(o=bt[o])?!!l[o]:!1}function $t(){return At}var Zt=p({},wo,{key:function(o){if(o.key){var l=Ge[o.key]||o.key;if(l!=="Unidentified")return l}return o.type==="keypress"?(o=Is(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?rt[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$t,charCode:function(o){return o.type==="keypress"?Is(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Is(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),hr=ia(Zt),un=p({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cn=ia(un),$r=p({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$t}),Xn=ia($r),Mn=p({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),pa=ia(Mn),Co=p({},rc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),fi=ia(Co),Eo=p({},Bi,{newState:0,oldState:0}),md=ia(Eo),su=[9,13,27,32],zi=ma&&"CompositionEvent"in window,hi=null;ma&&"documentMode"in document&&(hi=document.documentMode);var nc=ma&&"TextEvent"in window&&!hi,ko=ma&&(!zi||hi&&8<hi&&11>=hi),oa=" ",ul=!1;function dl(o,l){switch(o){case"keyup":return su.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iu(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fi=!1;function Wa(o,l){switch(o){case"compositionend":return iu(l);case"keypress":return l.which!==32?null:(ul=!0,oa);case"textInput":return o=l.data,o===oa&&ul?null:o;default:return null}}function Oo(o,l){if(Fi)return o==="compositionend"||!zi&&dl(o,l)?(o=Pf(),Mi=ec=vs=null,Fi=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ko&&l.locale!=="ko"?null:l.data;default:return null}}var ou={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pd(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l==="input"?!!ou[o.type]:l==="textarea"}function ws(o,l,h,x){cl?zt?zt.push(x):zt=[x]:cl=x,l=nx(l,"onChange"),0<l.length&&(h=new Ms("onChange","change",null,h,x),o.push({event:h,listeners:l}))}var mi=null,Po=null;function xd(o){X4(o,0)}function pi(o){var l=Di(o);if(sd(l))return o}function fl(o,l){if(o==="change")return l}var ls=!1;if(ma){var Ya;if(ma){var Ui="oninput"in document;if(!Ui){var qi=document.createElement("div");qi.setAttribute("oninput","return;"),Ui=typeof qi.oninput=="function"}Ya=Ui}else Ya=!1;ls=Ya&&(!document.documentMode||9<document.documentMode)}function Lo(){mi&&(mi.detachEvent("onpropertychange",lu),Po=mi=null)}function lu(o){if(o.propertyName==="value"&&pi(Po)){var l=[];ws(l,Po,o,Zl(o)),Of(xd,l)}}function cu(o,l,h){o==="focusin"?(Lo(),mi=l,Po=h,mi.attachEvent("onpropertychange",lu)):o==="focusout"&&Lo()}function En(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return pi(Po)}function Rf(o,l){if(o==="click")return pi(l)}function $i(o,l){if(o==="input"||o==="change")return pi(l)}function Hi(o,l){return o===l&&(o!==0||1/o===1/l)||o!==o&&l!==l}var xa=typeof Object.is=="function"?Object.is:Hi;function To(o,l){if(xa(o,l))return!0;if(typeof o!="object"||o===null||typeof l!="object"||l===null)return!1;var h=Object.keys(o),x=Object.keys(l);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var A=h[x];if(!tt.call(l,A)||!xa(o[A],l[A]))return!1}return!0}function uu(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function du(o,l){var h=uu(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=l&&x>=l)return{node:h,offset:l-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=uu(h)}}function Ro(o,l){return o&&l?o===l?!0:o&&o.nodeType===3?!1:l&&l.nodeType===3?Ro(o,l.parentNode):"contains"in o?o.contains(l):o.compareDocumentPosition?!!(o.compareDocumentPosition(l)&16):!1:!1}function Do(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var l=Ka(o.document);l instanceof o.HTMLIFrameElement;){try{var h=typeof l.contentWindow.location.href=="string"}catch{h=!1}if(h)o=l.contentWindow;else break;l=Ka(o.document)}return l}function Gi(o){var l=o&&o.nodeName&&o.nodeName.toLowerCase();return l&&(l==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||l==="textarea"||o.contentEditable==="true")}var ac=ma&&"documentMode"in document&&11>=document.documentMode,Ns=null,Io=null,Ea=null,Bs=!1;function wr(o,l,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Bs||Ns==null||Ns!==Ka(x)||(x=Ns,"selectionStart"in x&&Gi(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Ea&&To(Ea,x)||(Ea=x,x=nx(Io,"onSelect"),0<x.length&&(l=new Ms("onSelect","select",null,l,h),o.push({event:l,listeners:x}),l.target=Ns)))}function mr(o,l){var h={};return h[o.toLowerCase()]=l.toLowerCase(),h["Webkit"+o]="webkit"+l,h["Moz"+o]="moz"+l,h}var Hr={animationend:mr("Animation","AnimationEnd"),animationiteration:mr("Animation","AnimationIteration"),animationstart:mr("Animation","AnimationStart"),transitionrun:mr("Transition","TransitionRun"),transitionstart:mr("Transition","TransitionStart"),transitioncancel:mr("Transition","TransitionCancel"),transitionend:mr("Transition","TransitionEnd")},kn={},Ki={};ma&&(Ki=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function xi(o){if(kn[o])return kn[o];if(!Hr[o])return o;var l=Hr[o],h;for(h in l)if(l.hasOwnProperty(h)&&h in Ki)return kn[o]=l[h];return o}var sc=xi("animationend"),gd=xi("animationiteration"),mm=xi("animationstart"),_p=xi("transitionrun"),Cp=xi("transitionstart"),Ep=xi("transitioncancel"),pm=xi("transitionend"),xm=new Map,ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ic.push("scrollEnd");function zs(o,l){xm.set(o,l),is(l,[o])}var bd=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},js=[],oc=0,Df=0;function yd(){for(var o=oc,l=Df=oc=0;l<o;){var h=js[l];js[l++]=null;var x=js[l];js[l++]=null;var A=js[l];js[l++]=null;var O=js[l];if(js[l++]=null,x!==null&&A!==null){var q=x.pending;q===null?A.next=A:(A.next=q.next,q.next=A),x.pending=A}O!==0&&wd(h,A,O)}}function vd(o,l,h,x){js[oc++]=o,js[oc++]=l,js[oc++]=h,js[oc++]=x,Df|=x,o.lanes|=x,o=o.alternate,o!==null&&(o.lanes|=x)}function If(o,l,h,x){return vd(o,l,h,x),ka(o)}function Mo(o,l){return vd(o,null,null,l),ka(o)}function wd(o,l,h){o.lanes|=h;var x=o.alternate;x!==null&&(x.lanes|=h);for(var A=!1,O=o.return;O!==null;)O.childLanes|=h,x=O.alternate,x!==null&&(x.childLanes|=h),O.tag===22&&(o=O.stateNode,o===null||o._visibility&1||(A=!0)),o=O,O=O.return;return o.tag===3?(O=o.stateNode,A&&l!==null&&(A=31-et(h),o=O.hiddenUpdates,x=o[A],x===null?o[A]=[l]:x.push(l),l.lane=h|536870912),O):null}function ka(o){if(50<Bm)throw Bm=0,Fv=null,Error(n(185));for(var l=o.return;l!==null;)o=l,l=o.return;return o.tag===3?o.stateNode:null}var ga={};function Mf(o,l,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(o,l,h,x){return new Mf(o,l,h,x)}function Bf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fs(o,l){var h=o.alternate;return h===null?(h=Oa(o.tag,l,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=l,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,l=o.dependencies,h.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function Nd(o,l){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=l,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,l=h.dependencies,o.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),o}function fu(o,l,h,x,A,O){var q=0;if(x=o,typeof o=="function")Bf(o)&&(q=1);else if(typeof o=="string")q=NM(o,h,$.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Oa(31,h,l,A),o.elementType=B,o.lanes=O,o;case N:return hl(h.children,A,O,l);case j:q=8,A|=24;break;case S:return o=Oa(12,h,l,A|2),o.elementType=S,o.lanes=O,o;case T:return o=Oa(13,h,l,A),o.elementType=T,o.lanes=O,o;case D:return o=Oa(19,h,l,A),o.elementType=D,o.lanes=O,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case E:q=10;break e;case _:q=9;break e;case k:q=11;break e;case M:q=14;break e;case R:q=16,x=null;break e}q=29,h=Error(n(130,o===null?"null":typeof o,"")),x=null}return l=Oa(q,h,l,A),l.elementType=o,l.type=x,l.lanes=O,l}function hl(o,l,h,x){return o=Oa(7,o,x,l),o.lanes=h,o}function jd(o,l,h){return o=Oa(6,o,null,l),o.lanes=h,o}function zf(o){var l=Oa(18,null,null,0);return l.stateNode=o,l}function hu(o,l,h){return l=Oa(4,o.children!==null?o.children:[],o.key,l),l.lanes=h,l.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},l}var Ff=new WeakMap;function Us(o,l){if(typeof o=="object"&&o!==null){var h=Ff.get(o);return h!==void 0?h:(l={value:o,source:l,stack:xt(l)},Ff.set(o,l),l)}return{value:o,source:l,stack:xt(l)}}var mu=[],lc=0,Uf=null,Sd=0,qs=[],$s=0,ml=null,Hs=1,Gs="";function Ss(o,l){mu[lc++]=Sd,mu[lc++]=Uf,Uf=o,Sd=l}function kp(o,l,h){qs[$s++]=Hs,qs[$s++]=Gs,qs[$s++]=ml,ml=o;var x=Hs;o=Gs;var A=32-et(x)-1;x&=~(1<<A),h+=1;var O=32-et(l)+A;if(30<O){var q=A-A%5;O=(x&(1<<q)-1).toString(32),x>>=q,A-=q,Hs=1<<32-et(l)+A|h<<A|x,Gs=O+o}else Hs=1<<O|h<<A|x,Gs=o}function gm(o){o.return!==null&&(Ss(o,1),kp(o,1,0))}function qf(o){for(;o===Uf;)Uf=mu[--lc],mu[lc]=null,Sd=mu[--lc],mu[lc]=null;for(;o===ml;)ml=qs[--$s],qs[$s]=null,Gs=qs[--$s],qs[$s]=null,Hs=qs[--$s],qs[$s]=null}function Op(o,l){qs[$s++]=Hs,qs[$s++]=Gs,qs[$s++]=ml,Hs=l.id,Gs=l.overflow,ml=o}var ba=null,en=null,lr=!1,Xa=null,bn=!1,gi=Error(n(519));function pl(o){var l=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pu(Us(l,o)),gi}function bm(o){var l=o.stateNode,h=o.type,x=o.memoizedProps;switch(l[jr]=o,l[qr]=x,h){case"dialog":ur("cancel",l),ur("close",l);break;case"iframe":case"object":case"embed":ur("load",l);break;case"video":case"audio":for(h=0;h<Fm.length;h++)ur(Fm[h],l);break;case"source":ur("error",l);break;case"img":case"image":case"link":ur("error",l),ur("load",l);break;case"details":ur("toggle",l);break;case"input":ur("invalid",l),Af(l,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":ur("invalid",l);break;case"textarea":ur("invalid",l),ld(l,x.value,x.defaultValue,x.children)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||l.textContent===""+h||x.suppressHydrationWarning===!0||e3(l.textContent,h)?(x.popover!=null&&(ur("beforetoggle",l),ur("toggle",l)),x.onScroll!=null&&ur("scroll",l),x.onScrollEnd!=null&&ur("scrollend",l),x.onClick!=null&&(l.onclick=di),l=!0):l=!1,l||pl(o,!0)}function Bo(o){for(ba=o.return;ba;)switch(ba.tag){case 5:case 31:case 13:bn=!1;return;case 27:case 3:bn=!0;return;default:ba=ba.return}}function ya(o){if(o!==ba)return!1;if(!lr)return Bo(o),lr=!0,!1;var l=o.tag,h;if((h=l!==3&&l!==27)&&((h=l===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||t1(o.type,o.memoizedProps)),h=!h),h&&en&&pl(o),Bo(o),l===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));en=c3(o)}else if(l===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));en=c3(o)}else l===27?(l=en,ku(o.type)?(o=i1,i1=null,en=o):en=l):en=ba?Xi(o.stateNode.nextSibling):null;return!0}function cc(){en=ba=null,lr=!1}function ym(){var o=Xa;return o!==null&&(Qs===null?Qs=o:Qs.push.apply(Qs,o),Xa=null),o}function pu(o){Xa===null?Xa=[o]:Xa.push(o)}var $f=G(null),xl=null,Vi=null;function gl(o,l,h){H($f,l._currentValue),l._currentValue=h}function Ks(o){o._currentValue=$f.current,P($f)}function xu(o,l,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&l)!==l?(o.childLanes|=l,x!==null&&(x.childLanes|=l)):x!==null&&(x.childLanes&l)!==l&&(x.childLanes|=l),o===h)break;o=o.return}}function uc(o,l,h,x){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var O=A.dependencies;if(O!==null){var q=A.child;O=O.firstContext;e:for(;O!==null;){var te=O;O=A;for(var ye=0;ye<l.length;ye++)if(te.context===l[ye]){O.lanes|=h,te=O.alternate,te!==null&&(te.lanes|=h),xu(O.return,h,o),x||(q=null);break e}O=te.next}}else if(A.tag===18){if(q=A.return,q===null)throw Error(n(341));q.lanes|=h,O=q.alternate,O!==null&&(O.lanes|=h),xu(q,h,o),q=null}else q=A.child;if(q!==null)q.return=A;else for(q=A;q!==null;){if(q===o){q=null;break}if(A=q.sibling,A!==null){A.return=q.return,q=A;break}q=q.return}A=q}}function bl(o,l,h,x){o=null;for(var A=l,O=!1;A!==null;){if(!O){if((A.flags&524288)!==0)O=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var q=A.alternate;if(q===null)throw Error(n(387));if(q=q.memoizedProps,q!==null){var te=A.type;xa(A.pendingProps.value,q.value)||(o!==null?o.push(te):o=[te])}}else if(A===be.current){if(q=A.alternate,q===null)throw Error(n(387));q.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(Gm):o=[Gm])}A=A.return}o!==null&&uc(l,o,h,x),l.flags|=262144}function Hf(o){for(o=o.firstContext;o!==null;){if(!xa(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function yl(o){xl=o,Vi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function va(o){return Pp(xl,o)}function Gf(o,l){return xl===null&&yl(o),Pp(o,l)}function Pp(o,l){var h=l._currentValue;if(l={context:l,memoizedValue:h,next:null},Vi===null){if(o===null)throw Error(n(308));Vi=l,o.dependencies={lanes:0,firstContext:l},o.flags|=524288}else Vi=Vi.next=l;return h}var sv=typeof AbortController<"u"?AbortController:function(){var o=[],l=this.signal={aborted:!1,addEventListener:function(h,x){o.push(x)}};this.abort=function(){l.aborted=!0,o.forEach(function(h){return h()})}},iv=e.unstable_scheduleCallback,ov=e.unstable_NormalPriority,On={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gu(){return{controller:new sv,data:new Map,refCount:0}}function Ad(o){o.refCount--,o.refCount===0&&iv(ov,function(){o.controller.abort()})}var _d=null,Kf=0,w=0,C=null;function I(o,l){if(_d===null){var h=_d=[];Kf=0,w=Kv(),C={status:"pending",value:void 0,then:function(x){h.push(x)}}}return Kf++,l.then(z,z),l}function z(){if(--Kf===0&&_d!==null){C!==null&&(C.status="fulfilled");var o=_d;_d=null,w=0,C=null;for(var l=0;l<o.length;l++)(0,o[l])()}}function Y(o,l){var h=[],x={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return o.then(function(){x.status="fulfilled",x.value=l;for(var A=0;A<h.length;A++)(0,h[A])(l)},function(A){for(x.status="rejected",x.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),x}var J=re.S;re.S=function(o,l){S4=Gt(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&I(o,l),J!==null&&J(o,l)};var ee=G(null);function ne(){var o=ee.current;return o!==null?o:rn.pooledCache}function ie(o,l){l===null?H(ee,ee.current):H(ee,l.pool)}function fe(){var o=ne();return o===null?null:{parent:On._currentValue,pool:o}}var we=Error(n(460)),Oe=Error(n(474)),de=Error(n(542)),je={then:function(){}};function Ee(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ue(o,l,h){switch(h=o[h],h===void 0?o.push(l):h!==l&&(l.then(di,di),l=h),l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,st(o),o;default:if(typeof l.status=="string")l.then(di,di);else{if(o=rn,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=l,o.status="pending",o.then(function(x){if(l.status==="pending"){var A=l;A.status="fulfilled",A.value=x}},function(x){if(l.status==="pending"){var A=l;A.status="rejected",A.reason=x}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw o=l.reason,st(o),o}throw ze=l,we}}function ke(o){try{var l=o._init;return l(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(ze=h,we):h}}var ze=null;function Ke(){if(ze===null)throw Error(n(459));var o=ze;return ze=null,o}function st(o){if(o===we||o===de)throw Error(n(483))}var Ze=null,vt=0;function dt(o){var l=vt;return vt+=1,Ze===null&&(Ze=[]),Ue(Ze,o,l)}function Wt(o,l){l=l.props.ref,o.ref=l!==void 0?l:null}function mt(o,l){throw l.$$typeof===g?Error(n(525)):(o=Object.prototype.toString.call(l),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":o)))}function or(o){function l(Ce,Ne){if(o){var Le=Ce.deletions;Le===null?(Ce.deletions=[Ne],Ce.flags|=16):Le.push(Ne)}}function h(Ce,Ne){if(!o)return null;for(;Ne!==null;)l(Ce,Ne),Ne=Ne.sibling;return null}function x(Ce){for(var Ne=new Map;Ce!==null;)Ce.key!==null?Ne.set(Ce.key,Ce):Ne.set(Ce.index,Ce),Ce=Ce.sibling;return Ne}function A(Ce,Ne){return Ce=Fs(Ce,Ne),Ce.index=0,Ce.sibling=null,Ce}function O(Ce,Ne,Le){return Ce.index=Le,o?(Le=Ce.alternate,Le!==null?(Le=Le.index,Le<Ne?(Ce.flags|=67108866,Ne):Le):(Ce.flags|=67108866,Ne)):(Ce.flags|=1048576,Ne)}function q(Ce){return o&&Ce.alternate===null&&(Ce.flags|=67108866),Ce}function te(Ce,Ne,Le,We){return Ne===null||Ne.tag!==6?(Ne=jd(Le,Ce.mode,We),Ne.return=Ce,Ne):(Ne=A(Ne,Le),Ne.return=Ce,Ne)}function ye(Ce,Ne,Le,We){var Mt=Le.type;return Mt===N?$e(Ce,Ne,Le.props.children,We,Le.key):Ne!==null&&(Ne.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===R&&ke(Mt)===Ne.type)?(Ne=A(Ne,Le.props),Wt(Ne,Le),Ne.return=Ce,Ne):(Ne=fu(Le.type,Le.key,Le.props,null,Ce.mode,We),Wt(Ne,Le),Ne.return=Ce,Ne)}function Te(Ce,Ne,Le,We){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==Le.containerInfo||Ne.stateNode.implementation!==Le.implementation?(Ne=hu(Le,Ce.mode,We),Ne.return=Ce,Ne):(Ne=A(Ne,Le.children||[]),Ne.return=Ce,Ne)}function $e(Ce,Ne,Le,We,Mt){return Ne===null||Ne.tag!==7?(Ne=hl(Le,Ce.mode,We,Mt),Ne.return=Ce,Ne):(Ne=A(Ne,Le),Ne.return=Ce,Ne)}function Qe(Ce,Ne,Le){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=jd(""+Ne,Ce.mode,Le),Ne.return=Ce,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case b:return Le=fu(Ne.type,Ne.key,Ne.props,null,Ce.mode,Le),Wt(Le,Ne),Le.return=Ce,Le;case y:return Ne=hu(Ne,Ce.mode,Le),Ne.return=Ce,Ne;case R:return Ne=ke(Ne),Qe(Ce,Ne,Le)}if(pe(Ne)||F(Ne))return Ne=hl(Ne,Ce.mode,Le,null),Ne.return=Ce,Ne;if(typeof Ne.then=="function")return Qe(Ce,dt(Ne),Le);if(Ne.$$typeof===E)return Qe(Ce,Gf(Ce,Ne),Le);mt(Ce,Ne)}return null}function Re(Ce,Ne,Le,We){var Mt=Ne!==null?Ne.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Mt!==null?null:te(Ce,Ne,""+Le,We);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:return Le.key===Mt?ye(Ce,Ne,Le,We):null;case y:return Le.key===Mt?Te(Ce,Ne,Le,We):null;case R:return Le=ke(Le),Re(Ce,Ne,Le,We)}if(pe(Le)||F(Le))return Mt!==null?null:$e(Ce,Ne,Le,We,null);if(typeof Le.then=="function")return Re(Ce,Ne,dt(Le),We);if(Le.$$typeof===E)return Re(Ce,Ne,Gf(Ce,Le),We);mt(Ce,Le)}return null}function Me(Ce,Ne,Le,We,Mt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return Ce=Ce.get(Le)||null,te(Ne,Ce,""+We,Mt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case b:return Ce=Ce.get(We.key===null?Le:We.key)||null,ye(Ne,Ce,We,Mt);case y:return Ce=Ce.get(We.key===null?Le:We.key)||null,Te(Ne,Ce,We,Mt);case R:return We=ke(We),Me(Ce,Ne,Le,We,Mt)}if(pe(We)||F(We))return Ce=Ce.get(Le)||null,$e(Ne,Ce,We,Mt,null);if(typeof We.then=="function")return Me(Ce,Ne,Le,dt(We),Mt);if(We.$$typeof===E)return Me(Ce,Ne,Le,Gf(Ne,We),Mt);mt(Ne,We)}return null}function yt(Ce,Ne,Le,We){for(var Mt=null,Sr=null,_t=Ne,sr=Ne=0,fr=null;_t!==null&&sr<Le.length;sr++){_t.index>sr?(fr=_t,_t=null):fr=_t.sibling;var Ar=Re(Ce,_t,Le[sr],We);if(Ar===null){_t===null&&(_t=fr);break}o&&_t&&Ar.alternate===null&&l(Ce,_t),Ne=O(Ar,Ne,sr),Sr===null?Mt=Ar:Sr.sibling=Ar,Sr=Ar,_t=fr}if(sr===Le.length)return h(Ce,_t),lr&&Ss(Ce,sr),Mt;if(_t===null){for(;sr<Le.length;sr++)_t=Qe(Ce,Le[sr],We),_t!==null&&(Ne=O(_t,Ne,sr),Sr===null?Mt=_t:Sr.sibling=_t,Sr=_t);return lr&&Ss(Ce,sr),Mt}for(_t=x(_t);sr<Le.length;sr++)fr=Me(_t,Ce,sr,Le[sr],We),fr!==null&&(o&&fr.alternate!==null&&_t.delete(fr.key===null?sr:fr.key),Ne=O(fr,Ne,sr),Sr===null?Mt=fr:Sr.sibling=fr,Sr=fr);return o&&_t.forEach(function(Ru){return l(Ce,Ru)}),lr&&Ss(Ce,sr),Mt}function qt(Ce,Ne,Le,We){if(Le==null)throw Error(n(151));for(var Mt=null,Sr=null,_t=Ne,sr=Ne=0,fr=null,Ar=Le.next();_t!==null&&!Ar.done;sr++,Ar=Le.next()){_t.index>sr?(fr=_t,_t=null):fr=_t.sibling;var Ru=Re(Ce,_t,Ar.value,We);if(Ru===null){_t===null&&(_t=fr);break}o&&_t&&Ru.alternate===null&&l(Ce,_t),Ne=O(Ru,Ne,sr),Sr===null?Mt=Ru:Sr.sibling=Ru,Sr=Ru,_t=fr}if(Ar.done)return h(Ce,_t),lr&&Ss(Ce,sr),Mt;if(_t===null){for(;!Ar.done;sr++,Ar=Le.next())Ar=Qe(Ce,Ar.value,We),Ar!==null&&(Ne=O(Ar,Ne,sr),Sr===null?Mt=Ar:Sr.sibling=Ar,Sr=Ar);return lr&&Ss(Ce,sr),Mt}for(_t=x(_t);!Ar.done;sr++,Ar=Le.next())Ar=Me(_t,Ce,sr,Ar.value,We),Ar!==null&&(o&&Ar.alternate!==null&&_t.delete(Ar.key===null?sr:Ar.key),Ne=O(Ar,Ne,sr),Sr===null?Mt=Ar:Sr.sibling=Ar,Sr=Ar);return o&&_t.forEach(function(TM){return l(Ce,TM)}),lr&&Ss(Ce,sr),Mt}function Wr(Ce,Ne,Le,We){if(typeof Le=="object"&&Le!==null&&Le.type===N&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:e:{for(var Mt=Le.key;Ne!==null;){if(Ne.key===Mt){if(Mt=Le.type,Mt===N){if(Ne.tag===7){h(Ce,Ne.sibling),We=A(Ne,Le.props.children),We.return=Ce,Ce=We;break e}}else if(Ne.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===R&&ke(Mt)===Ne.type){h(Ce,Ne.sibling),We=A(Ne,Le.props),Wt(We,Le),We.return=Ce,Ce=We;break e}h(Ce,Ne);break}else l(Ce,Ne);Ne=Ne.sibling}Le.type===N?(We=hl(Le.props.children,Ce.mode,We,Le.key),We.return=Ce,Ce=We):(We=fu(Le.type,Le.key,Le.props,null,Ce.mode,We),Wt(We,Le),We.return=Ce,Ce=We)}return q(Ce);case y:e:{for(Mt=Le.key;Ne!==null;){if(Ne.key===Mt)if(Ne.tag===4&&Ne.stateNode.containerInfo===Le.containerInfo&&Ne.stateNode.implementation===Le.implementation){h(Ce,Ne.sibling),We=A(Ne,Le.children||[]),We.return=Ce,Ce=We;break e}else{h(Ce,Ne);break}else l(Ce,Ne);Ne=Ne.sibling}We=hu(Le,Ce.mode,We),We.return=Ce,Ce=We}return q(Ce);case R:return Le=ke(Le),Wr(Ce,Ne,Le,We)}if(pe(Le))return yt(Ce,Ne,Le,We);if(F(Le)){if(Mt=F(Le),typeof Mt!="function")throw Error(n(150));return Le=Mt.call(Le),qt(Ce,Ne,Le,We)}if(typeof Le.then=="function")return Wr(Ce,Ne,dt(Le),We);if(Le.$$typeof===E)return Wr(Ce,Ne,Gf(Ce,Le),We);mt(Ce,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint"?(Le=""+Le,Ne!==null&&Ne.tag===6?(h(Ce,Ne.sibling),We=A(Ne,Le),We.return=Ce,Ce=We):(h(Ce,Ne),We=jd(Le,Ce.mode,We),We.return=Ce,Ce=We),q(Ce)):h(Ce,Ne)}return function(Ce,Ne,Le,We){try{vt=0;var Mt=Wr(Ce,Ne,Le,We);return Ze=null,Mt}catch(_t){if(_t===we||_t===de)throw _t;var Sr=Oa(29,_t,null,Ce.mode);return Sr.lanes=We,Sr.return=Ce,Sr}}}var tn=or(!0),Jt=or(!1),ft=!1;function ot(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dn(o,l){o=o.updateQueue,l.updateQueue===o&&(l.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Ft(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function rr(o,l,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(Or&2)!==0){var A=x.pending;return A===null?l.next=l:(l.next=A.next,A.next=l),x.pending=l,l=ka(o),wd(o,null,h),l}return vd(o,x,l,h),ka(o)}function Er(o,l,h){if(l=l.updateQueue,l!==null&&(l=l.shared,(h&4194048)!==0)){var x=l.lanes;x&=o.pendingLanes,h|=x,l.lanes=h,qa(o,h)}}function Qn(o,l){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var A=null,O=null;if(h=h.firstBaseUpdate,h!==null){do{var q={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};O===null?A=O=q:O=O.next=q,h=h.next}while(h!==null);O===null?A=O=l:O=O.next=l}else A=O=l;h={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:O,shared:x.shared,callbacks:x.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=l:o.next=l,h.lastBaseUpdate=l}var wa=!1;function Gr(){if(wa){var o=C;if(o!==null)throw o}}function Bn(o,l,h,x){wa=!1;var A=o.updateQueue;ft=!1;var O=A.firstBaseUpdate,q=A.lastBaseUpdate,te=A.shared.pending;if(te!==null){A.shared.pending=null;var ye=te,Te=ye.next;ye.next=null,q===null?O=Te:q.next=Te,q=ye;var $e=o.alternate;$e!==null&&($e=$e.updateQueue,te=$e.lastBaseUpdate,te!==q&&(te===null?$e.firstBaseUpdate=Te:te.next=Te,$e.lastBaseUpdate=ye))}if(O!==null){var Qe=A.baseState;q=0,$e=Te=ye=null,te=O;do{var Re=te.lane&-536870913,Me=Re!==te.lane;if(Me?(dr&Re)===Re:(x&Re)===Re){Re!==0&&Re===w&&(wa=!0),$e!==null&&($e=$e.next={lane:0,tag:te.tag,payload:te.payload,callback:null,next:null});e:{var yt=o,qt=te;Re=l;var Wr=h;switch(qt.tag){case 1:if(yt=qt.payload,typeof yt=="function"){Qe=yt.call(Wr,Qe,Re);break e}Qe=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=qt.payload,Re=typeof yt=="function"?yt.call(Wr,Qe,Re):yt,Re==null)break e;Qe=p({},Qe,Re);break e;case 2:ft=!0}}Re=te.callback,Re!==null&&(o.flags|=64,Me&&(o.flags|=8192),Me=A.callbacks,Me===null?A.callbacks=[Re]:Me.push(Re))}else Me={lane:Re,tag:te.tag,payload:te.payload,callback:te.callback,next:null},$e===null?(Te=$e=Me,ye=Qe):$e=$e.next=Me,q|=Re;if(te=te.next,te===null){if(te=A.shared.pending,te===null)break;Me=te,te=Me.next,Me.next=null,A.lastBaseUpdate=Me,A.shared.pending=null}}while(!0);$e===null&&(ye=Qe),A.baseState=ye,A.firstBaseUpdate=Te,A.lastBaseUpdate=$e,O===null&&(A.shared.lanes=0),Su|=q,o.lanes=q,o.memoizedState=Qe}}function Pa(o,l){if(typeof o!="function")throw Error(n(191,o));o.call(l)}function zn(o,l){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)Pa(h[o],l)}var ir=G(null),gr=G(0);function fn(o,l){o=vc,H(gr,o),H(ir,l),vc=o|l.baseLanes}function Nr(){H(gr,vc),H(ir,ir.current)}function Zn(){vc=gr.current,P(ir),P(gr)}var hn=G(null),br=null;function Pn(o){var l=o.alternate;H(pr,pr.current&1),H(hn,o),br===null&&(l===null||ir.current!==null||l.memoizedState!==null)&&(br=o)}function kr(o){H(pr,pr.current),H(hn,o),br===null&&(br=o)}function Fn(o){o.tag===22?(H(pr,pr.current),H(hn,o),br===null&&(br=o)):Un()}function Un(){H(pr,pr.current),H(hn,hn.current)}function Tr(o){P(hn),br===o&&(br=null),P(pr)}var pr=G(0);function La(o){for(var l=o;l!==null;){if(l.tag===13){var h=l.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||a1(h)||s1(h)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var yn=0,Rt=null,It=null,yr=null,cs=!1,Vs=!1,Qa=!1,qn=0,vl=0,wl=null,Vf=0;function Kr(){throw Error(n(321))}function vm(o,l){if(l===null)return!1;for(var h=0;h<l.length&&h<o.length;h++)if(!xa(o[h],l[h]))return!1;return!0}function wm(o,l,h,x,A,O){return yn=O,Rt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,re.H=o===null||o.memoizedState===null?DS:pv,Qa=!1,O=h(x,A),Qa=!1,Vs&&(O=zo(l,h,x,A)),Wf(o),O}function Wf(o){re.H=km;var l=It!==null&&It.next!==null;if(yn=0,yr=It=Rt=null,cs=!1,vl=0,wl=null,l)throw Error(n(300));o===null||ca||(o=o.dependencies,o!==null&&Hf(o)&&(ca=!0))}function zo(o,l,h,x){Rt=o;var A=0;do{if(Vs&&(wl=null),vl=0,Vs=!1,25<=A)throw Error(n(301));if(A+=1,yr=It=null,o.updateQueue!=null){var O=o.updateQueue;O.lastEffect=null,O.events=null,O.stores=null,O.memoCache!=null&&(O.memoCache.index=0)}re.H=IS,O=l(h,x)}while(Vs);return O}function lv(){var o=re.H,l=o.useState()[0];return l=typeof l.then=="function"?Nl(l):l,o=o.useState()[0],(It!==null?It.memoizedState:null)!==o&&(Rt.flags|=1024),l}function Nm(){var o=qn!==0;return qn=0,o}function jm(o,l,h){l.updateQueue=o.updateQueue,l.flags&=-2053,o.lanes&=~h}function Yf(o){if(cs){for(o=o.memoizedState;o!==null;){var l=o.queue;l!==null&&(l.pending=null),o=o.next}cs=!1}yn=0,yr=It=Rt=null,Vs=!1,vl=qn=0,wl=null}function la(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?Rt.memoizedState=yr=o:yr=yr.next=o,yr}function vn(){if(It===null){var o=Rt.alternate;o=o!==null?o.memoizedState:null}else o=It.next;var l=yr===null?Rt.memoizedState:yr.next;if(l!==null)yr=l,It=o;else{if(o===null)throw Rt.alternate===null?Error(n(467)):Error(n(310));It=o,o={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},yr===null?Rt.memoizedState=yr=o:yr=yr.next=o}return yr}function Cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(o){var l=vl;return vl+=1,wl===null&&(wl=[]),o=Ue(wl,o,l),l=Rt,(yr===null?l.memoizedState:yr.next)===null&&(l=l.alternate,re.H=l===null||l.memoizedState===null?DS:pv),o}function bu(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Nl(o);if(o.$$typeof===E)return va(o)}throw Error(n(438,String(o)))}function dc(o){var l=null,h=Rt.updateQueue;if(h!==null&&(l=h.memoCache),l==null){var x=Rt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(l={data:x.data.map(function(A){return A.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),h===null&&(h=Cd(),Rt.updateQueue=h),h.memoCache=l,h=l.data[l.index],h===void 0)for(h=l.data[l.index]=Array(o),x=0;x<o;x++)h[x]=K;return l.index++,h}function Wi(o,l){return typeof l=="function"?l(o):l}function Xf(o){var l=vn();return yu(l,It,o)}function yu(o,l,h){var x=o.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=h;var A=o.baseQueue,O=x.pending;if(O!==null){if(A!==null){var q=A.next;A.next=O.next,O.next=q}l.baseQueue=A=O,x.pending=null}if(O=o.baseState,A===null)o.memoizedState=O;else{l=A.next;var te=q=null,ye=null,Te=l,$e=!1;do{var Qe=Te.lane&-536870913;if(Qe!==Te.lane?(dr&Qe)===Qe:(yn&Qe)===Qe){var Re=Te.revertLane;if(Re===0)ye!==null&&(ye=ye.next={lane:0,revertLane:0,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null}),Qe===w&&($e=!0);else if((yn&Re)===Re){Te=Te.next,Re===w&&($e=!0);continue}else Qe={lane:0,revertLane:Te.revertLane,gesture:null,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ye===null?(te=ye=Qe,q=O):ye=ye.next=Qe,Rt.lanes|=Re,Su|=Re;Qe=Te.action,Qa&&h(O,Qe),O=Te.hasEagerState?Te.eagerState:h(O,Qe)}else Re={lane:Qe,revertLane:Te.revertLane,gesture:Te.gesture,action:Te.action,hasEagerState:Te.hasEagerState,eagerState:Te.eagerState,next:null},ye===null?(te=ye=Re,q=O):ye=ye.next=Re,Rt.lanes|=Qe,Su|=Qe;Te=Te.next}while(Te!==null&&Te!==l);if(ye===null?q=O:ye.next=te,!xa(O,o.memoizedState)&&(ca=!0,$e&&(h=C,h!==null)))throw h;o.memoizedState=O,o.baseState=q,o.baseQueue=ye,x.lastRenderedState=O}return A===null&&(x.lanes=0),[o.memoizedState,x.dispatch]}function Qf(o){var l=vn(),h=l.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=h.dispatch,A=h.pending,O=l.memoizedState;if(A!==null){h.pending=null;var q=A=A.next;do O=o(O,q.action),q=q.next;while(q!==A);xa(O,l.memoizedState)||(ca=!0),l.memoizedState=O,l.baseQueue===null&&(l.baseState=O),h.lastRenderedState=O}return[O,x]}function Zf(o,l,h){var x=Rt,A=vn(),O=lr;if(O){if(h===void 0)throw Error(n(407));h=h()}else h=l();var q=!xa((It||A).memoizedState,h);if(q&&(A.memoizedState=h,ca=!0),A=A.queue,cv(Am.bind(null,x,A,o),[o]),A.getSnapshot!==l||q||yr!==null&&yr.memoizedState.tag&1){if(x.flags|=2048,hc(9,{destroy:void 0},Sm.bind(null,x,A,h,l),null),rn===null)throw Error(n(349));O||(yn&127)!==0||Fo(x,l,h)}return h}function Fo(o,l,h){o.flags|=16384,o={getSnapshot:l,value:h},l=Rt.updateQueue,l===null?(l=Cd(),Rt.updateQueue=l,l.stores=[o]):(h=l.stores,h===null?l.stores=[o]:h.push(o))}function Sm(o,l,h,x){l.value=h,l.getSnapshot=x,Lp(l)&&_m(o)}function Am(o,l,h){return h(function(){Lp(l)&&_m(o)})}function Lp(o){var l=o.getSnapshot;o=o.value;try{var h=l();return!xa(o,h)}catch{return!0}}function _m(o){var l=Mo(o,2);l!==null&&Zs(l,o,2)}function jl(o){var l=la();if(typeof o=="function"){var h=o;if(o=h(),Qa){Xe(!0);try{h()}finally{Xe(!1)}}}return l.memoizedState=l.baseState=o,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:o},l}function Tp(o,l,h,x){return o.baseState=h,yu(o,It,typeof x=="function"?x:Wi)}function Rp(o,l,h,x,A){if(Bp(o))throw Error(n(485));if(o=l.action,o!==null){var O={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(q){O.listeners.push(q)}};re.T!==null?h(!0):O.isTransition=!1,x(O),h=l.pending,h===null?(O.next=l.pending=O,Dp(l,O)):(O.next=h.next,l.pending=h.next=O)}}function Dp(o,l){var h=l.action,x=l.payload,A=o.state;if(l.isTransition){var O=re.T,q={};re.T=q;try{var te=h(A,x),ye=re.S;ye!==null&&ye(q,te),Cm(o,l,te)}catch(Te){fc(o,l,Te)}finally{O!==null&&q.types!==null&&(O.types=q.types),re.T=O}}else try{O=h(A,x),Cm(o,l,O)}catch(Te){fc(o,l,Te)}}function Cm(o,l,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){Ip(o,l,x)},function(x){return fc(o,l,x)}):Ip(o,l,h)}function Ip(o,l,h){l.status="fulfilled",l.value=h,Jf(l),o.state=h,l=o.pending,l!==null&&(h=l.next,h===l?o.pending=null:(h=h.next,l.next=h,Dp(o,h)))}function fc(o,l,h){var x=o.pending;if(o.pending=null,x!==null){x=x.next;do l.status="rejected",l.reason=h,Jf(l),l=l.next;while(l!==x)}o.action=null}function Jf(o){o=o.listeners;for(var l=0;l<o.length;l++)(0,o[l])()}function Ed(o,l){return l}function Yi(o,l){if(lr){var h=rn.formState;if(h!==null){e:{var x=Rt;if(lr){if(en){t:{for(var A=en,O=bn;A.nodeType!==8;){if(!O){A=null;break t}if(A=Xi(A.nextSibling),A===null){A=null;break t}}O=A.data,A=O==="F!"||O==="F"?A:null}if(A){en=Xi(A.nextSibling),x=A.data==="F!";break e}}pl(x)}x=!1}x&&(l=h[0])}}return h=la(),h.memoizedState=h.baseState=l,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:l},h.queue=x,h=LS.bind(null,Rt,x),x.dispatch=h,x=jl(!1),O=mv.bind(null,Rt,!1,x.queue),x=la(),A={state:l,dispatch:null,action:o,pending:null},x.queue=A,h=Rp.bind(null,Rt,A,O,h),A.dispatch=h,x.memoizedState=o,[l,h,!1]}function Uo(o){var l=vn();return qo(l,It,o)}function qo(o,l,h){if(l=yu(o,l,Ed)[0],o=Xf(Wi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var x=Nl(l)}catch(q){throw q===we?de:q}else x=l;l=vn();var A=l.queue,O=A.dispatch;return h!==l.memoizedState&&(Rt.flags|=2048,hc(9,{destroy:void 0},eh.bind(null,A,h),null)),[x,O,o]}function eh(o,l){o.action=l}function th(o){var l=vn(),h=It;if(h!==null)return qo(l,h,o);vn(),l=l.memoizedState,h=vn();var x=h.queue.dispatch;return h.memoizedState=o,[l,x,!1]}function hc(o,l,h,x){return o={tag:o,create:h,deps:x,inst:l,next:null},l=Rt.updateQueue,l===null&&(l=Cd(),Rt.updateQueue=l),h=l.lastEffect,h===null?l.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,l.lastEffect=o),o}function Mp(){return vn().memoizedState}function vu(o,l,h,x){var A=la();Rt.flags|=o,A.memoizedState=hc(1|l,{destroy:void 0},h,x===void 0?null:x)}function wu(o,l,h,x){var A=vn();x=x===void 0?null:x;var O=A.memoizedState.inst;It!==null&&x!==null&&vm(x,It.memoizedState.deps)?A.memoizedState=hc(l,O,h,x):(Rt.flags|=o,A.memoizedState=hc(1|l,O,h,x))}function bS(o,l){vu(8390656,8,o,l)}function cv(o,l){wu(2048,8,o,l)}function CI(o){Rt.flags|=4;var l=Rt.updateQueue;if(l===null)l=Cd(),Rt.updateQueue=l,l.events=[o];else{var h=l.events;h===null?l.events=[o]:h.push(o)}}function yS(o){var l=vn().memoizedState;return CI({ref:l,nextImpl:o}),function(){if((Or&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}function vS(o,l){return wu(4,2,o,l)}function wS(o,l){return wu(4,4,o,l)}function NS(o,l){if(typeof l=="function"){o=o();var h=l(o);return function(){typeof h=="function"?h():l(null)}}if(l!=null)return o=o(),l.current=o,function(){l.current=null}}function jS(o,l,h){h=h!=null?h.concat([o]):null,wu(4,4,NS.bind(null,l,o),h)}function uv(){}function SS(o,l){var h=vn();l=l===void 0?null:l;var x=h.memoizedState;return l!==null&&vm(l,x[1])?x[0]:(h.memoizedState=[o,l],o)}function AS(o,l){var h=vn();l=l===void 0?null:l;var x=h.memoizedState;if(l!==null&&vm(l,x[1]))return x[0];if(x=o(),Qa){Xe(!0);try{o()}finally{Xe(!1)}}return h.memoizedState=[x,l],x}function dv(o,l,h){return h===void 0||(yn&1073741824)!==0&&(dr&261930)===0?o.memoizedState=l:(o.memoizedState=h,o=_4(),Rt.lanes|=o,Su|=o,h)}function _S(o,l,h,x){return xa(h,l)?h:ir.current!==null?(o=dv(o,h,x),xa(o,l)||(ca=!0),o):(yn&42)===0||(yn&1073741824)!==0&&(dr&261930)===0?(ca=!0,o.memoizedState=h):(o=_4(),Rt.lanes|=o,Su|=o,l)}function CS(o,l,h,x,A){var O=ue.p;ue.p=O!==0&&8>O?O:8;var q=re.T,te={};re.T=te,mv(o,!1,l,h);try{var ye=A(),Te=re.S;if(Te!==null&&Te(te,ye),ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var $e=Y(ye,x);Em(o,l,$e,vi(o))}else Em(o,l,x,vi(o))}catch(Qe){Em(o,l,{then:function(){},status:"rejected",reason:Qe},vi())}finally{ue.p=O,q!==null&&te.types!==null&&(q.types=te.types),re.T=q}}function EI(){}function fv(o,l,h,x){if(o.tag!==5)throw Error(n(476));var A=ES(o).queue;CS(o,A,l,V,h===null?EI:function(){return kS(o),h(x)})}function ES(o){var l=o.memoizedState;if(l!==null)return l;l={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:V},next:null};var h={};return l.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:h},next:null},o.memoizedState=l,o=o.alternate,o!==null&&(o.memoizedState=l),l}function kS(o){var l=ES(o);l.next===null&&(l=o.alternate.memoizedState),Em(o,l.next.queue,{},vi())}function hv(){return va(Gm)}function OS(){return vn().memoizedState}function PS(){return vn().memoizedState}function kI(o){for(var l=o.return;l!==null;){switch(l.tag){case 24:case 3:var h=vi();o=Ft(h);var x=rr(l,o,h);x!==null&&(Zs(x,l,h),Er(x,l,h)),l={cache:gu()},o.payload=l;return}l=l.return}}function OI(o,l,h){var x=vi();h={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Bp(o)?TS(l,h):(h=If(o,l,h,x),h!==null&&(Zs(h,o,x),RS(h,l,x)))}function LS(o,l,h){var x=vi();Em(o,l,h,x)}function Em(o,l,h,x){var A={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Bp(o))TS(l,A);else{var O=o.alternate;if(o.lanes===0&&(O===null||O.lanes===0)&&(O=l.lastRenderedReducer,O!==null))try{var q=l.lastRenderedState,te=O(q,h);if(A.hasEagerState=!0,A.eagerState=te,xa(te,q))return vd(o,l,A,0),rn===null&&yd(),!1}catch{}if(h=If(o,l,A,x),h!==null)return Zs(h,o,x),RS(h,l,x),!0}return!1}function mv(o,l,h,x){if(x={lane:2,revertLane:Kv(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Bp(o)){if(l)throw Error(n(479))}else l=If(o,h,x,2),l!==null&&Zs(l,o,2)}function Bp(o){var l=o.alternate;return o===Rt||l!==null&&l===Rt}function TS(o,l){Vs=cs=!0;var h=o.pending;h===null?l.next=l:(l.next=h.next,h.next=l),o.pending=l}function RS(o,l,h){if((h&4194048)!==0){var x=l.lanes;x&=o.pendingLanes,h|=x,l.lanes=h,qa(o,h)}}var km={readContext:va,use:bu,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useLayoutEffect:Kr,useInsertionEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useSyncExternalStore:Kr,useId:Kr,useHostTransitionStatus:Kr,useFormState:Kr,useActionState:Kr,useOptimistic:Kr,useMemoCache:Kr,useCacheRefresh:Kr};km.useEffectEvent=Kr;var DS={readContext:va,use:bu,useCallback:function(o,l){return la().memoizedState=[o,l===void 0?null:l],o},useContext:va,useEffect:bS,useImperativeHandle:function(o,l,h){h=h!=null?h.concat([o]):null,vu(4194308,4,NS.bind(null,l,o),h)},useLayoutEffect:function(o,l){return vu(4194308,4,o,l)},useInsertionEffect:function(o,l){vu(4,2,o,l)},useMemo:function(o,l){var h=la();l=l===void 0?null:l;var x=o();if(Qa){Xe(!0);try{o()}finally{Xe(!1)}}return h.memoizedState=[x,l],x},useReducer:function(o,l,h){var x=la();if(h!==void 0){var A=h(l);if(Qa){Xe(!0);try{h(l)}finally{Xe(!1)}}}else A=l;return x.memoizedState=x.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},x.queue=o,o=o.dispatch=OI.bind(null,Rt,o),[x.memoizedState,o]},useRef:function(o){var l=la();return o={current:o},l.memoizedState=o},useState:function(o){o=jl(o);var l=o.queue,h=LS.bind(null,Rt,l);return l.dispatch=h,[o.memoizedState,h]},useDebugValue:uv,useDeferredValue:function(o,l){var h=la();return dv(h,o,l)},useTransition:function(){var o=jl(!1);return o=CS.bind(null,Rt,o.queue,!0,!1),la().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,l,h){var x=Rt,A=la();if(lr){if(h===void 0)throw Error(n(407));h=h()}else{if(h=l(),rn===null)throw Error(n(349));(dr&127)!==0||Fo(x,l,h)}A.memoizedState=h;var O={value:h,getSnapshot:l};return A.queue=O,bS(Am.bind(null,x,O,o),[o]),x.flags|=2048,hc(9,{destroy:void 0},Sm.bind(null,x,O,h,l),null),h},useId:function(){var o=la(),l=rn.identifierPrefix;if(lr){var h=Gs,x=Hs;h=(x&~(1<<32-et(x)-1)).toString(32)+h,l="_"+l+"R_"+h,h=qn++,0<h&&(l+="H"+h.toString(32)),l+="_"}else h=Vf++,l="_"+l+"r_"+h.toString(32)+"_";return o.memoizedState=l},useHostTransitionStatus:hv,useFormState:Yi,useActionState:Yi,useOptimistic:function(o){var l=la();l.memoizedState=l.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=h,l=mv.bind(null,Rt,!0,h),h.dispatch=l,[o,l]},useMemoCache:dc,useCacheRefresh:function(){return la().memoizedState=kI.bind(null,Rt)},useEffectEvent:function(o){var l=la(),h={impl:o};return l.memoizedState=h,function(){if((Or&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},pv={readContext:va,use:bu,useCallback:SS,useContext:va,useEffect:cv,useImperativeHandle:jS,useInsertionEffect:vS,useLayoutEffect:wS,useMemo:AS,useReducer:Xf,useRef:Mp,useState:function(){return Xf(Wi)},useDebugValue:uv,useDeferredValue:function(o,l){var h=vn();return _S(h,It.memoizedState,o,l)},useTransition:function(){var o=Xf(Wi)[0],l=vn().memoizedState;return[typeof o=="boolean"?o:Nl(o),l]},useSyncExternalStore:Zf,useId:OS,useHostTransitionStatus:hv,useFormState:Uo,useActionState:Uo,useOptimistic:function(o,l){var h=vn();return Tp(h,It,o,l)},useMemoCache:dc,useCacheRefresh:PS};pv.useEffectEvent=yS;var IS={readContext:va,use:bu,useCallback:SS,useContext:va,useEffect:cv,useImperativeHandle:jS,useInsertionEffect:vS,useLayoutEffect:wS,useMemo:AS,useReducer:Qf,useRef:Mp,useState:function(){return Qf(Wi)},useDebugValue:uv,useDeferredValue:function(o,l){var h=vn();return It===null?dv(h,o,l):_S(h,It.memoizedState,o,l)},useTransition:function(){var o=Qf(Wi)[0],l=vn().memoizedState;return[typeof o=="boolean"?o:Nl(o),l]},useSyncExternalStore:Zf,useId:OS,useHostTransitionStatus:hv,useFormState:th,useActionState:th,useOptimistic:function(o,l){var h=vn();return It!==null?Tp(h,It,o,l):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:dc,useCacheRefresh:PS};IS.useEffectEvent=yS;function xv(o,l,h,x){l=o.memoizedState,h=h(x,l),h=h==null?l:p({},l,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var gv={enqueueSetState:function(o,l,h){o=o._reactInternals;var x=vi(),A=Ft(x);A.payload=l,h!=null&&(A.callback=h),l=rr(o,A,x),l!==null&&(Zs(l,o,x),Er(l,o,x))},enqueueReplaceState:function(o,l,h){o=o._reactInternals;var x=vi(),A=Ft(x);A.tag=1,A.payload=l,h!=null&&(A.callback=h),l=rr(o,A,x),l!==null&&(Zs(l,o,x),Er(l,o,x))},enqueueForceUpdate:function(o,l){o=o._reactInternals;var h=vi(),x=Ft(h);x.tag=2,l!=null&&(x.callback=l),l=rr(o,x,h),l!==null&&(Zs(l,o,h),Er(l,o,h))}};function MS(o,l,h,x,A,O,q){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,O,q):l.prototype&&l.prototype.isPureReactComponent?!To(h,x)||!To(A,O):!0}function BS(o,l,h,x){o=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(h,x),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(h,x),l.state!==o&&gv.enqueueReplaceState(l,l.state,null)}function kd(o,l){var h=l;if("ref"in l){h={};for(var x in l)x!=="ref"&&(h[x]=l[x])}if(o=o.defaultProps){h===l&&(h=p({},h));for(var A in o)h[A]===void 0&&(h[A]=o[A])}return h}function zS(o){bd(o)}function FS(o){console.error(o)}function US(o){bd(o)}function zp(o,l){try{var h=o.onUncaughtError;h(l.value,{componentStack:l.stack})}catch(x){setTimeout(function(){throw x})}}function qS(o,l,h){try{var x=o.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function bv(o,l,h){return h=Ft(h),h.tag=3,h.payload={element:null},h.callback=function(){zp(o,l)},h}function $S(o){return o=Ft(o),o.tag=3,o}function HS(o,l,h,x){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var O=x.value;o.payload=function(){return A(O)},o.callback=function(){qS(l,h,x)}}var q=h.stateNode;q!==null&&typeof q.componentDidCatch=="function"&&(o.callback=function(){qS(l,h,x),typeof A!="function"&&(Au===null?Au=new Set([this]):Au.add(this));var te=x.stack;this.componentDidCatch(x.value,{componentStack:te!==null?te:""})})}function PI(o,l,h,x,A){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(l=h.alternate,l!==null&&bl(l,h,A,!0),h=hn.current,h!==null){switch(h.tag){case 31:case 13:return br===null?Qp():h.alternate===null&&$n===0&&($n=3),h.flags&=-257,h.flags|=65536,h.lanes=A,x===je?h.flags|=16384:(l=h.updateQueue,l===null?h.updateQueue=new Set([x]):l.add(x),$v(o,x,A)),!1;case 22:return h.flags|=65536,x===je?h.flags|=16384:(l=h.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=l):(h=l.retryQueue,h===null?l.retryQueue=new Set([x]):h.add(x)),$v(o,x,A)),!1}throw Error(n(435,h.tag))}return $v(o,x,A),Qp(),!1}if(lr)return l=hn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=A,x!==gi&&(o=Error(n(422),{cause:x}),pu(Us(o,h)))):(x!==gi&&(l=Error(n(423),{cause:x}),pu(Us(l,h))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,x=Us(x,h),A=bv(o.stateNode,x,A),Qn(o,A),$n!==4&&($n=2)),!1;var O=Error(n(520),{cause:x});if(O=Us(O,h),Mm===null?Mm=[O]:Mm.push(O),$n!==4&&($n=2),l===null)return!0;x=Us(x,h),h=l;do{switch(h.tag){case 3:return h.flags|=65536,o=A&-A,h.lanes|=o,o=bv(h.stateNode,x,o),Qn(h,o),!1;case 1:if(l=h.type,O=h.stateNode,(h.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Au===null||!Au.has(O))))return h.flags|=65536,A&=-A,h.lanes|=A,A=$S(A),HS(A,o,h,x),Qn(h,A),!1}h=h.return}while(h!==null);return!1}var yv=Error(n(461)),ca=!1;function Za(o,l,h,x){l.child=o===null?Jt(l,null,h,x):tn(l,o.child,h,x)}function GS(o,l,h,x,A){h=h.render;var O=l.ref;if("ref"in x){var q={};for(var te in x)te!=="ref"&&(q[te]=x[te])}else q=x;return yl(l),x=wm(o,l,h,q,O,A),te=Nm(),o!==null&&!ca?(jm(o,l,A),mc(o,l,A)):(lr&&te&&gm(l),l.flags|=1,Za(o,l,x,A),l.child)}function KS(o,l,h,x,A){if(o===null){var O=h.type;return typeof O=="function"&&!Bf(O)&&O.defaultProps===void 0&&h.compare===null?(l.tag=15,l.type=O,VS(o,l,O,x,A)):(o=fu(h.type,null,x,l,l.mode,A),o.ref=l.ref,o.return=l,l.child=o)}if(O=o.child,!Cv(o,A)){var q=O.memoizedProps;if(h=h.compare,h=h!==null?h:To,h(q,x)&&o.ref===l.ref)return mc(o,l,A)}return l.flags|=1,o=Fs(O,x),o.ref=l.ref,o.return=l,l.child=o}function VS(o,l,h,x,A){if(o!==null){var O=o.memoizedProps;if(To(O,x)&&o.ref===l.ref)if(ca=!1,l.pendingProps=x=O,Cv(o,A))(o.flags&131072)!==0&&(ca=!0);else return l.lanes=o.lanes,mc(o,l,A)}return vv(o,l,h,x,A)}function WS(o,l,h,x){var A=x.children,O=o!==null?o.memoizedState:null;if(o===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((l.flags&128)!==0){if(O=O!==null?O.baseLanes|h:h,o!==null){for(x=l.child=o.child,A=0;x!==null;)A=A|x.lanes|x.childLanes,x=x.sibling;x=A&~O}else x=0,l.child=null;return YS(o,l,O,h,x)}if((h&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},o!==null&&ie(l,O!==null?O.cachePool:null),O!==null?fn(l,O):Nr(),Fn(l);else return x=l.lanes=536870912,YS(o,l,O!==null?O.baseLanes|h:h,h,x)}else O!==null?(ie(l,O.cachePool),fn(l,O),Un(),l.memoizedState=null):(o!==null&&ie(l,null),Nr(),Un());return Za(o,l,A,h),l.child}function Om(o,l){return o!==null&&o.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function YS(o,l,h,x,A){var O=ne();return O=O===null?null:{parent:On._currentValue,pool:O},l.memoizedState={baseLanes:h,cachePool:O},o!==null&&ie(l,null),Nr(),Fn(l),o!==null&&bl(o,l,x,!0),l.childLanes=A,null}function Fp(o,l){return l=qp({mode:l.mode,children:l.children},o.mode),l.ref=o.ref,o.child=l,l.return=o,l}function XS(o,l,h){return tn(l,o.child,null,h),o=Fp(l,l.pendingProps),o.flags|=2,Tr(l),l.memoizedState=null,o}function LI(o,l,h){var x=l.pendingProps,A=(l.flags&128)!==0;if(l.flags&=-129,o===null){if(lr){if(x.mode==="hidden")return o=Fp(l,x),l.lanes=536870912,Om(null,o);if(kr(l),(o=en)?(o=l3(o,bn),o=o!==null&&o.data==="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:ml!==null?{id:Hs,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},h=zf(o),h.return=l,l.child=h,ba=l,en=null)):o=null,o===null)throw pl(l);return l.lanes=536870912,null}return Fp(l,x)}var O=o.memoizedState;if(O!==null){var q=O.dehydrated;if(kr(l),A)if(l.flags&256)l.flags&=-257,l=XS(o,l,h);else if(l.memoizedState!==null)l.child=o.child,l.flags|=128,l=null;else throw Error(n(558));else if(ca||bl(o,l,h,!1),A=(h&o.childLanes)!==0,ca||A){if(x=rn,x!==null&&(q=$a(x,h),q!==0&&q!==O.retryLane))throw O.retryLane=q,Mo(o,q),Zs(x,o,q),yv;Qp(),l=XS(o,l,h)}else o=O.treeContext,en=Xi(q.nextSibling),ba=l,lr=!0,Xa=null,bn=!1,o!==null&&Op(l,o),l=Fp(l,x),l.flags|=4096;return l}return o=Fs(o.child,{mode:x.mode,children:x.children}),o.ref=l.ref,l.child=o,o.return=l,o}function Up(o,l){var h=l.ref;if(h===null)o!==null&&o.ref!==null&&(l.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(o===null||o.ref!==h)&&(l.flags|=4194816)}}function vv(o,l,h,x,A){return yl(l),h=wm(o,l,h,x,void 0,A),x=Nm(),o!==null&&!ca?(jm(o,l,A),mc(o,l,A)):(lr&&x&&gm(l),l.flags|=1,Za(o,l,h,A),l.child)}function QS(o,l,h,x,A,O){return yl(l),l.updateQueue=null,h=zo(l,x,h,A),Wf(o),x=Nm(),o!==null&&!ca?(jm(o,l,O),mc(o,l,O)):(lr&&x&&gm(l),l.flags|=1,Za(o,l,h,O),l.child)}function ZS(o,l,h,x,A){if(yl(l),l.stateNode===null){var O=ga,q=h.contextType;typeof q=="object"&&q!==null&&(O=va(q)),O=new h(x,O),l.memoizedState=O.state!==null&&O.state!==void 0?O.state:null,O.updater=gv,l.stateNode=O,O._reactInternals=l,O=l.stateNode,O.props=x,O.state=l.memoizedState,O.refs={},ot(l),q=h.contextType,O.context=typeof q=="object"&&q!==null?va(q):ga,O.state=l.memoizedState,q=h.getDerivedStateFromProps,typeof q=="function"&&(xv(l,h,q,x),O.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof O.getSnapshotBeforeUpdate=="function"||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(q=O.state,typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount(),q!==O.state&&gv.enqueueReplaceState(O,O.state,null),Bn(l,x,O,A),Gr(),O.state=l.memoizedState),typeof O.componentDidMount=="function"&&(l.flags|=4194308),x=!0}else if(o===null){O=l.stateNode;var te=l.memoizedProps,ye=kd(h,te);O.props=ye;var Te=O.context,$e=h.contextType;q=ga,typeof $e=="object"&&$e!==null&&(q=va($e));var Qe=h.getDerivedStateFromProps;$e=typeof Qe=="function"||typeof O.getSnapshotBeforeUpdate=="function",te=l.pendingProps!==te,$e||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(te||Te!==q)&&BS(l,O,x,q),ft=!1;var Re=l.memoizedState;O.state=Re,Bn(l,x,O,A),Gr(),Te=l.memoizedState,te||Re!==Te||ft?(typeof Qe=="function"&&(xv(l,h,Qe,x),Te=l.memoizedState),(ye=ft||MS(l,h,ye,x,Re,Te,q))?($e||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(l.flags|=4194308)):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=x,l.memoizedState=Te),O.props=x,O.state=Te,O.context=q,x=ye):(typeof O.componentDidMount=="function"&&(l.flags|=4194308),x=!1)}else{O=l.stateNode,dn(o,l),q=l.memoizedProps,$e=kd(h,q),O.props=$e,Qe=l.pendingProps,Re=O.context,Te=h.contextType,ye=ga,typeof Te=="object"&&Te!==null&&(ye=va(Te)),te=h.getDerivedStateFromProps,(Te=typeof te=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(q!==Qe||Re!==ye)&&BS(l,O,x,ye),ft=!1,Re=l.memoizedState,O.state=Re,Bn(l,x,O,A),Gr();var Me=l.memoizedState;q!==Qe||Re!==Me||ft||o!==null&&o.dependencies!==null&&Hf(o.dependencies)?(typeof te=="function"&&(xv(l,h,te,x),Me=l.memoizedState),($e=ft||MS(l,h,$e,x,Re,Me,ye)||o!==null&&o.dependencies!==null&&Hf(o.dependencies))?(Te||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(x,Me,ye),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(x,Me,ye)),typeof O.componentDidUpdate=="function"&&(l.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof O.componentDidUpdate!="function"||q===o.memoizedProps&&Re===o.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&Re===o.memoizedState||(l.flags|=1024),l.memoizedProps=x,l.memoizedState=Me),O.props=x,O.state=Me,O.context=ye,x=$e):(typeof O.componentDidUpdate!="function"||q===o.memoizedProps&&Re===o.memoizedState||(l.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||q===o.memoizedProps&&Re===o.memoizedState||(l.flags|=1024),x=!1)}return O=x,Up(o,l),x=(l.flags&128)!==0,O||x?(O=l.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:O.render(),l.flags|=1,o!==null&&x?(l.child=tn(l,o.child,null,A),l.child=tn(l,null,h,A)):Za(o,l,h,A),l.memoizedState=O.state,o=l.child):o=mc(o,l,A),o}function JS(o,l,h,x){return cc(),l.flags|=256,Za(o,l,h,x),l.child}var wv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nv(o){return{baseLanes:o,cachePool:fe()}}function jv(o,l,h){return o=o!==null?o.childLanes&~h:0,l&&(o|=yi),o}function e4(o,l,h){var x=l.pendingProps,A=!1,O=(l.flags&128)!==0,q;if((q=O)||(q=o!==null&&o.memoizedState===null?!1:(pr.current&2)!==0),q&&(A=!0,l.flags&=-129),q=(l.flags&32)!==0,l.flags&=-33,o===null){if(lr){if(A?Pn(l):Un(),(o=en)?(o=l3(o,bn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(l.memoizedState={dehydrated:o,treeContext:ml!==null?{id:Hs,overflow:Gs}:null,retryLane:536870912,hydrationErrors:null},h=zf(o),h.return=l,l.child=h,ba=l,en=null)):o=null,o===null)throw pl(l);return s1(o)?l.lanes=32:l.lanes=536870912,null}var te=x.children;return x=x.fallback,A?(Un(),A=l.mode,te=qp({mode:"hidden",children:te},A),x=hl(x,A,h,null),te.return=l,x.return=l,te.sibling=x,l.child=te,x=l.child,x.memoizedState=Nv(h),x.childLanes=jv(o,q,h),l.memoizedState=wv,Om(null,x)):(Pn(l),Sv(l,te))}var ye=o.memoizedState;if(ye!==null&&(te=ye.dehydrated,te!==null)){if(O)l.flags&256?(Pn(l),l.flags&=-257,l=Av(o,l,h)):l.memoizedState!==null?(Un(),l.child=o.child,l.flags|=128,l=null):(Un(),te=x.fallback,A=l.mode,x=qp({mode:"visible",children:x.children},A),te=hl(te,A,h,null),te.flags|=2,x.return=l,te.return=l,x.sibling=te,l.child=x,tn(l,o.child,null,h),x=l.child,x.memoizedState=Nv(h),x.childLanes=jv(o,q,h),l.memoizedState=wv,l=Om(null,x));else if(Pn(l),s1(te)){if(q=te.nextSibling&&te.nextSibling.dataset,q)var Te=q.dgst;q=Te,x=Error(n(419)),x.stack="",x.digest=q,pu({value:x,source:null,stack:null}),l=Av(o,l,h)}else if(ca||bl(o,l,h,!1),q=(h&o.childLanes)!==0,ca||q){if(q=rn,q!==null&&(x=$a(q,h),x!==0&&x!==ye.retryLane))throw ye.retryLane=x,Mo(o,x),Zs(q,o,x),yv;a1(te)||Qp(),l=Av(o,l,h)}else a1(te)?(l.flags|=192,l.child=o.child,l=null):(o=ye.treeContext,en=Xi(te.nextSibling),ba=l,lr=!0,Xa=null,bn=!1,o!==null&&Op(l,o),l=Sv(l,x.children),l.flags|=4096);return l}return A?(Un(),te=x.fallback,A=l.mode,ye=o.child,Te=ye.sibling,x=Fs(ye,{mode:"hidden",children:x.children}),x.subtreeFlags=ye.subtreeFlags&65011712,Te!==null?te=Fs(Te,te):(te=hl(te,A,h,null),te.flags|=2),te.return=l,x.return=l,x.sibling=te,l.child=x,Om(null,x),x=l.child,te=o.child.memoizedState,te===null?te=Nv(h):(A=te.cachePool,A!==null?(ye=On._currentValue,A=A.parent!==ye?{parent:ye,pool:ye}:A):A=fe(),te={baseLanes:te.baseLanes|h,cachePool:A}),x.memoizedState=te,x.childLanes=jv(o,q,h),l.memoizedState=wv,Om(o.child,x)):(Pn(l),h=o.child,o=h.sibling,h=Fs(h,{mode:"visible",children:x.children}),h.return=l,h.sibling=null,o!==null&&(q=l.deletions,q===null?(l.deletions=[o],l.flags|=16):q.push(o)),l.child=h,l.memoizedState=null,h)}function Sv(o,l){return l=qp({mode:"visible",children:l},o.mode),l.return=o,o.child=l}function qp(o,l){return o=Oa(22,o,null,l),o.lanes=0,o}function Av(o,l,h){return tn(l,o.child,null,h),o=Sv(l,l.pendingProps.children),o.flags|=2,l.memoizedState=null,o}function t4(o,l,h){o.lanes|=l;var x=o.alternate;x!==null&&(x.lanes|=l),xu(o.return,l,h)}function _v(o,l,h,x,A,O){var q=o.memoizedState;q===null?o.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:A,treeForkCount:O}:(q.isBackwards=l,q.rendering=null,q.renderingStartTime=0,q.last=x,q.tail=h,q.tailMode=A,q.treeForkCount=O)}function r4(o,l,h){var x=l.pendingProps,A=x.revealOrder,O=x.tail;x=x.children;var q=pr.current,te=(q&2)!==0;if(te?(q=q&1|2,l.flags|=128):q&=1,H(pr,q),Za(o,l,x,h),x=lr?Sd:0,!te&&o!==null&&(o.flags&128)!==0)e:for(o=l.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&t4(o,h,l);else if(o.tag===19)t4(o,h,l);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===l)break e;for(;o.sibling===null;){if(o.return===null||o.return===l)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(A){case"forwards":for(h=l.child,A=null;h!==null;)o=h.alternate,o!==null&&La(o)===null&&(A=h),h=h.sibling;h=A,h===null?(A=l.child,l.child=null):(A=h.sibling,h.sibling=null),_v(l,!1,A,h,O,x);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=l.child,l.child=null;A!==null;){if(o=A.alternate,o!==null&&La(o)===null){l.child=A;break}o=A.sibling,A.sibling=h,h=A,A=o}_v(l,!0,h,null,O,x);break;case"together":_v(l,!1,null,null,void 0,x);break;default:l.memoizedState=null}return l.child}function mc(o,l,h){if(o!==null&&(l.dependencies=o.dependencies),Su|=l.lanes,(h&l.childLanes)===0)if(o!==null){if(bl(o,l,h,!1),(h&l.childLanes)===0)return null}else return null;if(o!==null&&l.child!==o.child)throw Error(n(153));if(l.child!==null){for(o=l.child,h=Fs(o,o.pendingProps),l.child=h,h.return=l;o.sibling!==null;)o=o.sibling,h=h.sibling=Fs(o,o.pendingProps),h.return=l;h.sibling=null}return l.child}function Cv(o,l){return(o.lanes&l)!==0?!0:(o=o.dependencies,!!(o!==null&&Hf(o)))}function TI(o,l,h){switch(l.tag){case 3:ce(l,l.stateNode.containerInfo),gl(l,On,o.memoizedState.cache),cc();break;case 27:case 5:me(l);break;case 4:ce(l,l.stateNode.containerInfo);break;case 10:gl(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,kr(l),null;break;case 13:var x=l.memoizedState;if(x!==null)return x.dehydrated!==null?(Pn(l),l.flags|=128,null):(h&l.child.childLanes)!==0?e4(o,l,h):(Pn(l),o=mc(o,l,h),o!==null?o.sibling:null);Pn(l);break;case 19:var A=(o.flags&128)!==0;if(x=(h&l.childLanes)!==0,x||(bl(o,l,h,!1),x=(h&l.childLanes)!==0),A){if(x)return r4(o,l,h);l.flags|=128}if(A=l.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),H(pr,pr.current),x)break;return null;case 22:return l.lanes=0,WS(o,l,h,l.pendingProps);case 24:gl(l,On,o.memoizedState.cache)}return mc(o,l,h)}function n4(o,l,h){if(o!==null)if(o.memoizedProps!==l.pendingProps)ca=!0;else{if(!Cv(o,h)&&(l.flags&128)===0)return ca=!1,TI(o,l,h);ca=(o.flags&131072)!==0}else ca=!1,lr&&(l.flags&1048576)!==0&&kp(l,Sd,l.index);switch(l.lanes=0,l.tag){case 16:e:{var x=l.pendingProps;if(o=ke(l.elementType),l.type=o,typeof o=="function")Bf(o)?(x=kd(o,x),l.tag=1,l=ZS(null,l,o,x,h)):(l.tag=0,l=vv(null,l,o,x,h));else{if(o!=null){var A=o.$$typeof;if(A===k){l.tag=11,l=GS(null,l,o,x,h);break e}else if(A===M){l.tag=14,l=KS(null,l,o,x,h);break e}}throw l=Q(o)||o,Error(n(306,l,""))}}return l;case 0:return vv(o,l,l.type,l.pendingProps,h);case 1:return x=l.type,A=kd(x,l.pendingProps),ZS(o,l,x,A,h);case 3:e:{if(ce(l,l.stateNode.containerInfo),o===null)throw Error(n(387));x=l.pendingProps;var O=l.memoizedState;A=O.element,dn(o,l),Bn(l,x,null,h);var q=l.memoizedState;if(x=q.cache,gl(l,On,x),x!==O.cache&&uc(l,[On],h,!0),Gr(),x=q.element,O.isDehydrated)if(O={element:x,isDehydrated:!1,cache:q.cache},l.updateQueue.baseState=O,l.memoizedState=O,l.flags&256){l=JS(o,l,x,h);break e}else if(x!==A){A=Us(Error(n(424)),l),pu(A),l=JS(o,l,x,h);break e}else for(o=l.stateNode.containerInfo,o.nodeType===9?o=o.body:o=o.nodeName==="HTML"?o.ownerDocument.body:o,en=Xi(o.firstChild),ba=l,lr=!0,Xa=null,bn=!0,h=Jt(l,null,x,h),l.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(cc(),x===A){l=mc(o,l,h);break e}Za(o,l,x,h)}l=l.child}return l;case 26:return Up(o,l),o===null?(h=m3(l.type,null,l.pendingProps,null))?l.memoizedState=h:lr||(h=l.type,o=l.pendingProps,x=ax(le.current).createElement(h),x[jr]=l,x[qr]=o,Ja(x,h,o),ln(x),l.stateNode=x):l.memoizedState=m3(l.type,o.memoizedProps,l.pendingProps,o.memoizedState),null;case 27:return me(l),o===null&&lr&&(x=l.stateNode=d3(l.type,l.pendingProps,le.current),ba=l,bn=!0,A=en,ku(l.type)?(i1=A,en=Xi(x.firstChild)):en=A),Za(o,l,l.pendingProps.children,h),Up(o,l),o===null&&(l.flags|=4194304),l.child;case 5:return o===null&&lr&&((A=x=en)&&(x=cM(x,l.type,l.pendingProps,bn),x!==null?(l.stateNode=x,ba=l,en=Xi(x.firstChild),bn=!1,A=!0):A=!1),A||pl(l)),me(l),A=l.type,O=l.pendingProps,q=o!==null?o.memoizedProps:null,x=O.children,t1(A,O)?x=null:q!==null&&t1(A,q)&&(l.flags|=32),l.memoizedState!==null&&(A=wm(o,l,lv,null,null,h),Gm._currentValue=A),Up(o,l),Za(o,l,x,h),l.child;case 6:return o===null&&lr&&((o=h=en)&&(h=uM(h,l.pendingProps,bn),h!==null?(l.stateNode=h,ba=l,en=null,o=!0):o=!1),o||pl(l)),null;case 13:return e4(o,l,h);case 4:return ce(l,l.stateNode.containerInfo),x=l.pendingProps,o===null?l.child=tn(l,null,x,h):Za(o,l,x,h),l.child;case 11:return GS(o,l,l.type,l.pendingProps,h);case 7:return Za(o,l,l.pendingProps,h),l.child;case 8:return Za(o,l,l.pendingProps.children,h),l.child;case 12:return Za(o,l,l.pendingProps.children,h),l.child;case 10:return x=l.pendingProps,gl(l,l.type,x.value),Za(o,l,x.children,h),l.child;case 9:return A=l.type._context,x=l.pendingProps.children,yl(l),A=va(A),x=x(A),l.flags|=1,Za(o,l,x,h),l.child;case 14:return KS(o,l,l.type,l.pendingProps,h);case 15:return VS(o,l,l.type,l.pendingProps,h);case 19:return r4(o,l,h);case 31:return LI(o,l,h);case 22:return WS(o,l,h,l.pendingProps);case 24:return yl(l),x=va(On),o===null?(A=ne(),A===null&&(A=rn,O=gu(),A.pooledCache=O,O.refCount++,O!==null&&(A.pooledCacheLanes|=h),A=O),l.memoizedState={parent:x,cache:A},ot(l),gl(l,On,A)):((o.lanes&h)!==0&&(dn(o,l),Bn(l,null,null,h),Gr()),A=o.memoizedState,O=l.memoizedState,A.parent!==x?(A={parent:x,cache:x},l.memoizedState=A,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=A),gl(l,On,x)):(x=O.cache,gl(l,On,x),x!==A.cache&&uc(l,[On],h,!0))),Za(o,l,l.pendingProps.children,h),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function pc(o){o.flags|=4}function Ev(o,l,h,x,A){if((l=(o.mode&32)!==0)&&(l=!1),l){if(o.flags|=16777216,(A&335544128)===A)if(o.stateNode.complete)o.flags|=8192;else if(O4())o.flags|=8192;else throw ze=je,Oe}else o.flags&=-16777217}function a4(o,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!y3(l))if(O4())o.flags|=8192;else throw ze=je,Oe}function $p(o,l){l!==null&&(o.flags|=4),o.flags&16384&&(l=o.tag!==22?aa():536870912,o.lanes|=l,sh|=l)}function Pm(o,l){if(!lr)switch(o.tailMode){case"hidden":l=o.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?l||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function mn(o){var l=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(l)for(var A=o.child;A!==null;)h|=A.lanes|A.childLanes,x|=A.subtreeFlags&65011712,x|=A.flags&65011712,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)h|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=x,o.childLanes=h,l}function RI(o,l,h){var x=l.pendingProps;switch(qf(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(l),null;case 1:return mn(l),null;case 3:return h=l.stateNode,x=null,o!==null&&(x=o.memoizedState.cache),l.memoizedState.cache!==x&&(l.flags|=2048),Ks(On),oe(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(ya(l)?pc(l):o===null||o.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ym())),mn(l),null;case 26:var A=l.type,O=l.memoizedState;return o===null?(pc(l),O!==null?(mn(l),a4(l,O)):(mn(l),Ev(l,A,null,x,h))):O?O!==o.memoizedState?(pc(l),mn(l),a4(l,O)):(mn(l),l.flags&=-16777217):(o=o.memoizedProps,o!==x&&pc(l),mn(l),Ev(l,A,o,x,h)),null;case 27:if(Ae(l),h=le.current,A=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==x&&pc(l);else{if(!x){if(l.stateNode===null)throw Error(n(166));return mn(l),null}o=$.current,ya(l)?bm(l):(o=d3(A,x,h),l.stateNode=o,pc(l))}return mn(l),null;case 5:if(Ae(l),A=l.type,o!==null&&l.stateNode!=null)o.memoizedProps!==x&&pc(l);else{if(!x){if(l.stateNode===null)throw Error(n(166));return mn(l),null}if(O=$.current,ya(l))bm(l);else{var q=ax(le.current);switch(O){case 1:O=q.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:O=q.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":O=q.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":O=q.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":O=q.createElement("div"),O.innerHTML="<script><\/script>",O=O.removeChild(O.firstChild);break;case"select":O=typeof x.is=="string"?q.createElement("select",{is:x.is}):q.createElement("select"),x.multiple?O.multiple=!0:x.size&&(O.size=x.size);break;default:O=typeof x.is=="string"?q.createElement(A,{is:x.is}):q.createElement(A)}}O[jr]=l,O[qr]=x;e:for(q=l.child;q!==null;){if(q.tag===5||q.tag===6)O.appendChild(q.stateNode);else if(q.tag!==4&&q.tag!==27&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===l)break e;for(;q.sibling===null;){if(q.return===null||q.return===l)break e;q=q.return}q.sibling.return=q.return,q=q.sibling}l.stateNode=O;e:switch(Ja(O,A,x),A){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&pc(l)}}return mn(l),Ev(l,l.type,o===null?null:o.memoizedProps,l.pendingProps,h),null;case 6:if(o&&l.stateNode!=null)o.memoizedProps!==x&&pc(l);else{if(typeof x!="string"&&l.stateNode===null)throw Error(n(166));if(o=le.current,ya(l)){if(o=l.stateNode,h=l.memoizedProps,x=null,A=ba,A!==null)switch(A.tag){case 27:case 5:x=A.memoizedProps}o[jr]=l,o=!!(o.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||e3(o.nodeValue,h)),o||pl(l,!0)}else o=ax(o).createTextNode(x),o[jr]=l,l.stateNode=o}return mn(l),null;case 31:if(h=l.memoizedState,o===null||o.memoizedState!==null){if(x=ya(l),h!==null){if(o===null){if(!x)throw Error(n(318));if(o=l.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[jr]=l}else cc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mn(l),o=!1}else h=ym(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return l.flags&256?(Tr(l),l):(Tr(l),null);if((l.flags&128)!==0)throw Error(n(558))}return mn(l),null;case 13:if(x=l.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=ya(l),x!==null&&x.dehydrated!==null){if(o===null){if(!A)throw Error(n(318));if(A=l.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[jr]=l}else cc(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;mn(l),A=!1}else A=ym(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=A),A=!0;if(!A)return l.flags&256?(Tr(l),l):(Tr(l),null)}return Tr(l),(l.flags&128)!==0?(l.lanes=h,l):(h=x!==null,o=o!==null&&o.memoizedState!==null,h&&(x=l.child,A=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(A=x.alternate.memoizedState.cachePool.pool),O=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(O=x.memoizedState.cachePool.pool),O!==A&&(x.flags|=2048)),h!==o&&h&&(l.child.flags|=8192),$p(l,l.updateQueue),mn(l),null);case 4:return oe(),o===null&&Xv(l.stateNode.containerInfo),mn(l),null;case 10:return Ks(l.type),mn(l),null;case 19:if(P(pr),x=l.memoizedState,x===null)return mn(l),null;if(A=(l.flags&128)!==0,O=x.rendering,O===null)if(A)Pm(x,!1);else{if($n!==0||o!==null&&(o.flags&128)!==0)for(o=l.child;o!==null;){if(O=La(o),O!==null){for(l.flags|=128,Pm(x,!1),o=O.updateQueue,l.updateQueue=o,$p(l,o),l.subtreeFlags=0,o=h,h=l.child;h!==null;)Nd(h,o),h=h.sibling;return H(pr,pr.current&1|2),lr&&Ss(l,x.treeForkCount),l.child}o=o.sibling}x.tail!==null&&Gt()>Wp&&(l.flags|=128,A=!0,Pm(x,!1),l.lanes=4194304)}else{if(!A)if(o=La(O),o!==null){if(l.flags|=128,A=!0,o=o.updateQueue,l.updateQueue=o,$p(l,o),Pm(x,!0),x.tail===null&&x.tailMode==="hidden"&&!O.alternate&&!lr)return mn(l),null}else 2*Gt()-x.renderingStartTime>Wp&&h!==536870912&&(l.flags|=128,A=!0,Pm(x,!1),l.lanes=4194304);x.isBackwards?(O.sibling=l.child,l.child=O):(o=x.last,o!==null?o.sibling=O:l.child=O,x.last=O)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Gt(),o.sibling=null,h=pr.current,H(pr,A?h&1|2:h&1),lr&&Ss(l,x.treeForkCount),o):(mn(l),null);case 22:case 23:return Tr(l),Zn(),x=l.memoizedState!==null,o!==null?o.memoizedState!==null!==x&&(l.flags|=8192):x&&(l.flags|=8192),x?(h&536870912)!==0&&(l.flags&128)===0&&(mn(l),l.subtreeFlags&6&&(l.flags|=8192)):mn(l),h=l.updateQueue,h!==null&&$p(l,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),x=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),x!==h&&(l.flags|=2048),o!==null&&P(ee),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),l.memoizedState.cache!==h&&(l.flags|=2048),Ks(On),mn(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function DI(o,l){switch(qf(l),l.tag){case 1:return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 3:return Ks(On),oe(),o=l.flags,(o&65536)!==0&&(o&128)===0?(l.flags=o&-65537|128,l):null;case 26:case 27:case 5:return Ae(l),null;case 31:if(l.memoizedState!==null){if(Tr(l),l.alternate===null)throw Error(n(340));cc()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 13:if(Tr(l),o=l.memoizedState,o!==null&&o.dehydrated!==null){if(l.alternate===null)throw Error(n(340));cc()}return o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 19:return P(pr),null;case 4:return oe(),null;case 10:return Ks(l.type),null;case 22:case 23:return Tr(l),Zn(),o!==null&&P(ee),o=l.flags,o&65536?(l.flags=o&-65537|128,l):null;case 24:return Ks(On),null;case 25:return null;default:return null}}function s4(o,l){switch(qf(l),l.tag){case 3:Ks(On),oe();break;case 26:case 27:case 5:Ae(l);break;case 4:oe();break;case 31:l.memoizedState!==null&&Tr(l);break;case 13:Tr(l);break;case 19:P(pr);break;case 10:Ks(l.type);break;case 22:case 23:Tr(l),Zn(),o!==null&&P(ee);break;case 24:Ks(On)}}function Lm(o,l){try{var h=l.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var A=x.next;h=A;do{if((h.tag&o)===o){x=void 0;var O=h.create,q=h.inst;x=O(),q.destroy=x}h=h.next}while(h!==A)}}catch(te){Dr(l,l.return,te)}}function Nu(o,l,h){try{var x=l.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var O=A.next;x=O;do{if((x.tag&o)===o){var q=x.inst,te=q.destroy;if(te!==void 0){q.destroy=void 0,A=l;var ye=h,Te=te;try{Te()}catch($e){Dr(A,ye,$e)}}}x=x.next}while(x!==O)}}catch($e){Dr(l,l.return,$e)}}function i4(o){var l=o.updateQueue;if(l!==null){var h=o.stateNode;try{zn(l,h)}catch(x){Dr(o,o.return,x)}}}function o4(o,l,h){h.props=kd(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(x){Dr(o,l,x)}}function Tm(o,l){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var x=o.stateNode;break;case 30:x=o.stateNode;break;default:x=o.stateNode}typeof h=="function"?o.refCleanup=h(x):h.current=x}}catch(A){Dr(o,l,A)}}function Sl(o,l){var h=o.ref,x=o.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(A){Dr(o,l,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){Dr(o,l,A)}else h.current=null}function l4(o){var l=o.type,h=o.memoizedProps,x=o.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(A){Dr(o,o.return,A)}}function kv(o,l,h){try{var x=o.stateNode;nM(x,o.type,h,l),x[qr]=l}catch(A){Dr(o,o.return,A)}}function c4(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ku(o.type)||o.tag===4}function Ov(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||c4(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ku(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Pv(o,l,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,l):(l=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,l.appendChild(o),h=h._reactRootContainer,h!=null||l.onclick!==null||(l.onclick=di));else if(x!==4&&(x===27&&ku(o.type)&&(h=o.stateNode,l=null),o=o.child,o!==null))for(Pv(o,l,h),o=o.sibling;o!==null;)Pv(o,l,h),o=o.sibling}function Hp(o,l,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,l?h.insertBefore(o,l):h.appendChild(o);else if(x!==4&&(x===27&&ku(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(Hp(o,l,h),o=o.sibling;o!==null;)Hp(o,l,h),o=o.sibling}function u4(o){var l=o.stateNode,h=o.memoizedProps;try{for(var x=o.type,A=l.attributes;A.length;)l.removeAttributeNode(A[0]);Ja(l,x,h),l[jr]=o,l[qr]=h}catch(O){Dr(o,o.return,O)}}var xc=!1,ua=!1,Lv=!1,d4=typeof WeakSet=="function"?WeakSet:Set,Ta=null;function II(o,l){if(o=o.containerInfo,Jv=dx,o=Do(o),Gi(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var A=x.anchorOffset,O=x.focusNode;x=x.focusOffset;try{h.nodeType,O.nodeType}catch{h=null;break e}var q=0,te=-1,ye=-1,Te=0,$e=0,Qe=o,Re=null;t:for(;;){for(var Me;Qe!==h||A!==0&&Qe.nodeType!==3||(te=q+A),Qe!==O||x!==0&&Qe.nodeType!==3||(ye=q+x),Qe.nodeType===3&&(q+=Qe.nodeValue.length),(Me=Qe.firstChild)!==null;)Re=Qe,Qe=Me;for(;;){if(Qe===o)break t;if(Re===h&&++Te===A&&(te=q),Re===O&&++$e===x&&(ye=q),(Me=Qe.nextSibling)!==null)break;Qe=Re,Re=Qe.parentNode}Qe=Me}h=te===-1||ye===-1?null:{start:te,end:ye}}else h=null}h=h||{start:0,end:0}}else h=null;for(e1={focusedElem:o,selectionRange:h},dx=!1,Ta=l;Ta!==null;)if(l=Ta,o=l.child,(l.subtreeFlags&1028)!==0&&o!==null)o.return=l,Ta=o;else for(;Ta!==null;){switch(l=Ta,O=l.alternate,o=l.flags,l.tag){case 0:if((o&4)!==0&&(o=l.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)A=o[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&O!==null){o=void 0,h=l,A=O.memoizedProps,O=O.memoizedState,x=h.stateNode;try{var yt=kd(h.type,A);o=x.getSnapshotBeforeUpdate(yt,O),x.__reactInternalSnapshotBeforeUpdate=o}catch(qt){Dr(h,h.return,qt)}}break;case 3:if((o&1024)!==0){if(o=l.stateNode.containerInfo,h=o.nodeType,h===9)n1(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":n1(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=l.sibling,o!==null){o.return=l.return,Ta=o;break}Ta=l.return}}function f4(o,l,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:bc(o,h),x&4&&Lm(5,h);break;case 1:if(bc(o,h),x&4)if(o=h.stateNode,l===null)try{o.componentDidMount()}catch(q){Dr(h,h.return,q)}else{var A=kd(h.type,l.memoizedProps);l=l.memoizedState;try{o.componentDidUpdate(A,l,o.__reactInternalSnapshotBeforeUpdate)}catch(q){Dr(h,h.return,q)}}x&64&&i4(h),x&512&&Tm(h,h.return);break;case 3:if(bc(o,h),x&64&&(o=h.updateQueue,o!==null)){if(l=null,h.child!==null)switch(h.child.tag){case 27:case 5:l=h.child.stateNode;break;case 1:l=h.child.stateNode}try{zn(o,l)}catch(q){Dr(h,h.return,q)}}break;case 27:l===null&&x&4&&u4(h);case 26:case 5:bc(o,h),l===null&&x&4&&l4(h),x&512&&Tm(h,h.return);break;case 12:bc(o,h);break;case 31:bc(o,h),x&4&&p4(o,h);break;case 13:bc(o,h),x&4&&x4(o,h),x&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=GI.bind(null,h),dM(o,h))));break;case 22:if(x=h.memoizedState!==null||xc,!x){l=l!==null&&l.memoizedState!==null||ua,A=xc;var O=ua;xc=x,(ua=l)&&!O?yc(o,h,(h.subtreeFlags&8772)!==0):bc(o,h),xc=A,ua=O}break;case 30:break;default:bc(o,h)}}function h4(o){var l=o.alternate;l!==null&&(o.alternate=null,h4(l)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(l=o.stateNode,l!==null&&lt(l)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var wn=null,Ws=!1;function gc(o,l,h){for(h=h.child;h!==null;)m4(o,l,h),h=h.sibling}function m4(o,l,h){if(Je&&typeof Je.onCommitFiberUnmount=="function")try{Je.onCommitFiberUnmount(Fe,h)}catch{}switch(h.tag){case 26:ua||Sl(h,l),gc(o,l,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ua||Sl(h,l);var x=wn,A=Ws;ku(h.type)&&(wn=h.stateNode,Ws=!1),gc(o,l,h),qm(h.stateNode),wn=x,Ws=A;break;case 5:ua||Sl(h,l);case 6:if(x=wn,A=Ws,wn=null,gc(o,l,h),wn=x,Ws=A,wn!==null)if(Ws)try{(wn.nodeType===9?wn.body:wn.nodeName==="HTML"?wn.ownerDocument.body:wn).removeChild(h.stateNode)}catch(O){Dr(h,l,O)}else try{wn.removeChild(h.stateNode)}catch(O){Dr(h,l,O)}break;case 18:wn!==null&&(Ws?(o=wn,i3(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),hh(o)):i3(wn,h.stateNode));break;case 4:x=wn,A=Ws,wn=h.stateNode.containerInfo,Ws=!0,gc(o,l,h),wn=x,Ws=A;break;case 0:case 11:case 14:case 15:Nu(2,h,l),ua||Nu(4,h,l),gc(o,l,h);break;case 1:ua||(Sl(h,l),x=h.stateNode,typeof x.componentWillUnmount=="function"&&o4(h,l,x)),gc(o,l,h);break;case 21:gc(o,l,h);break;case 22:ua=(x=ua)||h.memoizedState!==null,gc(o,l,h),ua=x;break;default:gc(o,l,h)}}function p4(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{hh(o)}catch(h){Dr(l,l.return,h)}}}function x4(o,l){if(l.memoizedState===null&&(o=l.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{hh(o)}catch(h){Dr(l,l.return,h)}}function MI(o){switch(o.tag){case 31:case 13:case 19:var l=o.stateNode;return l===null&&(l=o.stateNode=new d4),l;case 22:return o=o.stateNode,l=o._retryCache,l===null&&(l=o._retryCache=new d4),l;default:throw Error(n(435,o.tag))}}function Gp(o,l){var h=MI(o);l.forEach(function(x){if(!h.has(x)){h.add(x);var A=KI.bind(null,o,x);x.then(A,A)}})}function Ys(o,l){var h=l.deletions;if(h!==null)for(var x=0;x<h.length;x++){var A=h[x],O=o,q=l,te=q;e:for(;te!==null;){switch(te.tag){case 27:if(ku(te.type)){wn=te.stateNode,Ws=!1;break e}break;case 5:wn=te.stateNode,Ws=!1;break e;case 3:case 4:wn=te.stateNode.containerInfo,Ws=!0;break e}te=te.return}if(wn===null)throw Error(n(160));m4(O,q,A),wn=null,Ws=!1,O=A.alternate,O!==null&&(O.return=null),A.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)g4(l,o),l=l.sibling}var $o=null;function g4(o,l){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Ys(l,o),Xs(o),x&4&&(Nu(3,o,o.return),Lm(3,o),Nu(5,o,o.return));break;case 1:Ys(l,o),Xs(o),x&512&&(ua||h===null||Sl(h,h.return)),x&64&&xc&&(o=o.updateQueue,o!==null&&(x=o.callbacks,x!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var A=$o;if(Ys(l,o),Xs(o),x&512&&(ua||h===null||Sl(h,h.return)),x&4){var O=h!==null?h.memoizedState:null;if(x=o.memoizedState,h===null)if(x===null)if(o.stateNode===null){e:{x=o.type,h=o.memoizedProps,A=A.ownerDocument||A;t:switch(x){case"title":O=A.getElementsByTagName("title")[0],(!O||O[Pe]||O[jr]||O.namespaceURI==="http://www.w3.org/2000/svg"||O.hasAttribute("itemprop"))&&(O=A.createElement(x),A.head.insertBefore(O,A.querySelector("head > title"))),Ja(O,x,h),O[jr]=o,ln(O),x=O;break e;case"link":var q=g3("link","href",A).get(x+(h.href||""));if(q){for(var te=0;te<q.length;te++)if(O=q[te],O.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&O.getAttribute("rel")===(h.rel==null?null:h.rel)&&O.getAttribute("title")===(h.title==null?null:h.title)&&O.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){q.splice(te,1);break t}}O=A.createElement(x),Ja(O,x,h),A.head.appendChild(O);break;case"meta":if(q=g3("meta","content",A).get(x+(h.content||""))){for(te=0;te<q.length;te++)if(O=q[te],O.getAttribute("content")===(h.content==null?null:""+h.content)&&O.getAttribute("name")===(h.name==null?null:h.name)&&O.getAttribute("property")===(h.property==null?null:h.property)&&O.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&O.getAttribute("charset")===(h.charSet==null?null:h.charSet)){q.splice(te,1);break t}}O=A.createElement(x),Ja(O,x,h),A.head.appendChild(O);break;default:throw Error(n(468,x))}O[jr]=o,ln(O),x=O}o.stateNode=x}else b3(A,o.type,o.stateNode);else o.stateNode=x3(A,x,o.memoizedProps);else O!==x?(O===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):O.count--,x===null?b3(A,o.type,o.stateNode):x3(A,x,o.memoizedProps)):x===null&&o.stateNode!==null&&kv(o,o.memoizedProps,h.memoizedProps)}break;case 27:Ys(l,o),Xs(o),x&512&&(ua||h===null||Sl(h,h.return)),h!==null&&x&4&&kv(o,o.memoizedProps,h.memoizedProps);break;case 5:if(Ys(l,o),Xs(o),x&512&&(ua||h===null||Sl(h,h.return)),o.flags&32){A=o.stateNode;try{ui(A,"")}catch(yt){Dr(o,o.return,yt)}}x&4&&o.stateNode!=null&&(A=o.memoizedProps,kv(o,A,h!==null?h.memoizedProps:A)),x&1024&&(Lv=!0);break;case 6:if(Ys(l,o),Xs(o),x&4){if(o.stateNode===null)throw Error(n(162));x=o.memoizedProps,h=o.stateNode;try{h.nodeValue=x}catch(yt){Dr(o,o.return,yt)}}break;case 3:if(ox=null,A=$o,$o=sx(l.containerInfo),Ys(l,o),$o=A,Xs(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{hh(l.containerInfo)}catch(yt){Dr(o,o.return,yt)}Lv&&(Lv=!1,b4(o));break;case 4:x=$o,$o=sx(o.stateNode.containerInfo),Ys(l,o),Xs(o),$o=x;break;case 12:Ys(l,o),Xs(o);break;case 31:Ys(l,o),Xs(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Gp(o,x)));break;case 13:Ys(l,o),Xs(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Vp=Gt()),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Gp(o,x)));break;case 22:A=o.memoizedState!==null;var ye=h!==null&&h.memoizedState!==null,Te=xc,$e=ua;if(xc=Te||A,ua=$e||ye,Ys(l,o),ua=$e,xc=Te,Xs(o),x&8192)e:for(l=o.stateNode,l._visibility=A?l._visibility&-2:l._visibility|1,A&&(h===null||ye||xc||ua||Od(o)),h=null,l=o;;){if(l.tag===5||l.tag===26){if(h===null){ye=h=l;try{if(O=ye.stateNode,A)q=O.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none";else{te=ye.stateNode;var Qe=ye.memoizedProps.style,Re=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;te.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(yt){Dr(ye,ye.return,yt)}}}else if(l.tag===6){if(h===null){ye=l;try{ye.stateNode.nodeValue=A?"":ye.memoizedProps}catch(yt){Dr(ye,ye.return,yt)}}}else if(l.tag===18){if(h===null){ye=l;try{var Me=ye.stateNode;A?o3(Me,!0):o3(ye.stateNode,!1)}catch(yt){Dr(ye,ye.return,yt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===o)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;h===l&&(h=null),l=l.return}h===l&&(h=null),l.sibling.return=l.return,l=l.sibling}x&4&&(x=o.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,Gp(o,h))));break;case 19:Ys(l,o),Xs(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Gp(o,x)));break;case 30:break;case 21:break;default:Ys(l,o),Xs(o)}}function Xs(o){var l=o.flags;if(l&2){try{for(var h,x=o.return;x!==null;){if(c4(x)){h=x;break}x=x.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var A=h.stateNode,O=Ov(o);Hp(o,O,A);break;case 5:var q=h.stateNode;h.flags&32&&(ui(q,""),h.flags&=-33);var te=Ov(o);Hp(o,te,q);break;case 3:case 4:var ye=h.stateNode.containerInfo,Te=Ov(o);Pv(o,Te,ye);break;default:throw Error(n(161))}}catch($e){Dr(o,o.return,$e)}o.flags&=-3}l&4096&&(o.flags&=-4097)}function b4(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var l=o;b4(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),o=o.sibling}}function bc(o,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)f4(o,l.alternate,l),l=l.sibling}function Od(o){for(o=o.child;o!==null;){var l=o;switch(l.tag){case 0:case 11:case 14:case 15:Nu(4,l,l.return),Od(l);break;case 1:Sl(l,l.return);var h=l.stateNode;typeof h.componentWillUnmount=="function"&&o4(l,l.return,h),Od(l);break;case 27:qm(l.stateNode);case 26:case 5:Sl(l,l.return),Od(l);break;case 22:l.memoizedState===null&&Od(l);break;case 30:Od(l);break;default:Od(l)}o=o.sibling}}function yc(o,l,h){for(h=h&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var x=l.alternate,A=o,O=l,q=O.flags;switch(O.tag){case 0:case 11:case 15:yc(A,O,h),Lm(4,O);break;case 1:if(yc(A,O,h),x=O,A=x.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Te){Dr(x,x.return,Te)}if(x=O,A=x.updateQueue,A!==null){var te=x.stateNode;try{var ye=A.shared.hiddenCallbacks;if(ye!==null)for(A.shared.hiddenCallbacks=null,A=0;A<ye.length;A++)Pa(ye[A],te)}catch(Te){Dr(x,x.return,Te)}}h&&q&64&&i4(O),Tm(O,O.return);break;case 27:u4(O);case 26:case 5:yc(A,O,h),h&&x===null&&q&4&&l4(O),Tm(O,O.return);break;case 12:yc(A,O,h);break;case 31:yc(A,O,h),h&&q&4&&p4(A,O);break;case 13:yc(A,O,h),h&&q&4&&x4(A,O);break;case 22:O.memoizedState===null&&yc(A,O,h),Tm(O,O.return);break;case 30:break;default:yc(A,O,h)}l=l.sibling}}function Tv(o,l){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(o=l.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Ad(h))}function Rv(o,l){o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Ad(o))}function Ho(o,l,h,x){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)y4(o,l,h,x),l=l.sibling}function y4(o,l,h,x){var A=l.flags;switch(l.tag){case 0:case 11:case 15:Ho(o,l,h,x),A&2048&&Lm(9,l);break;case 1:Ho(o,l,h,x);break;case 3:Ho(o,l,h,x),A&2048&&(o=null,l.alternate!==null&&(o=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==o&&(l.refCount++,o!=null&&Ad(o)));break;case 12:if(A&2048){Ho(o,l,h,x),o=l.stateNode;try{var O=l.memoizedProps,q=O.id,te=O.onPostCommit;typeof te=="function"&&te(q,l.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ye){Dr(l,l.return,ye)}}else Ho(o,l,h,x);break;case 31:Ho(o,l,h,x);break;case 13:Ho(o,l,h,x);break;case 23:break;case 22:O=l.stateNode,q=l.alternate,l.memoizedState!==null?O._visibility&2?Ho(o,l,h,x):Rm(o,l):O._visibility&2?Ho(o,l,h,x):(O._visibility|=2,rh(o,l,h,x,(l.subtreeFlags&10256)!==0||!1)),A&2048&&Tv(q,l);break;case 24:Ho(o,l,h,x),A&2048&&Rv(l.alternate,l);break;default:Ho(o,l,h,x)}}function rh(o,l,h,x,A){for(A=A&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var O=o,q=l,te=h,ye=x,Te=q.flags;switch(q.tag){case 0:case 11:case 15:rh(O,q,te,ye,A),Lm(8,q);break;case 23:break;case 22:var $e=q.stateNode;q.memoizedState!==null?$e._visibility&2?rh(O,q,te,ye,A):Rm(O,q):($e._visibility|=2,rh(O,q,te,ye,A)),A&&Te&2048&&Tv(q.alternate,q);break;case 24:rh(O,q,te,ye,A),A&&Te&2048&&Rv(q.alternate,q);break;default:rh(O,q,te,ye,A)}l=l.sibling}}function Rm(o,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var h=o,x=l,A=x.flags;switch(x.tag){case 22:Rm(h,x),A&2048&&Tv(x.alternate,x);break;case 24:Rm(h,x),A&2048&&Rv(x.alternate,x);break;default:Rm(h,x)}l=l.sibling}}var Dm=8192;function nh(o,l,h){if(o.subtreeFlags&Dm)for(o=o.child;o!==null;)v4(o,l,h),o=o.sibling}function v4(o,l,h){switch(o.tag){case 26:nh(o,l,h),o.flags&Dm&&o.memoizedState!==null&&jM(h,$o,o.memoizedState,o.memoizedProps);break;case 5:nh(o,l,h);break;case 3:case 4:var x=$o;$o=sx(o.stateNode.containerInfo),nh(o,l,h),$o=x;break;case 22:o.memoizedState===null&&(x=o.alternate,x!==null&&x.memoizedState!==null?(x=Dm,Dm=16777216,nh(o,l,h),Dm=x):nh(o,l,h));break;default:nh(o,l,h)}}function w4(o){var l=o.alternate;if(l!==null&&(o=l.child,o!==null)){l.child=null;do l=o.sibling,o.sibling=null,o=l;while(o!==null)}}function Im(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];Ta=x,j4(x,o)}w4(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)N4(o),o=o.sibling}function N4(o){switch(o.tag){case 0:case 11:case 15:Im(o),o.flags&2048&&Nu(9,o,o.return);break;case 3:Im(o);break;case 12:Im(o);break;case 22:var l=o.stateNode;o.memoizedState!==null&&l._visibility&2&&(o.return===null||o.return.tag!==13)?(l._visibility&=-3,Kp(o)):Im(o);break;default:Im(o)}}function Kp(o){var l=o.deletions;if((o.flags&16)!==0){if(l!==null)for(var h=0;h<l.length;h++){var x=l[h];Ta=x,j4(x,o)}w4(o)}for(o=o.child;o!==null;){switch(l=o,l.tag){case 0:case 11:case 15:Nu(8,l,l.return),Kp(l);break;case 22:h=l.stateNode,h._visibility&2&&(h._visibility&=-3,Kp(l));break;default:Kp(l)}o=o.sibling}}function j4(o,l){for(;Ta!==null;){var h=Ta;switch(h.tag){case 0:case 11:case 15:Nu(8,h,l);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Ad(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,Ta=x;else e:for(h=o;Ta!==null;){x=Ta;var A=x.sibling,O=x.return;if(h4(x),x===h){Ta=null;break e}if(A!==null){A.return=O,Ta=A;break e}Ta=O}}}var BI={getCacheForType:function(o){var l=va(On),h=l.data.get(o);return h===void 0&&(h=o(),l.data.set(o,h)),h},cacheSignal:function(){return va(On).controller.signal}},zI=typeof WeakMap=="function"?WeakMap:Map,Or=0,rn=null,cr=null,dr=0,Rr=0,bi=null,ju=!1,ah=!1,Dv=!1,vc=0,$n=0,Su=0,Pd=0,Iv=0,yi=0,sh=0,Mm=null,Qs=null,Mv=!1,Vp=0,S4=0,Wp=1/0,Yp=null,Au=null,Na=0,_u=null,ih=null,wc=0,Bv=0,zv=null,A4=null,Bm=0,Fv=null;function vi(){return(Or&2)!==0&&dr!==0?dr&-dr:re.T!==null?Kv():_n()}function _4(){if(yi===0)if((dr&536870912)===0||lr){var o=Et;Et<<=1,(Et&3932160)===0&&(Et=262144),yi=o}else yi=536870912;return o=hn.current,o!==null&&(o.flags|=32),yi}function Zs(o,l,h){(o===rn&&(Rr===2||Rr===9)||o.cancelPendingCommit!==null)&&(oh(o,0),Cu(o,dr,yi,!1)),Ot(o,h),((Or&2)===0||o!==rn)&&(o===rn&&((Or&2)===0&&(Pd|=h),$n===4&&Cu(o,dr,yi,!1)),Al(o))}function C4(o,l,h){if((Or&6)!==0)throw Error(n(327));var x=!h&&(l&127)===0&&(l&o.expiredLanes)===0||Zr(o,l),A=x?qI(o,l):qv(o,l,!0),O=x;do{if(A===0){ah&&!x&&Cu(o,l,0,!1);break}else{if(h=o.current.alternate,O&&!FI(h)){A=qv(o,l,!1),O=!1;continue}if(A===2){if(O=l,o.errorRecoveryDisabledLanes&O)var q=0;else q=o.pendingLanes&-536870913,q=q!==0?q:q&536870912?536870912:0;if(q!==0){l=q;e:{var te=o;A=Mm;var ye=te.current.memoizedState.isDehydrated;if(ye&&(oh(te,q).flags|=256),q=qv(te,q,!1),q!==2){if(Dv&&!ye){te.errorRecoveryDisabledLanes|=O,Pd|=O,A=4;break e}O=Qs,Qs=A,O!==null&&(Qs===null?Qs=O:Qs.push.apply(Qs,O))}A=q}if(O=!1,A!==2)continue}}if(A===1){oh(o,0),Cu(o,l,0,!0);break}e:{switch(x=o,O=A,O){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Cu(x,l,yi,!ju);break e;case 2:Qs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(A=Vp+300-Gt(),10<A)){if(Cu(x,l,yi,!ju),Xt(x,0,!0)!==0)break e;wc=l,x.timeoutHandle=a3(E4.bind(null,x,h,Qs,Yp,Mv,l,yi,Pd,sh,ju,O,"Throttled",-0,0),A);break e}E4(x,h,Qs,Yp,Mv,l,yi,Pd,sh,ju,O,null,-0,0)}}break}while(!0);Al(o)}function E4(o,l,h,x,A,O,q,te,ye,Te,$e,Qe,Re,Me){if(o.timeoutHandle=-1,Qe=l.subtreeFlags,Qe&8192||(Qe&16785408)===16785408){Qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:di},v4(l,O,Qe);var yt=(O&62914560)===O?Vp-Gt():(O&4194048)===O?S4-Gt():0;if(yt=SM(Qe,yt),yt!==null){wc=O,o.cancelPendingCommit=yt(I4.bind(null,o,l,O,h,x,A,q,te,ye,$e,Qe,null,Re,Me)),Cu(o,O,q,!Te);return}}I4(o,l,O,h,x,A,q,te,ye)}function FI(o){for(var l=o;;){var h=l.tag;if((h===0||h===11||h===15)&&l.flags&16384&&(h=l.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var A=h[x],O=A.getSnapshot;A=A.value;try{if(!xa(O(),A))return!1}catch{return!1}}if(h=l.child,l.subtreeFlags&16384&&h!==null)h.return=l,l=h;else{if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Cu(o,l,h,x){l&=~Iv,l&=~Pd,o.suspendedLanes|=l,o.pingedLanes&=~l,x&&(o.warmLanes|=l),x=o.expirationTimes;for(var A=l;0<A;){var O=31-et(A),q=1<<O;x[O]=-1,A&=~q}h!==0&&Rs(o,h,l)}function Xp(){return(Or&6)===0?(zm(0),!1):!0}function Uv(){if(cr!==null){if(Rr===0)var o=cr.return;else o=cr,Vi=xl=null,Yf(o),Ze=null,vt=0,o=cr;for(;o!==null;)s4(o.alternate,o),o=o.return;cr=null}}function oh(o,l){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,iM(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),wc=0,Uv(),rn=o,cr=h=Fs(o.current,null),dr=l,Rr=0,bi=null,ju=!1,ah=Zr(o,l),Dv=!1,sh=yi=Iv=Pd=Su=$n=0,Qs=Mm=null,Mv=!1,(l&8)!==0&&(l|=l&32);var x=o.entangledLanes;if(x!==0)for(o=o.entanglements,x&=l;0<x;){var A=31-et(x),O=1<<A;l|=o[A],x&=~O}return vc=l,yd(),h}function k4(o,l){Rt=null,re.H=km,l===we||l===de?(l=Ke(),Rr=3):l===Oe?(l=Ke(),Rr=4):Rr=l===yv?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,bi=l,cr===null&&($n=1,zp(o,Us(l,o.current)))}function O4(){var o=hn.current;return o===null?!0:(dr&4194048)===dr?br===null:(dr&62914560)===dr||(dr&536870912)!==0?o===br:!1}function P4(){var o=re.H;return re.H=km,o===null?km:o}function L4(){var o=re.A;return re.A=BI,o}function Qp(){$n=4,ju||(dr&4194048)!==dr&&hn.current!==null||(ah=!0),(Su&134217727)===0&&(Pd&134217727)===0||rn===null||Cu(rn,dr,yi,!1)}function qv(o,l,h){var x=Or;Or|=2;var A=P4(),O=L4();(rn!==o||dr!==l)&&(Yp=null,oh(o,l)),l=!1;var q=$n;e:do try{if(Rr!==0&&cr!==null){var te=cr,ye=bi;switch(Rr){case 8:Uv(),q=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(l=!0);var Te=Rr;if(Rr=0,bi=null,lh(o,te,ye,Te),h&&ah){q=0;break e}break;default:Te=Rr,Rr=0,bi=null,lh(o,te,ye,Te)}}UI(),q=$n;break}catch($e){k4(o,$e)}while(!0);return l&&o.shellSuspendCounter++,Vi=xl=null,Or=x,re.H=A,re.A=O,cr===null&&(rn=null,dr=0,yd()),q}function UI(){for(;cr!==null;)T4(cr)}function qI(o,l){var h=Or;Or|=2;var x=P4(),A=L4();rn!==o||dr!==l?(Yp=null,Wp=Gt()+500,oh(o,l)):ah=Zr(o,l);e:do try{if(Rr!==0&&cr!==null){l=cr;var O=bi;t:switch(Rr){case 1:Rr=0,bi=null,lh(o,l,O,1);break;case 2:case 9:if(Ee(O)){Rr=0,bi=null,R4(l);break}l=function(){Rr!==2&&Rr!==9||rn!==o||(Rr=7),Al(o)},O.then(l,l);break e;case 3:Rr=7;break e;case 4:Rr=5;break e;case 7:Ee(O)?(Rr=0,bi=null,R4(l)):(Rr=0,bi=null,lh(o,l,O,7));break;case 5:var q=null;switch(cr.tag){case 26:q=cr.memoizedState;case 5:case 27:var te=cr;if(q?y3(q):te.stateNode.complete){Rr=0,bi=null;var ye=te.sibling;if(ye!==null)cr=ye;else{var Te=te.return;Te!==null?(cr=Te,Zp(Te)):cr=null}break t}}Rr=0,bi=null,lh(o,l,O,5);break;case 6:Rr=0,bi=null,lh(o,l,O,6);break;case 8:Uv(),$n=6;break e;default:throw Error(n(462))}}$I();break}catch($e){k4(o,$e)}while(!0);return Vi=xl=null,re.H=x,re.A=A,Or=h,cr!==null?0:(rn=null,dr=0,yd(),$n)}function $I(){for(;cr!==null&&!kt();)T4(cr)}function T4(o){var l=n4(o.alternate,o,vc);o.memoizedProps=o.pendingProps,l===null?Zp(o):cr=l}function R4(o){var l=o,h=l.alternate;switch(l.tag){case 15:case 0:l=QS(h,l,l.pendingProps,l.type,void 0,dr);break;case 11:l=QS(h,l,l.pendingProps,l.type.render,l.ref,dr);break;case 5:Yf(l);default:s4(h,l),l=cr=Nd(l,vc),l=n4(h,l,vc)}o.memoizedProps=o.pendingProps,l===null?Zp(o):cr=l}function lh(o,l,h,x){Vi=xl=null,Yf(l),Ze=null,vt=0;var A=l.return;try{if(PI(o,A,l,h,dr)){$n=1,zp(o,Us(h,o.current)),cr=null;return}}catch(O){if(A!==null)throw cr=A,O;$n=1,zp(o,Us(h,o.current)),cr=null;return}l.flags&32768?(lr||x===1?o=!0:ah||(dr&536870912)!==0?o=!1:(ju=o=!0,(x===2||x===9||x===3||x===6)&&(x=hn.current,x!==null&&x.tag===13&&(x.flags|=16384))),D4(l,o)):Zp(l)}function Zp(o){var l=o;do{if((l.flags&32768)!==0){D4(l,ju);return}o=l.return;var h=RI(l.alternate,l,vc);if(h!==null){cr=h;return}if(l=l.sibling,l!==null){cr=l;return}cr=l=o}while(l!==null);$n===0&&($n=5)}function D4(o,l){do{var h=DI(o.alternate,o);if(h!==null){h.flags&=32767,cr=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!l&&(o=o.sibling,o!==null)){cr=o;return}cr=o=h}while(o!==null);$n=6,cr=null}function I4(o,l,h,x,A,O,q,te,ye){o.cancelPendingCommit=null;do Jp();while(Na!==0);if((Or&6)!==0)throw Error(n(327));if(l!==null){if(l===o.current)throw Error(n(177));if(O=l.lanes|l.childLanes,O|=Df,oi(o,h,O,q,te,ye),o===rn&&(cr=rn=null,dr=0),ih=l,_u=o,wc=h,Bv=O,zv=A,A4=x,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,VI(Kt,function(){return U4(),null})):(o.callbackNode=null,o.callbackPriority=0),x=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||x){x=re.T,re.T=null,A=ue.p,ue.p=2,q=Or,Or|=4;try{II(o,l,h)}finally{Or=q,ue.p=A,re.T=x}}Na=1,M4(),B4(),z4()}}function M4(){if(Na===1){Na=0;var o=_u,l=ih,h=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||h){h=re.T,re.T=null;var x=ue.p;ue.p=2;var A=Or;Or|=4;try{g4(l,o);var O=e1,q=Do(o.containerInfo),te=O.focusedElem,ye=O.selectionRange;if(q!==te&&te&&te.ownerDocument&&Ro(te.ownerDocument.documentElement,te)){if(ye!==null&&Gi(te)){var Te=ye.start,$e=ye.end;if($e===void 0&&($e=Te),"selectionStart"in te)te.selectionStart=Te,te.selectionEnd=Math.min($e,te.value.length);else{var Qe=te.ownerDocument||document,Re=Qe&&Qe.defaultView||window;if(Re.getSelection){var Me=Re.getSelection(),yt=te.textContent.length,qt=Math.min(ye.start,yt),Wr=ye.end===void 0?qt:Math.min(ye.end,yt);!Me.extend&&qt>Wr&&(q=Wr,Wr=qt,qt=q);var Ce=du(te,qt),Ne=du(te,Wr);if(Ce&&Ne&&(Me.rangeCount!==1||Me.anchorNode!==Ce.node||Me.anchorOffset!==Ce.offset||Me.focusNode!==Ne.node||Me.focusOffset!==Ne.offset)){var Le=Qe.createRange();Le.setStart(Ce.node,Ce.offset),Me.removeAllRanges(),qt>Wr?(Me.addRange(Le),Me.extend(Ne.node,Ne.offset)):(Le.setEnd(Ne.node,Ne.offset),Me.addRange(Le))}}}}for(Qe=[],Me=te;Me=Me.parentNode;)Me.nodeType===1&&Qe.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof te.focus=="function"&&te.focus(),te=0;te<Qe.length;te++){var We=Qe[te];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}dx=!!Jv,e1=Jv=null}finally{Or=A,ue.p=x,re.T=h}}o.current=l,Na=2}}function B4(){if(Na===2){Na=0;var o=_u,l=ih,h=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||h){h=re.T,re.T=null;var x=ue.p;ue.p=2;var A=Or;Or|=4;try{f4(o,l.alternate,l)}finally{Or=A,ue.p=x,re.T=h}}Na=3}}function z4(){if(Na===4||Na===3){Na=0,Ct();var o=_u,l=ih,h=wc,x=A4;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Na=5:(Na=0,ih=_u=null,F4(o,o.pendingLanes));var A=o.pendingLanes;if(A===0&&(Au=null),gn(h),l=l.stateNode,Je&&typeof Je.onCommitFiberRoot=="function")try{Je.onCommitFiberRoot(Fe,l,void 0,(l.current.flags&128)===128)}catch{}if(x!==null){l=re.T,A=ue.p,ue.p=2,re.T=null;try{for(var O=o.onRecoverableError,q=0;q<x.length;q++){var te=x[q];O(te.value,{componentStack:te.stack})}}finally{re.T=l,ue.p=A}}(wc&3)!==0&&Jp(),Al(o),A=o.pendingLanes,(h&261930)!==0&&(A&42)!==0?o===Fv?Bm++:(Bm=0,Fv=o):Bm=0,zm(0)}}function F4(o,l){(o.pooledCacheLanes&=l)===0&&(l=o.pooledCache,l!=null&&(o.pooledCache=null,Ad(l)))}function Jp(){return M4(),B4(),z4(),U4()}function U4(){if(Na!==5)return!1;var o=_u,l=Bv;Bv=0;var h=gn(wc),x=re.T,A=ue.p;try{ue.p=32>h?32:h,re.T=null,h=zv,zv=null;var O=_u,q=wc;if(Na=0,ih=_u=null,wc=0,(Or&6)!==0)throw Error(n(331));var te=Or;if(Or|=4,N4(O.current),y4(O,O.current,q,h),Or=te,zm(0,!1),Je&&typeof Je.onPostCommitFiberRoot=="function")try{Je.onPostCommitFiberRoot(Fe,O)}catch{}return!0}finally{ue.p=A,re.T=x,F4(o,l)}}function q4(o,l,h){l=Us(h,l),l=bv(o.stateNode,l,2),o=rr(o,l,2),o!==null&&(Ot(o,2),Al(o))}function Dr(o,l,h){if(o.tag===3)q4(o,o,h);else for(;l!==null;){if(l.tag===3){q4(l,o,h);break}else if(l.tag===1){var x=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Au===null||!Au.has(x))){o=Us(h,o),h=$S(2),x=rr(l,h,2),x!==null&&(HS(h,x,l,o),Ot(x,2),Al(x));break}}l=l.return}}function $v(o,l,h){var x=o.pingCache;if(x===null){x=o.pingCache=new zI;var A=new Set;x.set(l,A)}else A=x.get(l),A===void 0&&(A=new Set,x.set(l,A));A.has(h)||(Dv=!0,A.add(h),o=HI.bind(null,o,l,h),l.then(o,o))}function HI(o,l,h){var x=o.pingCache;x!==null&&x.delete(l),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,rn===o&&(dr&h)===h&&($n===4||$n===3&&(dr&62914560)===dr&&300>Gt()-Vp?(Or&2)===0&&oh(o,0):Iv|=h,sh===dr&&(sh=0)),Al(o)}function $4(o,l){l===0&&(l=aa()),o=Mo(o,l),o!==null&&(Ot(o,l),Al(o))}function GI(o){var l=o.memoizedState,h=0;l!==null&&(h=l.retryLane),$4(o,h)}function KI(o,l){var h=0;switch(o.tag){case 31:case 13:var x=o.stateNode,A=o.memoizedState;A!==null&&(h=A.retryLane);break;case 19:x=o.stateNode;break;case 22:x=o.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(l),$4(o,h)}function VI(o,l){return jt(o,l)}var ex=null,ch=null,Hv=!1,tx=!1,Gv=!1,Eu=0;function Al(o){o!==ch&&o.next===null&&(ch===null?ex=ch=o:ch=ch.next=o),tx=!0,Hv||(Hv=!0,YI())}function zm(o,l){if(!Gv&&tx){Gv=!0;do for(var h=!1,x=ex;x!==null;){if(o!==0){var A=x.pendingLanes;if(A===0)var O=0;else{var q=x.suspendedLanes,te=x.pingedLanes;O=(1<<31-et(42|o)+1)-1,O&=A&~(q&~te),O=O&201326741?O&201326741|1:O?O|2:0}O!==0&&(h=!0,V4(x,O))}else O=dr,O=Xt(x,x===rn?O:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(O&3)===0||Zr(x,O)||(h=!0,V4(x,O));x=x.next}while(h);Gv=!1}}function WI(){H4()}function H4(){tx=Hv=!1;var o=0;Eu!==0&&sM()&&(o=Eu);for(var l=Gt(),h=null,x=ex;x!==null;){var A=x.next,O=G4(x,l);O===0?(x.next=null,h===null?ex=A:h.next=A,A===null&&(ch=h)):(h=x,(o!==0||(O&3)!==0)&&(tx=!0)),x=A}Na!==0&&Na!==5||zm(o),Eu!==0&&(Eu=0)}function G4(o,l){for(var h=o.suspendedLanes,x=o.pingedLanes,A=o.expirationTimes,O=o.pendingLanes&-62914561;0<O;){var q=31-et(O),te=1<<q,ye=A[q];ye===-1?((te&h)===0||(te&x)!==0)&&(A[q]=Jr(te,l)):ye<=l&&(o.expiredLanes|=te),O&=~te}if(l=rn,h=dr,h=Xt(o,o===l?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x=o.callbackNode,h===0||o===l&&(Rr===2||Rr===9)||o.cancelPendingCommit!==null)return x!==null&&x!==null&&ut(x),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||Zr(o,h)){if(l=h&-h,l===o.callbackPriority)return l;switch(x!==null&&ut(x),gn(h)){case 2:case 8:h=ar;break;case 32:h=Kt;break;case 268435456:h=Ht;break;default:h=Kt}return x=K4.bind(null,o),h=jt(h,x),o.callbackPriority=l,o.callbackNode=h,l}return x!==null&&x!==null&&ut(x),o.callbackPriority=2,o.callbackNode=null,2}function K4(o,l){if(Na!==0&&Na!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Jp()&&o.callbackNode!==h)return null;var x=dr;return x=Xt(o,o===rn?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x===0?null:(C4(o,x,l),G4(o,Gt()),o.callbackNode!=null&&o.callbackNode===h?K4.bind(null,o):null)}function V4(o,l){if(Jp())return null;C4(o,l,!0)}function YI(){oM(function(){(Or&6)!==0?jt(Ut,WI):H4()})}function Kv(){if(Eu===0){var o=w;o===0&&(o=it,it<<=1,(it&261888)===0&&(it=256)),Eu=o}return Eu}function W4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:os(""+o)}function Y4(o,l){var h=l.ownerDocument.createElement("input");return h.name=l.name,h.value=l.value,o.id&&h.setAttribute("form",o.id),l.parentNode.insertBefore(h,l),o=new FormData(o),h.parentNode.removeChild(h),o}function XI(o,l,h,x,A){if(l==="submit"&&h&&h.stateNode===A){var O=W4((A[qr]||null).action),q=x.submitter;q&&(l=(l=q[qr]||null)?W4(l.formAction):q.getAttribute("formAction"),l!==null&&(O=l,q=null));var te=new Ms("action","action",null,x,A);o.push({event:te,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Eu!==0){var ye=q?Y4(A,q):new FormData(A);fv(h,{pending:!0,data:ye,method:A.method,action:O},null,ye)}}else typeof O=="function"&&(te.preventDefault(),ye=q?Y4(A,q):new FormData(A),fv(h,{pending:!0,data:ye,method:A.method,action:O},O,ye))},currentTarget:A}]})}}for(var Vv=0;Vv<ic.length;Vv++){var Wv=ic[Vv],QI=Wv.toLowerCase(),ZI=Wv[0].toUpperCase()+Wv.slice(1);zs(QI,"on"+ZI)}zs(sc,"onAnimationEnd"),zs(gd,"onAnimationIteration"),zs(mm,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(_p,"onTransitionRun"),zs(Cp,"onTransitionStart"),zs(Ep,"onTransitionCancel"),zs(pm,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fm));function X4(o,l){l=(l&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],A=x.event;x=x.listeners;e:{var O=void 0;if(l)for(var q=x.length-1;0<=q;q--){var te=x[q],ye=te.instance,Te=te.currentTarget;if(te=te.listener,ye!==O&&A.isPropagationStopped())break e;O=te,A.currentTarget=Te;try{O(A)}catch($e){bd($e)}A.currentTarget=null,O=ye}else for(q=0;q<x.length;q++){if(te=x[q],ye=te.instance,Te=te.currentTarget,te=te.listener,ye!==O&&A.isPropagationStopped())break e;O=te,A.currentTarget=Te;try{O(A)}catch($e){bd($e)}A.currentTarget=null,O=ye}}}}function ur(o,l){var h=l[Ha];h===void 0&&(h=l[Ha]=new Set);var x=o+"__bubble";h.has(x)||(Q4(l,o,2,!1),h.add(x))}function Yv(o,l,h){var x=0;l&&(x|=4),Q4(h,o,x,l)}var rx="_reactListening"+Math.random().toString(36).slice(2);function Xv(o){if(!o[rx]){o[rx]=!0,ol.forEach(function(h){h!=="selectionchange"&&(JI.has(h)||Yv(h,!1,o),Yv(h,!0,o))});var l=o.nodeType===9?o:o.ownerDocument;l===null||l[rx]||(l[rx]=!0,Yv("selectionchange",!1,l))}}function Q4(o,l,h,x){switch(_3(l)){case 2:var A=CM;break;case 8:A=EM;break;default:A=d1}h=A.bind(null,l,h,o),A=void 0,!fd||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(A=!0),x?A!==void 0?o.addEventListener(l,h,{capture:!0,passive:A}):o.addEventListener(l,h,!0):A!==void 0?o.addEventListener(l,h,{passive:A}):o.addEventListener(l,h,!1)}function Qv(o,l,h,x,A){var O=x;if((l&1)===0&&(l&2)===0&&x!==null)e:for(;;){if(x===null)return;var q=x.tag;if(q===3||q===4){var te=x.stateNode.containerInfo;if(te===A)break;if(q===4)for(q=x.return;q!==null;){var ye=q.tag;if((ye===3||ye===4)&&q.stateNode.containerInfo===A)return;q=q.return}for(;te!==null;){if(q=St(te),q===null)return;if(ye=q.tag,ye===5||ye===6||ye===26||ye===27){x=O=q;continue e}te=te.parentNode}}x=x.return}Of(function(){var Te=O,$e=Zl(h),Qe=[];e:{var Re=xm.get(o);if(Re!==void 0){var Me=Ms,yt=o;switch(o){case"keypress":if(Is(h)===0)break e;case"keydown":case"keyup":Me=hr;break;case"focusin":yt="focus",Me=_o;break;case"focusout":yt="blur",Me=_o;break;case"beforeblur":case"afterblur":Me=_o;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Ao;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=Xn;break;case sc:case gd:case mm:Me=L;break;case pm:Me=pa;break;case"scroll":case"scrollend":Me=au;break;case"wheel":Me=fi;break;case"copy":case"cut":case"paste":Me=he;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Cn;break;case"toggle":case"beforetoggle":Me=md}var qt=(l&4)!==0,Wr=!qt&&(o==="scroll"||o==="scrollend"),Ce=qt?Re!==null?Re+"Capture":null:Re;qt=[];for(var Ne=Te,Le;Ne!==null;){var We=Ne;if(Le=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||Le===null||Ce===null||(We=ys(Ne,Ce),We!=null&&qt.push(Um(Ne,We,Le))),Wr)break;Ne=Ne.return}0<qt.length&&(Re=new Me(Re,yt,null,h,$e),Qe.push({event:Re,listeners:qt}))}}if((l&7)===0){e:{if(Re=o==="mouseover"||o==="pointerover",Me=o==="mouseout"||o==="pointerout",Re&&h!==vo&&(yt=h.relatedTarget||h.fromElement)&&(St(yt)||yt[sa]))break e;if((Me||Re)&&(Re=$e.window===$e?$e:(Re=$e.ownerDocument)?Re.defaultView||Re.parentWindow:window,Me?(yt=h.relatedTarget||h.toElement,Me=Te,yt=yt?St(yt):null,yt!==null&&(Wr=i(yt),qt=yt.tag,yt!==Wr||qt!==5&&qt!==27&&qt!==6)&&(yt=null)):(Me=null,yt=Te),Me!==yt)){if(qt=hd,We="onMouseLeave",Ce="onMouseEnter",Ne="mouse",(o==="pointerout"||o==="pointerover")&&(qt=Cn,We="onPointerLeave",Ce="onPointerEnter",Ne="pointer"),Wr=Me==null?Re:Di(Me),Le=yt==null?Re:Di(yt),Re=new qt(We,Ne+"leave",Me,h,$e),Re.target=Wr,Re.relatedTarget=Le,We=null,St($e)===Te&&(qt=new qt(Ce,Ne+"enter",yt,h,$e),qt.target=Le,qt.relatedTarget=Wr,We=qt),Wr=We,Me&&yt)t:{for(qt=eM,Ce=Me,Ne=yt,Le=0,We=Ce;We;We=qt(We))Le++;We=0;for(var Mt=Ne;Mt;Mt=qt(Mt))We++;for(;0<Le-We;)Ce=qt(Ce),Le--;for(;0<We-Le;)Ne=qt(Ne),We--;for(;Le--;){if(Ce===Ne||Ne!==null&&Ce===Ne.alternate){qt=Ce;break t}Ce=qt(Ce),Ne=qt(Ne)}qt=null}else qt=null;Me!==null&&Z4(Qe,Re,Me,qt,!1),yt!==null&&Wr!==null&&Z4(Qe,Wr,yt,qt,!0)}}e:{if(Re=Te?Di(Te):window,Me=Re.nodeName&&Re.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Re.type==="file")var Sr=fl;else if(pd(Re))if(ls)Sr=$i;else{Sr=En;var _t=cu}else Me=Re.nodeName,!Me||Me.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Te&&cd(Te.elementType)&&(Sr=fl):Sr=Rf;if(Sr&&(Sr=Sr(o,Te))){ws(Qe,Sr,h,$e);break e}_t&&_t(o,Re,Te),o==="focusout"&&Te&&Re.type==="number"&&Te.memoizedProps.value!=null&&id(Re,"number",Re.value)}switch(_t=Te?Di(Te):window,o){case"focusin":(pd(_t)||_t.contentEditable==="true")&&(Ns=_t,Io=Te,Ea=null);break;case"focusout":Ea=Io=Ns=null;break;case"mousedown":Bs=!0;break;case"contextmenu":case"mouseup":case"dragend":Bs=!1,wr(Qe,h,$e);break;case"selectionchange":if(ac)break;case"keydown":case"keyup":wr(Qe,h,$e)}var sr;if(zi)e:{switch(o){case"compositionstart":var fr="onCompositionStart";break e;case"compositionend":fr="onCompositionEnd";break e;case"compositionupdate":fr="onCompositionUpdate";break e}fr=void 0}else Fi?dl(o,h)&&(fr="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(fr="onCompositionStart");fr&&(ko&&h.locale!=="ko"&&(Fi||fr!=="onCompositionStart"?fr==="onCompositionEnd"&&Fi&&(sr=Pf()):(vs=$e,ec="value"in vs?vs.value:vs.textContent,Fi=!0)),_t=nx(Te,fr),0<_t.length&&(fr=new _e(fr,o,null,h,$e),Qe.push({event:fr,listeners:_t}),sr?fr.data=sr:(sr=iu(h),sr!==null&&(fr.data=sr)))),(sr=nc?Wa(o,h):Oo(o,h))&&(fr=nx(Te,"onBeforeInput"),0<fr.length&&(_t=new _e("onBeforeInput","beforeinput",null,h,$e),Qe.push({event:_t,listeners:fr}),_t.data=sr)),XI(Qe,o,Te,h,$e)}X4(Qe,l)})}function Um(o,l,h){return{instance:o,listener:l,currentTarget:h}}function nx(o,l){for(var h=l+"Capture",x=[];o!==null;){var A=o,O=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||O===null||(A=ys(o,h),A!=null&&x.unshift(Um(o,A,O)),A=ys(o,l),A!=null&&x.push(Um(o,A,O))),o.tag===3)return x;o=o.return}return[]}function eM(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function Z4(o,l,h,x,A){for(var O=l._reactName,q=[];h!==null&&h!==x;){var te=h,ye=te.alternate,Te=te.stateNode;if(te=te.tag,ye!==null&&ye===x)break;te!==5&&te!==26&&te!==27||Te===null||(ye=Te,A?(Te=ys(h,O),Te!=null&&q.unshift(Um(h,Te,ye))):A||(Te=ys(h,O),Te!=null&&q.push(Um(h,Te,ye)))),h=h.return}q.length!==0&&o.push({event:l,listeners:q})}var tM=/\r\n?/g,rM=/\u0000|\uFFFD/g;function J4(o){return(typeof o=="string"?o:""+o).replace(tM,`
`).replace(rM,"")}function e3(o,l){return l=J4(l),J4(o)===l}function Vr(o,l,h,x,A,O){switch(h){case"children":typeof x=="string"?l==="body"||l==="textarea"&&x===""||ui(o,x):(typeof x=="number"||typeof x=="bigint")&&l!=="body"&&ui(o,""+x);break;case"className":yo(o,"class",x);break;case"tabIndex":yo(o,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":yo(o,h,x);break;case"style":Cf(o,x,O);break;case"data":if(l!=="object"){yo(o,"data",x);break}case"src":case"href":if(x===""&&(l!=="a"||h!=="href")){o.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(h);break}x=os(""+x),o.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof O=="function"&&(h==="formAction"?(l!=="input"&&Vr(o,l,"name",A.name,A,null),Vr(o,l,"formEncType",A.formEncType,A,null),Vr(o,l,"formMethod",A.formMethod,A,null),Vr(o,l,"formTarget",A.formTarget,A,null)):(Vr(o,l,"encType",A.encType,A,null),Vr(o,l,"method",A.method,A,null),Vr(o,l,"target",A.target,A,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(h);break}x=os(""+x),o.setAttribute(h,x);break;case"onClick":x!=null&&(o.onclick=di);break;case"onScroll":x!=null&&ur("scroll",o);break;case"onScrollEnd":x!=null&&ur("scrollend",o);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(h=x.__html,h!=null){if(A.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"multiple":o.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":o.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){o.removeAttribute("xlink:href");break}h=os(""+x),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(h,""+x):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":x===!0?o.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(h,x):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?o.setAttribute(h,x):o.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?o.removeAttribute(h):o.setAttribute(h,x);break;case"popover":ur("beforetoggle",o),ur("toggle",o),bs(o,"popover",x);break;case"xlinkActuate":ci(o,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ci(o,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ci(o,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ci(o,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ci(o,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ci(o,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ci(o,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ci(o,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ci(o,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":bs(o,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=ud.get(h)||h,bs(o,h,x))}}function Zv(o,l,h,x,A,O){switch(h){case"style":Cf(o,x,O);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(h=x.__html,h!=null){if(A.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"children":typeof x=="string"?ui(o,x):(typeof x=="number"||typeof x=="bigint")&&ui(o,""+x);break;case"onScroll":x!=null&&ur("scroll",o);break;case"onScrollEnd":x!=null&&ur("scrollend",o);break;case"onClick":x!=null&&(o.onclick=di);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ga.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),l=h.slice(2,A?h.length-7:void 0),O=o[qr]||null,O=O!=null?O[h]:null,typeof O=="function"&&o.removeEventListener(l,O,A),typeof x=="function")){typeof O!="function"&&O!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(l,x,A);break e}h in o?o[h]=x:x===!0?o.setAttribute(h,""):bs(o,h,x)}}}function Ja(o,l,h){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ur("error",o),ur("load",o);var x=!1,A=!1,O;for(O in h)if(h.hasOwnProperty(O)){var q=h[O];if(q!=null)switch(O){case"src":x=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Vr(o,l,O,q,h,null)}}A&&Vr(o,l,"srcSet",h.srcSet,h,null),x&&Vr(o,l,"src",h.src,h,null);return;case"input":ur("invalid",o);var te=O=q=A=null,ye=null,Te=null;for(x in h)if(h.hasOwnProperty(x)){var $e=h[x];if($e!=null)switch(x){case"name":A=$e;break;case"type":q=$e;break;case"checked":ye=$e;break;case"defaultChecked":Te=$e;break;case"value":O=$e;break;case"defaultValue":te=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(n(137,l));break;default:Vr(o,l,x,$e,h,null)}}Af(o,O,te,ye,Te,q,A,!1);return;case"select":ur("invalid",o),x=q=O=null;for(A in h)if(h.hasOwnProperty(A)&&(te=h[A],te!=null))switch(A){case"value":O=te;break;case"defaultValue":q=te;break;case"multiple":x=te;default:Vr(o,l,A,te,h,null)}l=O,h=q,o.multiple=!!x,l!=null?Va(o,!!x,l,!1):h!=null&&Va(o,!!x,h,!0);return;case"textarea":ur("invalid",o),O=A=x=null;for(q in h)if(h.hasOwnProperty(q)&&(te=h[q],te!=null))switch(q){case"value":x=te;break;case"defaultValue":A=te;break;case"children":O=te;break;case"dangerouslySetInnerHTML":if(te!=null)throw Error(n(91));break;default:Vr(o,l,q,te,h,null)}ld(o,x,A,O);return;case"option":for(ye in h)h.hasOwnProperty(ye)&&(x=h[ye],x!=null)&&(ye==="selected"?o.selected=x&&typeof x!="function"&&typeof x!="symbol":Vr(o,l,ye,x,h,null));return;case"dialog":ur("beforetoggle",o),ur("toggle",o),ur("cancel",o),ur("close",o);break;case"iframe":case"object":ur("load",o);break;case"video":case"audio":for(x=0;x<Fm.length;x++)ur(Fm[x],o);break;case"image":ur("error",o),ur("load",o);break;case"details":ur("toggle",o);break;case"embed":case"source":case"link":ur("error",o),ur("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Te in h)if(h.hasOwnProperty(Te)&&(x=h[Te],x!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:Vr(o,l,Te,x,h,null)}return;default:if(cd(l)){for($e in h)h.hasOwnProperty($e)&&(x=h[$e],x!==void 0&&Zv(o,l,$e,x,h,void 0));return}}for(te in h)h.hasOwnProperty(te)&&(x=h[te],x!=null&&Vr(o,l,te,x,h,null))}function nM(o,l,h,x){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,O=null,q=null,te=null,ye=null,Te=null,$e=null;for(Me in h){var Qe=h[Me];if(h.hasOwnProperty(Me)&&Qe!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":ye=Qe;default:x.hasOwnProperty(Me)||Vr(o,l,Me,null,x,Qe)}}for(var Re in x){var Me=x[Re];if(Qe=h[Re],x.hasOwnProperty(Re)&&(Me!=null||Qe!=null))switch(Re){case"type":O=Me;break;case"name":A=Me;break;case"checked":Te=Me;break;case"defaultChecked":$e=Me;break;case"value":q=Me;break;case"defaultValue":te=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(n(137,l));break;default:Me!==Qe&&Vr(o,l,Re,Me,x,Qe)}}tu(o,q,te,ye,Te,$e,O,A);return;case"select":Me=q=te=Re=null;for(O in h)if(ye=h[O],h.hasOwnProperty(O)&&ye!=null)switch(O){case"value":break;case"multiple":Me=ye;default:x.hasOwnProperty(O)||Vr(o,l,O,null,x,ye)}for(A in x)if(O=x[A],ye=h[A],x.hasOwnProperty(A)&&(O!=null||ye!=null))switch(A){case"value":Re=O;break;case"defaultValue":te=O;break;case"multiple":q=O;default:O!==ye&&Vr(o,l,A,O,x,ye)}l=te,h=q,x=Me,Re!=null?Va(o,!!h,Re,!1):!!x!=!!h&&(l!=null?Va(o,!!h,l,!0):Va(o,!!h,h?[]:"",!1));return;case"textarea":Me=Re=null;for(te in h)if(A=h[te],h.hasOwnProperty(te)&&A!=null&&!x.hasOwnProperty(te))switch(te){case"value":break;case"children":break;default:Vr(o,l,te,null,x,A)}for(q in x)if(A=x[q],O=h[q],x.hasOwnProperty(q)&&(A!=null||O!=null))switch(q){case"value":Re=A;break;case"defaultValue":Me=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==O&&Vr(o,l,q,A,x,O)}od(o,Re,Me);return;case"option":for(var yt in h)Re=h[yt],h.hasOwnProperty(yt)&&Re!=null&&!x.hasOwnProperty(yt)&&(yt==="selected"?o.selected=!1:Vr(o,l,yt,null,x,Re));for(ye in x)Re=x[ye],Me=h[ye],x.hasOwnProperty(ye)&&Re!==Me&&(Re!=null||Me!=null)&&(ye==="selected"?o.selected=Re&&typeof Re!="function"&&typeof Re!="symbol":Vr(o,l,ye,Re,x,Me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in h)Re=h[qt],h.hasOwnProperty(qt)&&Re!=null&&!x.hasOwnProperty(qt)&&Vr(o,l,qt,null,x,Re);for(Te in x)if(Re=x[Te],Me=h[Te],x.hasOwnProperty(Te)&&Re!==Me&&(Re!=null||Me!=null))switch(Te){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,l));break;default:Vr(o,l,Te,Re,x,Me)}return;default:if(cd(l)){for(var Wr in h)Re=h[Wr],h.hasOwnProperty(Wr)&&Re!==void 0&&!x.hasOwnProperty(Wr)&&Zv(o,l,Wr,void 0,x,Re);for($e in x)Re=x[$e],Me=h[$e],!x.hasOwnProperty($e)||Re===Me||Re===void 0&&Me===void 0||Zv(o,l,$e,Re,x,Me);return}}for(var Ce in h)Re=h[Ce],h.hasOwnProperty(Ce)&&Re!=null&&!x.hasOwnProperty(Ce)&&Vr(o,l,Ce,null,x,Re);for(Qe in x)Re=x[Qe],Me=h[Qe],!x.hasOwnProperty(Qe)||Re===Me||Re==null&&Me==null||Vr(o,l,Qe,Re,x,Me)}function t3(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aM(){if(typeof performance.getEntriesByType=="function"){for(var o=0,l=0,h=performance.getEntriesByType("resource"),x=0;x<h.length;x++){var A=h[x],O=A.transferSize,q=A.initiatorType,te=A.duration;if(O&&te&&t3(q)){for(q=0,te=A.responseEnd,x+=1;x<h.length;x++){var ye=h[x],Te=ye.startTime;if(Te>te)break;var $e=ye.transferSize,Qe=ye.initiatorType;$e&&t3(Qe)&&(ye=ye.responseEnd,q+=$e*(ye<te?1:(te-Te)/(ye-Te)))}if(--x,l+=8*(O+q)/(A.duration/1e3),o++,10<o)break}}if(0<o)return l/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Jv=null,e1=null;function ax(o){return o.nodeType===9?o:o.ownerDocument}function r3(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n3(o,l){if(o===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&l==="foreignObject"?0:o}function t1(o,l){return o==="textarea"||o==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var r1=null;function sM(){var o=window.event;return o&&o.type==="popstate"?o===r1?!1:(r1=o,!0):(r1=null,!1)}var a3=typeof setTimeout=="function"?setTimeout:void 0,iM=typeof clearTimeout=="function"?clearTimeout:void 0,s3=typeof Promise=="function"?Promise:void 0,oM=typeof queueMicrotask=="function"?queueMicrotask:typeof s3<"u"?function(o){return s3.resolve(null).then(o).catch(lM)}:a3;function lM(o){setTimeout(function(){throw o})}function ku(o){return o==="head"}function i3(o,l){var h=l,x=0;do{var A=h.nextSibling;if(o.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(x===0){o.removeChild(A),hh(l);return}x--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")x++;else if(h==="html")qm(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,qm(h);for(var O=h.firstChild;O;){var q=O.nextSibling,te=O.nodeName;O[Pe]||te==="SCRIPT"||te==="STYLE"||te==="LINK"&&O.rel.toLowerCase()==="stylesheet"||h.removeChild(O),O=q}}else h==="body"&&qm(o.ownerDocument.body);h=A}while(h);hh(l)}function o3(o,l){var h=o;o=0;do{var x=h.nextSibling;if(h.nodeType===1?l?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(l?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=x}while(h)}function n1(o){var l=o.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var h=l;switch(l=l.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":n1(h),lt(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function cM(o,l,h,x){for(;o.nodeType===1;){var A=h;if(o.nodeName.toLowerCase()!==l.toLowerCase()){if(!x&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(x){if(!o[Pe])switch(l){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(O=o.getAttribute("rel"),O==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(O!==A.rel||o.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(O=o.getAttribute("src"),(O!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&O&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(l==="input"&&o.type==="hidden"){var O=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===O)return o}else return o;if(o=Xi(o.nextSibling),o===null)break}return null}function uM(o,l,h){if(l==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=Xi(o.nextSibling),o===null))return null;return o}function l3(o,l){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!l||(o=Xi(o.nextSibling),o===null))return null;return o}function a1(o){return o.data==="$?"||o.data==="$~"}function s1(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function dM(o,l){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=l;else if(o.data!=="$?"||h.readyState!=="loading")l();else{var x=function(){l(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),o._reactRetry=x}}function Xi(o){for(;o!=null;o=o.nextSibling){var l=o.nodeType;if(l===1||l===3)break;if(l===8){if(l=o.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return o}var i1=null;function c3(o){o=o.nextSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(l===0)return Xi(o.nextSibling);l--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||l++}o=o.nextSibling}return null}function u3(o){o=o.previousSibling;for(var l=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(l===0)return o;l--}else h!=="/$"&&h!=="/&"||l++}o=o.previousSibling}return null}function d3(o,l,h){switch(l=ax(h),o){case"html":if(o=l.documentElement,!o)throw Error(n(452));return o;case"head":if(o=l.head,!o)throw Error(n(453));return o;case"body":if(o=l.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function qm(o){for(var l=o.attributes;l.length;)o.removeAttributeNode(l[0]);lt(o)}var Qi=new Map,f3=new Set;function sx(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Nc=ue.d;ue.d={f:fM,r:hM,D:mM,C:pM,L:xM,m:gM,X:yM,S:bM,M:vM};function fM(){var o=Nc.f(),l=Xp();return o||l}function hM(o){var l=on(o);l!==null&&l.tag===5&&l.type==="form"?kS(l):Nc.r(o)}var uh=typeof document>"u"?null:document;function h3(o,l,h){var x=uh;if(x&&typeof l=="string"&&l){var A=In(l);A='link[rel="'+o+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),f3.has(A)||(f3.add(A),o={rel:o,crossOrigin:h,href:l},x.querySelector(A)===null&&(l=x.createElement("link"),Ja(l,"link",o),ln(l),x.head.appendChild(l)))}}function mM(o){Nc.D(o),h3("dns-prefetch",o,null)}function pM(o,l){Nc.C(o,l),h3("preconnect",o,l)}function xM(o,l,h){Nc.L(o,l,h);var x=uh;if(x&&o&&l){var A='link[rel="preload"][as="'+In(l)+'"]';l==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+In(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+In(h.imageSizes)+'"]')):A+='[href="'+In(o)+'"]';var O=A;switch(l){case"style":O=dh(o);break;case"script":O=fh(o)}Qi.has(O)||(o=p({rel:"preload",href:l==="image"&&h&&h.imageSrcSet?void 0:o,as:l},h),Qi.set(O,o),x.querySelector(A)!==null||l==="style"&&x.querySelector($m(O))||l==="script"&&x.querySelector(Hm(O))||(l=x.createElement("link"),Ja(l,"link",o),ln(l),x.head.appendChild(l)))}}function gM(o,l){Nc.m(o,l);var h=uh;if(h&&o){var x=l&&typeof l.as=="string"?l.as:"script",A='link[rel="modulepreload"][as="'+In(x)+'"][href="'+In(o)+'"]',O=A;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":O=fh(o)}if(!Qi.has(O)&&(o=p({rel:"modulepreload",href:o},l),Qi.set(O,o),h.querySelector(A)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Hm(O)))return}x=h.createElement("link"),Ja(x,"link",o),ln(x),h.head.appendChild(x)}}}function bM(o,l,h){Nc.S(o,l,h);var x=uh;if(x&&o){var A=Ds(x).hoistableStyles,O=dh(o);l=l||"default";var q=A.get(O);if(!q){var te={loading:0,preload:null};if(q=x.querySelector($m(O)))te.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":l},h),(h=Qi.get(O))&&o1(o,h);var ye=q=x.createElement("link");ln(ye),Ja(ye,"link",o),ye._p=new Promise(function(Te,$e){ye.onload=Te,ye.onerror=$e}),ye.addEventListener("load",function(){te.loading|=1}),ye.addEventListener("error",function(){te.loading|=2}),te.loading|=4,ix(q,l,x)}q={type:"stylesheet",instance:q,count:1,state:te},A.set(O,q)}}}function yM(o,l){Nc.X(o,l);var h=uh;if(h&&o){var x=Ds(h).hoistableScripts,A=fh(o),O=x.get(A);O||(O=h.querySelector(Hm(A)),O||(o=p({src:o,async:!0},l),(l=Qi.get(A))&&l1(o,l),O=h.createElement("script"),ln(O),Ja(O,"link",o),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(A,O))}}function vM(o,l){Nc.M(o,l);var h=uh;if(h&&o){var x=Ds(h).hoistableScripts,A=fh(o),O=x.get(A);O||(O=h.querySelector(Hm(A)),O||(o=p({src:o,async:!0,type:"module"},l),(l=Qi.get(A))&&l1(o,l),O=h.createElement("script"),ln(O),Ja(O,"link",o),h.head.appendChild(O)),O={type:"script",instance:O,count:1,state:null},x.set(A,O))}}function m3(o,l,h,x){var A=(A=le.current)?sx(A):null;if(!A)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(l=dh(h.href),h=Ds(A).hoistableStyles,x=h.get(l),x||(x={type:"style",instance:null,count:0,state:null},h.set(l,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=dh(h.href);var O=Ds(A).hoistableStyles,q=O.get(o);if(q||(A=A.ownerDocument||A,q={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},O.set(o,q),(O=A.querySelector($m(o)))&&!O._p&&(q.instance=O,q.state.loading=5),Qi.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Qi.set(o,h),O||wM(A,o,h,q.state))),l&&x===null)throw Error(n(528,""));return q}if(l&&x!==null)throw Error(n(529,""));return null;case"script":return l=h.async,h=h.src,typeof h=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=fh(h),h=Ds(A).hoistableScripts,x=h.get(l),x||(x={type:"script",instance:null,count:0,state:null},h.set(l,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function dh(o){return'href="'+In(o)+'"'}function $m(o){return'link[rel="stylesheet"]['+o+"]"}function p3(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function wM(o,l,h,x){o.querySelector('link[rel="preload"][as="style"]['+l+"]")?x.loading=1:(l=o.createElement("link"),x.preload=l,l.addEventListener("load",function(){return x.loading|=1}),l.addEventListener("error",function(){return x.loading|=2}),Ja(l,"link",h),ln(l),o.head.appendChild(l))}function fh(o){return'[src="'+In(o)+'"]'}function Hm(o){return"script[async]"+o}function x3(o,l,h){if(l.count++,l.instance===null)switch(l.type){case"style":var x=o.querySelector('style[data-href~="'+In(h.href)+'"]');if(x)return l.instance=x,ln(x),x;var A=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(o.ownerDocument||o).createElement("style"),ln(x),Ja(x,"style",A),ix(x,h.precedence,o),l.instance=x;case"stylesheet":A=dh(h.href);var O=o.querySelector($m(A));if(O)return l.state.loading|=4,l.instance=O,ln(O),O;x=p3(h),(A=Qi.get(A))&&o1(x,A),O=(o.ownerDocument||o).createElement("link"),ln(O);var q=O;return q._p=new Promise(function(te,ye){q.onload=te,q.onerror=ye}),Ja(O,"link",x),l.state.loading|=4,ix(O,h.precedence,o),l.instance=O;case"script":return O=fh(h.src),(A=o.querySelector(Hm(O)))?(l.instance=A,ln(A),A):(x=h,(A=Qi.get(O))&&(x=p({},h),l1(x,A)),o=o.ownerDocument||o,A=o.createElement("script"),ln(A),Ja(A,"link",x),o.head.appendChild(A),l.instance=A);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(x=l.instance,l.state.loading|=4,ix(x,h.precedence,o));return l.instance}function ix(o,l,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=x.length?x[x.length-1]:null,O=A,q=0;q<x.length;q++){var te=x[q];if(te.dataset.precedence===l)O=te;else if(O!==A)break}O?O.parentNode.insertBefore(o,O.nextSibling):(l=h.nodeType===9?h.head:h,l.insertBefore(o,l.firstChild))}function o1(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.title==null&&(o.title=l.title)}function l1(o,l){o.crossOrigin==null&&(o.crossOrigin=l.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=l.referrerPolicy),o.integrity==null&&(o.integrity=l.integrity)}var ox=null;function g3(o,l,h){if(ox===null){var x=new Map,A=ox=new Map;A.set(h,x)}else A=ox,x=A.get(h),x||(x=new Map,A.set(h,x));if(x.has(o))return x;for(x.set(o,null),h=h.getElementsByTagName(o),A=0;A<h.length;A++){var O=h[A];if(!(O[Pe]||O[jr]||o==="link"&&O.getAttribute("rel")==="stylesheet")&&O.namespaceURI!=="http://www.w3.org/2000/svg"){var q=O.getAttribute(l)||"";q=o+q;var te=x.get(q);te?te.push(O):x.set(q,[O])}}return x}function b3(o,l,h){o=o.ownerDocument||o,o.head.insertBefore(h,l==="title"?o.querySelector("head > title"):null)}function NM(o,l,h){if(h===1||l.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(o=l.disabled,typeof l.precedence=="string"&&o==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function y3(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function jM(o,l,h,x){if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=dh(x.href),O=l.querySelector($m(A));if(O){l=O._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(o.count++,o=lx.bind(o),l.then(o,o)),h.state.loading|=4,h.instance=O,ln(O);return}O=l.ownerDocument||l,x=p3(x),(A=Qi.get(A))&&o1(x,A),O=O.createElement("link"),ln(O);var q=O;q._p=new Promise(function(te,ye){q.onload=te,q.onerror=ye}),Ja(O,"link",x),h.instance=O}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,l),(l=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=lx.bind(o),l.addEventListener("load",h),l.addEventListener("error",h))}}var c1=0;function SM(o,l){return o.stylesheets&&o.count===0&&ux(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var x=setTimeout(function(){if(o.stylesheets&&ux(o,o.stylesheets),o.unsuspend){var O=o.unsuspend;o.unsuspend=null,O()}},6e4+l);0<o.imgBytes&&c1===0&&(c1=62500*aM());var A=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ux(o,o.stylesheets),o.unsuspend)){var O=o.unsuspend;o.unsuspend=null,O()}},(o.imgBytes>c1?50:800)+l);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(x),clearTimeout(A)}}:null}function lx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ux(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var cx=null;function ux(o,l){o.stylesheets=null,o.unsuspend!==null&&(o.count++,cx=new Map,l.forEach(AM,o),cx=null,lx.call(o))}function AM(o,l){if(!(l.state.loading&4)){var h=cx.get(o);if(h)var x=h.get(null);else{h=new Map,cx.set(o,h);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),O=0;O<A.length;O++){var q=A[O];(q.nodeName==="LINK"||q.getAttribute("media")!=="not all")&&(h.set(q.dataset.precedence,q),x=q)}x&&h.set(null,x)}A=l.instance,q=A.getAttribute("data-precedence"),O=h.get(q)||x,O===x&&h.set(null,A),h.set(q,A),this.count++,x=lx.bind(this),A.addEventListener("load",x),A.addEventListener("error",x),O?O.parentNode.insertBefore(A,O.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),l.state.loading|=4}}var Gm={$$typeof:E,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function _M(o,l,h,x,A,O,q,te,ye){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=as(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=as(0),this.hiddenUpdates=as(null),this.identifierPrefix=x,this.onUncaughtError=A,this.onCaughtError=O,this.onRecoverableError=q,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ye,this.incompleteTransitions=new Map}function v3(o,l,h,x,A,O,q,te,ye,Te,$e,Qe){return o=new _M(o,l,h,q,ye,Te,$e,Qe,te),l=1,O===!0&&(l|=24),O=Oa(3,null,null,l),o.current=O,O.stateNode=o,l=gu(),l.refCount++,o.pooledCache=l,l.refCount++,O.memoizedState={element:x,isDehydrated:h,cache:l},ot(O),o}function w3(o){return o?(o=ga,o):ga}function N3(o,l,h,x,A,O){A=w3(A),x.context===null?x.context=A:x.pendingContext=A,x=Ft(l),x.payload={element:h},O=O===void 0?null:O,O!==null&&(x.callback=O),h=rr(o,x,l),h!==null&&(Zs(h,o,l),Er(h,o,l))}function j3(o,l){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<l?h:l}}function u1(o,l){j3(o,l),(o=o.alternate)&&j3(o,l)}function S3(o){if(o.tag===13||o.tag===31){var l=Mo(o,67108864);l!==null&&Zs(l,o,67108864),u1(o,67108864)}}function A3(o){if(o.tag===13||o.tag===31){var l=vi();l=Ur(l);var h=Mo(o,l);h!==null&&Zs(h,o,l),u1(o,l)}}var dx=!0;function CM(o,l,h,x){var A=re.T;re.T=null;var O=ue.p;try{ue.p=2,d1(o,l,h,x)}finally{ue.p=O,re.T=A}}function EM(o,l,h,x){var A=re.T;re.T=null;var O=ue.p;try{ue.p=8,d1(o,l,h,x)}finally{ue.p=O,re.T=A}}function d1(o,l,h,x){if(dx){var A=f1(x);if(A===null)Qv(o,l,x,fx,h),C3(o,x);else if(OM(A,o,l,h,x))x.stopPropagation();else if(C3(o,x),l&4&&-1<kM.indexOf(o)){for(;A!==null;){var O=on(A);if(O!==null)switch(O.tag){case 3:if(O=O.stateNode,O.current.memoizedState.isDehydrated){var q=ht(O.pendingLanes);if(q!==0){var te=O;for(te.pendingLanes|=2,te.entangledLanes|=2;q;){var ye=1<<31-et(q);te.entanglements[1]|=ye,q&=~ye}Al(O),(Or&6)===0&&(Wp=Gt()+500,zm(0))}}break;case 31:case 13:te=Mo(O,2),te!==null&&Zs(te,O,2),Xp(),u1(O,2)}if(O=f1(x),O===null&&Qv(o,l,x,fx,h),O===A)break;A=O}A!==null&&x.stopPropagation()}else Qv(o,l,x,null,h)}}function f1(o){return o=Zl(o),h1(o)}var fx=null;function h1(o){if(fx=null,o=St(o),o!==null){var l=i(o);if(l===null)o=null;else{var h=l.tag;if(h===13){if(o=c(l),o!==null)return o;o=null}else if(h===31){if(o=u(l),o!==null)return o;o=null}else if(h===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;o=null}else l!==o&&(o=null)}}return fx=o,null}function _3(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case Ut:return 2;case ar:return 8;case Kt:case ct:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var m1=!1,Ou=null,Pu=null,Lu=null,Km=new Map,Vm=new Map,Tu=[],kM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C3(o,l){switch(o){case"focusin":case"focusout":Ou=null;break;case"dragenter":case"dragleave":Pu=null;break;case"mouseover":case"mouseout":Lu=null;break;case"pointerover":case"pointerout":Km.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vm.delete(l.pointerId)}}function Wm(o,l,h,x,A,O){return o===null||o.nativeEvent!==O?(o={blockedOn:l,domEventName:h,eventSystemFlags:x,nativeEvent:O,targetContainers:[A]},l!==null&&(l=on(l),l!==null&&S3(l)),o):(o.eventSystemFlags|=x,l=o.targetContainers,A!==null&&l.indexOf(A)===-1&&l.push(A),o)}function OM(o,l,h,x,A){switch(l){case"focusin":return Ou=Wm(Ou,o,l,h,x,A),!0;case"dragenter":return Pu=Wm(Pu,o,l,h,x,A),!0;case"mouseover":return Lu=Wm(Lu,o,l,h,x,A),!0;case"pointerover":var O=A.pointerId;return Km.set(O,Wm(Km.get(O)||null,o,l,h,x,A)),!0;case"gotpointercapture":return O=A.pointerId,Vm.set(O,Wm(Vm.get(O)||null,o,l,h,x,A)),!0}return!1}function E3(o){var l=St(o.target);if(l!==null){var h=i(l);if(h!==null){if(l=h.tag,l===13){if(l=c(h),l!==null){o.blockedOn=l,Ri(o.priority,function(){A3(h)});return}}else if(l===31){if(l=u(h),l!==null){o.blockedOn=l,Ri(o.priority,function(){A3(h)});return}}else if(l===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function hx(o){if(o.blockedOn!==null)return!1;for(var l=o.targetContainers;0<l.length;){var h=f1(o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);vo=x,h.target.dispatchEvent(x),vo=null}else return l=on(h),l!==null&&S3(l),o.blockedOn=h,!1;l.shift()}return!0}function k3(o,l,h){hx(o)&&h.delete(l)}function PM(){m1=!1,Ou!==null&&hx(Ou)&&(Ou=null),Pu!==null&&hx(Pu)&&(Pu=null),Lu!==null&&hx(Lu)&&(Lu=null),Km.forEach(k3),Vm.forEach(k3)}function mx(o,l){o.blockedOn===l&&(o.blockedOn=null,m1||(m1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,PM)))}var px=null;function O3(o){px!==o&&(px=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){px===o&&(px=null);for(var l=0;l<o.length;l+=3){var h=o[l],x=o[l+1],A=o[l+2];if(typeof x!="function"){if(h1(x||h)===null)continue;break}var O=on(h);O!==null&&(o.splice(l,3),l-=3,fv(O,{pending:!0,data:A,method:h.method,action:x},x,A))}}))}function hh(o){function l(ye){return mx(ye,o)}Ou!==null&&mx(Ou,o),Pu!==null&&mx(Pu,o),Lu!==null&&mx(Lu,o),Km.forEach(l),Vm.forEach(l);for(var h=0;h<Tu.length;h++){var x=Tu[h];x.blockedOn===o&&(x.blockedOn=null)}for(;0<Tu.length&&(h=Tu[0],h.blockedOn===null);)E3(h),h.blockedOn===null&&Tu.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var A=h[x],O=h[x+1],q=A[qr]||null;if(typeof O=="function")q||O3(h);else if(q){var te=null;if(O&&O.hasAttribute("formAction")){if(A=O,q=O[qr]||null)te=q.formAction;else if(h1(A)!==null)continue}else te=q.action;typeof te=="function"?h[x+1]=te:(h.splice(x,3),x-=3),O3(h)}}}function P3(){function o(O){O.canIntercept&&O.info==="react-transition"&&O.intercept({handler:function(){return new Promise(function(q){return A=q})},focusReset:"manual",scroll:"manual"})}function l(){A!==null&&(A(),A=null),x||setTimeout(h,20)}function h(){if(!x&&!navigation.transition){var O=navigation.currentEntry;O&&O.url!=null&&navigation.navigate(O.url,{state:O.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,A=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(h,100),function(){x=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),A!==null&&(A(),A=null)}}}function p1(o){this._internalRoot=o}xx.prototype.render=p1.prototype.render=function(o){var l=this._internalRoot;if(l===null)throw Error(n(409));var h=l.current,x=vi();N3(h,x,o,l,null,null)},xx.prototype.unmount=p1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var l=o.containerInfo;N3(o.current,2,null,o,null,null),Xp(),l[sa]=null}};function xx(o){this._internalRoot=o}xx.prototype.unstable_scheduleHydration=function(o){if(o){var l=_n();o={blockedOn:null,target:o,priority:l};for(var h=0;h<Tu.length&&l!==0&&l<Tu[h].priority;h++);Tu.splice(h,0,o),h===0&&E3(o)}};var L3=t.version;if(L3!=="19.2.3")throw Error(n(527,L3,"19.2.3"));ue.findDOMNode=function(o){var l=o._reactInternals;if(l===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=f(l),o=o!==null?m(o):null,o=o===null?null:o.stateNode,o};var LM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gx.isDisabled&&gx.supportsFiber)try{Fe=gx.inject(LM),Je=gx}catch{}}return Xm.createRoot=function(o,l){if(!s(o))throw Error(n(299));var h=!1,x="",A=zS,O=FS,q=US;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(O=l.onCaughtError),l.onRecoverableError!==void 0&&(q=l.onRecoverableError)),l=v3(o,1,!1,null,null,h,x,null,A,O,q,P3),o[sa]=l.current,Xv(o),new p1(l)},Xm.hydrateRoot=function(o,l,h){if(!s(o))throw Error(n(299));var x=!1,A="",O=zS,q=FS,te=US,ye=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(O=h.onUncaughtError),h.onCaughtError!==void 0&&(q=h.onCaughtError),h.onRecoverableError!==void 0&&(te=h.onRecoverableError),h.formState!==void 0&&(ye=h.formState)),l=v3(o,1,!0,l,h??null,x,A,ye,O,q,te,P3),l.context=w3(null),h=l.current,x=vi(),x=Ur(x),A=Ft(x),A.callback=null,rr(h,A,x),h=x,l.current.lanes=h,Ot(l,h),Al(l),o[sa]=l.current,Xv(o),new xx(l)},Xm.version="19.2.3",Xm}var q3;function $M(){if(q3)return b1.exports;q3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),b1.exports=qM(),b1.exports}var HM=$M();const GM=Kl(HM);var $3="popstate";function KM(e={}){function t(n,s){let{pathname:i,search:c,hash:u}=n.location;return Fw("",{pathname:i,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:A0(s)}return WM(t,r,null,e)}function An(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function io(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VM(){return Math.random().toString(36).substring(2,10)}function H3(e,t){return{usr:e.state,key:e.key,idx:t}}function Fw(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zh(t):t,state:r,key:t&&t.key||n||VM()}}function A0({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zh(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function WM(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,c=s.history,u="POP",d=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function p(){u="POP";let j=m(),S=j==null?null:j-f;f=j,d&&d({action:u,location:N.location,delta:S})}function g(j,S){u="PUSH";let _=Fw(N.location,j,S);f=m()+1;let E=H3(_,f),k=N.createHref(_);try{c.pushState(E,"",k)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(k)}i&&d&&d({action:u,location:N.location,delta:1})}function b(j,S){u="REPLACE";let _=Fw(N.location,j,S);f=m();let E=H3(_,f),k=N.createHref(_);c.replaceState(E,"",k),i&&d&&d({action:u,location:N.location,delta:0})}function y(j){return YM(j)}let N={get action(){return u},get location(){return e(s,c)},listen(j){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener($3,p),d=j,()=>{s.removeEventListener($3,p),d=null}},createHref(j){return t(s,j)},createURL:y,encodeLocation(j){let S=y(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:b,go(j){return c.go(j)}};return N}function YM(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),An(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:A0(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function i8(e,t,r="/"){return XM(e,t,r,!1)}function XM(e,t,r,n){let s=typeof t=="string"?Zh(t):t,i=Dc(s.pathname||"/",r);if(i==null)return null;let c=o8(e);QM(c);let u=null;for(let d=0;u==null&&d<c.length;++d){let f=l9(i);u=i9(c[d],f,n)}return u}function o8(e,t=[],r=[],n="",s=!1){let i=(c,u,d=s,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&d)return;An(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let p=Lc([n,m.relativePath]),g=r.concat(m);c.children&&c.children.length>0&&(An(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),o8(c.children,t,g,p,d)),!(c.path==null&&!c.index)&&t.push({path:p,score:a9(p,c.index),routesMeta:g})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))i(c,u);else for(let d of l8(c.path))i(c,u,!0,d)}),t}function l8(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let c=l8(n.join("/")),u=[];return u.push(...c.map(d=>d===""?i:[i,d].join("/"))),s&&u.push(...c),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function QM(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:s9(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var ZM=/^:[\w-]+$/,JM=3,e9=2,t9=1,r9=10,n9=-2,G3=e=>e==="*";function a9(e,t){let r=e.split("/"),n=r.length;return r.some(G3)&&(n+=n9),t&&(n+=e9),r.filter(s=>!G3(s)).reduce((s,i)=>s+(ZM.test(i)?JM:i===""?t9:r9),n)}function s9(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function i9(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",c=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",p=jg({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),g=d.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=jg({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(s,p.params),c.push({params:s,pathname:Lc([i,p.pathname]),pathnameBase:f9(Lc([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=Lc([i,p.pathnameBase]))}return c}function jg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=o9(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],c=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:p},g)=>{if(m==="*"){let y=u[g]||"";c=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const b=u[g];return p&&!b?f[m]=void 0:f[m]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:c,pattern:e}}function o9(e,t=!1,r=!0){io(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function l9(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return io(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Dc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}var c8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,c9=e=>c8.test(e);function u9(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Zh(e):e,i;if(r)if(c9(r))i=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),io(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${r}`)}r.startsWith("/")?i=K3(r.substring(1),"/"):i=K3(r,t)}else i=t;return{pathname:i,search:h9(n),hash:m9(s)}}function K3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function N1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d9(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function dN(e){let t=d9(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function fN(e,t,r,n=!1){let s;typeof e=="string"?s=Zh(e):(s={...e},An(!s.pathname||!s.pathname.includes("?"),N1("?","pathname","search",s)),An(!s.pathname||!s.pathname.includes("#"),N1("#","pathname","hash",s)),An(!s.search||!s.search.includes("#"),N1("#","search","hash",s)));let i=e===""||s.pathname==="",c=i?"/":s.pathname,u;if(c==null)u=r;else{let p=t.length-1;if(!n&&c.startsWith("..")){let g=c.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}u=p>=0?t[p]:"/"}let d=u9(s,u),f=c&&c!=="/"&&c.endsWith("/"),m=(i||c===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Lc=e=>e.join("/").replace(/\/\/+/g,"/"),f9=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),h9=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m9=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,p9=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function x9(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function g9(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var u8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function d8(e,t){let r=e;if(typeof r!="string"||!c8.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,s=!1;if(u8)try{let i=new URL(window.location.href),c=r.startsWith("//")?new URL(i.protocol+r):new URL(r),u=Dc(c.pathname,t);c.origin===i.origin&&u!=null?r=u+c.search+c.hash:s=!0}catch{io(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:s,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var f8=["POST","PUT","PATCH","DELETE"];new Set(f8);var b9=["GET",...f8];new Set(b9);var Jh=v.createContext(null);Jh.displayName="DataRouter";var Vb=v.createContext(null);Vb.displayName="DataRouterState";var y9=v.createContext(!1),h8=v.createContext({isTransitioning:!1});h8.displayName="ViewTransition";var v9=v.createContext(new Map);v9.displayName="Fetchers";var w9=v.createContext(null);w9.displayName="Await";var Ti=v.createContext(null);Ti.displayName="Navigation";var W0=v.createContext(null);W0.displayName="Location";var el=v.createContext({outlet:null,matches:[],isDataRoute:!1});el.displayName="Route";var hN=v.createContext(null);hN.displayName="RouteError";var m8="REACT_ROUTER_ERROR",N9="REDIRECT",j9="ROUTE_ERROR_RESPONSE";function S9(e){if(e.startsWith(`${m8}:${N9}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function A9(e){if(e.startsWith(`${m8}:${j9}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new p9(t.status,t.statusText,t.data)}catch{}}function _9(e,{relative:t}={}){An(em(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(Ti),{hash:s,pathname:i,search:c}=Y0(e,{relative:t}),u=i;return r!=="/"&&(u=i==="/"?r:Lc([r,i])),n.createHref({pathname:u,search:c,hash:s})}function em(){return v.useContext(W0)!=null}function Hc(){return An(em(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(W0).location}var p8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x8(e){v.useContext(Ti).static||v.useLayoutEffect(e)}function Vl(){let{isDataRoute:e}=v.useContext(el);return e?U9():C9()}function C9(){An(em(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Jh),{basename:t,navigator:r}=v.useContext(Ti),{matches:n}=v.useContext(el),{pathname:s}=Hc(),i=JSON.stringify(dN(n)),c=v.useRef(!1);return x8(()=>{c.current=!0}),v.useCallback((d,f={})=>{if(io(c.current,p8),!c.current)return;if(typeof d=="number"){r.go(d);return}let m=fN(d,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Lc([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,i,s,e])}var E9=v.createContext(null);function k9(e){let t=v.useContext(el).outlet;return v.useMemo(()=>t&&v.createElement(E9.Provider,{value:e},t),[t,e])}function Y0(e,{relative:t}={}){let{matches:r}=v.useContext(el),{pathname:n}=Hc(),s=JSON.stringify(dN(r));return v.useMemo(()=>fN(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function O9(e,t){return g8(e,t)}function g8(e,t,r,n,s){An(em(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=v.useContext(Ti),{matches:c}=v.useContext(el),u=c[c.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",p=u&&u.route;{let _=p&&p.path||"";y8(f,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=Hc(),b;if(t){let _=typeof t=="string"?Zh(t):t;An(m==="/"||_.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=g;let y=b.pathname||"/",N=y;if(m!=="/"){let _=m.replace(/^\//,"").split("/");N="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=i8(e,{pathname:N});io(p||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),io(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=D9(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:Lc([m,i.encodeLocation?i.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:Lc([m,i.encodeLocation?i.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),c,r,n,s);return t&&S?v.createElement(W0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function P9(){let e=F9(),t=x9(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,c)}var L9=v.createElement(P9,null),b8=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=A9(e.digest);r&&(e=r)}let t=e!==void 0?v.createElement(el.Provider,{value:this.props.routeContext},v.createElement(hN.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(T9,{error:e},t):t}};b8.contextType=y9;var j1=new WeakMap;function T9({children:e,error:t}){let{basename:r}=v.useContext(Ti);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let n=S9(t.digest);if(n){let s=j1.get(t);if(s)throw s;let i=d8(n.location,r);if(u8&&!j1.get(t))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw j1.set(t,c),c}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function R9({routeContext:e,match:t,children:r}){let n=v.useContext(Jh);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(el.Provider,{value:e},r)}function D9(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,c=r?.errors;if(c!=null){let m=i.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);An(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let u=!1,d=-1;if(r)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=m),p.route.id){let{loaderData:g,errors:b}=r,y=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||y){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let f=r&&n?(m,p)=>{n(m,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:g9(r.matches),errorInfo:p})}:void 0;return i.reduceRight((m,p,g)=>{let b,y=!1,N=null,j=null;r&&(b=c&&p.route.id?c[p.route.id]:void 0,N=p.route.errorElement||L9,u&&(d<0&&g===0?(y8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):d===g&&(y=!0,j=p.route.hydrateFallbackElement||null)));let S=t.concat(i.slice(0,g+1)),_=()=>{let E;return b?E=N:y?E=j:p.route.Component?E=v.createElement(p.route.Component,null):p.route.element?E=p.route.element:E=m,v.createElement(R9,{match:p,routeContext:{outlet:m,matches:S,isDataRoute:r!=null},children:E})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?v.createElement(b8,{location:r.location,revalidation:r.revalidation,component:N,error:b,children:_(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:f}):_()},null)}function mN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I9(e){let t=v.useContext(Jh);return An(t,mN(e)),t}function M9(e){let t=v.useContext(Vb);return An(t,mN(e)),t}function B9(e){let t=v.useContext(el);return An(t,mN(e)),t}function pN(e){let t=B9(e),r=t.matches[t.matches.length-1];return An(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function z9(){return pN("useRouteId")}function F9(){let e=v.useContext(hN),t=M9("useRouteError"),r=pN("useRouteError");return e!==void 0?e:t.errors?.[r]}function U9(){let{router:e}=I9("useNavigate"),t=pN("useNavigate"),r=v.useRef(!1);return x8(()=>{r.current=!0}),v.useCallback(async(s,i={})=>{io(r.current,p8),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var V3={};function y8(e,t,r){!t&&!V3[e]&&(V3[e]=!0,io(!1,r))}v.memo(q9);function q9({routes:e,future:t,state:r,onError:n}){return g8(e,void 0,r,n,t)}function Sg({to:e,replace:t,state:r,relative:n}){An(em(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(Ti);io(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(el),{pathname:c}=Hc(),u=Vl(),d=fN(e,dN(i),c,n==="path"),f=JSON.stringify(d);return v.useEffect(()=>{u(JSON.parse(f),{replace:t,state:r,relative:n})},[u,f,n,t,r]),null}function $9(e){return k9(e.context)}function Ir(e){An(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H9({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1,unstable_useTransitions:c}){An(!em(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:u,navigator:s,static:i,unstable_useTransitions:c,future:{}}),[u,s,i,c]);typeof r=="string"&&(r=Zh(r));let{pathname:f="/",search:m="",hash:p="",state:g=null,key:b="default"}=r,y=v.useMemo(()=>{let N=Dc(f,u);return N==null?null:{location:{pathname:N,search:m,hash:p,state:g,key:b},navigationType:n}},[u,f,m,p,g,b,n]);return io(y!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:v.createElement(Ti.Provider,{value:d},v.createElement(W0.Provider,{children:t,value:y}))}function v8({children:e,location:t}){return O9(Uw(e),t)}function Uw(e,t=[]){let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let i=[...t,s];if(n.type===v.Fragment){r.push.apply(r,Uw(n.props.children,i));return}An(n.type===Ir,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),An(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=Uw(n.props.children,i)),r.push(c)}),r}var tg="get",rg="application/x-www-form-urlencoded";function Wb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function G9(e){return Wb(e)&&e.tagName.toLowerCase()==="button"}function K9(e){return Wb(e)&&e.tagName.toLowerCase()==="form"}function V9(e){return Wb(e)&&e.tagName.toLowerCase()==="input"}function W9(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Y9(e,t){return e.button===0&&(!t||t==="_self")&&!W9(e)}var bx=null;function X9(){if(bx===null)try{new FormData(document.createElement("form"),0),bx=!1}catch{bx=!0}return bx}var Q9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function S1(e){return e!=null&&!Q9.has(e)?(io(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rg}"`),null):e}function Z9(e,t){let r,n,s,i,c;if(K9(e)){let u=e.getAttribute("action");n=u?Dc(u,t):null,r=e.getAttribute("method")||tg,s=S1(e.getAttribute("enctype"))||rg,i=new FormData(e)}else if(G9(e)||V9(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?Dc(d,t):null,r=e.getAttribute("formmethod")||u.getAttribute("method")||tg,s=S1(e.getAttribute("formenctype"))||S1(u.getAttribute("enctype"))||rg,i=new FormData(u,e),!X9()){let{name:f,type:m,value:p}=e;if(m==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,p)}}else{if(Wb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=tg,n=null,s=rg,c=e}return i&&s==="text/plain"&&(c=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function J9(e,t,r,n){let s=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${n}`:s.pathname=`${s.pathname}.${n}`:s.pathname==="/"?s.pathname=`_root.${n}`:t&&Dc(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function eB(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function rB(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let c=await eB(i,r);return c.links?c.links():[]}return[]}));return iB(n.flat(1).filter(tB).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function W3(e,t,r,n,s,i){let c=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,u=(d,f)=>r[f].pathname!==d.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,f)=>c(d,f)||u(d,f)):i==="data"?t.filter((d,f)=>{let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function nB(e,t,{includeHydrateFallback:r}={}){return aB(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function aB(e){return[...new Set(e)]}function sB(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function iB(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(sB(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function w8(){let e=v.useContext(Jh);return xN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function oB(){let e=v.useContext(Vb);return xN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gN=v.createContext(void 0);gN.displayName="FrameworkContext";function N8(){let e=v.useContext(gN);return xN(e,"You must render this element inside a <HydratedRouter> element"),e}function lB(e,t){let r=v.useContext(gN),[n,s]=v.useState(!1),[i,c]=v.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let N=S=>{S.forEach(_=>{c(_.isIntersecting)})},j=new IntersectionObserver(N,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[e]),v.useEffect(()=>{if(n){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[n]);let b=()=>{s(!0)},y=()=>{s(!1),c(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Qm(u,b),onBlur:Qm(d,y),onMouseEnter:Qm(f,b),onMouseLeave:Qm(m,y),onTouchStart:Qm(p,b)}]:[!1,g,{}]}function Qm(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function cB({page:e,...t}){let{router:r}=w8(),n=v.useMemo(()=>i8(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(dB,{page:e,matches:n,...t}):null}function uB(e){let{manifest:t,routeModules:r}=N8(),[n,s]=v.useState([]);return v.useEffect(()=>{let i=!1;return rB(e,t,r).then(c=>{i||s(c)}),()=>{i=!0}},[e,t,r]),n}function dB({page:e,matches:t,...r}){let n=Hc(),{future:s,manifest:i,routeModules:c}=N8(),{basename:u}=w8(),{loaderData:d,matches:f}=oB(),m=v.useMemo(()=>W3(e,t,f,i,n,"data"),[e,t,f,i,n]),p=v.useMemo(()=>W3(e,t,f,i,n,"assets"),[e,t,f,i,n]),g=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let N=new Set,j=!1;if(t.forEach(_=>{let E=i.routes[_.route.id];!E||!E.hasLoader||(!m.some(k=>k.route.id===_.route.id)&&_.route.id in d&&c[_.route.id]?.shouldRevalidate||E.hasClientLoader?j=!0:N.add(_.route.id))}),N.size===0)return[];let S=J9(e,u,s.unstable_trailingSlashAwareDataRequests,"data");return j&&N.size>0&&S.searchParams.set("_routes",t.filter(_=>N.has(_.route.id)).map(_=>_.route.id).join(",")),[S.pathname+S.search]},[u,s.unstable_trailingSlashAwareDataRequests,d,n,i,m,t,e,c]),b=v.useMemo(()=>nB(p,i),[p,i]),y=uB(p);return v.createElement(v.Fragment,null,g.map(N=>v.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...r})),b.map(N=>v.createElement("link",{key:N,rel:"modulepreload",href:N,...r})),y.map(({key:N,link:j})=>v.createElement("link",{key:N,nonce:r.nonce,...j})))}function fB(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var hB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hB&&(window.__reactRouterVersion="7.12.0")}catch{}function mB({basename:e,children:t,unstable_useTransitions:r,window:n}){let s=v.useRef();s.current==null&&(s.current=KM({window:n,v5Compat:!0}));let i=s.current,[c,u]=v.useState({action:i.action,location:i.location}),d=v.useCallback(f=>{r===!1?u(f):v.startTransition(()=>u(f))},[r]);return v.useLayoutEffect(()=>i.listen(d),[i,d]),v.createElement(H9,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:i,unstable_useTransitions:r})}var j8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yb=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:c,state:u,target:d,to:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},y){let{basename:N,unstable_useTransitions:j}=v.useContext(Ti),S=typeof f=="string"&&j8.test(f),_=d8(f,N);f=_.to;let E=_9(f,{relative:s}),[k,T,D]=lB(n,b),M=gB(f,{replace:c,state:u,target:d,preventScrollReset:m,relative:s,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:j});function R(K){t&&t(K),K.defaultPrevented||M(K)}let B=v.createElement("a",{...b,...D,href:_.absoluteURL||E,onClick:_.isExternal||i?t:R,ref:fB(y,T),target:d,"data-discover":!S&&r==="render"?"true":void 0});return k&&!S?v.createElement(v.Fragment,null,B,v.createElement(cB,{page:E})):B});Yb.displayName="Link";var bN=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:c,viewTransition:u,children:d,...f},m){let p=Y0(c,{relative:f.relative}),g=Hc(),b=v.useContext(Vb),{navigator:y,basename:N}=v.useContext(Ti),j=b!=null&&NB(p)&&u===!0,S=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,_=g.pathname,E=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(_=_.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&N&&(E=Dc(E,N)||E);const k=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let T=_===S||!s&&_.startsWith(S)&&_.charAt(k)==="/",D=E!=null&&(E===S||!s&&E.startsWith(S)&&E.charAt(S.length)==="/"),M={isActive:T,isPending:D,isTransitioning:j},R=T?t:void 0,B;typeof n=="function"?B=n(M):B=[n,T?"active":null,D?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let K=typeof i=="function"?i(M):i;return v.createElement(Yb,{...f,"aria-current":R,className:B,ref:m,style:K,to:c,viewTransition:u},typeof d=="function"?d(M):d)});bN.displayName="NavLink";var pB=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:c=tg,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},y)=>{let{unstable_useTransitions:N}=v.useContext(Ti),j=vB(),S=wB(u,{relative:f}),_=c.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&j8.test(u),k=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,M=D?.getAttribute("formmethod")||c,R=()=>j(D||T.currentTarget,{fetcherKey:t,method:M,navigate:r,replace:s,state:i,relative:f,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:g});N&&r!==!1?v.startTransition(()=>R()):R()};return v.createElement("form",{ref:y,method:_,action:S,onSubmit:n?d:k,...b,"data-discover":!E&&e==="render"?"true":void 0})});pB.displayName="Form";function xB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S8(e){let t=v.useContext(Jh);return An(t,xB(e)),t}function gB(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=Vl(),m=Hc(),p=Y0(e,{relative:i});return v.useCallback(g=>{if(Y9(g,t)){g.preventDefault();let b=r!==void 0?r:A0(m)===A0(p),y=()=>f(e,{replace:b,state:n,preventScrollReset:s,relative:i,viewTransition:c,unstable_defaultShouldRevalidate:u});d?v.startTransition(()=>y()):y()}},[m,f,p,r,n,t,e,s,i,c,u,d])}var bB=0,yB=()=>`__${String(++bB)}__`;function vB(){let{router:e}=S8("useSubmit"),{basename:t}=v.useContext(Ti),r=z9(),n=e.fetch,s=e.navigate;return v.useCallback(async(i,c={})=>{let{action:u,method:d,encType:f,formData:m,body:p}=Z9(i,t);if(c.navigate===!1){let g=c.fetcherKey||yB();await n(g,r,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||d,formEncType:c.encType||f,flushSync:c.flushSync})}else await s(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:p,formMethod:c.method||d,formEncType:c.encType||f,replace:c.replace,state:c.state,fromRouteId:r,flushSync:c.flushSync,viewTransition:c.viewTransition})},[n,s,t,r])}function wB(e,{relative:t}={}){let{basename:r}=v.useContext(Ti),n=v.useContext(el);An(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Y0(e||".",{relative:t})},c=Hc();if(e==null){i.search=c.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(p=>p).forEach(p=>u.append("index",p));let m=u.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Lc([r,i.pathname])),A0(i)}function NB(e,{relative:t}={}){let r=v.useContext(h8);An(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=S8("useViewTransitionState"),s=Y0(e,{relative:t});if(!r.isTransitioning)return!1;let i=Dc(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Dc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return jg(s.pathname,c)!=null||jg(s.pathname,i)!=null}var Vu=s8();const A8=v.createContext(),jB=()=>{const e=v.useContext(A8);if(!e)throw new Error("useGlobalNotification must be used within GlobalNotificationProvider");return e},SB=({children:e})=>{const[t,r]=v.useState([]),[n,s]=v.useState({isOpen:!1,title:"",message:"",onConfirm:null,type:"danger",confirmText:"Confirm",cancelText:"Cancel"}),[i,c]=v.useState({isOpen:!1,title:"",message:"",onConfirm:null,placeholder:"",confirmText:"Submit",cancelText:"Cancel"}),u=v.useCallback((S,_="info",E=4e3)=>{const k=Date.now()+Math.random(),T={id:k,message:S,type:_,duration:E};r(D=>[...D,T]),E>0&&setTimeout(()=>{d(k)},E)},[]),d=v.useCallback(S=>{r(_=>_.filter(E=>E.id!==S))},[]),f=v.useCallback((S,_=4e3)=>{u(S,"success",_)},[u]),m=v.useCallback((S,_=5e3)=>{u(S,"error",_)},[u]),p=v.useCallback((S,_=4e3)=>{u(S,"warning",_)},[u]),g=v.useCallback((S,_=4e3)=>{u(S,"info",_)},[u]),b=v.useCallback((S,_,E="danger",k="Confirm",T="Cancel")=>new Promise(D=>{s({isOpen:!0,title:S,message:_,type:E,confirmText:k,cancelText:T,onConfirm:()=>D(!0)})}),[]),y=v.useCallback((S,_,E="",k="Submit",T="Cancel")=>new Promise(D=>{c({isOpen:!0,title:S,message:_,placeholder:E,confirmText:k,cancelText:T,onConfirm:M=>D(M)})}),[]),N=v.useCallback(()=>{s({isOpen:!1,title:"",message:"",onConfirm:null,type:"danger",confirmText:"Confirm",cancelText:"Cancel"})},[]),j=v.useCallback(()=>{c({isOpen:!1,title:"",message:"",onConfirm:null,placeholder:"",confirmText:"Submit",cancelText:"Cancel"})},[]);return a.jsx(A8.Provider,{value:{notifications:t,showNotification:u,removeNotification:d,success:f,error:m,warning:p,info:g,confirm:b,prompt:y,confirmDialog:n,promptDialog:i,closeConfirmDialog:N,closePromptDialog:j},children:e})};const AB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_B=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Y3=e=>{const t=_B(e);return t.charAt(0).toUpperCase()+t.slice(1)},_8=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),CB=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var EB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kB=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:c,...u},d)=>v.createElement("svg",{ref:d,...EB,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:_8("lucide",s),...!i&&!CB(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,m])=>v.createElement(f,m)),...Array.isArray(i)?i:[i]]));const Ye=(e,t)=>{const r=v.forwardRef(({className:n,...s},i)=>v.createElement(kB,{ref:i,iconNode:t,className:_8(`lucide-${AB(Y3(e))}`,`lucide-${e}`,n),...s}));return r.displayName=Y3(e),r};const OB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Tc=Ye("activity",OB);const PB=[["path",{d:"M12 6v16",key:"nqf5sj"}],["path",{d:"m19 13 2-1a9 9 0 0 1-18 0l2 1",key:"y7qv08"}],["path",{d:"M9 11h6",key:"1fldmi"}],["circle",{cx:"12",cy:"4",r:"2",key:"muu5ef"}]],Ag=Ye("anchor",PB);const LB=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Tl=Ye("archive",LB);const TB=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],X0=Ye("arrow-down-left",TB);const RB=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Zd=Ye("arrow-down-right",RB);const DB=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],IB=Ye("arrow-down",DB);const MB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_g=Ye("arrow-left",MB);const BB=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],X3=Ye("arrow-right-left",BB);const zB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Q0=Ye("arrow-right",zB);const FB=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Gc=Ye("arrow-up-right",FB);const UB=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],qB=Ye("arrow-up",UB);const $B=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Q3=Ye("award",$B);const HB=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yx=Ye("ban",HB);const GB=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],ei=Ye("banknote",GB);const KB=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bh=Ye("bell",KB);const VB=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],WB=Ye("book-open",VB);const YB=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],b0=Ye("box",YB);const XB=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Cg=Ye("briefcase",XB);const QB=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Xb=Ye("building-2",QB);const ZB=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],yN=Ye("building",ZB);const JB=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],C8=Ye("calculator",JB);const ez=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kc=Ye("calendar",ez);const tz=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Eg=Ye("camera",tz);const rz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Jd=Ye("chart-column",rz);const nz=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],az=Ye("chart-no-axes-column",nz);const sz=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],iz=Ye("chart-pie",sz);const oz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kg=Ye("check",oz);const lz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rl=Ye("chevron-down",lz);const cz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],y0=Ye("chevron-right",cz);const uz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],E8=Ye("chevron-up",uz);const dz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Cs=Ye("circle-alert",dz);const fz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xr=Ye("circle-check-big",fz);const hz=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mz=Ye("circle-user-round",hz);const pz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Hd=Ye("circle-x",pz);const xz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ks=Ye("clock",xz);const gz=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Og=Ye("coffee",gz);const bz=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],yz=Ye("construction",bz);const vz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],wz=Ye("copy",vz);const Nz=[["path",{d:"M20 20v-7a4 4 0 0 0-4-4H4",key:"1nkjon"}],["path",{d:"M9 14 4 9l5-5",key:"102s5s"}]],k8=Ye("corner-up-left",Nz);const jz=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Wl=Ye("credit-card",jz);const Sz=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],qw=Ye("crown",Sz);const Az=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],_z=Ye("disc",Az);const Cz=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Ei=Ye("dollar-sign",Cz);const Ez=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Yl=Ye("download",Ez);const kz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Qb=Ye("ellipsis-vertical",kz);const Oz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zb=Ye("eye",Oz);const Pz=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xo=Ye("file-text",Pz);const Lz=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Tz=Ye("folder-plus",Lz);const Rz=[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]],Dz=Ye("folder-tree",Rz);const Iz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],vN=Ye("funnel",Iz);const Mz=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],zh=Ye("gift",Mz);const Bz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Pg=Ye("globe",Bz);const zz=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],Fz=Ye("hand",zz);const Uz=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Lg=Ye("headphones",Uz);const qz=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Tg=Ye("heart",qz);const $z=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Fh=Ye("history",$z);const Hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Z0=Ye("info",Hz);const Gz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Rg=Ye("key",Gz);const Kz=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Dg=Ye("layers",Kz);const Vz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wN=Ye("layout-dashboard",Vz);const Wz=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],O8=Ye("layout-grid",Wz);const Yz=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],Xz=Ye("list-filter",Yz);const Qz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_r=Ye("loader-circle",Qz);const Zz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Jb=Ye("lock",Zz);const Jz=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Z3=Ye("log-in",Jz);const eF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ef=Ye("log-out",eF);const tF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],NN=Ye("mail",tF);const rF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$w=Ye("map-pin",rF);const nF=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Ig=Ye("map",nF);const aF=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],jN=Ye("monitor",aF);const sF=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Mg=Ye("moon",sF);const iF=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Bg=Ye("music",iF);const oF=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ln=Ye("package",oF);const lF=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],cF=Ye("pen-tool",lF);const uF=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],P8=Ye("pen",uF);const dF=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Uh=Ye("percent",dF);const fF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],zg=Ye("phone",fF);const hF=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],mF=Ye("piggy-bank",hF);const pF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Oi=Ye("plus",pF);const xF=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],_0=Ye("power",xF);const gF=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],tf=Ye("printer",gF);const bF=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ey=Ye("qr-code",bF);const yF=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Fl=Ye("receipt",yF);const vF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Sa=Ye("refresh-cw",vF);const wF=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],NF=Ye("rocket",wF);const jF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],C0=Ye("rotate-ccw",jF);const SF=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],AF=Ye("rotate-cw",SF);const _F=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],SN=Ye("save",_F);const CF=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]],EF=Ye("scan-barcode",CF);const kF=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],OF=Ye("scan-line",kF);const PF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Aa=Ye("search",PF);const LF=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],AN=Ye("send",LF);const TF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tm=Ye("shield-check",TF);const RF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fg=Ye("shield",RF);const DF=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Ug=Ye("shirt",DF);const IF=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],qh=Ye("shopping-bag",IF);const MF=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],oo=Ye("shopping-cart",MF);const BF=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],qg=Ye("smartphone",BF);const zF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],lo=Ye("square-pen",zF);const FF=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rf=Ye("star",FF);const UF=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],_N=Ye("store",UF);const qF=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$g=Ye("sun",qF);const $F=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ji=Ye("tag",$F);const HF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],L8=Ye("target",HF);const GF=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ni=Ye("trash-2",GF);const KF=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],CN=Ye("trending-down",KF);const VF=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],co=Ye("trending-up",VF);const WF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ra=Ye("triangle-alert",WF);const YF=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],XF=Ye("user-check",YF);const QF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],EN=Ye("user-plus",QF);const ZF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],uo=Ye("user",ZF);const JF=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nf=Ye("users",JF);const eU=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Hg=Ye("utensils",eU);const tU=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],rU=Ye("wallet",tU);const nU=[["path",{d:"M12 10v2.2l1.6 1",key:"n3r21l"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}]],Gg=Ye("watch",nU);const aU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qt=Ye("x",aU);const sU=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],E0=Ye("zap",sU),iU=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:i="Confirm",cancelText:c="Cancel",type:u="danger"})=>{if(!e)return null;const d={danger:{icon:"text-red-600",iconBg:"bg-red-100",button:"bg-red-600 hover:bg-red-700"},warning:{icon:"text-yellow-600",iconBg:"bg-yellow-100",button:"bg-yellow-600 hover:bg-yellow-700"},info:{icon:"text-blue-600",iconBg:"bg-blue-100",button:"bg-blue-600 hover:bg-blue-700"}},f=d[u]||d.danger;return a.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 animate-in fade-in duration-200",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-start gap-4 p-6 pb-4",children:[a.jsx("div",{className:`${f.iconBg} p-3 rounded-full flex-shrink-0`,children:a.jsx(ra,{className:f.icon,size:24,strokeWidth:2.5})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:n}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0",children:a.jsx(Qt,{size:20})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-gray-50 rounded-b-xl",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:c}),a.jsx("button",{onClick:()=>{r(),t()},className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors ${f.button}`,children:i})]})]})]})},oU=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,placeholder:i="",confirmText:c="Submit",cancelText:u="Cancel"})=>{const[d,f]=Ju.useState("");if(!e)return null;const m=()=>{d.trim()&&(r(d),t(),f(""))};return a.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 animate-in fade-in duration-200",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Qt,{size:20})})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s}),a.jsx("input",{type:"text",value:d,onChange:p=>f(p.target.value),onKeyDown:p=>p.key==="Enter"&&m(),placeholder:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",autoFocus:!0})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-gray-50 rounded-b-xl",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:u}),a.jsx("button",{onClick:m,disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c})]})]})]})},lU=()=>{const{notifications:e,removeNotification:t,confirmDialog:r,promptDialog:n,closeConfirmDialog:s,closePromptDialog:i}=jB(),c=u=>{switch(u){case"success":return{container:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",icon:"text-green-600",text:"text-green-800",progress:"bg-green-500",IconComponent:Xr};case"error":return{container:"bg-gradient-to-r from-red-50 to-rose-50 border-red-200",icon:"text-red-600",text:"text-red-800",progress:"bg-red-500",IconComponent:Hd};case"warning":return{container:"bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-200",icon:"text-yellow-600",text:"text-yellow-800",progress:"bg-yellow-500",IconComponent:ra};default:return{container:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",icon:"text-blue-600",text:"text-blue-800",progress:"bg-blue-500",IconComponent:Z0}}};return a.jsxs(a.Fragment,{children:[e.length>0&&a.jsx("div",{className:"fixed top-20 right-6 z-[9999] flex flex-col gap-3 pointer-events-none",children:e.map(u=>{const d=c(u.type),f=d.IconComponent;return a.jsxs("div",{className:`${d.container} pointer-events-auto min-w-[320px] max-w-md border-l-4 rounded-lg shadow-lg backdrop-blur-sm animate-in slide-in-from-right-5 fade-in duration-300`,children:[a.jsxs("div",{className:"p-4 flex items-start gap-3",children:[a.jsx("div",{className:`${d.icon} flex-shrink-0 mt-0.5`,children:a.jsx(f,{size:20,strokeWidth:2.5})}),a.jsx("div",{className:`flex-1 ${d.text} text-sm font-medium leading-relaxed`,children:u.message}),a.jsx("button",{onClick:()=>t(u.id),className:`${d.icon} hover:opacity-70 transition-opacity flex-shrink-0`,children:a.jsx(Qt,{size:16})})]}),u.duration>0&&a.jsx("div",{className:"h-1 bg-white/30 rounded-b-lg overflow-hidden",children:a.jsx("div",{className:`h-full ${d.progress} animate-shrink-width`,style:{animation:`shrinkWidth ${u.duration}ms linear forwards`}})})]},u.id)})}),a.jsx(iU,{isOpen:r.isOpen,onClose:s,onConfirm:r.onConfirm||(()=>{}),title:r.title,message:r.message,type:r.type,confirmText:r.confirmText,cancelText:r.cancelText}),a.jsx(oU,{isOpen:n.isOpen,onClose:i,onConfirm:n.onConfirm||(()=>{}),title:n.title,message:n.message,placeholder:n.placeholder,confirmText:n.confirmText,cancelText:n.cancelText}),a.jsx("style",{jsx:!0,children:`
                @keyframes shrinkWidth {
                    from {
                        width: 100%;
                    }
                    to {
                        width: 0%;
                    }
                }
                .animate-shrink-width {
                    animation: shrinkWidth linear forwards;
                }
            `})]})},T8="/assets/registration-bg-Ch9zxLMz.png",A1="http://localhost:8080/api/v1",Gd={getBranches:async()=>{try{const e=await fetch(`${A1}/auth/branches`);if(!e.ok)throw new Error("Failed to fetch branch list");return await e.json()}catch(e){throw console.error("API Error:",e),e}},registerUser:async e=>{try{const t=await fetch(`${A1}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"Registration failed");return r}catch(t){throw console.error("API Error:",t),t}},login:async e=>{try{const t=await fetch(`${A1}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"Login failed");return r}catch(t){throw console.error("API Error:",t),t}}},J3=({children:e})=>a.jsxs("div",{className:"relative min-h-screen flex items-center justify-center p-4 font-sans overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("img",{src:T8,alt:"Background",className:"w-full h-full object-cover blur-sm scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-brand-deep/80 mix-blend-multiply"})]}),a.jsx("div",{className:"relative z-10 w-full flex justify-center",children:e})]});function cU(){const e=Vl(),t=Hc(),[r,n]=v.useState(t.state?.registrationSuccess||!1),[s,i]=v.useState(!1),[c,u]=v.useState(""),[d,f]=v.useState({username:"",password:""}),{username:m,password:p}=d,g=y=>{f(N=>({...N,[y.target.name]:y.target.value})),c&&u("")},b=async y=>{y.preventDefault(),i(!0),u("");try{const N=await Gd.login(d);if(N.token){localStorage.setItem("token",N.token),localStorage.setItem("user",JSON.stringify(N));const j=(N.role||N.userRole||"").toUpperCase();switch(console.log("Login successful. Role:",j),j){case"ADMIN":e("/admin");break;case"BRANCH_MANAGER":e("/manager");break;case"STORE_KEEPER":e("/inventory");break;default:e("/pos");break}}else u("Login failed: No token received.")}catch(N){console.error(N),u(N.message||"Invalid credentials")}finally{i(!1)}};return r?a.jsx(J3,{children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl p-10 text-center animate-in fade-in zoom-in duration-300 relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-brand to-emerald-400"}),a.jsxs("div",{className:"mb-8 relative",children:[a.jsx("div",{className:"w-24 h-24 bg-emerald-50 rounded-full flex items-center justify-center mx-auto relative z-10",children:a.jsx(Xr,{className:"w-12 h-12 text-emerald-500"})}),a.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-24 h-24 bg-emerald-100 rounded-full animate-ping opacity-25"})]}),a.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-3",children:"Registration Successful!"}),a.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-xl p-4 mb-8",children:[a.jsxs("p",{className:"text-slate-600 leading-relaxed",children:["Your account has been created and is currently",a.jsx("span",{className:"inline-block px-2 py-0.5 mx-1.5 bg-orange-100 text-orange-600 font-bold rounded text-sm border border-orange-200",children:"Pending Approval"})]}),a.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Please contact your branch manager or system administrator to activate your access."})]}),a.jsxs("button",{onClick:()=>{n(!1),e(t.pathname,{replace:!0,state:{}})},className:"w-full group bg-slate-900 hover:bg-brand text-white py-4 rounded-xl font-bold text-lg shadow-lg shadow-slate-200 hover:shadow-brand/25 transition-all duration-300 flex items-center justify-center gap-3",children:["Continue to Login",a.jsx(Q0,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})]})}):a.jsx(J3,{children:a.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row",children:[a.jsxs("div",{className:"hidden md:flex w-5/12 bg-brand-deep p-8 flex-col justify-between text-white relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(tm,{className:"w-8 h-8"}),a.jsxs("span",{className:"font-bold text-xl tracking-tight",children:["Smart Retail ",a.jsx("span",{style:{color:"rgb(52 211 153 / var(--tw-text-opacity, 1))"},children:"Pro"})]})]}),a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Welcome Back."}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Sign in to secure terminal to access store operations and reporting."})]}),a.jsx("div",{className:"relative z-10 mt-auto",children:a.jsxs("div",{className:"flex flex-col items-center gap-3 text-center",children:[a.jsx("div",{className:"bg-white/10 p-2.5 rounded-full ring-1 ring-white/20",children:a.jsx(Fg,{className:"h-6 w-6 text-emerald-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-white",children:"Secure Access"}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"System activity is monitored and logged for security."})]})]})}),a.jsx("div",{className:"absolute top-[-50px] right-[-50px] w-40 h-40 bg-brand/20 rounded-full blur-2xl"}),a.jsx("div",{className:"absolute bottom-[-20px] left-[-20px] w-24 h-24 bg-brand/20 rounded-full blur-xl"})]}),a.jsxs("div",{className:"w-full md:w-7/12 p-8 md:p-10 bg-pos-bg",children:[a.jsx("h3",{className:"text-2xl font-bold text-pos-text mb-6",children:"Login to Account"}),c&&a.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-600",children:[a.jsx(Cs,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"text-sm font-medium",children:c})]}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Username"}),a.jsxs("div",{className:"relative group",children:[a.jsx(uo,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400 transition-all duration-300 group-focus-within:text-brand group-focus-within:scale-110"}),a.jsx("input",{type:"text",name:"username",value:m,onChange:g,required:!0,placeholder:"Enter username",className:"w-full pl-10 pr-4 py-3 bg-white border border-slate-300 rounded-lg focus:outline-none focus:border-brand transition-all text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Password"}),a.jsxs("div",{className:"relative group",children:[a.jsx(Jb,{className:"absolute left-3 top-3 w-5 h-5 text-slate-400 transition-all duration-300 group-focus-within:text-brand group-focus-within:scale-110"}),a.jsx("input",{type:"password",name:"password",value:p,onChange:g,required:!0,placeholder:"",className:"w-full pl-10 pr-4 py-3 bg-white border border-slate-300 rounded-lg focus:outline-none focus:border-brand transition-all text-sm font-mono"})]})]}),a.jsx("button",{type:"submit",disabled:s,className:"w-full bg-brand hover:bg-brand-hover text-white font-bold py-4 rounded-xl shadow-lg mt-4 active:scale-[0.98] transition-all flex items-center justify-center gap-2",children:s?a.jsx(_r,{className:"w-5 h-5 animate-spin"}):"Login to ROCS"}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("a",{href:"#",className:"text-xs font-bold text-slate-400 hover:text-brand transition-colors",children:"Forgot Password?"})}),a.jsx("div",{className:"h-px bg-slate-200 my-6"}),a.jsxs("div",{className:"text-center text-sm text-slate-500",children:["Don't have an account?"," ",a.jsx(Yb,{to:"/register",className:"font-bold text-brand hover:underline",children:"Register New ID"})]})]})]})]})})}const uU=({children:e})=>a.jsxs("div",{className:"relative min-h-screen flex items-center justify-center p-4 font-sans overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 z-0",children:[a.jsx("img",{src:T8,alt:"Background",className:"w-full h-full object-cover blur-sm scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-brand-deep/80 mix-blend-multiply"})]}),a.jsx("div",{className:"relative z-10 w-full flex justify-center",children:e})]});function dU(){const e=Vl(),[t,r]=v.useState(!1),[n,s]=v.useState([]),[i,c]=v.useState({fullName:"",username:"",email:"",password:"",phone:"",employeeId:"",branchId:""}),[u,d]=v.useState({}),[f,m]=v.useState({}),[p,g]=v.useState("");v.useEffect(()=>{(async()=>{try{const E=await Gd.getBranches();s(E||[])}catch(E){console.error("Failed to load branches",E)}})()},[]);const b=(_,E)=>{let k="";switch(_){case"fullName":E.trim()?E.length<3&&(k="Must be at least 3 chars"):k="Full Name is required";break;case"username":E.trim()?(E.length<3||E.length>20)&&(k="3-20 characters required"):k="Username is required";break;case"email":E?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(E)||(k="Invalid email format"):k="Email is required";break;case"password":E?E.length<6&&(k="Min 6 characters required"):k="Password is required";break;case"phone":E?/^\+?[0-9]{10,15}$/.test(E)||(k="Invalid phone format (10-15 digits)"):k="Phone is required";break;case"employeeId":E.trim()||(k="Employee ID is required");break;case"branchId":E||(k="Please select a branch");break}return k},y=_=>{const{name:E,value:k}=_.target;c(T=>({...T,[E]:k})),u[E]&&d(T=>({...T,[E]:""}))},N=_=>{const{name:E,value:k}=_.target;m(D=>({...D,[E]:!0}));const T=b(E,k);d(D=>({...D,[E]:T}))},j=async _=>{_.preventDefault(),g("");const E={};let k=!1;if(Object.keys(i).forEach(T=>{const D=b(T,i[T]);D&&(E[T]=D,k=!0)}),k){d(E),m(Object.keys(i).reduce((T,D)=>({...T,[D]:!0}),{}));return}r(!0);try{await Gd.registerUser(i),e("/login",{state:{registrationSuccess:!0}})}catch(T){console.error(T);const D=T.response?.data?.message||T.message;if(D&&D.includes(": ")){const M=D.split(": "),R=M[0],B=M.slice(1).join(": ");let K="";R==="EMAIL"?K="email":R==="USERNAME"?K="username":R==="PHONE"?K="phone":R==="EMPLOYEE_ID"&&(K="employeeId"),K?(d(U=>({...U,[K]:B})),g("")):g(D)}else g(D||"Registration failed. Please try again.")}finally{r(!1)}},S=(_,E,k,T="text",D,M=null)=>{const R=f[_]&&u[_],B=k;return a.jsxs("div",{className:"relative mb-5",children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1 ml-1",children:E}),a.jsxs("div",{className:"relative group",children:[a.jsx(B,{className:`absolute left-3 top-3 w-5 h-5 transition-all duration-300 ${R?"text-red-400":"text-slate-400 group-focus-within:text-brand"}`}),M?a.jsxs("select",{name:_,value:i[_],onChange:y,onBlur:N,className:`w-full pl-10 pr-4 py-3 bg-white border rounded-lg focus:outline-none transition-all text-sm appearance-none cursor-pointer ${R?"border-red-300 focus:border-red-500 focus:ring-1 focus:ring-red-200":"border-slate-300 focus:border-brand"}`,children:[a.jsx("option",{value:"",children:"Select Branch"}),M.map(K=>a.jsx("option",{value:K.branchId||K.id,children:K.name||K.branchName},K.branchId||K.id))]}):a.jsx("input",{type:T,name:_,value:i[_],onChange:y,onBlur:N,placeholder:D,className:`w-full pl-10 pr-10 py-3 bg-white border rounded-lg focus:outline-none transition-all text-sm ${R?"border-red-300 focus:border-red-500 focus:ring-1 focus:ring-red-200":"border-slate-300 focus:border-brand"}`}),R&&a.jsx("div",{className:"absolute right-3 top-3 text-red-500 animate-in fade-in zoom-in duration-200",children:a.jsx(Cs,{className:"w-5 h-5"})})]}),R&&a.jsx("div",{className:"absolute -bottom-5 left-1 text-[10px] font-bold text-red-500 flex items-center gap-1 animate-in slide-in-from-top-1 duration-200 z-10",children:u[_]})]})};return a.jsx(uU,{children:a.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden flex flex-col md:flex-row h-auto max-h-[90vh]",children:[a.jsxs("div",{className:"hidden md:flex w-4/12 bg-brand-deep p-8 flex-col justify-between text-white relative overflow-hidden",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsx(tm,{className:"w-8 h-8"}),a.jsxs("span",{className:"font-bold text-xl tracking-tight",children:["Smart Retail ",a.jsx("span",{className:"text-emerald-400",children:"Pro"})]})]}),a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Join the Team."}),a.jsx("p",{className:"text-slate-400 text-sm leading-relaxed",children:"Create your secure profile to access the retail operations platform."})]}),a.jsx("div",{className:"relative z-10 mt-auto opacity-80",children:a.jsxs("div",{className:"flex items-center gap-3 bg-white/10 p-3 rounded-lg border border-white/10 backdrop-blur-sm",children:[a.jsx(EN,{className:"w-8 h-8 text-emerald-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-bold text-emerald-300",children:"New Registration"}),a.jsx("p",{className:"text-[10px] text-slate-300",children:"Requires Manager Approval"})]})]})}),a.jsx("div",{className:"absolute top-[-50px] right-[-50px] w-40 h-40 bg-brand/20 rounded-full blur-2xl"}),a.jsx("div",{className:"absolute bottom-[-20px] left-[-20px] w-24 h-24 bg-brand/20 rounded-full blur-xl"})]}),a.jsx("div",{className:"w-full md:w-8/12 bg-pos-bg overflow-y-auto",children:a.jsxs("div",{className:"p-8 md:p-10",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-pos-text",children:"Register Account"}),a.jsx(Yb,{to:"/login",className:"text-sm font-bold text-brand hover:underline",children:"Back to Login"})]}),p&&a.jsxs("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2 text-red-600 animate-in shake",children:[a.jsx(Cs,{className:"w-5 h-5 shrink-0"}),a.jsx("span",{className:"text-sm font-medium",children:p})]}),a.jsxs("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[a.jsx("div",{className:"col-span-2",children:S("fullName","Full Name",uo,"text","John Doe")}),S("username","Username",uo,"text","johndoe"),S("email","Email Address",NN,"email","john@example.com"),S("password","Password",Jb,"password",""),S("phone","Phone Number",zg,"tel","+94 7X XXX XXXX"),S("employeeId","Employee ID",Wl,"text","EMP-001"),S("branchId","Assigned Branch",_N,"text","",n),a.jsxs("div",{className:"col-span-2 mt-4 pt-4 border-t border-slate-200",children:[a.jsx("button",{type:"submit",disabled:t,className:"w-full bg-brand hover:bg-brand-hover text-white font-bold py-4 rounded-xl shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:t?a.jsx(_r,{className:"w-5 h-5 animate-spin"}):"Submit Registration Request"}),a.jsx("p",{className:"text-xs text-center text-slate-400 mt-4",children:"By registering, you agree to the company's internal data policies."})]})]})]})})]})})}function fU({cart:e,customer:t,onItemClick:r,onDetachCustomer:n,totals:s,editingIndex:i,selectedIndex:c,onQuantityCommit:u,onQuantityCancel:d,billDiscount:f=0}){const m=v.useRef(null),p=v.useRef(null),[g,b]=v.useState("");v.useEffect(()=>{m.current&&(m.current.scrollTop=m.current.scrollHeight)},[e]),v.useEffect(()=>{if(i==null)return;const S=e[i];S&&(b(String(S.qty??1)),requestAnimationFrame(()=>{const _=p.current;_&&(_.focus(),_.select())}))},[i,e]);const y=v.useMemo(()=>{if(s)return s;let S=0,_=0,E=0,k=0;return e.forEach(T=>{const D=T.qty||1,M=parseFloat(T.price)||0,R=parseFloat(T.discount)||0,B=parseFloat(T.taxRate)||0,K=M*D,U=R*D,X=(K-U)*(B/100);S+=K,_+=U,E+=X,k+=D}),{grossTotal:S,discountAmount:_+f,itemDiscountAmount:_,billDiscountAmount:f,taxAmount:E,netTotal:S-_-f+E,itemCount:e.length,totalQty:k}},[e,s,f]),N=S=>S.toLocaleString("en-LK",{minimumFractionDigits:2,maximumFractionDigits:2}),j=S=>{const _=S.qty||1,E=parseFloat(S.price)||0,k=parseFloat(S.discount)||0;return E*_-k*_};return a.jsxs("div",{className:"w-4/12 bg-white flex flex-col border-r border-slate-300 shadow-xl z-20 h-full",children:[a.jsxs("div",{className:"bg-slate-50 border-b border-slate-200 p-2 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"text-xs font-bold text-slate-600 uppercase flex items-center gap-2",children:[a.jsx(oo,{className:"w-4 h-4 text-slate-400"})," Current Bill",f>0&&a.jsxs("span",{className:"bg-yellow-100 border border-yellow-300 text-yellow-700 text-[9px] font-bold px-1.5 py-0.5 rounded flex items-center gap-1",children:[a.jsx(Uh,{className:"w-2.5 h-2.5"}),"-",N(f)]})]}),t&&a.jsxs("div",{className:"bg-purple-100 border border-purple-200 rounded px-2 py-0.5 flex items-center gap-1.5",children:[a.jsx(qw,{className:"w-3 h-3 text-purple-600"}),a.jsx("span",{className:"text-[10px] font-bold text-purple-800 uppercase truncate max-w-[100px]",children:t.name}),t.loyaltyPoints>0&&a.jsxs("span",{className:"text-[9px] font-mono text-purple-600 bg-purple-50 px-1 rounded",children:[t.loyaltyPoints.toLocaleString()," pts"]}),a.jsx("button",{onClick:n,className:"ml-1 text-purple-400 hover:text-red-500 transition-colors",children:a.jsx(Qt,{className:"w-3 h-3"})})]})]}),a.jsxs("div",{className:"bg-slate-50 border-b border-slate-200 px-3 pb-2 grid grid-cols-12 gap-1 text-[10px] font-bold text-slate-600 uppercase tracking-wider shrink-0",children:[a.jsx("div",{className:"col-span-1 text-center",children:"#"}),a.jsx("div",{className:"col-span-4",children:"Description"}),a.jsx("div",{className:"col-span-2 text-center",children:"Qty"}),a.jsx("div",{className:"col-span-2 text-right",children:"Price"}),a.jsx("div",{className:"col-span-3 text-right",children:"Amount"})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-0 bg-white relative custom-scroll",ref:m,children:e.length===0?a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-slate-300 opacity-40 pointer-events-none",children:[a.jsx(Fl,{className:"w-16 h-16 mb-3"}),a.jsx("span",{className:"text-lg font-bold uppercase",children:"Ready to Scan"}),a.jsx("span",{className:"text-xs mt-1",children:"Scan barcode or enter item code"})]}):e.map((S,_)=>a.jsxs("div",{onClick:()=>r(_),className:`grid grid-cols-12 gap-1 px-3 py-2.5 border-b border-slate-100 text-sm items-start cursor-pointer group transition-colors ${c===_?"bg-blue-100 ring-1 ring-blue-300":"hover:bg-blue-50"}`,children:[a.jsx("div",{className:"col-span-1 text-center text-slate-400 font-mono text-xs group-hover:text-blue-500 pt-0.5",children:_+1}),a.jsxs("div",{className:"col-span-4",children:[a.jsx("div",{className:"font-semibold text-slate-800 truncate leading-tight group-hover:text-blue-700",children:S.name}),S.sku&&a.jsx("div",{className:"text-[9px] font-mono text-slate-400",children:S.sku}),a.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[S.discount>0&&a.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[9px] font-bold text-orange-600 bg-orange-50 px-1 py-0.5 rounded",children:[a.jsx(Uh,{className:"w-2 h-2"}),"-",N(S.discount)]}),S.taxRate>0&&a.jsxs("span",{className:"inline-flex items-center gap-0.5 text-[9px] font-bold text-slate-500 bg-slate-100 px-1 py-0.5 rounded",children:[a.jsx(ji,{className:"w-2 h-2"}),S.taxRate,"%"]})]})]}),a.jsx("div",{className:"col-span-2 text-center pt-0.5",children:i===_?a.jsx("input",{ref:p,type:"number",min:"1",step:"1",value:g,onClick:E=>E.stopPropagation(),onFocus:E=>E.target.select(),onChange:E=>b(E.target.value),onKeyDown:E=>{E.key==="Enter"&&(E.preventDefault(),u(_,g)),E.key==="Escape"&&(E.preventDefault(),d?.())},className:"w-14 text-center bg-white border border-blue-400 rounded text-xs font-mono font-bold text-blue-900 focus:outline-none focus:ring-2 focus:ring-blue-300"}):a.jsx("span",{className:"bg-slate-100 px-2 py-0.5 rounded font-mono font-bold text-xs group-hover:bg-blue-200 group-hover:text-blue-800 transition-colors",children:S.qty})}),a.jsx("div",{className:"col-span-2 text-right font-mono text-slate-600 text-xs pt-0.5",children:N(S.price)}),a.jsx("div",{className:"col-span-3 text-right font-mono font-bold text-slate-900 group-hover:text-blue-700 pt-0.5",children:N(j(S))})]},_))}),a.jsxs("div",{className:"bg-slate-900 text-white p-4 shrink-0 shadow-[0_-4px_8px_-1px_rgba(0,0,0,0.2)]",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2 border-b border-slate-700 pb-2",children:[a.jsxs("div",{className:"text-left",children:[a.jsx("span",{className:"text-slate-400 text-xs font-medium block",children:"Items"}),a.jsx("span",{className:"text-white font-mono font-bold text-lg",children:y.totalQty||e.reduce((S,_)=>S+_.qty,0)})]}),a.jsxs("div",{className:"text-right space-y-0.5",children:[a.jsxs("div",{className:"flex justify-between gap-4 text-xs",children:[a.jsx("span",{className:"text-slate-400",children:"Subtotal:"}),a.jsx("span",{className:"font-mono text-slate-300",children:N(y.grossTotal)})]}),(y.itemDiscountAmount||0)>0&&a.jsxs("div",{className:"flex justify-between gap-4 text-xs",children:[a.jsx("span",{className:"text-orange-400",children:"Item Disc:"}),a.jsxs("span",{className:"font-mono text-orange-400",children:["-",N(y.itemDiscountAmount)]})]}),(y.billDiscountAmount||0)>0&&a.jsxs("div",{className:"flex justify-between gap-4 text-xs",children:[a.jsx("span",{className:"text-yellow-400",children:"Bill Disc:"}),a.jsxs("span",{className:"font-mono text-yellow-400",children:["-",N(y.billDiscountAmount)]})]}),y.taxAmount>0&&a.jsxs("div",{className:"flex justify-between gap-4 text-xs",children:[a.jsx("span",{className:"text-slate-400",children:"Tax:"}),a.jsxs("span",{className:"font-mono text-slate-300",children:["+",N(y.taxAmount)]})]})]})]}),a.jsxs("div",{className:"bg-slate-800 rounded-lg px-3 py-3 flex justify-between items-center border border-slate-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-xl font-bold tracking-tight text-white",children:"TOTAL"}),a.jsx("span",{className:"text-[10px] text-slate-400 block uppercase",children:"LKR"})]}),a.jsx("span",{className:"text-4xl font-bold font-mono text-green-400",children:N(y.netTotal)})]})]})]})}function R8(e,t){return function(){return e.apply(t,arguments)}}const{toString:hU}=Object.prototype,{getPrototypeOf:kN}=Object,{iterator:ty,toStringTag:D8}=Symbol,ry=(e=>t=>{const r=hU.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),tl=e=>(e=e.toLowerCase(),t=>ry(t)===e),ny=e=>t=>typeof t===e,{isArray:rm}=Array,$h=ny("undefined");function J0(e){return e!==null&&!$h(e)&&e.constructor!==null&&!$h(e.constructor)&&ti(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const I8=tl("ArrayBuffer");function mU(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&I8(e.buffer),t}const pU=ny("string"),ti=ny("function"),M8=ny("number"),ep=e=>e!==null&&typeof e=="object",xU=e=>e===!0||e===!1,ng=e=>{if(ry(e)!=="object")return!1;const t=kN(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(D8 in e)&&!(ty in e)},gU=e=>{if(!ep(e)||J0(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},bU=tl("Date"),yU=tl("File"),vU=tl("Blob"),wU=tl("FileList"),NU=e=>ep(e)&&ti(e.pipe),jU=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ti(e.append)&&((t=ry(e))==="formdata"||t==="object"&&ti(e.toString)&&e.toString()==="[object FormData]"))},SU=tl("URLSearchParams"),[AU,_U,CU,EU]=["ReadableStream","Request","Response","Headers"].map(tl),kU=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tp(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),rm(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(J0(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),c=i.length;let u;for(n=0;n<c;n++)u=i[n],t.call(null,e[u],u,e)}}function B8(e,t){if(J0(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Fd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,z8=e=>!$h(e)&&e!==Fd;function Hw(){const{caseless:e,skipUndefined:t}=z8(this)&&this||{},r={},n=(s,i)=>{const c=e&&B8(r,i)||i;ng(r[c])&&ng(s)?r[c]=Hw(r[c],s):ng(s)?r[c]=Hw({},s):rm(s)?r[c]=s.slice():(!t||!$h(s))&&(r[c]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&tp(arguments[s],n);return r}const OU=(e,t,r,{allOwnKeys:n}={})=>(tp(t,(s,i)=>{r&&ti(s)?Object.defineProperty(e,i,{value:R8(s,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,i,{value:s,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),e),PU=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),LU=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},TU=(e,t,r,n)=>{let s,i,c;const u={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)c=s[i],(!n||n(c,e,t))&&!u[c]&&(t[c]=e[c],u[c]=!0);e=r!==!1&&kN(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},RU=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},DU=e=>{if(!e)return null;if(rm(e))return e;let t=e.length;if(!M8(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},IU=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&kN(Uint8Array)),MU=(e,t)=>{const n=(e&&e[ty]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},BU=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},zU=tl("HTMLFormElement"),FU=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),e6=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),UU=tl("RegExp"),F8=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};tp(r,(s,i)=>{let c;(c=t(s,i,e))!==!1&&(n[i]=c||s)}),Object.defineProperties(e,n)},qU=e=>{F8(e,(t,r)=>{if(ti(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ti(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$U=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return rm(e)?n(e):n(String(e).split(t)),r},HU=()=>{},GU=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function KU(e){return!!(e&&ti(e.append)&&e[D8]==="FormData"&&e[ty])}const VU=e=>{const t=new Array(10),r=(n,s)=>{if(ep(n)){if(t.indexOf(n)>=0)return;if(J0(n))return n;if(!("toJSON"in n)){t[s]=n;const i=rm(n)?[]:{};return tp(n,(c,u)=>{const d=r(c,s+1);!$h(d)&&(i[u]=d)}),t[s]=void 0,i}}return n};return r(e,0)},WU=tl("AsyncFunction"),YU=e=>e&&(ep(e)||ti(e))&&ti(e.then)&&ti(e.catch),U8=((e,t)=>e?setImmediate:t?((r,n)=>(Fd.addEventListener("message",({source:s,data:i})=>{s===Fd&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Fd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ti(Fd.postMessage)),XU=typeof queueMicrotask<"u"?queueMicrotask.bind(Fd):typeof process<"u"&&process.nextTick||U8,QU=e=>e!=null&&ti(e[ty]),Be={isArray:rm,isArrayBuffer:I8,isBuffer:J0,isFormData:jU,isArrayBufferView:mU,isString:pU,isNumber:M8,isBoolean:xU,isObject:ep,isPlainObject:ng,isEmptyObject:gU,isReadableStream:AU,isRequest:_U,isResponse:CU,isHeaders:EU,isUndefined:$h,isDate:bU,isFile:yU,isBlob:vU,isRegExp:UU,isFunction:ti,isStream:NU,isURLSearchParams:SU,isTypedArray:IU,isFileList:wU,forEach:tp,merge:Hw,extend:OU,trim:kU,stripBOM:PU,inherits:LU,toFlatObject:TU,kindOf:ry,kindOfTest:tl,endsWith:RU,toArray:DU,forEachEntry:MU,matchAll:BU,isHTMLForm:zU,hasOwnProperty:e6,hasOwnProp:e6,reduceDescriptors:F8,freezeMethods:qU,toObjectSet:$U,toCamelCase:FU,noop:HU,toFiniteNumber:GU,findKey:B8,global:Fd,isContextDefined:z8,isSpecCompliantForm:KU,toJSONObject:VU,isAsyncFn:WU,isThenable:YU,setImmediate:U8,asap:XU,isIterable:QU};let Vt=class q8 extends Error{static from(t,r,n,s,i,c){const u=new q8(t.message,r||t.code,n,s,i);return u.cause=t,u.name=t.name,c&&Object.assign(u,c),u}constructor(t,r,n,s,i){super(t),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Be.toJSONObject(this.config),code:this.code,status:this.status}}};Vt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Vt.ERR_BAD_OPTION="ERR_BAD_OPTION";Vt.ECONNABORTED="ECONNABORTED";Vt.ETIMEDOUT="ETIMEDOUT";Vt.ERR_NETWORK="ERR_NETWORK";Vt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Vt.ERR_DEPRECATED="ERR_DEPRECATED";Vt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Vt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Vt.ERR_CANCELED="ERR_CANCELED";Vt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Vt.ERR_INVALID_URL="ERR_INVALID_URL";const ZU=null;function Gw(e){return Be.isPlainObject(e)||Be.isArray(e)}function $8(e){return Be.endsWith(e,"[]")?e.slice(0,-2):e}function t6(e,t,r){return e?e.concat(t).map(function(s,i){return s=$8(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function JU(e){return Be.isArray(e)&&!e.some(Gw)}const eq=Be.toFlatObject(Be,{},null,function(t){return/^is[A-Z]/.test(t)});function ay(e,t,r){if(!Be.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Be.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,j){return!Be.isUndefined(j[N])});const n=r.metaTokens,s=r.visitor||m,i=r.dots,c=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Be.isSpecCompliantForm(t);if(!Be.isFunction(s))throw new TypeError("visitor must be a function");function f(y){if(y===null)return"";if(Be.isDate(y))return y.toISOString();if(Be.isBoolean(y))return y.toString();if(!d&&Be.isBlob(y))throw new Vt("Blob is not supported. Use a Buffer instead.");return Be.isArrayBuffer(y)||Be.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function m(y,N,j){let S=y;if(y&&!j&&typeof y=="object"){if(Be.endsWith(N,"{}"))N=n?N:N.slice(0,-2),y=JSON.stringify(y);else if(Be.isArray(y)&&JU(y)||(Be.isFileList(y)||Be.endsWith(N,"[]"))&&(S=Be.toArray(y)))return N=$8(N),S.forEach(function(E,k){!(Be.isUndefined(E)||E===null)&&t.append(c===!0?t6([N],k,i):c===null?N:N+"[]",f(E))}),!1}return Gw(y)?!0:(t.append(t6(j,N,i),f(y)),!1)}const p=[],g=Object.assign(eq,{defaultVisitor:m,convertValue:f,isVisitable:Gw});function b(y,N){if(!Be.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+N.join("."));p.push(y),Be.forEach(y,function(S,_){(!(Be.isUndefined(S)||S===null)&&s.call(t,S,Be.isString(_)?_.trim():_,N,g))===!0&&b(S,N?N.concat(_):[_])}),p.pop()}}if(!Be.isObject(e))throw new TypeError("data must be an object");return b(e),t}function r6(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function ON(e,t){this._pairs=[],e&&ay(e,this,t)}const H8=ON.prototype;H8.append=function(t,r){this._pairs.push([t,r])};H8.toString=function(t){const r=t?function(n){return t.call(this,n,r6)}:r6;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function tq(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function G8(e,t,r){if(!t)return e;const n=r&&r.encode||tq,s=Be.isFunction(r)?{serialize:r}:r,i=s&&s.serialize;let c;if(i?c=i(t,s):c=Be.isURLSearchParams(t)?t.toString():new ON(t,s).toString(n),c){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+c}return e}class n6{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Be.forEach(this.handlers,function(n){n!==null&&t(n)})}}const K8={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rq=typeof URLSearchParams<"u"?URLSearchParams:ON,nq=typeof FormData<"u"?FormData:null,aq=typeof Blob<"u"?Blob:null,sq={isBrowser:!0,classes:{URLSearchParams:rq,FormData:nq,Blob:aq},protocols:["http","https","file","blob","url","data"]},PN=typeof window<"u"&&typeof document<"u",Kw=typeof navigator=="object"&&navigator||void 0,iq=PN&&(!Kw||["ReactNative","NativeScript","NS"].indexOf(Kw.product)<0),oq=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",lq=PN&&window.location.href||"http://localhost",cq=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:PN,hasStandardBrowserEnv:iq,hasStandardBrowserWebWorkerEnv:oq,navigator:Kw,origin:lq},Symbol.toStringTag,{value:"Module"})),xs={...cq,...sq};function uq(e,t){return ay(e,new xs.classes.URLSearchParams,{visitor:function(r,n,s,i){return xs.isNode&&Be.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function dq(e){return Be.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fq(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function V8(e){function t(r,n,s,i){let c=r[i++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),d=i>=r.length;return c=!c&&Be.isArray(s)?s.length:c,d?(Be.hasOwnProp(s,c)?s[c]=[s[c],n]:s[c]=n,!u):((!s[c]||!Be.isObject(s[c]))&&(s[c]=[]),t(r,n,s[c],i)&&Be.isArray(s[c])&&(s[c]=fq(s[c])),!u)}if(Be.isFormData(e)&&Be.isFunction(e.entries)){const r={};return Be.forEachEntry(e,(n,s)=>{t(dq(n),s,r,0)}),r}return null}function hq(e,t,r){if(Be.isString(e))try{return(t||JSON.parse)(e),Be.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const rp={transitional:K8,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=Be.isObject(t);if(i&&Be.isHTMLForm(t)&&(t=new FormData(t)),Be.isFormData(t))return s?JSON.stringify(V8(t)):t;if(Be.isArrayBuffer(t)||Be.isBuffer(t)||Be.isStream(t)||Be.isFile(t)||Be.isBlob(t)||Be.isReadableStream(t))return t;if(Be.isArrayBufferView(t))return t.buffer;if(Be.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return uq(t,this.formSerializer).toString();if((u=Be.isFileList(t))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return ay(u?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),hq(t)):t}],transformResponse:[function(t){const r=this.transitional||rp.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(Be.isResponse(t)||Be.isReadableStream(t))return t;if(t&&Be.isString(t)&&(n&&!this.responseType||s)){const c=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(u){if(c)throw u.name==="SyntaxError"?Vt.from(u,Vt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xs.classes.FormData,Blob:xs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Be.forEach(["delete","get","head","post","put","patch"],e=>{rp.headers[e]={}});const mq=Be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pq=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(c){s=c.indexOf(":"),r=c.substring(0,s).trim().toLowerCase(),n=c.substring(s+1).trim(),!(!r||t[r]&&mq[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},a6=Symbol("internals");function Zm(e){return e&&String(e).trim().toLowerCase()}function ag(e){return e===!1||e==null?e:Be.isArray(e)?e.map(ag):String(e)}function xq(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const gq=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function _1(e,t,r,n,s){if(Be.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!Be.isString(t)){if(Be.isString(n))return t.indexOf(n)!==-1;if(Be.isRegExp(n))return n.test(t)}}function bq(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function yq(e,t){const r=Be.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,c){return this[n].call(this,t,s,i,c)},configurable:!0})})}let ri=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(u,d,f){const m=Zm(d);if(!m)throw new Error("header name must be a non-empty string");const p=Be.findKey(s,m);(!p||s[p]===void 0||f===!0||f===void 0&&s[p]!==!1)&&(s[p||d]=ag(u))}const c=(u,d)=>Be.forEach(u,(f,m)=>i(f,m,d));if(Be.isPlainObject(t)||t instanceof this.constructor)c(t,r);else if(Be.isString(t)&&(t=t.trim())&&!gq(t))c(pq(t),r);else if(Be.isObject(t)&&Be.isIterable(t)){let u={},d,f;for(const m of t){if(!Be.isArray(m))throw TypeError("Object iterator must return a key-value pair");u[f=m[0]]=(d=u[f])?Be.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}c(u,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Zm(t),t){const n=Be.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return xq(s);if(Be.isFunction(r))return r.call(this,s,n);if(Be.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Zm(t),t){const n=Be.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||_1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(c){if(c=Zm(c),c){const u=Be.findKey(n,c);u&&(!r||_1(n,n[u],u,r))&&(delete n[u],s=!0)}}return Be.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||_1(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return Be.forEach(this,(s,i)=>{const c=Be.findKey(n,i);if(c){r[c]=ag(s),delete r[i];return}const u=t?bq(i):String(i).trim();u!==i&&delete r[i],r[u]=ag(s),n[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Be.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&Be.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[a6]=this[a6]={accessors:{}}).accessors,s=this.prototype;function i(c){const u=Zm(c);n[u]||(yq(s,c),n[u]=!0)}return Be.isArray(t)?t.forEach(i):i(t),this}};ri.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Be.reduceDescriptors(ri.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Be.freezeMethods(ri);function C1(e,t){const r=this||rp,n=t||r,s=ri.from(n.headers);let i=n.data;return Be.forEach(e,function(u){i=u.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function W8(e){return!!(e&&e.__CANCEL__)}let np=class extends Vt{constructor(t,r,n){super(t??"canceled",Vt.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function Y8(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Vt("Request failed with status code "+r.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function vq(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function wq(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,c;return t=t!==void 0?t:1e3,function(d){const f=Date.now(),m=n[i];c||(c=f),r[s]=d,n[s]=f;let p=i,g=0;for(;p!==s;)g+=r[p++],p=p%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),f-c<t)return;const b=m&&f-m;return b?Math.round(g*1e3/b):void 0}}function Nq(e,t){let r=0,n=1e3/t,s,i;const c=(f,m=Date.now())=>{r=m,s=null,i&&(clearTimeout(i),i=null),e(...f)};return[(...f)=>{const m=Date.now(),p=m-r;p>=n?c(f,m):(s=f,i||(i=setTimeout(()=>{i=null,c(s)},n-p)))},()=>s&&c(s)]}const Kg=(e,t,r=3)=>{let n=0;const s=wq(50,250);return Nq(i=>{const c=i.loaded,u=i.lengthComputable?i.total:void 0,d=c-n,f=s(d),m=c<=u;n=c;const p={loaded:c,total:u,progress:u?c/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&m?(u-c)/f:void 0,event:i,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(p)},r)},s6=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},i6=e=>(...t)=>Be.asap(()=>e(...t)),jq=xs.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,xs.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(xs.origin),xs.navigator&&/(msie|trident)/i.test(xs.navigator.userAgent)):()=>!0,Sq=xs.hasStandardBrowserEnv?{write(e,t,r,n,s,i,c){if(typeof document>"u")return;const u=[`${e}=${encodeURIComponent(t)}`];Be.isNumber(r)&&u.push(`expires=${new Date(r).toUTCString()}`),Be.isString(n)&&u.push(`path=${n}`),Be.isString(s)&&u.push(`domain=${s}`),i===!0&&u.push("secure"),Be.isString(c)&&u.push(`SameSite=${c}`),document.cookie=u.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Aq(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function _q(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function X8(e,t,r){let n=!Aq(t);return e&&(n||r==!1)?_q(e,t):t}const o6=e=>e instanceof ri?{...e}:e;function af(e,t){t=t||{};const r={};function n(f,m,p,g){return Be.isPlainObject(f)&&Be.isPlainObject(m)?Be.merge.call({caseless:g},f,m):Be.isPlainObject(m)?Be.merge({},m):Be.isArray(m)?m.slice():m}function s(f,m,p,g){if(Be.isUndefined(m)){if(!Be.isUndefined(f))return n(void 0,f,p,g)}else return n(f,m,p,g)}function i(f,m){if(!Be.isUndefined(m))return n(void 0,m)}function c(f,m){if(Be.isUndefined(m)){if(!Be.isUndefined(f))return n(void 0,f)}else return n(void 0,m)}function u(f,m,p){if(p in t)return n(f,m);if(p in e)return n(void 0,f)}const d={url:i,method:i,data:i,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(f,m,p)=>s(o6(f),o6(m),p,!0)};return Be.forEach(Object.keys({...e,...t}),function(m){const p=d[m]||s,g=p(e[m],t[m],m);Be.isUndefined(g)&&p!==u||(r[m]=g)}),r}const Q8=e=>{const t=af({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:c,auth:u}=t;if(t.headers=c=ri.from(c),t.url=G8(X8(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),Be.isFormData(r)){if(xs.hasStandardBrowserEnv||xs.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Be.isFunction(r.getHeaders)){const d=r.getHeaders(),f=["content-type","content-length"];Object.entries(d).forEach(([m,p])=>{f.includes(m.toLowerCase())&&c.set(m,p)})}}if(xs.hasStandardBrowserEnv&&(n&&Be.isFunction(n)&&(n=n(t)),n||n!==!1&&jq(t.url))){const d=s&&i&&Sq.read(i);d&&c.set(s,d)}return t},Cq=typeof XMLHttpRequest<"u",Eq=Cq&&function(e){return new Promise(function(r,n){const s=Q8(e);let i=s.data;const c=ri.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=s,m,p,g,b,y;function N(){b&&b(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(m),s.signal&&s.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(s.method.toUpperCase(),s.url,!0),j.timeout=s.timeout;function S(){if(!j)return;const E=ri.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),T={data:!u||u==="text"||u==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:E,config:e,request:j};Y8(function(M){r(M),N()},function(M){n(M),N()},T),j=null}"onloadend"in j?j.onloadend=S:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(S)},j.onabort=function(){j&&(n(new Vt("Request aborted",Vt.ECONNABORTED,e,j)),j=null)},j.onerror=function(k){const T=k&&k.message?k.message:"Network Error",D=new Vt(T,Vt.ERR_NETWORK,e,j);D.event=k||null,n(D),j=null},j.ontimeout=function(){let k=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||K8;s.timeoutErrorMessage&&(k=s.timeoutErrorMessage),n(new Vt(k,T.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,e,j)),j=null},i===void 0&&c.setContentType(null),"setRequestHeader"in j&&Be.forEach(c.toJSON(),function(k,T){j.setRequestHeader(T,k)}),Be.isUndefined(s.withCredentials)||(j.withCredentials=!!s.withCredentials),u&&u!=="json"&&(j.responseType=s.responseType),f&&([g,y]=Kg(f,!0),j.addEventListener("progress",g)),d&&j.upload&&([p,b]=Kg(d),j.upload.addEventListener("progress",p),j.upload.addEventListener("loadend",b)),(s.cancelToken||s.signal)&&(m=E=>{j&&(n(!E||E.type?new np(null,e,j):E),j.abort(),j=null)},s.cancelToken&&s.cancelToken.subscribe(m),s.signal&&(s.signal.aborted?m():s.signal.addEventListener("abort",m)));const _=vq(s.url);if(_&&xs.protocols.indexOf(_)===-1){n(new Vt("Unsupported protocol "+_+":",Vt.ERR_BAD_REQUEST,e));return}j.send(i||null)})},kq=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(f){if(!s){s=!0,u();const m=f instanceof Error?f:this.reason;n.abort(m instanceof Vt?m:new np(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,i(new Vt(`timeout of ${t}ms exceeded`,Vt.ETIMEDOUT))},t);const u=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>Be.asap(u),d}},Oq=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},Pq=async function*(e,t){for await(const r of Lq(e))yield*Oq(r,t)},Lq=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},l6=(e,t,r,n)=>{const s=Pq(e,t);let i=0,c,u=d=>{c||(c=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:m}=await s.next();if(f){u(),d.close();return}let p=m.byteLength;if(r){let g=i+=p;r(g)}d.enqueue(new Uint8Array(m))}catch(f){throw u(f),f}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},c6=64*1024,{isFunction:vx}=Be,Tq=(({Request:e,Response:t})=>({Request:e,Response:t}))(Be.global),{ReadableStream:u6,TextEncoder:d6}=Be.global,f6=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Rq=e=>{e=Be.merge.call({skipUndefined:!0},Tq,e);const{fetch:t,Request:r,Response:n}=e,s=t?vx(t):typeof fetch=="function",i=vx(r),c=vx(n);if(!s)return!1;const u=s&&vx(u6),d=s&&(typeof d6=="function"?(y=>N=>y.encode(N))(new d6):async y=>new Uint8Array(await new r(y).arrayBuffer())),f=i&&u&&f6(()=>{let y=!1;const N=new r(xs.origin,{body:new u6,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!N}),m=c&&u&&f6(()=>Be.isReadableStream(new n("").body)),p={stream:m&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(N,j)=>{let S=N&&N[y];if(S)return S.call(N);throw new Vt(`Response type '${y}' is not supported`,Vt.ERR_NOT_SUPPORT,j)})});const g=async y=>{if(y==null)return 0;if(Be.isBlob(y))return y.size;if(Be.isSpecCompliantForm(y))return(await new r(xs.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Be.isArrayBufferView(y)||Be.isArrayBuffer(y))return y.byteLength;if(Be.isURLSearchParams(y)&&(y=y+""),Be.isString(y))return(await d(y)).byteLength},b=async(y,N)=>{const j=Be.toFiniteNumber(y.getContentLength());return j??g(N)};return async y=>{let{url:N,method:j,data:S,signal:_,cancelToken:E,timeout:k,onDownloadProgress:T,onUploadProgress:D,responseType:M,headers:R,withCredentials:B="same-origin",fetchOptions:K}=Q8(y),U=t||fetch;M=M?(M+"").toLowerCase():"text";let F=kq([_,E&&E.toAbortSignal()],k),X=null;const Q=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let pe;try{if(D&&f&&j!=="get"&&j!=="head"&&(pe=await b(R,S))!==0){let G=new r(N,{method:"POST",body:S,duplex:"half"}),P;if(Be.isFormData(S)&&(P=G.headers.get("content-type"))&&R.setContentType(P),G.body){const[H,$]=s6(pe,Kg(i6(D)));S=l6(G.body,c6,H,$)}}Be.isString(B)||(B=B?"include":"omit");const re=i&&"credentials"in r.prototype,ue={...K,signal:F,method:j.toUpperCase(),headers:R.normalize().toJSON(),body:S,duplex:"half",credentials:re?B:void 0};X=i&&new r(N,ue);let V=await(i?U(X,K):U(N,ue));const Z=m&&(M==="stream"||M==="response");if(m&&(T||Z&&Q)){const G={};["status","statusText","headers"].forEach(ae=>{G[ae]=V[ae]});const P=Be.toFiniteNumber(V.headers.get("content-length")),[H,$]=T&&s6(P,Kg(i6(T),!0))||[];V=new n(l6(V.body,c6,H,()=>{$&&$(),Q&&Q()}),G)}M=M||"text";let ge=await p[Be.findKey(p,M)||"text"](V,y);return!Z&&Q&&Q(),await new Promise((G,P)=>{Y8(G,P,{data:ge,headers:ri.from(V.headers),status:V.status,statusText:V.statusText,config:y,request:X})})}catch(re){throw Q&&Q(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,y,X),{cause:re.cause||re}):Vt.from(re,re&&re.code,y,X)}}},Dq=new Map,Z8=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let c=i.length,u=c,d,f,m=Dq;for(;u--;)d=i[u],f=m.get(d),f===void 0&&m.set(d,f=u?new Map:Rq(t)),m=f;return f};Z8();const LN={http:ZU,xhr:Eq,fetch:{get:Z8}};Be.forEach(LN,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const h6=e=>`- ${e}`,Iq=e=>Be.isFunction(e)||e===null||e===!1;function Mq(e,t){e=Be.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let c=0;c<r;c++){n=e[c];let u;if(s=n,!Iq(n)&&(s=LN[(u=String(n)).toLowerCase()],s===void 0))throw new Vt(`Unknown adapter '${u}'`);if(s&&(Be.isFunction(s)||(s=s.get(t))))break;i[u||"#"+c]=s}if(!s){const c=Object.entries(i).map(([d,f])=>`adapter ${d} `+(f===!1?"is not supported by the environment":"is not available in the build"));let u=r?c.length>1?`since :
`+c.map(h6).join(`
`):" "+h6(c[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return s}const J8={getAdapter:Mq,adapters:LN};function E1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new np(null,e)}function m6(e){return E1(e),e.headers=ri.from(e.headers),e.data=C1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),J8.getAdapter(e.adapter||rp.adapter,e)(e).then(function(n){return E1(e),n.data=C1.call(e,e.transformResponse,n),n.headers=ri.from(n.headers),n},function(n){return W8(n)||(E1(e),n&&n.response&&(n.response.data=C1.call(e,e.transformResponse,n.response),n.response.headers=ri.from(n.response.headers))),Promise.reject(n)})}const eP="1.13.4",sy={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{sy[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const p6={};sy.transitional=function(t,r,n){function s(i,c){return"[Axios v"+eP+"] Transitional option '"+i+"'"+c+(n?". "+n:"")}return(i,c,u)=>{if(t===!1)throw new Vt(s(c," has been removed"+(r?" in "+r:"")),Vt.ERR_DEPRECATED);return r&&!p6[c]&&(p6[c]=!0,console.warn(s(c," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,c,u):!0}};sy.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Bq(e,t,r){if(typeof e!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],c=t[i];if(c){const u=e[i],d=u===void 0||c(u,i,e);if(d!==!0)throw new Vt("option "+i+" must be "+d,Vt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Vt("Unknown option "+i,Vt.ERR_BAD_OPTION)}}const sg={assertOptions:Bq,validators:sy},_l=sg.validators;let Kd=class{constructor(t){this.defaults=t||{},this.interceptors={request:new n6,response:new n6}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=af(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&sg.assertOptions(n,{silentJSONParsing:_l.transitional(_l.boolean),forcedJSONParsing:_l.transitional(_l.boolean),clarifyTimeoutError:_l.transitional(_l.boolean)},!1),s!=null&&(Be.isFunction(s)?r.paramsSerializer={serialize:s}:sg.assertOptions(s,{encode:_l.function,serialize:_l.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),sg.assertOptions(r,{baseUrl:_l.spelling("baseURL"),withXsrfToken:_l.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let c=i&&Be.merge(i.common,i[r.method]);i&&Be.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=ri.concat(c,i);const u=[];let d=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(d=d&&N.synchronous,u.unshift(N.fulfilled,N.rejected))});const f=[];this.interceptors.response.forEach(function(N){f.push(N.fulfilled,N.rejected)});let m,p=0,g;if(!d){const y=[m6.bind(this),void 0];for(y.unshift(...u),y.push(...f),g=y.length,m=Promise.resolve(r);p<g;)m=m.then(y[p++],y[p++]);return m}g=u.length;let b=r;for(;p<g;){const y=u[p++],N=u[p++];try{b=y(b)}catch(j){N.call(this,j);break}}try{m=m6.call(this,b)}catch(y){return Promise.reject(y)}for(p=0,g=f.length;p<g;)m=m.then(f[p++],f[p++]);return m}getUri(t){t=af(this.defaults,t);const r=X8(t.baseURL,t.url,t.allowAbsoluteUrls);return G8(r,t.params,t.paramsSerializer)}};Be.forEach(["delete","get","head","options"],function(t){Kd.prototype[t]=function(r,n){return this.request(af(n||{},{method:t,url:r,data:(n||{}).data}))}});Be.forEach(["post","put","patch"],function(t){function r(n){return function(i,c,u){return this.request(af(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:c}))}}Kd.prototype[t]=r(),Kd.prototype[t+"Form"]=r(!0)});let zq=class tP{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const c=new Promise(u=>{n.subscribe(u),i=u}).then(s);return c.cancel=function(){n.unsubscribe(i)},c},t(function(i,c,u){n.reason||(n.reason=new np(i,c,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new tP(function(s){t=s}),cancel:t}}};function Fq(e){return function(r){return e.apply(null,r)}}function Uq(e){return Be.isObject(e)&&e.isAxiosError===!0}const Vw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Vw).forEach(([e,t])=>{Vw[t]=e});function rP(e){const t=new Kd(e),r=R8(Kd.prototype.request,t);return Be.extend(r,Kd.prototype,t,{allOwnKeys:!0}),Be.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return rP(af(e,s))},r}const Tn=rP(rp);Tn.Axios=Kd;Tn.CanceledError=np;Tn.CancelToken=zq;Tn.isCancel=W8;Tn.VERSION=eP;Tn.toFormData=ay;Tn.AxiosError=Vt;Tn.Cancel=Tn.CanceledError;Tn.all=function(t){return Promise.all(t)};Tn.spread=Fq;Tn.isAxiosError=Uq;Tn.mergeConfig=af;Tn.AxiosHeaders=ri;Tn.formToJSON=e=>V8(Be.isHTMLForm(e)?new FormData(e):e);Tn.getAdapter=J8.getAdapter;Tn.HttpStatusCode=Vw;Tn.default=Tn;const{Axios:r0e,AxiosError:n0e,CanceledError:a0e,isCancel:s0e,CancelToken:i0e,VERSION:o0e,all:l0e,Cancel:c0e,isAxiosError:u0e,spread:d0e,toFormData:f0e,AxiosHeaders:h0e,HttpStatusCode:m0e,formToJSON:p0e,getAdapter:x0e,mergeConfig:g0e}=Tn,qq="http://localhost:8080/api/v1/pos",xr=Tn.create({baseURL:qq,headers:{"Content-Type":"application/json"}});xr.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));xr.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)));const an={openShift:e=>{const t={cashierId:e.cashierId,branchId:e.branchId,terminalId:e.terminalId,openingCash:e.openingCash,supervisorUsername:e.supervisorUsername,supervisorPassword:e.supervisorPassword,status:"OPEN"};return e.denominations&&e.denominations.length>0&&(t.denominations=e.denominations),console.log("POS Service - Opening Shift:",t),xr.post("/shift/open",t)},closeShift:(e,t)=>xr.put(`/shift/${e}/close`,{closingCash:t.closingCash,denominations:t.denominations,notes:t.notes,supervisorUsername:t.supervisorUsername,supervisorPassword:t.supervisorPassword}),getShiftTotals:e=>xr.get(`/shift/${e}/totals`),getCurrentShift:(e,t)=>{let r=`/shift/active?terminalId=${e}`;return t&&(r+=`&cashierId=${t}`),xr.get(r)},getCashiers:e=>xr.get(`/cashiers?branchId=${e}`),getProduct:async e=>{const t=[{url:"/products/scan",params:{code:e}},{url:"/products/barcode",params:{barcode:e}},{url:"/products/sku",params:{sku:e}},{url:"/products/search",params:{q:e}}];for(const r of t)try{const n=await xr.get(r.url,{params:r.params}),s=n.data?.data||n.data;if(Array.isArray(s)){const i=s.find(c=>c.barcode===e||c.sku===e||String(c.productId)===e||String(c.id)===e);if(i)return{data:i};if(s.length>0)return{data:s[0]};continue}if(s&&(s.productId||s.id||s.name))return{data:s}}catch{console.log(`Endpoint ${r.url} failed, trying next...`)}throw new Error("Product not found")},searchInventory:e=>xr.get("/products/search",{params:{q:e}}),getQuickItems:e=>xr.get("/products/quick",{params:{branchId:e}}),getProductStock:(e,t)=>xr.get(`/stock/${e}`,{params:{branchId:t}}),checkPrice:async e=>{const t=[{url:"/products/price-check",params:{code:e}},{url:"/products/scan",params:{code:e}},{url:"/products/barcode",params:{barcode:e}},{url:"/products/search",params:{q:e}}];for(const r of t)try{const n=await xr.get(r.url,{params:r.params}),s=n.data?.data||n.data;if(Array.isArray(s)){const i=s.find(c=>c.barcode===e||c.sku===e||String(c.productId)===e||String(c.id)===e);if(i)return{data:i};if(s.length>0)return{data:s[0]};continue}if(s&&(s.productId||s.id||s.name))return{data:s}}catch{console.log(`Price check endpoint ${r.url} failed, trying next...`)}throw new Error("Product not found")},submitOrder:e=>{const t={saleId:e.saleId||null,branchId:e.branchId||1,cashierId:e.cashierId||1,customerId:e.customerId||null,shiftId:e.shiftId,grossTotal:parseFloat(e.grossTotal)||0,discount:parseFloat(e.discount)||0,taxAmount:parseFloat(e.taxAmount)||0,netTotal:parseFloat(e.netTotal)||0,paidAmount:parseFloat(e.paidAmount)||0,changeAmount:parseFloat(e.changeAmount)||0,saleType:e.saleType||"RETAIL",notes:e.notes||"",items:(e.items||[]).map(r=>({productId:r.productId,serialId:r.serialId||null,quantity:parseInt(r.qty)||parseInt(r.quantity)||1,unitPrice:parseFloat(r.unitPrice)||0,discount:parseFloat(r.discount)||0,taxRate:parseFloat(r.taxRate)||0,lineTotal:parseFloat(r.unitPrice*(parseInt(r.qty)||1)-(r.discount||0))||0})),payments:(e.payments||[]).map(r=>({paymentType:r.paymentType||"CASH",amount:parseFloat(r.amount)||0,referenceNo:r.referenceNo||null,cardLast4:r.cardLast4||null,bankName:r.bankName||null}))};return console.log("Submitting sale:",JSON.stringify(t,null,2)),xr.post("/orders",t)},getSaleById:e=>xr.get(`/sales/${e}`),getLastInvoiceNumber:e=>xr.get("/sales/last-invoice",{params:{branchId:e}}),getSales:e=>xr.get("/sales",{params:e}),getHeldBills:e=>xr.get("/sales/held",{params:{branchId:e}}),holdBill:e=>xr.post("/sales/hold",e),recallBill:e=>xr.post(`/sales/${e}/recall`),voidSale:(e,t,r)=>xr.post(`/sales/${e}/void`,{reason:t,supervisorUsername:r.username,supervisorPassword:r.password}),getReturnableSales:(e=7)=>xr.get("/sales/returnable",{params:{days:e}}),getSaleForReturn:e=>xr.get(`/sales/invoice/${e}`),processReturn:e=>xr.post("/returns",{saleId:e.saleId,branchId:e.branchId,reason:e.reason,refundMethod:e.refundMethod,items:e.items,supervisorUsername:e.supervisorUsername,supervisorPassword:e.supervisorPassword}),findCustomer:e=>xr.get("/customers/search",{params:{query:e}}),findCustomerByCode:e=>xr.get(`/customers/code/${e}`),createCustomer:e=>xr.post("/customers",{name:e.name,phone:e.phone,email:e.email||null,address:e.address||null,city:e.city||null,dateOfBirth:e.dateOfBirth||null}),updateLoyaltyPoints:(e,t)=>xr.patch(`/customers/${e}/loyalty`,{points:t}),recordCashFlow:e=>xr.post("/cash-flows",{shiftId:e.shiftId,amount:e.amount,type:e.type,reason:e.reason,referenceNo:e.referenceNo||null}),getShiftCashFlows:e=>xr.get(`/cash-flows/shift/${e}`),getTerminal:e=>xr.get(`/terminals/${e}`),getTerminals:e=>xr.get("/terminals",{params:{branchId:e}}),requestDiscountApproval:e=>xr.post("/approvals/discount",{branchId:e.branchId,saleId:e.saleId,discountAmount:e.discountAmount,discountPercent:e.discountPercent,reason:e.reason}),verifySupervisor:e=>xr.post("/auth/verify-supervisor",e),getShiftReport:e=>xr.get(`/reports/shift/${e}`),getDailySummary:(e,t)=>xr.get("/reports/daily",{params:{branchId:e,date:t}})};function $q({inputRef:e,inputBuffer:t,setInputBuffer:r,onScan:n,onOpenModal:s,onVoid:i,onAction:c,isEnabled:u,onSelectProduct:d}){const[f,m]=v.useState([]),[p,g]=v.useState(!1),[b,y]=v.useState(-1),N=v.useRef(null),j=v.useRef(null);v.useEffect(()=>{if(j.current&&clearTimeout(j.current),!t||t.trim().length<2){m([]),g(!1);return}return j.current=setTimeout(async()=>{try{const E=await an.searchInventory(t.trim()),k=E.data?.data||E.data||[],T=Array.isArray(k)?k.slice(0,8):[];m(T),g(T.length>0),y(-1)}catch(E){console.error("Search error:",E),m([]),g(!1)}},300),()=>{j.current&&clearTimeout(j.current)}},[t]),v.useEffect(()=>{if(b>=0&&N.current){const k=N.current.children[b];k&&k.scrollIntoView({block:"nearest",behavior:"smooth"})}},[b]);const S=E=>{if(!p||f.length===0){E.key==="Enter"&&n();return}E.key==="ArrowDown"?(E.preventDefault(),y(k=>{const T=k+1;return T>=f.length?0:T})):E.key==="ArrowUp"?(E.preventDefault(),y(k=>{const T=k-1;return T<0?f.length-1:T})):E.key==="Enter"?(E.preventDefault(),b>=0&&f[b]?_(f[b]):n()):E.key==="Escape"&&(g(!1),m([]))},_=E=>{r(""),m([]),g(!1),y(-1),d&&d(E)};return a.jsxs("div",{className:"w-4/12 bg-slate-50 flex flex-col h-full border-r border-slate-200 z-10",children:[a.jsxs("div",{className:"p-3 bg-white border-b border-slate-200 shrink-0 relative",children:[a.jsxs("div",{className:"flex gap-0 rounded-md shadow-sm border border-blue-300 overflow-hidden h-14",children:[a.jsx("div",{className:"bg-blue-50 px-3 flex items-center border-r border-blue-200",children:a.jsx(EF,{className:"w-6 h-6 text-blue-700"})}),a.jsx("input",{ref:e,type:"text",value:t,onChange:E=>r(E.target.value),onKeyDown:S,onFocus:()=>f.length>0&&g(!0),onBlur:()=>setTimeout(()=>g(!1),200),className:"flex-1 px-3 text-xl font-mono text-slate-800 focus:outline-none focus:bg-white transition font-bold",placeholder:"Scan / PLU...",disabled:!u,autoComplete:"off"}),a.jsx("button",{onClick:n,className:"bg-blue-600 text-white px-5 font-bold hover:bg-blue-700 transition active:bg-blue-800 text-sm tracking-wide",children:"ENTER"})]}),p&&f.length>0&&a.jsx("div",{ref:N,className:"absolute left-3 right-3 top-[72px] bg-white border border-slate-300 rounded-lg shadow-xl z-50 max-h-64 overflow-y-auto",children:f.map((E,k)=>a.jsxs("div",{className:`px-3 py-2 cursor-pointer border-b border-slate-100 last:border-0 flex justify-between items-center transition-colors ${k===b?"bg-blue-50":"hover:bg-slate-50"}`,onMouseDown:()=>_(E),onMouseEnter:()=>y(k),children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-slate-800 text-sm truncate",children:E.name||E.productName}),a.jsx("div",{className:"text-xs text-slate-500 font-mono",children:E.sku||E.barcode})]}),a.jsx("div",{className:"text-right ml-2",children:a.jsxs("div",{className:"font-bold text-green-600 text-sm",children:["LKR ",parseFloat(E.sellingPrice||E.price||0).toFixed(2)]})})]},E.productId||E.id||k))})]}),a.jsxs("div",{className:"flex-1 flex flex-col p-2 gap-2 overflow-hidden min-h-0",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2 flex-[2] min-h-0",children:[a.jsxs("button",{onClick:()=>s("PRICE_CHECK"),className:"bg-white border-2 border-slate-200 rounded-lg shadow-sm hover:bg-slate-50 flex flex-col items-center justify-center p-1 transition-colors h-full active:scale-95",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Price Check"}),a.jsx("span",{className:"text-slate-400 text-[10px] font-mono",children:"(F1)"})]}),a.jsxs("button",{onClick:i,className:"bg-red-50 border-2 border-red-200 rounded-lg shadow-sm hover:bg-red-100 flex flex-col items-center justify-center p-1 transition-colors h-full active:scale-95",children:[a.jsx("span",{className:"text-sm font-bold text-red-700",children:"Void Item"}),a.jsx("span",{className:"text-red-600/60 text-[10px] font-mono",children:"(Del)"})]}),a.jsxs("button",{onClick:()=>c("RECALL"),className:"col-span-2 bg-white border-2 border-slate-200 rounded-lg shadow-sm hover:bg-slate-50 flex flex-col items-center justify-center p-1 transition-colors h-full active:scale-95",children:[a.jsx("span",{className:"text-sm font-bold text-slate-700",children:"Recall Bill"}),a.jsx("span",{className:"text-slate-400 text-[10px] font-mono",children:"(F3)"})]}),a.jsxs("button",{onClick:()=>c("CANCEL"),className:"col-span-2 bg-red-50 border-2 border-red-200 rounded-lg shadow-sm hover:bg-red-100 flex flex-col items-center justify-center p-1 transition-colors h-full active:scale-95",children:[a.jsx("span",{className:"text-sm font-bold text-red-700",children:"Cancel Transaction"}),a.jsx("span",{className:"text-red-600/60 text-[10px] font-mono",children:"(F4)"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 h-14 shrink-0",children:[a.jsxs("button",{onClick:()=>c("HOLD"),className:"bg-yellow-50 border border-yellow-200 rounded shadow-sm hover:bg-yellow-100 flex items-center justify-center gap-1 h-full active:scale-95",children:[a.jsx(Fz,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"text-xs font-bold text-yellow-800",children:"Hold"})]}),a.jsxs("button",{onClick:()=>c("RETURN"),className:"bg-rose-50 border border-rose-200 rounded shadow-sm hover:bg-rose-100 flex items-center justify-center gap-1 h-full active:scale-95",children:[a.jsx(k8,{className:"w-4 h-4 text-rose-600"}),a.jsx("span",{className:"text-xs font-bold text-rose-800",children:"Return"})]}),a.jsxs("button",{onClick:()=>window.location.reload(),className:"bg-blue-50 border border-blue-200 rounded shadow-sm hover:bg-blue-100 flex items-center justify-center gap-1 h-full active:scale-95",children:[a.jsx(AF,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-xs font-bold text-blue-800",children:"Reset"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 flex-1 min-h-0",children:[a.jsx("button",{onClick:()=>s("PAID_IN"),className:"bg-slate-100 border border-slate-200 rounded shadow-sm hover:bg-slate-200 flex items-center justify-center h-full active:scale-95",children:a.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Paid In"})}),a.jsx("button",{onClick:()=>s("PAID_OUT"),className:"bg-slate-100 border border-slate-200 rounded shadow-sm hover:bg-slate-200 flex items-center justify-center h-full active:scale-95",children:a.jsx("span",{className:"text-xs font-bold text-slate-700",children:"Paid Out"})}),a.jsx("button",{onClick:()=>s("LOYALTY"),className:"bg-purple-50 border border-purple-200 rounded shadow-sm hover:bg-purple-100 flex items-center justify-center h-full active:scale-95",children:a.jsx("span",{className:"text-xs font-bold text-purple-800",children:"Loyalty"})}),a.jsx("button",{onClick:()=>s("REGISTER"),className:"bg-purple-50 border border-purple-200 rounded shadow-sm hover:bg-purple-100 flex items-center justify-center h-full active:scale-95",children:a.jsx("span",{className:"text-xs font-bold text-purple-800",children:"Register"})})]})]}),a.jsxs("div",{className:"mt-auto p-3 border-t border-slate-300 bg-white shrink-0 shadow-[0_-4px_10px_rgba(0,0,0,0.05)]",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[a.jsxs("button",{className:"h-10 bg-slate-50 border border-slate-300 rounded shadow-sm flex items-center justify-center gap-1 hover:bg-slate-100 active:scale-95",children:[a.jsx(tf,{className:"w-4 h-4 text-slate-600"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-700",children:"Print"})]}),a.jsxs("button",{className:"h-10 bg-slate-50 border border-slate-300 rounded shadow-sm flex items-center justify-center gap-1 hover:bg-slate-100 active:scale-95",children:[a.jsx(_z,{className:"w-4 h-4 text-slate-600"}),a.jsx("span",{className:"text-[10px] font-bold text-slate-700",children:"No Sale"})]}),a.jsxs("button",{onClick:()=>s("DISCOUNT"),className:"h-10 bg-yellow-50 border border-yellow-200 rounded shadow-sm flex items-center justify-center gap-1 hover:bg-yellow-100 active:scale-95",children:[a.jsx(Uh,{className:"w-4 h-4 text-yellow-600"}),a.jsx("span",{className:"text-[10px] font-bold text-yellow-800",children:"Disc"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:()=>c("PAY_CASH"),className:"h-20 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl shadow-[0_4px_0_rgb(21,128,61)] active:shadow-none active:translate-y-[4px] flex flex-col items-center justify-center transition-all col-span-2 border border-green-400/20",children:[a.jsx("span",{className:"font-bold text-3xl tracking-wider drop-shadow-sm",children:"CASH"}),a.jsx("span",{className:"text-xs opacity-90 uppercase font-mono mt-0.5 font-bold tracking-widest bg-black/10 px-2 rounded",children:"Space"})]}),a.jsxs("button",{onClick:()=>c("PAY_CARD"),className:"h-16 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl shadow-[0_4px_0_rgb(29,78,216)] active:shadow-none active:translate-y-[4px] flex flex-col items-center justify-center transition-all border border-blue-400/20",children:[a.jsx("span",{className:"font-bold text-xl tracking-wider drop-shadow-sm",children:"CARD"}),a.jsx("span",{className:"text-[10px] opacity-90 uppercase font-mono mt-0.5 font-bold bg-black/10 px-2 rounded",children:"F10"})]}),a.jsxs("button",{onClick:()=>c("PAY_QR"),className:"h-16 bg-gradient-to-r from-slate-700 to-slate-800 hover:from-slate-800 hover:to-slate-900 text-white rounded-xl shadow-[0_4px_0_rgb(15,23,42)] active:shadow-none active:translate-y-[4px] flex flex-col items-center justify-center transition-all border border-slate-600/20",children:[a.jsx("span",{className:"font-bold text-xl tracking-wider drop-shadow-sm",children:"QR"}),a.jsx("span",{className:"text-[10px] opacity-90 uppercase font-mono mt-0.5 font-bold bg-black/10 px-2 rounded",children:"F11"})]})]})]})]})}const x6="pos_quick_pick_items";function Hq({onAddToCart:e,onAddQuickItemClick:t,refreshTrigger:r,branchId:n}){const[s,i]=v.useState([]),[c,u]=v.useState(!1),[d,f]=v.useState(!1);v.useEffect(()=>{m()},[r]);const m=()=>{u(!0);try{const j=localStorage.getItem(x6);if(j){const S=JSON.parse(j);i(Array.isArray(S)?S:[])}else i([])}catch(j){console.error("Failed to load quick items from storage",j),i([])}finally{u(!1)}},p=j=>{try{localStorage.setItem(x6,JSON.stringify(j)),i(j)}catch(S){console.error("Failed to save quick items",S)}},g=j=>{const S=s.filter(_=>_.id!==j);p(S)},b=()=>{p([]),f(!1)},y=j=>{e(j)},N=j=>j.toLocaleString("en-LK",{minimumFractionDigits:2,maximumFractionDigits:2});return a.jsxs("div",{className:"flex-1 bg-slate-100 p-4 overflow-y-auto custom-scroll",children:[a.jsxs("div",{className:"mb-3 flex justify-between items-center",children:[a.jsxs("h2",{className:"text-sm font-bold text-slate-500 uppercase tracking-widest flex items-center gap-2",children:[a.jsx(Ln,{className:"w-4 h-4"})," Quick Pick Items",a.jsx("span",{className:"text-[10px] bg-slate-200 px-1.5 py-0.5 rounded-full text-slate-600",children:s.length})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[c&&a.jsx(_r,{className:"w-4 h-4 text-blue-500 animate-spin"}),s.length>0&&a.jsx("button",{onClick:()=>f(!d),className:`text-xs font-bold px-2 py-1 rounded transition-colors ${d?"bg-red-100 text-red-600 hover:bg-red-200":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,children:d?"Done":"Edit"}),d&&s.length>0&&a.jsxs("button",{onClick:b,className:"text-xs font-bold px-2 py-1 rounded bg-red-600 text-white hover:bg-red-700 flex items-center gap-1",children:[a.jsx(ni,{className:"w-3 h-3"})," Clear All"]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3 content-start",children:[s.map(j=>a.jsxs("div",{className:"relative",children:[d&&a.jsx("button",{onClick:()=>g(j.id),className:"absolute -top-2 -right-2 z-10 w-6 h-6 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors",children:a.jsx(Qt,{className:"w-4 h-4"})}),a.jsxs("button",{onClick:()=>!d&&y(j),disabled:d,className:`w-full bg-white border rounded-xl p-3 h-28 flex flex-col justify-between shadow-sm transition-all active:scale-[0.98] group ${d?"border-red-200 bg-red-50 cursor-default animate-pulse":"border-slate-200 hover:shadow-md hover:border-blue-400 hover:bg-blue-50"}`,children:[a.jsx("div",{className:"w-full flex justify-between items-start",children:a.jsx("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded group-hover:bg-white group-hover:text-blue-500 transition-colors font-mono",children:j.sku||`P${j.id}`})}),a.jsx("div",{className:"text-sm font-bold text-slate-700 leading-tight line-clamp-2 group-hover:text-blue-700 text-left",children:j.name}),a.jsx("div",{className:"w-full flex justify-end",children:a.jsx("span",{className:"text-sm font-mono font-bold text-slate-900 bg-slate-100 px-2 py-1 rounded group-hover:bg-blue-600 group-hover:text-white transition-colors",children:N(j.price)})})]})]},j.id)),a.jsxs("button",{onClick:t,className:"border-2 border-dashed border-slate-300 rounded-xl p-3 h-28 flex flex-col items-center justify-center gap-2 text-slate-400 hover:text-blue-600 hover:border-blue-400 hover:bg-blue-50 transition-all active:scale-[0.98]",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center",children:a.jsx(Oi,{className:"w-6 h-6"})}),a.jsx("span",{className:"text-xs font-bold uppercase tracking-wide",children:"Add item"})]})]}),!c&&s.length===0&&a.jsxs("div",{className:"text-center py-8 text-slate-400",children:[a.jsx(Ln,{className:"w-12 h-12 mx-auto mb-2 opacity-30"}),a.jsx("p",{className:"text-sm",children:"No quick pick items yet"}),a.jsx("p",{className:"text-xs mt-1",children:'Click "Add item" to search and add products'})]})]})}const Gq="http://localhost:8080/api/v1/grn-payments",no=Tn.create({baseURL:Gq,headers:{"Content-Type":"application/json"}});no.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));no.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)));const ao={getPaymentRequestsByBranch:e=>no.get("/branch",{params:{branchId:e}}),getPendingCount:e=>no.get("/branch/pending-count",{params:{branchId:e}}),getPaymentRequestsByStatus:e=>no.get(`/status/${e}`),getManagerPaymentRequests:()=>no.get("/manager"),getManagerPendingCount:()=>no.get("/manager/pending-count"),getPaymentRequestById:e=>no.get(`/${e}`),transferToManager:(e,t)=>no.post(`/${e}/transfer-to-manager`,{supervisorUsername:t.supervisorUsername,supervisorPassword:t.supervisorPassword,notes:t.notes,priority:t.priority}),requestPayout:(e,t)=>no.post(`/${e}/transfer-to-manager`,{supervisorUsername:t.supervisorUsername,supervisorPassword:t.supervisorPassword,notes:`[PAYOUT REQUEST] Payment Method: ${t.paymentMethod}${t.paymentReference?` | Ref: ${t.paymentReference}`:""}
${t.notes||""}`.trim(),priority:"HIGH"}),processPayment:(e,t)=>no.post(`/${e}/process-payment`,{paymentMethod:t.paymentMethod,paymentReference:t.paymentReference,amountPaid:t.amountPaid,notes:t.notes}),rejectRequest:(e,t)=>no.post(`/${e}/reject`,{reason:t})},nP=v.createContext();function TN({children:e}){const[t,r]=v.useState([]),[n,s]=v.useState([]),[i,c]=v.useState(!1),[u,d]=v.useState(0),[f,m]=v.useState(!1);v.useEffect(()=>{const j=localStorage.getItem("pos_notifications");if(j)try{const S=JSON.parse(j),_=(S.list||[]).map(E=>({...E,time:new Date(E.time)}));r(_),d(S.unread||0)}catch(S){console.error("Failed to load notifications",S)}m(!0)},[]),v.useEffect(()=>{f&&localStorage.setItem("pos_notifications",JSON.stringify({list:t,unread:u}))},[t,u,f]);const p=v.useCallback((j,S,_)=>{const E=Date.now(),k={id:E,type:j,title:S,message:_,time:new Date,read:!1};r(T=>[k,...T].slice(0,50)),d(T=>T+1),s(T=>[...T.slice(-2),k]),setTimeout(()=>{s(T=>T.filter(D=>D.id!==E))},4e3)},[]),g=()=>{r(j=>j.map(S=>({...S,read:!0}))),d(0)},b=()=>{r([]),d(0),localStorage.removeItem("pos_notifications")},y=j=>{r(S=>{const _=S.map(k=>k.id===j?{...k,read:!0}:k),E=_.filter(k=>!k.read).length;return d(E),_})},N=j=>{r(S=>{const _=S.filter(k=>k.id!==j),E=_.filter(k=>!k.read).length;return d(E),_})};return a.jsxs(nP.Provider,{value:{notifications:t,unreadCount:u,isOpen:i,setIsOpen:c,addNotification:p,markAllRead:g,clearNotifications:b,markAsRead:y,removeNotification:N},children:[e,a.jsx("div",{className:"fixed bottom-6 right-6 z-[100] flex flex-col gap-3 pointer-events-none",children:n.map(j=>a.jsxs("div",{className:"animate-in slide-in-from-right fade-in duration-300 pointer-events-auto bg-white border border-slate-200 shadow-2xl rounded-lg p-4 w-80 flex items-start gap-3 border-l-4",style:{borderLeftColor:j.type==="success"?"#22C55E":j.type==="error"?"#EF4444":"#3B82F6"},children:[a.jsx("div",{className:`mt-0.5 ${j.type==="success"?"text-green-500":j.type==="error"?"text-red-500":"text-blue-500"}`,children:j.type==="success"?a.jsx(Xr,{className:"w-5 h-5"}):j.type==="error"?a.jsx(ra,{className:"w-5 h-5"}):a.jsx(Z0,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-slate-800 text-sm",children:j.title}),a.jsx("p",{className:"text-slate-500 text-xs mt-0.5",children:j.message})]}),a.jsx("button",{onClick:()=>s(S=>S.filter(_=>_.id!==j.id)),className:"text-slate-400 hover:text-slate-600",children:a.jsx(Qt,{className:"w-4 h-4"})})]},j.id))})]})}const ap=()=>{const e=v.useContext(nP);if(!e)throw new Error("useNotification must be used within a NotificationProvider");return e},aP=()=>{const{notifications:e,unreadCount:t,isOpen:r,setIsOpen:n,markAsRead:s,markAllRead:i,removeNotification:c,clearNotifications:u}=ap();if(!r)return null;const d=m=>{switch(m){case"success":return a.jsx(kg,{className:"text-green-600",size:20});case"error":return a.jsx(Cs,{className:"text-red-600",size:20});case"warning":return a.jsx(Cs,{className:"text-yellow-600",size:20});default:return a.jsx(Z0,{className:"text-blue-600",size:20})}},f=m=>{const p=new Date(m),b=new Date-p,y=Math.floor(b/6e4),N=Math.floor(b/36e5),j=Math.floor(b/864e5);return y<1?"Just now":y<60?`${y}m ago`:N<24?`${N}h ago`:`${j}d ago`};return a.jsx("div",{className:"fixed inset-0 z-[9999] flex items-start justify-end p-4 pointer-events-none",children:a.jsxs("div",{className:"pointer-events-auto w-full max-w-md bg-white rounded-lg shadow-2xl border border-gray-200 animate-in slide-in-from-right-5 fade-in duration-300",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bh,{size:20,className:"text-gray-700"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"}),t>0&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold bg-red-500 text-white rounded-full",children:t})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[e.length>0&&a.jsxs(a.Fragment,{children:[t>0&&a.jsx("button",{onClick:i,className:"text-xs text-blue-600 hover:text-blue-700 font-medium",children:"Mark all read"}),a.jsx("button",{onClick:u,className:"text-xs text-gray-600 hover:text-gray-700 font-medium",children:"Clear all"})]}),a.jsx("button",{onClick:()=>n(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Qt,{size:20})})]})]}),a.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:e.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(Bh,{size:48,className:"mx-auto mb-2 text-gray-300"}),a.jsx("p",{children:"No notifications"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:e.map(m=>a.jsx("div",{className:`p-4 hover:bg-gray-50 transition-colors ${m.read?"":"bg-blue-50"}`,onClick:()=>!m.read&&s(m.id),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:d(m.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.title}),m.message&&a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f(m.time)})]}),a.jsx("button",{onClick:p=>{p.stopPropagation(),c(m.id)},className:"flex-shrink-0 text-gray-400 hover:text-gray-600",children:a.jsx(Qt,{size:16})})]})},m.id))})})]})})};function Kq({onClose:e}){const[t,r]=v.useState(""),[n,s]=v.useState(null),[i,c]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState([]),[p,g]=v.useState(!1),[b,y]=v.useState(-1),N=v.useRef(null),j=v.useRef(null),S=v.useRef(null);v.useEffect(()=>{N.current?.focus()},[]),v.useEffect(()=>{if(S.current&&clearTimeout(S.current),!t||t.trim().length<2){m([]),g(!1);return}return S.current=setTimeout(async()=>{try{const T=await an.searchInventory(t.trim()),D=T.data?.data||T.data||[],M=Array.isArray(D)?D.slice(0,6):[];m(M),g(M.length>0),y(-1)}catch(T){console.error("Search error:",T),m([]),g(!1)}},300),()=>{S.current&&clearTimeout(S.current)}},[t]);const _=T=>{m([]),g(!1),y(-1),r(""),c(!1);const D=T.sellingPrice??T.price??T.unitPrice??0,M=T.stockQty??T.quantity??T.stock??0;s({id:T.productId||T.id||T.sku||T.barcode,name:T.name||T.productName||"Unknown Product",price:parseFloat(D)||0,sku:T.sku,barcode:T.barcode,stockQty:parseInt(M)||0,inStock:M>0||T.inStock!==!1})};v.useEffect(()=>{if(b>=0&&j.current){const D=j.current.children[b];D&&D.scrollIntoView({block:"nearest",behavior:"smooth"})}},[b]);const E=T=>{!p||f.length===0||(T.key==="ArrowDown"?(T.preventDefault(),y(D=>{const M=D+1;return M>=f.length?0:M})):T.key==="ArrowUp"?(T.preventDefault(),y(D=>{const M=D-1;return M<0?f.length-1:M})):T.key==="Enter"?b>=0&&f[b]&&(T.preventDefault(),_(f[b])):T.key==="Escape"&&(g(!1),m([])))},k=async T=>{if(T?.preventDefault(),!!t.trim()){if(b>=0&&f[b]){_(f[b]);return}d(!0),c(!1),s(null),m([]),g(!1);try{const D=await an.checkPrice(t.trim()),M=D.data?.data||D.data;if(console.log("Price check result:",M),M){const R=M.sellingPrice??M.price??M.unitPrice??0,B=M.stockQty??M.quantity??M.stock??0;s({id:M.productId||M.id||M.sku||M.barcode,name:M.name||M.productName||"Unknown Product",price:parseFloat(R)||0,sku:M.sku,barcode:M.barcode,stockQty:parseInt(B)||0,inStock:B>0||M.inStock!==!1})}else c(!0)}catch(D){console.error("Price check error:",D),c(!0)}d(!1),r("")}};return a.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-slate-900/50 backdrop-blur-[2px]",children:a.jsxs("div",{className:"bg-white w-[480px] rounded-xl shadow-2xl transform transition-all",children:[a.jsxs("div",{className:"bg-slate-800 px-5 py-4 flex justify-between items-center rounded-t-xl",children:[a.jsxs("h3",{className:"text-white font-bold text-xl flex items-center gap-2",children:[a.jsx(ji,{className:"w-6 h-6 text-blue-400"})," Price Verifier"]}),a.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Qt,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Scan Item / Enter Code"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx("form",{onSubmit:k,children:a.jsxs("div",{className:"flex gap-0 border-2 border-slate-300 rounded-lg overflow-hidden focus-within:border-blue-500 transition-colors",children:[a.jsx("input",{ref:N,type:"text",value:t,onChange:T=>r(T.target.value),onKeyDown:E,onFocus:()=>f.length>0&&g(!0),onBlur:()=>setTimeout(()=>g(!1),200),className:"flex-1 px-4 py-3 text-xl font-mono font-bold focus:outline-none text-slate-800",placeholder:"Type to search...",autoComplete:"off"}),a.jsx("button",{type:"submit",disabled:u,className:"bg-blue-600 text-white px-5 font-bold hover:bg-blue-700 transition-colors",children:u?"...":a.jsx(Aa,{className:"w-6 h-6"})})]})}),p&&f.length>0&&a.jsx("div",{ref:j,className:"absolute left-0 right-0 top-full mt-1 bg-white border-2 border-slate-300 rounded-lg shadow-2xl z-[100] max-h-80 overflow-y-auto",children:f.map((T,D)=>a.jsxs("div",{className:`px-4 py-3 cursor-pointer border-b border-slate-100 last:border-0 flex justify-between items-center transition-colors ${D===b?"bg-blue-100":"hover:bg-slate-50"}`,onMouseDown:()=>_(T),onMouseEnter:()=>y(D),children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-semibold text-slate-800 truncate",children:T.name||T.productName}),a.jsx("div",{className:"text-sm text-slate-500 font-mono mt-0.5",children:T.sku||T.barcode})]}),a.jsx("div",{className:"text-right ml-3",children:a.jsxs("div",{className:"font-bold text-green-600 text-lg",children:["LKR ",parseFloat(T.sellingPrice||T.price||0).toFixed(2)]})})]},T.productId||T.id||D))})]}),n&&a.jsxs("div",{className:"text-center space-y-4 pt-4 fade-enter-active",children:[a.jsx("div",{className:"text-sm font-bold text-slate-500 uppercase tracking-wider",children:"Item Price"}),a.jsxs("div",{className:"text-6xl font-bold font-mono text-slate-900",children:[a.jsx("span",{className:"text-3xl align-top text-slate-400",children:"LKR"})," ",(n.price||0).toFixed(2)]}),a.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200 text-left",children:[a.jsx("div",{className:"text-base font-bold text-slate-800 leading-tight mb-2",children:n.name}),a.jsxs("div",{className:"flex justify-between items-center mt-3",children:[a.jsx("span",{className:"text-sm font-mono text-slate-600 bg-white px-3 py-1 rounded-lg border border-slate-200",children:n.sku||n.barcode||n.id}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:`text-sm font-bold px-3 py-1 rounded-lg ${n.stockQty>10?"bg-green-100 text-green-700":n.stockQty>0?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[n.stockQty," units"]}),a.jsxs("span",{className:`text-sm font-bold flex items-center gap-1.5 ${n.inStock?"text-green-600":"text-red-600"}`,children:[a.jsx(Ln,{className:"w-4 h-4"})," ",n.inStock?"In Stock":"Out of Stock"]})]})]})]})]}),i&&a.jsxs("div",{className:"text-center py-8 fade-enter-active",children:[a.jsx(Cs,{className:"w-16 h-16 text-red-300 mx-auto mb-3"}),a.jsx("p",{className:"text-red-600 font-bold text-lg",children:"Item Not Found"}),a.jsx("p",{className:"text-sm text-red-400 mt-1",children:"Check the code and try again."})]})]})]})})}function Vq({onClose:e,onAttach:t}){const[r,n]=v.useState(""),[s,i]=v.useState([]),[c,u]=v.useState(-1),[d,f]=v.useState(!1),[m,p]=v.useState(null),[g,b]=v.useState(!1),[y,N]=v.useState(null),j=v.useRef(null);v.useEffect(()=>{j.current?.focus()},[]),v.useEffect(()=>{const T=setTimeout(async()=>{if(!r.trim()||m){i([]);return}try{const D=await an.findCustomer(r.trim()),M=D.data?.data||D.data,R=Array.isArray(M)?M:M?[M]:[];i(R),f(R.length>0),u(-1)}catch(D){console.debug("Suggestion search failed",D)}},300);return()=>clearTimeout(T)},[r,m]);const S=T=>{p({id:T.customerId||T.id,code:T.code,name:T.name,phone:T.phone,email:T.email,address:T.address,city:T.city,loyaltyPoints:T.loyaltyPoints||T.loyalty_points||0,totalPurchases:T.totalPurchases||T.total_purchases||0,isActive:T.isActive!==!1}),i([]),f(!1),n("")},_=async T=>{if(T?.preventDefault(),!!r.trim()){b(!0),N(null),i([]);try{const D=await an.findCustomer(r.trim()),M=D.data?.data||D.data;if(!M||Array.isArray(M)&&M.length===0){N("Customer not found"),p(null);return}const R=Array.isArray(M)?M[0]:M;S(R)}catch(D){console.error("Customer search failed:",D),N("Customer not found. Try a different query."),p(null)}finally{b(!1)}}},E=T=>{d&&s.length>0?T.key==="ArrowDown"?(T.preventDefault(),u(D=>D<s.length-1?D+1:0)):T.key==="ArrowUp"?(T.preventDefault(),u(D=>D>0?D-1:s.length-1)):T.key==="Enter"?(T.preventDefault(),c>=0?S(s[c]):_(T)):T.key==="Escape"&&f(!1):T.key==="Enter"&&m&&(T.preventDefault(),t(m))},k=T=>T>=1e3?{name:"PLATINUM",color:"text-purple-700",bg:"bg-purple-100"}:T>=500?{name:"GOLD",color:"text-yellow-700",bg:"bg-yellow-100"}:T>=100?{name:"SILVER",color:"text-slate-600",bg:"bg-slate-100"}:{name:"BRONZE",color:"text-orange-600",bg:"bg-orange-100"};return a.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-slate-900/50 backdrop-blur-[2px]",children:a.jsxs("div",{className:"bg-white w-[420px] rounded-xl shadow-2xl overflow-hidden min-h-[400px] flex flex-col",children:[a.jsxs("div",{className:"bg-purple-900 px-4 py-3 flex justify-between items-center shrink-0",children:[a.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[a.jsx(qw,{className:"w-5 h-5 text-yellow-400"})," Loyalty Lookup"]}),a.jsx("button",{onClick:e,className:"text-purple-300 hover:text-white transition-colors",children:a.jsx(Qt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-5 flex-1 relative",children:[a.jsxs("div",{className:"relative z-20",children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Customer Phone or Name"}),a.jsxs("form",{onSubmit:_,className:"flex gap-2 mb-2",children:[a.jsxs("div",{className:"flex-1 flex items-center border border-slate-300 rounded-lg px-3 focus-within:border-purple-500 focus-within:ring-2 focus-within:ring-purple-100 bg-white",children:[a.jsx(Aa,{className:"w-4 h-4 text-slate-400 mr-2"}),a.jsx("input",{ref:j,type:"text",value:r,onChange:T=>{n(T.target.value),p(null)},onKeyDown:E,className:"flex-1 py-2 text-sm font-mono focus:outline-none bg-transparent",placeholder:"Search by phone or name...",autoComplete:"off"})]}),a.jsx("button",{type:"submit",disabled:g||!r.trim(),className:"bg-purple-600 text-white px-4 py-2 rounded-lg font-bold text-sm hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?a.jsx(_r,{className:"w-4 h-4 animate-spin"}):a.jsx(Q0,{className:"w-4 h-4"})})]}),d&&s.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-slate-200 rounded-lg shadow-xl max-h-60 overflow-y-auto z-30",children:s.map((T,D)=>a.jsxs("div",{onClick:()=>S(T),className:`px-4 py-3 cursor-pointer border-b border-slate-50 last:border-none flex justify-between items-center transition-colors ${D===c?"bg-purple-50":"hover:bg-slate-50"}`,children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-slate-700 text-sm",children:T.name}),a.jsx("div",{className:"text-xs text-slate-500 font-mono",children:T.phone})]}),a.jsx("div",{className:"text-right",children:a.jsx("span",{className:`text-[10px] font-bold px-1.5 py-0.5 rounded ${k(T.loyaltyPoints).bg} ${k(T.loyaltyPoints).color}`,children:k(T.loyaltyPoints).name})})]},T.id||T.customerId||D))})]}),y&&a.jsx("div",{className:"bg-red-50 border border-red-100 rounded-lg p-3 mb-4 text-center mt-4",children:a.jsx("p",{className:"text-red-600 text-sm",children:y})}),m&&a.jsxs("div",{className:"bg-purple-50 border border-purple-100 rounded-lg p-4 animate-in fade-in duration-200 mt-4 relative z-10",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"bg-purple-200 p-2.5 rounded-full",children:a.jsx(uo,{className:"w-6 h-6 text-purple-700"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:m.name}),m.code&&a.jsx("span",{className:"text-xs font-mono text-slate-500 bg-white px-2 py-0.5 rounded border border-slate-200",children:m.code}),a.jsxs("div",{className:"mt-2 space-y-1 text-xs text-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(zg,{className:"w-3 h-3 text-slate-400"}),m.phone]}),m.email&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(NN,{className:"w-3 h-3 text-slate-400"}),m.email]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-1 text-purple-600 mb-1",children:[a.jsx(zh,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Points"})]}),a.jsx("div",{className:"font-mono font-bold text-lg text-purple-700",children:m.loyaltyPoints.toLocaleString()})]}),a.jsxs("div",{className:"bg-white rounded-lg p-2 border border-purple-200",children:[a.jsx("div",{className:"text-[10px] font-bold uppercase text-slate-500 mb-1",children:"Tier"}),a.jsx("div",{className:`font-bold text-sm ${k(m.loyaltyPoints).color}`,children:a.jsx("span",{className:`px-2 py-0.5 rounded ${k(m.loyaltyPoints).bg}`,children:k(m.loyaltyPoints).name})})]})]}),m.totalPurchases>0&&a.jsxs("div",{className:"mt-2 text-xs text-slate-500",children:["Total Purchases: ",a.jsxs("span",{className:"font-mono font-bold text-slate-700",children:["LKR ",m.totalPurchases.toLocaleString()]})]})]})]}),a.jsxs("button",{onClick:()=>t(m),className:"w-full mt-4 bg-purple-600 hover:bg-purple-700 text-white py-2.5 rounded-lg text-sm font-bold uppercase tracking-wide flex items-center justify-center gap-2 transition-colors shadow-md focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 outline-none",children:[a.jsx(qw,{className:"w-4 h-4"})," Attach to Bill ",a.jsx("span",{className:"text-white/60 text-[10px] ml-1 font-mono",children:"(ENTER)"})]})]}),!m&&!y&&!g&&!r&&a.jsxs("div",{className:"text-center py-8 text-slate-400 mt-8",children:[a.jsx(uo,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),a.jsx("p",{className:"text-sm",children:"Start typing to search..."})]})]})]})})}function g6({type:e,shiftId:t,onClose:r,onNotify:n}){const s=v.useRef(null),[i,c]=v.useState(""),[u,d]=v.useState(""),[f,m]=v.useState(""),[p,g]=v.useState(!1),b=e==="PAID_IN",y=b?Gc:X0;v.useEffect(()=>{s.current?.focus()},[]);const N=async j=>{j.preventDefault();const S=parseFloat(i);if(!i||isNaN(S)||S<=0){n("error","Invalid Amount","Please enter a valid amount greater than 0.");return}if(!u.trim()){n("error","Reason Required","Please enter a reason for this transaction.");return}if(!t){n("error","No Active Shift","Cannot record cash flow without an active shift.");return}g(!0);try{await an.recordCashFlow({shiftId:t,amount:S,type:e,reason:u.trim(),referenceNo:f.trim()||null});const _=b?"Cash In Recorded":"Cash Out Recorded",E=`Amount: LKR ${S.toFixed(2)} | Reason: ${u}`;n("success",_,E),r()}catch(_){console.error("Cash flow error:",_);const E=_.response?.data?.message||"Failed to record cash flow";n("error","Transaction Failed",E),g(!1)}};return a.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-slate-900/50 backdrop-blur-[2px]",children:a.jsxs("div",{className:"bg-white w-[420px] rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:`px-4 py-3 flex justify-between items-center ${b?"bg-blue-900":"bg-red-900"}`,children:[a.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[a.jsx(y,{className:`w-5 h-5 ${b?"text-blue-300":"text-red-300"}`}),b?"Paid In (Cash In)":"Paid Out (Cash Out)"]}),a.jsx("button",{onClick:r,className:"text-white/60 hover:text-white",children:a.jsx(Qt,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[a.jsx("div",{className:`p-3 rounded-lg border ${b?"bg-blue-50 border-blue-100":"bg-red-50 border-red-100"}`,children:a.jsx("p",{className:`text-xs ${b?"text-blue-700":"text-red-700"}`,children:b?"Record cash being added to the register (e.g., change from bank, petty cash)":"Record cash being removed from the register (e.g., expenses, cash pickups)"})}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Amount *"}),a.jsxs("div",{className:`flex items-center border rounded-lg bg-white px-3 py-2 focus-within:ring-2 ${b?"border-blue-300 focus-within:border-blue-500 focus-within:ring-blue-100":"border-red-300 focus-within:border-red-500 focus-within:ring-red-100"}`,children:[a.jsx("span",{className:"text-slate-400 font-mono mr-2",children:"LKR"}),a.jsx("input",{ref:s,type:"number",step:"0.01",min:"0",value:i,onChange:j=>c(j.target.value),disabled:p,className:"bg-transparent w-full text-xl font-mono font-bold text-slate-900 focus:outline-none",placeholder:"0.00"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Reason / Description *"}),a.jsx("textarea",{rows:"2",value:u,onChange:j=>d(j.target.value),disabled:p,className:"w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",placeholder:"Enter reason for this transaction..."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:["Reference No. ",a.jsx("span",{className:"text-slate-400 font-normal",children:"(Optional)"})]}),a.jsx("input",{type:"text",value:f,onChange:j=>m(j.target.value),disabled:p,className:"w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",placeholder:"Receipt/Voucher number..."})]}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx("button",{type:"button",onClick:r,disabled:p,className:"flex-1 py-2.5 border border-slate-300 rounded-lg text-slate-700 font-bold text-sm hover:bg-slate-50 disabled:opacity-50 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:p,className:`flex-1 py-2.5 text-white rounded-lg font-bold text-sm shadow-md flex items-center justify-center gap-2 disabled:opacity-50 transition-colors ${b?"bg-blue-600 hover:bg-blue-700":"bg-red-600 hover:bg-red-700"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"w-4 h-4 animate-spin"})," Recording..."]}):a.jsxs(a.Fragment,{children:[a.jsx(y,{className:"w-4 h-4"})," Confirm ",b?"Paid In":"Paid Out"]})})]})]})]})})}function Wq({onClose:e}){const t=v.useRef(null),r=v.useRef(null),n=v.useRef(null),s=v.useRef(null),i=v.useRef(null),c=v.useRef(null),u=v.useRef(null),[d,f]=v.useState({name:"",phone:"",email:""}),[m,p]=v.useState(!1);v.useEffect(()=>{t.current?.focus()},[]);const g=(y,N)=>{y.key==="Enter"&&(y.preventDefault(),N?.current?.focus())},b=async y=>{y.preventDefault(),p(!0);try{await an.createCustomer(d),alert("New Customer Registered Successfully!"),e()}catch{alert("Failed to register customer.")}p(!1)};return a.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-slate-900/50 backdrop-blur-[2px]",children:a.jsxs("div",{className:"bg-white w-96 rounded-xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"bg-blue-900 px-4 py-3 flex justify-between items-center",children:[a.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[a.jsx(EN,{className:"w-5 h-5"})," New Customer"]}),a.jsx("button",{onClick:e,className:"text-blue-300 hover:text-white",children:a.jsx(Qt,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:b,className:"p-6 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Full Name"}),a.jsx("input",{ref:t,type:"text",required:!0,className:"w-full border border-slate-300 rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"John Doe",value:d.name,onChange:y=>f({...d,name:y.target.value}),onKeyDown:y=>g(y,r)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Phone Number"}),a.jsx("input",{ref:r,type:"text",required:!0,className:"w-full border border-slate-300 rounded px-3 py-2 text-sm font-mono focus:outline-none focus:border-blue-500",placeholder:"07XXXXXXXX",value:d.phone,onChange:y=>f({...d,phone:y.target.value}),onKeyDown:y=>g(y,n)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Email Address"}),a.jsx("input",{ref:n,type:"email",required:!0,className:"w-full border border-slate-300 rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"john@example.com",value:d.email,onChange:y=>f({...d,email:y.target.value}),onKeyDown:y=>g(y,s)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"City"}),a.jsx("input",{ref:s,type:"text",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Colombo",value:d.city||"",onChange:y=>f({...d,city:y.target.value}),onKeyDown:y=>g(y,i)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Date of Birth"}),a.jsx("input",{ref:i,type:"date",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-500",value:d.dateOfBirth||"",onChange:y=>f({...d,dateOfBirth:y.target.value}),onKeyDown:y=>g(y,c)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Address"}),a.jsx("textarea",{ref:c,rows:"2",className:"w-full border border-slate-300 rounded px-3 py-2 text-sm focus:outline-none focus:border-blue-500 resize-none",placeholder:"123, Main Street...",value:d.address||"",onChange:y=>f({...d,address:y.target.value}),onKeyDown:y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),u.current?.focus())}})]}),a.jsx("button",{ref:u,type:"submit",disabled:m,className:"w-full mt-2 bg-blue-600 text-white py-2.5 rounded font-bold text-sm hover:bg-blue-700 shadow-md focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 outline-none",children:m?"Creating...":"Create Account"})]})]})})}function Yq({title:e,message:t,onConfirm:r,onCancel:n,isAlert:s=!1}){return a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-[2px]",children:a.jsxs("div",{className:"bg-white w-80 rounded-lg shadow-2xl overflow-hidden transform transition-all scale-100",children:[a.jsxs("div",{className:"p-5 text-center",children:[a.jsx("div",{className:`mx-auto flex items-center justify-center h-12 w-12 rounded-full mb-4 ${s?"bg-green-100":"bg-yellow-100"}`,children:s?a.jsx(Xr,{className:"h-6 w-6 text-green-600"}):a.jsx(ra,{className:"h-6 w-6 text-yellow-600"})}),a.jsx("h3",{className:"text-lg leading-6 font-bold text-slate-900",children:e}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-slate-500 whitespace-pre-line",children:t})})]}),a.jsxs("div",{className:"bg-slate-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-2",children:[a.jsx("button",{onClick:r,className:`w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium text-white focus:outline-none sm:text-sm ${s?"bg-blue-600 hover:bg-blue-700":"bg-red-600 hover:bg-red-700"}`,children:s?"OK":"Yes, Proceed"}),!s&&a.jsx("button",{onClick:n,className:"mt-3 w-full inline-flex justify-center rounded-md border border-slate-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-slate-700 hover:bg-slate-50 focus:outline-none sm:mt-0 sm:text-sm",children:"No"})]})]})})}function Xq({type:e,onClose:t,onSelect:r,branchId:n}){const[s,i]=v.useState(""),[c,u]=v.useState([]),[d,f]=v.useState(!0),[m,p]=v.useState(null),[g,b]=v.useState(-1),y=Ju.useRef(null),N=e==="RECALL",j=N?"Recall Held Bill":"Return Sale",S=N?C0:k8;v.useEffect(()=>{_()},[e,n]);const _=async()=>{f(!0),p(null);try{let M;if(N)M=await an.getHeldBills(n);else{const K=new Date,U=new Date;U.setDate(U.getDate()-7),M=await an.getSales({branchId:n,status:"COMPLETED",limit:100,startDate:U.toISOString(),endDate:K.toISOString()})}const R=M.data?.data||M.data||[],B=(Array.isArray(R)?R:[]).map(K=>({id:K.saleId||K.id,invoiceNo:K.invoiceNo||K.invoice_no||K.id||`INV-${K.saleId}`,saleDate:K.saleDate||K.sale_date||K.createdAt||new Date,customerName:K.customer&&K.customer.name?K.customer.name:K.customerName||"Walk-in Customer",customerId:K.customerId||K.customer_id,itemCount:typeof K.items=="number"?K.items:K.itemCount||(K.items?K.items.length:0),grossTotal:parseFloat(K.grossTotal||K.gross_total||0),discountAmount:parseFloat(K.discountAmount||K.discount_amount||0),taxAmount:parseFloat(K.taxAmount||K.tax_amount||0),netTotal:parseFloat(K.netTotal||K.net_total||0),status:K.status||"COMPLETED",cashierName:K.cashier&&K.cashier.name?K.cashier.name:K.cashierName||"",items:K.items||[],payments:K.payments||[]}));u(B)}catch(M){console.error("Failed to fetch bills:",M),p(M.response?.data?.message||"Failed to load bills")}finally{f(!1)}},E=c.filter(M=>M.invoiceNo.toLowerCase().includes(s.toLowerCase())||M.customerName.toLowerCase().includes(s.toLowerCase()));v.useEffect(()=>{b(-1)},[s,c]);const k=M=>{E.length!==0&&(M.key==="ArrowDown"?(M.preventDefault(),b(R=>R<E.length-1?R+1:R)):M.key==="ArrowUp"?(M.preventDefault(),b(R=>R>0?R-1:R)):M.key==="Enter"&&(M.preventDefault(),g>=0&&g<E.length&&r(E[g])))};v.useEffect(()=>{if(g>=0&&y.current){const R=y.current.children[g];R&&R.scrollIntoView({block:"nearest",behavior:"smooth"})}},[g]);const T=M=>M?new Date(M).toLocaleString("en-LK",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",D=M=>({HELD:"bg-amber-100 text-amber-700 border-amber-200",COMPLETED:"bg-green-100 text-green-700 border-green-200",VOIDED:"bg-red-100 text-red-700 border-red-200",RETURNED:"bg-purple-100 text-purple-700 border-purple-200"})[M]||"bg-slate-100 text-slate-700 border-slate-200";return a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-[2px]",children:a.jsxs("div",{className:"bg-white w-[680px] h-[560px] rounded-xl shadow-2xl flex flex-col overflow-hidden",children:[a.jsxs("div",{className:`px-4 py-3 flex justify-between items-center shrink-0 ${N?"bg-amber-600":"bg-rose-600"}`,children:[a.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[a.jsx(S,{className:"w-5 h-5"})," ",j]}),a.jsx("button",{onClick:t,className:"text-white/70 hover:text-white transition-colors",children:a.jsx(Qt,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"p-3 bg-slate-50 border-b border-slate-200 shrink-0",children:a.jsxs("div",{className:"relative",children:[a.jsx(Aa,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),a.jsx("input",{autoFocus:!0,type:"text",value:s,onChange:M=>i(M.target.value),className:"w-full pl-9 pr-4 py-2 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",placeholder:"Search by Invoice No or Customer Name...",onKeyDown:k})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto custom-scroll",children:[d&&a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(_r,{className:"w-8 h-8 animate-spin text-slate-400 mx-auto mb-2"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Loading ",N?"held bills":"sales","..."]})]})}),m&&!d&&a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center p-4",children:[a.jsx(Cs,{className:"w-10 h-10 text-red-400 mx-auto mb-2"}),a.jsx("p",{className:"text-red-600 font-medium mb-2",children:m}),a.jsx("button",{onClick:_,className:"text-sm text-blue-600 hover:underline",children:"Try again"})]})}),!d&&!m&&E.length===0&&a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center p-8",children:[a.jsx(Fl,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500 font-medium",children:s?"No matching records found":`No ${N?"held bills":"completed sales"} available`}),s&&a.jsx("button",{onClick:()=>i(""),className:"mt-2 text-sm text-blue-600 hover:underline",children:"Clear search"})]})}),!d&&!m&&E.length>0&&a.jsx("div",{className:"divide-y divide-slate-100",ref:y,children:E.map((M,R)=>a.jsxs("div",{className:`flex justify-between items-center p-4 cursor-pointer transition-colors group ${R===g?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-slate-50"}`,onClick:()=>r(M),children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("div",{className:"bg-slate-100 rounded px-2 py-0.5 font-mono flex items-center gap-0.5",children:(()=>{const B=M.invoiceNo.split("-");return B.length>=3?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-blue-600 font-bold",children:B[0]}),a.jsx("span",{className:"text-slate-400",children:"-"}),a.jsx("span",{className:"text-xs text-cyan-600 font-bold",children:B[1]}),a.jsx("span",{className:"text-slate-400",children:"-"}),a.jsx("span",{className:"text-base text-slate-800 font-black",children:B[2]})]}):a.jsx("span",{className:"text-sm font-bold text-slate-800",children:M.invoiceNo})})()}),a.jsx("span",{className:`text-[10px] font-bold uppercase px-1.5 py-0.5 rounded border ${D(M.status)}`,children:M.status})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ks,{className:"w-3 h-3"}),T(M.saleDate)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(uo,{className:"w-3 h-3"}),M.customerName]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(oo,{className:"w-3 h-3"}),M.itemCount," items"]})]})]}),a.jsxs("div",{className:"text-right ml-4",children:[a.jsxs("div",{className:"font-mono font-bold text-slate-900 text-lg",children:["LKR ",M.netTotal.toLocaleString("en-LK",{minimumFractionDigits:2})]}),a.jsx("button",{className:`mt-1 text-[10px] px-3 py-1.5 rounded font-bold uppercase tracking-wide transition-colors ${N?"bg-amber-100 text-amber-700 hover:bg-amber-200 border border-amber-200":"bg-rose-100 text-rose-700 hover:bg-rose-200 border border-rose-200"}`,children:N?"Recall":"Return"})]})]},M.id))})]}),a.jsxs("div",{className:"bg-slate-50 border-t border-slate-200 px-4 py-2 text-xs text-slate-500 flex justify-between items-center shrink-0",children:[a.jsxs("span",{children:["Showing ",E.length," of ",c.length," ",N?"held bills":"sales"]}),a.jsxs("button",{onClick:_,disabled:d,className:"text-blue-600 hover:underline flex items-center gap-1",children:[a.jsx(C0,{className:`w-3 h-3 ${d?"animate-spin":""}`}),"Refresh"]})]})]})})}const k1=[5e3,1e3,500,100,50,20,10,5,2,1];function Qq({onApprove:e,branchId:t,terminalId:r}){const[n,s]=v.useState({id:null,name:"Loading..."}),[i,c]=v.useState(""),[u,d]=v.useState(""),[f,m]=v.useState(""),[p,g]=v.useState(!1),[b,y]=v.useState(!1),[N,j]=v.useState({}),{addNotification:S}=ap(),_=v.useMemo(()=>k1.reduce((T,D)=>T+D*(parseInt(N[D])||0),0),[N]);v.useEffect(()=>{b&&_>0&&c(_.toString())},[_,b]),v.useEffect(()=>{try{const T=localStorage.getItem("user");if(T){const D=JSON.parse(T);s({id:D.userId||D.id,name:D.username||D.fullName||D.name})}else S("error","Session Error","No logged in user found. Please re-login.")}catch(T){console.error("Failed to parse user session",T),S("error","Session Error","Failed to load user session.")}},[]);const E=(T,D)=>{const M=parseInt(D)||0;M<0||j(R=>({...R,[T]:M}))},k=async T=>{if(T.preventDefault(),!n.id){S("error","System Error","Cashier ID not identified. Please re-login.");return}const D=parseFloat(i);if(!i||D<0){S("warning","Float Required","Please enter a valid opening cash amount.");return}if(!u||!f){S("warning","Supervisor Required","Supervisor credentials are required to open the shift.");return}g(!0);try{const M=b?k1.filter(R=>(N[R]||0)>0).map(R=>({denominationValue:R,quantity:N[R],type:"OPENING"})):null;await e(n,i,{username:u,password:f},M)}catch{g(!1)}};return a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white w-[420px] rounded-xl shadow-2xl overflow-hidden border border-slate-200",children:[a.jsxs("div",{className:"bg-slate-900 p-4 text-center",children:[a.jsxs("h2",{className:"text-white font-bold text-lg tracking-wide uppercase flex items-center justify-center gap-2",children:[a.jsx(Jb,{className:"w-5 h-5 text-yellow-400"})," Open Terminal"]}),a.jsxs("div",{className:"flex justify-center gap-4 mt-2 text-[13px] text-slate-400 font-mono uppercase",children:[a.jsxs("span",{children:["Branch: ",a.jsx("span",{className:"text-white",children:t})]}),a.jsxs("span",{children:["Terminal: ",a.jsx("span",{className:"text-white",children:r})]})]})]}),a.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Cashier"}),a.jsxs("div",{className:"flex items-center border border-slate-200 rounded bg-slate-100 px-3 py-2",children:[a.jsx(uo,{className:"w-4 h-4 text-slate-500 mr-2"}),a.jsx("input",{type:"text",disabled:!0,value:n.name,className:"bg-transparent w-full text-sm font-bold text-slate-700 focus:outline-none uppercase cursor-not-allowed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Opening Float Amount"}),a.jsxs("div",{className:"flex items-center border border-blue-300 rounded bg-white px-3 py-2 shadow-sm",children:[a.jsx("span",{className:"text-slate-400 font-mono mr-2",children:"LKR"}),a.jsx("input",{autoFocus:!0,type:"number",step:"0.01",value:i,onChange:T=>{c(T.target.value),b&&j({})},disabled:p||b,className:"bg-transparent w-full text-lg font-mono font-bold text-slate-900 focus:outline-none disabled:text-slate-600",placeholder:"0.00"})]})]}),a.jsxs("button",{type:"button",onClick:()=>y(!b),className:"w-full flex items-center justify-between text-xs text-slate-500 hover:text-slate-700 py-1",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ei,{className:"w-3 h-3"}),"Count by Denomination"]}),b?a.jsx(E8,{className:"w-4 h-4"}):a.jsx(Rl,{className:"w-4 h-4"})]}),b&&a.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 p-3 space-y-2 max-h-48 overflow-y-auto custom-scroll",children:[a.jsx("div",{className:"grid grid-cols-2 gap-2",children:k1.map(T=>a.jsxs("div",{className:"flex items-center gap-2 bg-white border border-slate-200 rounded px-2 py-1",children:[a.jsx("span",{className:"w-12 text-right font-mono text-sm font-bold text-slate-700",children:T}),a.jsx("span",{className:"text-slate-400 text-xs",children:"x"}),a.jsx("input",{type:"number",min:"0",className:"flex-1 bg-slate-50 border border-slate-200 rounded px-2 py-1 text-center font-mono text-sm focus:outline-none focus:border-blue-400 w-16",placeholder:"0",value:N[T]||"",onChange:D=>E(T,D.target.value),onFocus:D=>D.target.select()}),a.jsxs("span",{className:"text-xs text-slate-400 w-16 text-right font-mono",children:["= ",(T*(N[T]||0)).toLocaleString()]})]},T))}),a.jsxs("div",{className:"border-t border-slate-200 pt-2 flex justify-between items-center",children:[a.jsx("span",{className:"text-xs font-bold text-slate-600 uppercase",children:"Total"}),a.jsxs("span",{className:"font-mono font-bold text-lg text-green-700",children:["LKR ",_.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]}),a.jsx("div",{className:"h-px bg-slate-200 my-2"}),a.jsxs("div",{className:"bg-yellow-50 p-3 rounded border border-yellow-100",children:[a.jsxs("p",{className:"text-[10px] font-bold text-yellow-800 uppercase mb-2 flex items-center gap-1",children:[a.jsx(tm,{className:"w-3 h-3"})," Supervisor Approval Required"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",value:u,onChange:T=>d(T.target.value),disabled:p,className:"w-full border border-yellow-200 rounded px-3 py-2 text-sm focus:outline-none focus:border-yellow-400 focus:ring-2 focus:ring-yellow-100",placeholder:"Supervisor Username"}),a.jsx("input",{type:"password",value:f,onChange:T=>m(T.target.value),disabled:p,className:"w-full border border-yellow-200 rounded px-3 py-2 text-sm focus:outline-none focus:border-yellow-400 focus:ring-2 focus:ring-yellow-100",placeholder:"Supervisor Password"})]})]}),a.jsx("button",{type:"submit",disabled:p||!n.id,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white font-bold py-3 rounded-lg shadow-md uppercase tracking-wider text-sm transition-all flex items-center justify-center gap-2",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Verifying..."]}):"Approve & Open Shift"}),a.jsxs("button",{type:"button",onClick:()=>window.location.href="/",className:"w-full bg-slate-100 hover:bg-slate-200 text-slate-600 font-bold py-3 rounded-lg border border-slate-300 uppercase tracking-wider text-sm transition-all flex items-center justify-center gap-2",children:[a.jsx(ef,{className:"w-4 h-4"})," Exit"]})]})]})})}const O1=[5e3,1e3,500,100,50,20,10,5,2,1];function Zq({cashierName:e,shiftId:t,expectedTotals:r,onClose:n,onConfirm:s,onRefresh:i}){const[c,u]=v.useState(1),[d,f]=v.useState({}),[m,p]=v.useState(""),[g,b]=v.useState(""),[y,N]=v.useState(!1),[j,S]=v.useState(null),[_,E]=v.useState(!1),k=async()=>{i&&(E(!0),await i(),E(!1))},T=v.useMemo(()=>O1.reduce((F,X)=>F+X*(parseInt(d[X])||0),0),[d]),D=(F,X)=>{const Q=parseInt(X)||0;Q<0||f(pe=>({...pe,[F]:Q}))},M=async()=>{if(!m||!g){S("Supervisor approval is required to finalize the shift.");return}N(!0),S(null);try{const F=O1.filter(X=>(d[X]||0)>0).map(X=>({denominationValue:X,quantity:d[X],type:"CLOSING"}));await s(T,{username:m,password:g},F)}catch(F){console.error("Logout Error:",F),S(F.message||"Failed to close shift. Please try again."),N(!1)}},R=!!r,B=R&&r.expectedCash||0,K=T-B,U=Math.abs(K)<1;return a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/80 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"bg-white w-[750px] rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[a.jsxs("div",{className:"bg-slate-900 p-4 shrink-0 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-white font-bold text-lg tracking-wide uppercase flex items-center gap-2",children:[a.jsx(_0,{className:"w-5 h-5 text-red-500"})," End of Shift"]}),a.jsxs("div",{className:"flex gap-4 mt-1",children:[a.jsxs("p",{className:"text-slate-400 text-xs",children:["Cashier: ",a.jsx("span",{className:"text-white font-bold",children:e})]}),t&&a.jsxs("p",{className:"text-slate-400 text-xs",children:["Shift: ",a.jsxs("span",{className:"text-green-400 font-bold",children:["#",t]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[i&&a.jsxs("button",{onClick:k,disabled:_,className:"px-3 py-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors flex flex-col items-center disabled:opacity-50",title:"Refresh Status",children:[a.jsx(Sa,{className:`w-4 h-4 ${_?"animate-spin":""}`}),a.jsx("span",{className:"text-[9px] font-bold uppercase mt-1",children:"Sync"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Step"}),a.jsxs("div",{className:"text-white font-mono font-bold text-xl leading-none",children:[c," / 2"]})]}),a.jsx("button",{onClick:n,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:a.jsx(Qt,{className:"w-5 h-5"})})]})]}),j&&a.jsxs("div",{className:"bg-red-50 border-b border-red-200 px-4 py-2 flex items-center gap-2",children:[a.jsx(ra,{className:"w-4 h-4 text-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:j}),a.jsx("button",{onClick:()=>S(null),className:"ml-auto text-red-400 hover:text-red-600",children:a.jsx(Qt,{className:"w-4 h-4"})})]}),c===1&&a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"bg-slate-50 p-3 border-b border-slate-200",children:[a.jsxs("h3",{className:"text-sm font-bold text-slate-700 uppercase flex items-center gap-2",children:[a.jsx(ei,{className:"w-4 h-4 text-blue-600"})," Cash Declaration"]}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Count all cash in the drawer and enter the quantities below"})]}),a.jsx("div",{className:"overflow-y-auto overflow-x-hidden p-4 custom-scroll grid grid-cols-2 gap-3",children:O1.map(F=>a.jsxs("div",{className:"flex items-center gap-2 bg-white border border-slate-200 rounded-lg p-2 hover:border-blue-300 transition-colors",children:[a.jsx("div",{className:"w-16 shrink-0 font-mono font-bold text-slate-700 text-right",children:F.toLocaleString()}),a.jsx("span",{className:"text-slate-400 text-xs",children:"x"}),a.jsx("input",{type:"number",min:"0",className:"flex-1 min-w-0 bg-slate-50 border border-slate-300 rounded px-2 py-1.5 text-center font-bold text-slate-900 focus:outline-none focus:border-blue-500 focus:ring-2 focus:ring-blue-100",placeholder:"0",value:d[F]||"",onChange:X=>D(F,X.target.value),onFocus:X=>X.target.select()}),a.jsxs("span",{className:"w-20 text-right text-xs font-mono text-slate-500",children:["= ",(F*(d[F]||0)).toLocaleString()]})]},F))}),a.jsxs("div",{className:"p-4 bg-slate-100 border-t border-slate-200 shrink-0",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("span",{className:"text-sm font-bold text-slate-600 uppercase",children:"Total Declared Cash"}),a.jsxs("span",{className:"text-3xl font-mono font-bold text-slate-900",children:[a.jsx("span",{className:"text-sm text-slate-400 mr-1",children:"LKR"}),T.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:n,className:"flex-1 py-3 border border-slate-300 text-slate-600 rounded-xl font-bold hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:()=>u(2),className:"flex-[2] py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 transition-colors",children:["Next: View Summary ",a.jsx(Q0,{className:"w-4 h-4"})]})]})]})]}),c===2&&a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-5 custom-scroll",children:[a.jsxs("div",{className:`rounded-xl border-2 p-4 ${R?U?"bg-green-50 border-green-300":"bg-red-50 border-red-300":"bg-slate-50 border-slate-200"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("h3",{className:`text-sm font-bold uppercase flex items-center gap-2 ${R?U?"text-green-800":"text-red-800":"text-slate-600"}`,children:[R?U?a.jsx(Xr,{className:"w-5 h-5"}):a.jsx(ra,{className:"w-5 h-5"}):a.jsx(C8,{className:"w-5 h-5"}),R?U?"Shift Balanced ":"Cash Discrepancy Detected":"Syncing..."]}),R&&a.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-sm font-bold ${U?"bg-green-200 text-green-800":"bg-red-200 text-red-800"}`,children:[K>0?"+":"",K.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsx("span",{className:"text-xs text-slate-500 uppercase font-bold",children:"System Expected"}),a.jsx("div",{className:"font-mono font-bold text-xl text-slate-900 mt-1",children:R?`LKR ${B.toLocaleString("en-US",{minimumFractionDigits:2})}`:"---"})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsx("span",{className:"text-xs text-slate-500 uppercase font-bold",children:"You Declared"}),a.jsxs("div",{className:"font-mono font-bold text-xl text-slate-900 mt-1",children:["LKR ",T.toLocaleString("en-US",{minimumFractionDigits:2})]})]})]})]}),R&&a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-700 mb-1",children:[a.jsx(ei,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-bold uppercase",children:"Cash Sales"})]}),a.jsx("div",{className:"font-mono font-bold text-lg text-green-800",children:(r.cashSales||0).toLocaleString()})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 border border-purple-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-purple-700 mb-1",children:[a.jsx(Wl,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-bold uppercase",children:"Card Sales"})]}),a.jsx("div",{className:"font-mono font-bold text-lg text-purple-800",children:(r.cardTotal||0).toLocaleString()})]}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-700 mb-1",children:[a.jsx(ey,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-bold uppercase",children:"QR/Other"})]}),a.jsx("div",{className:"font-mono font-bold text-lg text-blue-800",children:(r.otherPayments||0).toLocaleString()})]})]}),R&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider mb-2",children:"Shift History & Cash Flow"}),a.jsxs("div",{className:"bg-slate-50 rounded-lg border border-slate-200 text-sm overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between p-3 border-b border-slate-100 bg-white",children:[a.jsx("span",{className:"text-slate-600",children:"Opening Float"}),a.jsx("span",{className:"font-mono font-bold text-slate-700",children:(r.openingFloat||r.openingCash||0).toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between p-3 border-b border-slate-100",children:[a.jsxs("span",{className:"text-slate-600",children:["Total Sales (",r.transactionCount||0,")"]}),a.jsxs("span",{className:"font-mono font-bold text-green-600",children:["+",(r.totalSales||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between p-3 border-b border-slate-100 bg-white",children:[a.jsx("span",{className:"text-slate-600",children:"Total Returns"}),a.jsxs("span",{className:"font-mono font-bold text-red-500",children:["-",(r.totalReturns||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between p-3 border-b border-slate-100",children:[a.jsxs("span",{className:"text-slate-600 flex items-center gap-1",children:[a.jsx(Gc,{className:"w-3 h-3 text-blue-500"})," Paid In"]}),a.jsxs("span",{className:"font-mono font-bold text-blue-600",children:["+",(r.paidIn||r.totalPaidIn||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between p-3 border-b border-slate-100",children:[a.jsxs("span",{className:"text-slate-600 flex items-center gap-1",children:[a.jsx(X0,{className:"w-3 h-3 text-red-500"})," Paid Out"]}),a.jsxs("span",{className:"font-mono font-bold text-red-600",children:["-",(r.paidOut||r.totalPaidOut||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between p-3 bg-slate-100 font-bold",children:[a.jsx("span",{className:"text-slate-800",children:"Expected Cash in Drawer"}),a.jsxs("span",{className:"font-mono text-slate-900",children:["LKR ",B.toLocaleString()]})]})]})]}),!R&&a.jsxs("div",{className:"text-center p-6 bg-slate-50 rounded-lg border border-slate-200 border-dashed",children:[a.jsx(Sa,{className:"w-8 h-8 text-slate-300 mx-auto mb-2 animate-spin"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Loading shift details..."})]}),R&&r.pendingRequests>0&&a.jsxs("div",{className:"bg-orange-50 rounded-xl border border-orange-200 p-4 flex items-start gap-3",children:[a.jsx(ra,{className:"w-5 h-5 text-orange-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-orange-800 text-sm uppercase",children:"Approvals Pending"}),a.jsxs("p",{className:"text-xs text-orange-700 mt-1",children:["There are ",a.jsxs("span",{className:"font-bold",children:[r.pendingRequests," pending cash flow requests"]})," (Paid In/Out) that require Manager approval."]}),a.jsx("p",{className:"text-xs text-orange-700 mt-1 font-semibold",children:"You cannot close the shift until these are approved or rejected."})]})]}),a.jsxs("div",{className:"bg-amber-50 rounded-xl border border-amber-200 p-4",children:[a.jsxs("h3",{className:"text-xs font-bold text-amber-800 uppercase mb-3 flex items-center gap-2",children:[a.jsx(tm,{className:"w-4 h-4"})," Supervisor Approval Required"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("input",{type:"text",value:m,onChange:F=>p(F.target.value),className:"border border-amber-200 bg-white rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:border-amber-400 focus:ring-2 focus:ring-amber-100",placeholder:"Supervisor Username"}),a.jsx("input",{type:"password",value:g,onChange:F=>b(F.target.value),className:"border border-amber-200 bg-white rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:border-amber-400 focus:ring-2 focus:ring-amber-100",placeholder:"Supervisor Password"})]})]})]}),a.jsxs("div",{className:"p-4 bg-white border-t border-slate-100 grid grid-cols-2 gap-3 shrink-0",children:[a.jsx("button",{onClick:()=>u(1),disabled:y,className:"py-3 rounded-xl font-bold text-slate-500 hover:bg-slate-100 transition-colors text-sm uppercase border border-slate-200",children:" Back to Count"}),a.jsx("button",{onClick:M,disabled:y||!m||!g||r.pendingRequests>0,className:"py-3 bg-red-600 hover:bg-red-700 disabled:bg-slate-400 disabled:cursor-not-allowed text-white rounded-xl font-bold shadow-lg shadow-red-200 flex items-center justify-center gap-2 transition-all active:scale-[0.98] disabled:shadow-none",children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Verifying..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_0,{className:"w-4 h-4"})," Close Shift"]})})]})]})]})})}const b6=[{key:"CASH",label:"Cash",icon:ei,color:"green"},{key:"CARD",label:"Card",icon:Wl,color:"purple"},{key:"QR",label:"QR Pay",icon:ey,color:"blue"},{key:"TRANSFER",label:"Transfer",icon:Xb,color:"slate"}];function Jq({total:e,cart:t=[],invoiceId:r,cashierName:n,branchInfo:s,totals:i,customer:c,initialMethod:u="CASH",onClose:d,onProcess:f}){const[m,p]=v.useState([]),[g,b]=v.useState(""),[y,N]=v.useState(u),[j,S]=v.useState(""),[_,E]=v.useState(""),[k,T]=v.useState(""),[D,M]=v.useState(!1),R=v.useRef(null),B=v.useMemo(()=>{if(i)return i;const G=t.reduce((ae,le)=>ae+le.price*le.qty,0),P=t.reduce((ae,le)=>ae+(le.discount||0),0),H=t.reduce((ae,le)=>{const be=le.price*le.qty-(le.discount||0);return ae+be*(le.taxRate||0)/100},0),$=G-P+H;return{grossTotal:G,totalDiscount:P,taxAmount:H,netTotal:$}},[t,i,c]),K=G=>Number(G||0).toLocaleString("en-LK",{minimumFractionDigits:2,maximumFractionDigits:2}),U=m.reduce((G,P)=>G+parseFloat(P.amount),0),F=Math.max(0,e-U),X=U>e?U-e:0,Q=c?Math.floor(B.netTotal/100):0,pe=c?.loyaltyPoints||0;v.useEffect(()=>{F>0?b(F.toFixed(2)):b(""),R.current?.focus()},[m.length,e]);const re=()=>{const G=parseFloat(g);if(!G||G<=0)return;const P={paymentType:y,amount:G,referenceNo:y!=="CASH"?j||`REF-${Date.now().toString().slice(-6)}`:null,cardLast4:y==="CARD"?_:null,bankName:["CARD","TRANSFER"].includes(y)?k:null};p([...m,P]),b(""),S(""),E(""),T(""),N("CASH"),R.current?.focus()},ue=G=>{const P=[...m];P.splice(G,1),p(P)},V=()=>{if(F>.01){alert(`Cannot finalize. LKR ${F.toFixed(2)} still pending.`);return}M(!0),f({payments:m,totalPaid:U,change:X,paidAmount:U,changeAmount:X})},Z=G=>{G.key==="Enter"&&g&&(G.preventDefault(),re())},ge=G=>{const P=b6.find($=>$.key===G);if(!P)return a.jsx(ei,{className:"w-4 h-4 text-slate-600"});const H=P.icon;return a.jsx(H,{className:`w-4 h-4 text-${P.color}-600`})};return a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white w-[980px] h-[680px] rounded-2xl shadow-2xl flex overflow-hidden",children:[a.jsxs("div",{className:"w-2/5 bg-slate-50 border-r border-slate-200 p-5 flex flex-col",children:[a.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Receipt Preview"}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm flex-1 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-dashed border-slate-200 text-center",children:[a.jsx("div",{className:"text-sm font-bold text-slate-800",children:s?.name||"Store"}),s?.code&&a.jsx("div",{className:"text-[10px] text-slate-400",children:s.code}),a.jsx("div",{className:"text-[10px] text-slate-400 mt-1",children:new Date().toLocaleString()}),a.jsxs("div",{className:"mt-3 mb-2 bg-slate-50 rounded-lg p-2 border border-slate-200",children:[a.jsx("div",{className:"text-[9px] text-slate-400 uppercase font-bold tracking-wider",children:"Invoice No."}),a.jsx("div",{className:"font-mono text-lg font-black text-slate-800 tracking-wide",children:r||"INV-PREVIEW"})]}),a.jsxs("div",{className:"text-[10px] text-slate-500",children:["Cashier: ",n||"--"]}),c&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-100",children:[a.jsx("div",{className:"text-xs font-bold text-purple-700",children:c.name}),a.jsx("div",{className:"text-[10px] text-slate-400",children:c.phone})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2 text-xs",children:t.length===0?a.jsx("div",{className:"text-center text-slate-400 py-6",children:"No items"}):t.map((G,P)=>a.jsxs("div",{className:"py-2 border-b border-dashed border-slate-100",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"font-semibold text-slate-700 truncate",children:G.name}),a.jsx("span",{className:"font-mono text-slate-700",children:K(G.price*G.qty)})]}),a.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mt-0.5",children:[a.jsxs("span",{children:[G.qty," x ",K(G.price)]}),G.discount>0&&a.jsxs("span",{children:["-",K(G.discount)]})]})]},P))}),a.jsxs("div",{className:"border-t border-dashed border-slate-200 p-3 text-xs space-y-1 bg-slate-50/50",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal"}),a.jsx("span",{className:"font-mono",children:K(B.grossTotal)})]}),(B.itemDiscountAmount||0)>0&&a.jsxs("div",{className:"flex justify-between text-orange-600",children:[a.jsx("span",{children:"Item Disc"}),a.jsxs("span",{className:"font-mono",children:["-",K(B.itemDiscountAmount)]})]}),(B.billDiscountAmount||0)>0&&a.jsxs("div",{className:"flex justify-between text-yellow-600",children:[a.jsx("span",{children:"Bill Disc"}),a.jsxs("span",{className:"font-mono",children:["-",K(B.billDiscountAmount)]})]}),B.taxAmount>0&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{className:"font-mono",children:["+",K(B.taxAmount)]})]}),c&&a.jsxs("div",{className:"py-1 my-1 border-y border-dashed border-slate-200 text-purple-600",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Loyalty Pts to Earn"}),a.jsx("span",{className:"font-mono",children:Q})]}),a.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400",children:[a.jsx("span",{children:"Current Balance"}),a.jsx("span",{className:"font-mono",children:pe})]})]}),a.jsxs("div",{className:"flex justify-between font-bold text-slate-800 text-sm pt-2 border-t border-slate-200",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{className:"font-mono text-lg",children:K(B.netTotal)})]})]}),a.jsxs("div",{className:"border-t border-dashed border-slate-200 p-3 text-xs space-y-1",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Paid"}),a.jsx("span",{className:"font-mono",children:K(U)})]}),F>0?a.jsxs("div",{className:"flex justify-between text-red-600 font-bold",children:[a.jsx("span",{children:"Balance Due"}),a.jsx("span",{className:"font-mono",children:K(F)})]}):a.jsxs("div",{className:"flex justify-between text-blue-600 font-bold text-sm",children:[a.jsx("span",{children:"Change"}),a.jsx("span",{className:"font-mono",children:K(X)})]})]})]})]}),a.jsxs("div",{className:"w-3/5 p-6 flex flex-col relative",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-bold text-lg text-slate-700",children:"Add Payment"}),a.jsx("button",{onClick:d,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:a.jsx(Qt,{className:"w-6 h-6 text-slate-400 hover:text-red-500"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto mb-20 px-1",children:[a.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:b6.map(G=>{const P=G.icon;return a.jsxs("button",{onClick:()=>N(G.key),className:`py-3 rounded-lg font-bold text-sm border-2 transition-all flex flex-col items-center gap-1 ${y===G.key?`border-${G.color}-500 bg-${G.color}-50 text-${G.color}-700`:"border-slate-100 bg-white text-slate-500 hover:border-slate-300"}`,children:[a.jsx(P,{className:"w-5 h-5"}),G.label]},G.key)})}),F>0&&a.jsxs("div",{className:"relative mb-3",children:[a.jsx("span",{className:"absolute left-4 top-3.5 text-slate-400 font-bold",children:"LKR"}),a.jsx("input",{ref:R,type:"number",step:"0.01",value:g,onChange:G=>b(G.target.value),onKeyDown:Z,className:"w-full pl-14 pr-28 py-3 text-2xl font-bold font-mono border-2 border-slate-200 rounded-xl focus:outline-none focus:border-blue-500 transition-colors",placeholder:"0.00"}),a.jsxs("button",{onClick:re,disabled:!g||parseFloat(g)<=0,className:"absolute right-2 top-2 bottom-2 bg-blue-600 hover:bg-blue-700 text-white px-6 rounded-lg font-bold flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Oi,{className:"w-4 h-4"})," Add"]})]}),y!=="CASH"&&F>0&&a.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4 p-3 bg-slate-50 rounded-lg border border-slate-200",children:[a.jsx("input",{type:"text",value:j,onChange:G=>S(G.target.value),className:"border border-slate-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Reference No."}),y==="CARD"&&a.jsx("input",{type:"text",maxLength:4,value:_,onChange:G=>E(G.target.value.replace(/\D/g,"").slice(0,4)),className:"border border-slate-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Last 4 Digits"}),["CARD","TRANSFER"].includes(y)&&a.jsx("input",{type:"text",value:k,onChange:G=>T(G.target.value),className:"border border-slate-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-blue-500",placeholder:"Bank Name"})]}),a.jsxs("div",{className:"bg-slate-50 rounded-xl border border-slate-200 p-2 mb-4",children:[m.length===0&&a.jsx("div",{className:"text-center text-slate-400 py-6 text-sm",children:"No payments added yet."}),m.map((G,P)=>a.jsxs("div",{className:"flex justify-between items-center bg-white p-3 rounded-lg shadow-sm mb-2 last:mb-0 border border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-slate-100 p-2 rounded-full",children:ge(G.paymentType)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-sm text-slate-800",children:G.paymentType}),a.jsx("div",{className:"text-[10px] text-slate-400",children:K(G.amount)})]})]}),a.jsx("button",{onClick:()=>ue(P),className:"p-1 text-red-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",children:a.jsx(ni,{className:"w-4 h-4"})})]},P))]}),a.jsxs("div",{className:`rounded-xl p-6 text-center mb-4 transition-all duration-300 ${F<=0&&X>0?"bg-green-50 border border-green-200 animate-in zoom-in":"bg-slate-50 border border-slate-200"}`,children:[a.jsx("div",{className:`text-sm font-bold uppercase tracking-widest mb-1 ${F<=0&&X>0?"text-green-600":"text-slate-500"}`,children:F<=0?"Change Due":"Balance Due"}),a.jsx("div",{className:`text-5xl font-mono font-bold ${F<=0&&X>0?"text-green-700":"text-slate-400"}`,children:F<=0?K(X):K(F)})]})]}),a.jsx("div",{className:"absolute bottom-6 left-6 right-6",children:a.jsx("button",{onClick:V,disabled:F>.01||D||m.length===0,className:"w-full py-4 bg-slate-900 hover:bg-black text-white rounded-xl font-bold shadow-xl flex justify-center items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:D?a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"w-5 h-5 animate-spin"})," Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xr,{className:"w-5 h-5"})," Complete Sale"]})})})]})]})})}function e$({onClose:e,onProductSelected:t,onAddToQuickPick:r}){const[n,s]=v.useState(""),[i,c]=v.useState([]),[u,d]=v.useState(!1),[f,m]=v.useState(new Set),[p,g]=v.useState(-1),b=v.useRef(null),y=v.useRef(null);v.useEffect(()=>{b.current?.focus(),N()},[]);const N=async()=>{d(!0);try{const k=JSON.parse(localStorage.getItem("user")||"{}").branchId||1,T=await an.getQuickItems(k),D=T.data?.data||T.data||[],M=(Array.isArray(D)?D:[D]).map(R=>({id:R.productId||R.id,sku:R.sku,barcode:R.barcode,name:R.name||R.productName,price:parseFloat(R.sellingPrice!==void 0?R.sellingPrice:R.price||0),taxRate:parseFloat(R.taxRate||0),stock:R.stock||R.availableQty,isTopItem:!0}));c(M)}catch(k){console.error("Failed to load top items",k)}finally{d(!1)}};v.useEffect(()=>{const k=setTimeout(()=>{n.trim().length>=2?j(null):n.trim().length===0&&N()},400);return()=>clearTimeout(k)},[n]);const j=async k=>{if(k?.preventDefault(),!n.trim()){N();return}d(!0),k&&c([]);try{const T=await an.searchInventory(n),D=T.data?.data||T.data||[],M=(Array.isArray(D)?D:[D]).map(R=>({id:R.productId||R.id,sku:R.sku,barcode:R.barcode,name:R.name||R.productName,price:parseFloat(R.sellingPrice!==void 0?R.sellingPrice:R.price||0),taxRate:parseFloat(R.taxRate||0),stock:R.stock||R.availableQty}));c(M)}catch(T){console.error("Search failed",T),c([])}d(!1)};v.useEffect(()=>{g(-1)},[i]);const S=k=>{i.length!==0&&(k.key==="ArrowDown"?(k.preventDefault(),g(T=>T<i.length-1?T+1:T)):k.key==="ArrowUp"?(k.preventDefault(),g(T=>T>0?T-1:T)):k.key==="Enter"&&(k.preventDefault(),p>=0&&p<i.length?_(i[p]):i.length>0&&_(i[0])))};v.useEffect(()=>{if(p>=0&&y.current){const T=y.current.children[p];T&&T.scrollIntoView({block:"nearest",behavior:"smooth"})}},[p]);const _=k=>{t(k)},E=k=>{r&&r(k)&&m(D=>new Set([...D,k.id]))};return a.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center bg-slate-900/50 backdrop-blur-[2px]",children:a.jsxs("div",{className:"bg-white w-[550px] h-[620px] rounded-xl shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col",children:[a.jsxs("div",{className:"bg-slate-800 px-4 py-3 flex justify-between items-center shrink-0",children:[a.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[a.jsx(Aa,{className:"w-5 h-5 text-blue-400"})," Search & Add Products"]}),a.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Qt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-4 border-b border-slate-100 shrink-0 bg-slate-50",children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Search by Name, SKU, or Barcode"}),a.jsxs("form",{onSubmit:j,className:"flex gap-2",children:[a.jsx("input",{ref:b,type:"text",value:n,onChange:k=>s(k.target.value),className:"flex-1 border border-slate-300 rounded-lg px-3 py-2.5 text-sm font-bold text-slate-700 focus:outline-none focus:border-blue-500 focus:ring-4 focus:ring-blue-50 transition-all",placeholder:"Type product name or scan barcode...",onKeyDown:S}),a.jsx("button",{type:"submit",disabled:u,className:"bg-blue-600 text-white px-5 py-2 rounded-lg font-bold text-sm hover:bg-blue-700 disabled:opacity-50 transition-colors",children:u?a.jsx(_r,{className:"w-4 h-4 animate-spin"}):a.jsx(Aa,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{ref:y,className:"flex-1 overflow-y-auto p-3 bg-slate-50 space-y-2 custom-scroll",children:[i.length===0&&!u&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[a.jsx(Ln,{className:"w-14 h-14 mb-3 opacity-20"}),a.jsx("p",{className:"text-sm font-medium",children:"No results found"}),a.jsx("p",{className:"text-xs mt-1",children:"Try a different search term"})]}),u&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[a.jsx(_r,{className:"w-8 h-8 animate-spin mb-2"}),a.jsx("p",{className:"text-sm",children:"Searching..."})]}),i.map((k,T)=>a.jsx("div",{onClick:()=>_(k),className:`border rounded-lg p-3 cursor-pointer transition-all group ${T===p?"bg-blue-50 border-blue-500 shadow-md ring-1 ring-blue-400":"bg-white border-slate-200 hover:border-blue-300 hover:shadow-md"}`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-bold text-slate-800 text-sm group-hover:text-blue-700 transition-colors",children:k.name}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-slate-500 mt-1",children:[a.jsx("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded font-mono",children:k.sku||k.id}),k.barcode&&a.jsx("span",{className:"bg-slate-100 px-1.5 py-0.5 rounded font-mono text-[10px]",children:k.barcode}),a.jsxs("span",{className:"font-bold text-green-700 bg-green-50 px-1.5 py-0.5 rounded",children:["LKR ",k.price.toLocaleString("en-LK",{minimumFractionDigits:2})]}),k.stock!==void 0&&a.jsxs("span",{className:`px-1.5 py-0.5 rounded ${k.stock>0?"bg-blue-50 text-blue-600":"bg-red-50 text-red-600"}`,children:["Stock: ",k.stock]})]})]}),a.jsxs("div",{className:"flex gap-2 ml-3",children:[r&&a.jsx("button",{onClick:()=>E(k),disabled:f.has(k.id),className:`px-3 py-2 rounded-lg font-bold text-xs flex items-center gap-1.5 transition-colors ${f.has(k.id)?"bg-green-100 text-green-600 cursor-default":"bg-amber-100 text-amber-700 hover:bg-amber-200"}`,title:"Add to Quick Pick panel",children:f.has(k.id)?a.jsxs(a.Fragment,{children:[a.jsx(kg,{className:"w-3.5 h-3.5"})," Added"]}):a.jsxs(a.Fragment,{children:[a.jsx(rf,{className:"w-3.5 h-3.5"})," Quick Pick"]})}),a.jsxs("button",{onClick:()=>_(k),className:"bg-blue-600 text-white hover:bg-blue-700 px-3 py-2 rounded-lg font-bold text-xs flex items-center gap-1.5 transition-colors",title:"Add to cart",children:[a.jsx(oo,{className:"w-3.5 h-3.5"})," Add to Cart"]})]})]})},k.id))]}),a.jsxs("div",{className:"bg-slate-100 border-t border-slate-200 px-4 py-2 text-xs text-slate-500 flex items-center gap-4 shrink-0",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(oo,{className:"w-3 h-3"})," Add to Cart = adds to current bill"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(rf,{className:"w-3 h-3"})," Quick Pick = saves for fast access"]})]})]})})}const wi=e=>Number(e||0).toLocaleString("en-LK",{minimumFractionDigits:2,maximumFractionDigits:2}),Zi=(e,t,r=0)=>{for(const n of t)if(e&&e[n]!==void 0&&e[n]!==null)return e[n];return r};function t$({cashierName:e,shiftId:t,summary:r,loading:n,onClose:s}){const i=Zi(r,["cashSales","cashTotal","cashAmount"]),c=Zi(r,["cardTotal","cardSales","cardAmount"]),u=Zi(r,["otherPayments","otherTotal","qrTotal","qrSales"]),d=Zi(r,["grossTotal","grossSales"]),f=Zi(r,["netTotal","netSales"]),m=Zi(r,["discount","totalDiscount","discountAmount"]),p=Zi(r,["taxAmount","taxTotal"]),g=Zi(r,["openingFloat","openingCash"]),b=Zi(r,["paidIn","totalPaidIn"]),y=Zi(r,["paidOut","totalPaidOut"]),N=Zi(r,["expectedCash","expectedCashInDrawer"]),j=Zi(r,["totalBills","totalTransactions","billCount"]);return a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/70 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"bg-white w-[640px] rounded-2xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"bg-slate-900 p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(mz,{className:"w-6 h-6 text-blue-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-bold uppercase text-sm",children:"Cashier Summary"}),a.jsxs("div",{className:"text-[11px] text-slate-400",children:[e," ",t?` Shift #${t}`:""]})]})]}),a.jsx("button",{onClick:s,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg",children:a.jsx(Qt,{className:"w-5 h-5"})})]}),n?a.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading summary..."}):a.jsxs("div",{className:"p-5 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsxs("div",{className:"text-xs font-bold text-green-700 uppercase flex items-center gap-1",children:[a.jsx(ei,{className:"w-4 h-4"})," Cash Sales"]}),a.jsxs("div",{className:"text-lg font-mono font-bold text-green-800",children:["LKR ",wi(i)]})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:[a.jsxs("div",{className:"text-xs font-bold text-purple-700 uppercase flex items-center gap-1",children:[a.jsx(Wl,{className:"w-4 h-4"})," Card Sales"]}),a.jsxs("div",{className:"text-lg font-mono font-bold text-purple-800",children:["LKR ",wi(c)]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[a.jsxs("div",{className:"text-xs font-bold text-blue-700 uppercase flex items-center gap-1",children:[a.jsx(ey,{className:"w-4 h-4"})," Other/QR"]}),a.jsxs("div",{className:"text-lg font-mono font-bold text-blue-800",children:["LKR ",wi(u)]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3",children:[a.jsxs("div",{className:"text-[10px] uppercase font-bold text-slate-500 flex items-center gap-1",children:[a.jsx(co,{className:"w-3 h-3"})," Gross"]}),a.jsxs("div",{className:"text-sm font-mono font-bold text-slate-800",children:["LKR ",wi(d)]})]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3",children:[a.jsxs("div",{className:"text-[10px] uppercase font-bold text-slate-500 flex items-center gap-1",children:[a.jsx(Fl,{className:"w-3 h-3"})," Net"]}),a.jsxs("div",{className:"text-sm font-mono font-bold text-slate-800",children:["LKR ",wi(f)]})]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3",children:[a.jsxs("div",{className:"text-[10px] uppercase font-bold text-slate-500 flex items-center gap-1",children:[a.jsx(Uh,{className:"w-3 h-3"})," Discount"]}),a.jsxs("div",{className:"text-sm font-mono font-bold text-slate-800",children:["LKR ",wi(m)]})]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3",children:[a.jsxs("div",{className:"text-[10px] uppercase font-bold text-slate-500 flex items-center gap-1",children:[a.jsx(C8,{className:"w-3 h-3"})," Tax"]}),a.jsxs("div",{className:"text-sm font-mono font-bold text-slate-800",children:["LKR ",wi(p)]})]})]}),a.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-4 py-2 text-[10px] uppercase font-bold tracking-wider text-slate-500 bg-white border-b border-slate-200",children:"Cash Flow"}),a.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-600",children:"Opening Float"}),a.jsxs("span",{className:"font-mono font-bold text-slate-800",children:["LKR ",wi(g)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-slate-600 flex items-center gap-1",children:[a.jsx(Gc,{className:"w-3 h-3 text-blue-500"})," Paid In"]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"font-mono font-bold text-blue-700",children:["+",wi(b)]}),r.pendingPaidIn>0&&a.jsxs("div",{className:"text-[10px] text-amber-600 font-medium",children:["+",wi(r.pendingPaidIn)," (Pending)"]})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-slate-600 flex items-center gap-1",children:[a.jsx(X0,{className:"w-3 h-3 text-red-500"})," Paid Out"]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"font-mono font-bold text-red-700",children:["-",wi(y)]}),r.pendingPaidOut>0&&a.jsxs("div",{className:"text-[10px] text-amber-600 font-medium",children:["-",wi(r.pendingPaidOut)," (Pending)"]})]})]}),a.jsxs("div",{className:"flex justify-between border-t border-slate-200 pt-2",children:[a.jsx("span",{className:"text-slate-700 font-semibold",children:"Expected Cash"}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"font-mono font-bold text-slate-900 block",children:["LKR ",wi(N)]}),(r.pendingPaidIn>0||r.pendingPaidOut>0)&&a.jsx("span",{className:"text-[10px] text-slate-400",children:"(Excl. Pending)"})]})]})]})]}),a.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[a.jsx("span",{children:"Total Bills"}),a.jsx("span",{className:"font-mono font-bold text-slate-700",children:Number(j||0).toLocaleString()})]})]})]})})}function r$({sale:e,branchId:t,onClose:r,onNotify:n}){const[s,i]=v.useState({}),[c,u]=v.useState(""),[d,f]=v.useState(!1),[m,p]=v.useState(""),[g,b]=v.useState(""),y=(_,E)=>{i(k=>{const T={...k};return E?T[_.productId]={..._,returnQty:1}:delete T[_.productId],T})},N=(_,E)=>{i(k=>{if(!k[_])return k;const T=e.items.find(R=>(R.productId||R.id)===_),D=T?T.qty:0,M=Math.max(1,Math.min(E,D));return{...k,[_]:{...k[_],returnQty:M}}})},j=v.useMemo(()=>Object.values(s).reduce((_,E)=>{const k=E.unitPrice||E.price||0;return _+k*E.returnQty},0),[s]),S=async()=>{if(Object.keys(s).length===0){n("error","No Items","Select items to return");return}if(!c.trim()){n("error","Reason Required","Enter a reason for return");return}f(!0);try{const _=Object.values(s).map(k=>({saleItemId:k.saleItemId,productId:k.productId,qty:k.returnQty,unitPrice:k.unitPrice,condition:"GOOD"})),E={saleId:e.id||e.saleId,branchId:t,items:_,reason:c,refundMethod:"CASH",supervisorUsername:m,supervisorPassword:g};await an.processReturn(E),n("success","Return Processed",`Refund: LKR ${j.toFixed(2)}`),r()}catch(_){console.error(_),n("error","Return Failed",_.response?.data?.message||"Failed to process return")}finally{f(!1)}};return a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white w-[800px] h-[600px] rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"bg-slate-50 px-6 py-4 flex justify-between items-center border-b border-slate-200",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(C0,{className:"w-6 h-6 text-rose-600"}),"Process Return"]}),a.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:["Invoice: ",a.jsx("span",{className:"font-mono font-bold text-slate-700",children:e.invoiceNo})]})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-200 rounded-full transition-colors",children:a.jsx(Qt,{className:"w-6 h-6 text-slate-400"})})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsxs("div",{className:"w-2/3 p-6 flex flex-col gap-4 overflow-hidden",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase",children:"Select Items"}),a.jsx("div",{className:"flex-1 overflow-y-auto border border-slate-200 rounded-xl bg-slate-50 p-2 custom-scroll",children:e.items.map((_,E)=>{const k=!!s[_.productId||_.id],T=k?s[_.productId||_.id].returnQty:0;return _.qty,a.jsxs("div",{className:`p-3 mb-2 rounded-lg border flex items-center gap-3 transition-colors ${k?"bg-rose-50 border-rose-200":"bg-white border-slate-200 hover:border-slate-300"}`,children:[a.jsx("input",{type:"checkbox",checked:k,onChange:D=>y(_,D.target.checked),className:"w-5 h-5 accent-rose-600 rounded cursor-pointer"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-slate-800 text-sm truncate",children:_.productName||_.name}),a.jsxs("div",{className:"text-xs text-slate-500",children:["Sold at: ",Number(_.unitPrice).toLocaleString()," | Qty: ",_.qty]})]}),k&&a.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-rose-200 px-2 py-1",children:[a.jsx("button",{onClick:()=>N(_.productId,T-1),className:"w-6 h-6 flex items-center justify-center bg-slate-100 hover:bg-slate-200 rounded text-slate-600 font-bold",children:"-"}),a.jsx("span",{className:"w-8 text-center font-bold text-rose-700",children:T}),a.jsx("button",{onClick:()=>N(_.productId,T+1),className:"w-6 h-6 flex items-center justify-center bg-slate-100 hover:bg-slate-200 rounded text-slate-600 font-bold",children:"+"})]})]},E)})})]}),a.jsxs("div",{className:"w-1/3 bg-slate-50 border-l border-slate-200 p-6 flex flex-col gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase mb-2",children:"Refund Summary"}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm text-slate-500",children:[a.jsx("span",{children:"Items Returning"}),a.jsx("span",{className:"font-bold text-slate-700",children:Object.keys(s).length})]}),a.jsx("div",{className:"border-t border-dashed border-slate-200 my-2"}),a.jsxs("div",{className:"flex justify-between items-center text-lg font-bold text-rose-600",children:[a.jsx("span",{children:"Refund Total"}),a.jsxs("span",{className:"font-mono",children:["LKR ",j.toLocaleString(void 0,{minimumFractionDigits:2})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase mb-2",children:"Reason"}),a.jsx("textarea",{value:c,onChange:_=>u(_.target.value),className:"w-full h-24 p-3 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-rose-500 resize-none",placeholder:"Defective, Wrong Item, etc."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-bold text-slate-500 uppercase mb-2",children:"Supervisor Approval"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",value:m,onChange:_=>p(_.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-rose-500",placeholder:"Supervisor Username"}),a.jsx("input",{type:"password",value:g,onChange:_=>b(_.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-rose-500",placeholder:"Supervisor Password"})]})]}),a.jsx("button",{onClick:S,disabled:d||Object.keys(s).length===0||!m||!g,className:"w-full py-4 bg-rose-600 hover:bg-rose-700 text-white rounded-xl font-bold shadow-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"w-5 h-5 animate-spin"})," Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xr,{className:"w-5 h-5"})," Confirm Refund"]})})]})]})]})})}const y6=[{value:"GOOD",label:"Good Condition",color:"text-green-600 bg-green-50 border-green-200"},{value:"DAMAGED",label:"Damaged",color:"text-amber-600 bg-amber-50 border-amber-200"},{value:"DEFECTIVE",label:"Defective",color:"text-red-600 bg-red-50 border-red-200"},{value:"WRONG_ITEM",label:"Wrong Item",color:"text-purple-600 bg-purple-50 border-purple-200"}],n$=["Product Defective","Wrong Item Delivered","Customer Changed Mind","Size/Color Mismatch","Quality Issues","Expired Product","Price Dispute","Other"];function a$({branchId:e,onClose:t,onNotify:r}){const[n,s]=v.useState("search"),[i,c]=v.useState(""),[u,d]=v.useState([]),[f,m]=v.useState(!0),[p,g]=v.useState(null),[b,y]=v.useState(null),[N,j]=v.useState({}),[S,_]=v.useState(""),[E,k]=v.useState(""),[T,D]=v.useState(!1),[M,R]=v.useState(""),[B,K]=v.useState(""),[U,F]=v.useState("CASH"),X=v.useRef(null);v.useEffect(()=>{Q()},[e]),v.useEffect(()=>{n==="search"&&X.current&&X.current.focus()},[n]);const Q=async()=>{m(!0),g(null);try{const me=await an.getReturnableSales(7),Ae=me.data?.data||me.data||[],xe=(Array.isArray(Ae)?Ae:[]).map(Ie=>({...Ie,id:Ie.saleId||Ie.id,invoiceNo:Ie.invoiceNo||`INV-${Ie.saleId}`,saleDate:Ie.saleDate||new Date().toISOString(),customerName:Ie.customerName||"Walk-in Customer",items:(Ie.items||[]).map(Ve=>({...Ve,saleItemId:Ve.saleItemId||Ve.id,productId:Ve.productId,productName:Ve.productName||Ve.name||"Unknown Product",qty:Ve.quantity||Ve.qty||1,unitPrice:parseFloat(Ve.unitPrice||Ve.price||0),returnableQty:Ve.quantity||Ve.qty||1,alreadyReturned:Ve.returnedQty||0}))}));d(xe)}catch(me){console.error("Failed to fetch returnable sales:",me),g(me.response?.data?.message||"Failed to load sales")}finally{m(!1)}},pe=async()=>{if(i.trim()){m(!0),g(null);try{const me=await an.getSaleForReturn(i.trim()),Ae=me.data?.data||me.data;if(Ae){const xe={...Ae,id:Ae.saleId||Ae.id,invoiceNo:Ae.invoiceNo,saleDate:Ae.saleDate||new Date().toISOString(),customerName:Ae.customerName||"Walk-in Customer",items:(Ae.items||[]).map(Ie=>({...Ie,saleItemId:Ie.saleItemId||Ie.id,productId:Ie.productId,productName:Ie.productName||Ie.name||"Unknown Product",qty:Ie.quantity||Ie.qty||1,unitPrice:parseFloat(Ie.unitPrice||Ie.price||0),returnableQty:Ie.quantity||Ie.qty||1,alreadyReturned:Ie.returnedQty||0}))};ue(xe)}else g("Invoice not found")}catch(me){console.error("Invoice search failed:",me),g("Invoice not found or not eligible for return")}finally{m(!1)}}},re=v.useMemo(()=>{if(!i.trim())return u;const me=i.toLowerCase();return u.filter(Ae=>Ae.invoiceNo.toLowerCase().includes(me)||Ae.customerName.toLowerCase().includes(me))},[u,i]),ue=me=>{y(me),j({}),s("select")},V=(me,Ae)=>{j(xe=>{const Ie={...xe};return Ae?Ie[me.saleItemId]={...me,returnQty:1,condition:"GOOD"}:delete Ie[me.saleItemId],Ie})},Z=(me,Ae)=>{j(xe=>{if(!xe[me])return xe;const Ie=b.items.find(at=>at.saleItemId===me),Ve=Ie?Ie.returnableQty-Ie.alreadyReturned:1,se=Math.max(1,Math.min(Ae,Ve));return{...xe,[me]:{...xe[me],returnQty:se}}})},ge=(me,Ae)=>{j(xe=>xe[me]?{...xe,[me]:{...xe[me],condition:Ae}}:xe)},G=v.useMemo(()=>Object.values(N).reduce((me,Ae)=>me+Ae.unitPrice*Ae.returnQty,0),[N]),P=S==="Other"?E:S,H=()=>{if(Object.keys(N).length===0){r("error","No Items Selected","Please select items to return");return}if(!P.trim()){r("error","Reason Required","Please select or enter a reason for return");return}s("confirm")},$=async()=>{if(!M||!B){r("error","Approval Required","Supervisor credentials are required");return}D(!0);try{const me=Object.values(N).map(xe=>({saleItemId:xe.saleItemId,productId:xe.productId,qty:xe.returnQty,unitPrice:xe.unitPrice,condition:xe.condition})),Ae={saleId:b.id,branchId:e,items:me,reason:P,refundMethod:U,supervisorUsername:M,supervisorPassword:B};await an.processReturn(Ae),r("success","Return Processed",`Refund: LKR ${G.toLocaleString(void 0,{minimumFractionDigits:2})}`),t()}catch(me){console.error("Return processing failed:",me),r("error","Return Failed",me.response?.data?.message||"Failed to process return")}finally{D(!1)}},ae=me=>me?new Date(me).toLocaleString("en-LK",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",le=me=>{if(!me)return"";const Ae=new Date(me),Ie=Math.floor((new Date-Ae)/(1e3*60*60*24));return Ie===0?"Today":Ie===1?"Yesterday":`${Ie} days ago`},be=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(OF,{className:"absolute left-3 top-2.5 w-5 h-5 text-slate-400"}),a.jsx("input",{ref:X,type:"text",value:i,onChange:me=>c(me.target.value),onKeyDown:me=>me.key==="Enter"&&pe(),className:"w-full pl-10 pr-4 py-2.5 border border-slate-300 rounded-lg text-sm focus:outline-none focus:border-rose-500 focus:ring-2 focus:ring-rose-100",placeholder:"Scan barcode or enter invoice number..."})]}),a.jsxs("button",{onClick:pe,disabled:!i.trim()||f,className:"px-4 py-2 bg-rose-600 text-white rounded-lg font-medium hover:bg-rose-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[a.jsx(Aa,{className:"w-4 h-4"}),"Search"]})]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(Kc,{className:"w-3 h-3"}),"Showing sales from last 7 days eligible for return"]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[f&&a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(_r,{className:"w-8 h-8 animate-spin text-rose-500"})}),p&&!f&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-4",children:[a.jsx(Cs,{className:"w-12 h-12 text-red-400 mb-3"}),a.jsx("p",{className:"text-red-600 font-medium mb-2",children:p}),a.jsx("button",{onClick:Q,className:"text-sm text-blue-600 hover:underline",children:"Try again"})]}),!f&&!p&&re.length===0&&a.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center p-8",children:[a.jsx(Fl,{className:"w-16 h-16 text-slate-200 mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:i?"No matching sales found":"No returnable sales in last 7 days"}),i&&a.jsx("button",{onClick:()=>c(""),className:"mt-2 text-sm text-blue-600 hover:underline",children:"Clear search"})]}),!f&&!p&&re.length>0&&a.jsx("div",{className:"divide-y divide-slate-100",children:re.map(me=>a.jsx("div",{onClick:()=>ue(me),className:"p-4 hover:bg-rose-50 cursor-pointer transition-colors group",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-mono font-bold text-slate-800 text-sm bg-slate-100 px-2 py-0.5 rounded",children:me.invoiceNo}),a.jsx("span",{className:"text-xs font-medium text-green-600 bg-green-50 px-2 py-0.5 rounded border border-green-200",children:"PAID"})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mt-2",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ks,{className:"w-3 h-3"}),ae(me.saleDate),a.jsxs("span",{className:"text-slate-400",children:["(",le(me.saleDate),")"]})]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(uo,{className:"w-3 h-3"}),me.customerName]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(oo,{className:"w-3 h-3"}),me.items?.length||0," items"]})]})]}),a.jsxs("div",{className:"text-right flex items-center gap-3",children:[a.jsx("div",{children:a.jsxs("div",{className:"font-mono font-bold text-slate-900 text-lg",children:["LKR ",parseFloat(me.netTotal||0).toLocaleString("en-LK",{minimumFractionDigits:2})]})}),a.jsx(y0,{className:"w-5 h-5 text-slate-300 group-hover:text-rose-500 transition-colors"})]})]})},me.id))})]}),a.jsxs("div",{className:"bg-slate-50 border-t border-slate-200 px-4 py-2 text-xs text-slate-500 flex justify-between items-center",children:[a.jsxs("span",{children:["Showing ",re.length," of ",u.length," returnable sales"]}),a.jsxs("button",{onClick:Q,disabled:f,className:"text-blue-600 hover:underline flex items-center gap-1",children:[a.jsx(C0,{className:`w-3 h-3 ${f?"animate-spin":""}`}),"Refresh"]})]})]}),ce=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>s("search"),className:"flex items-center gap-1 text-sm text-slate-600 hover:text-slate-900 mb-2",children:[a.jsx(_g,{className:"w-4 h-4"}),"Back to Sales"]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Select Items to Return"}),a.jsxs("div",{className:"text-sm text-slate-500",children:["Invoice: ",a.jsx("span",{className:"font-mono font-bold text-slate-700",children:b?.invoiceNo}),a.jsx("span",{className:"mx-2",children:""}),ae(b?.saleDate)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-slate-500",children:"Original Total"}),a.jsxs("div",{className:"font-mono font-bold text-slate-800",children:["LKR ",parseFloat(b?.netTotal||0).toLocaleString("en-LK",{minimumFractionDigits:2})]})]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("div",{className:"space-y-3",children:b?.items?.map(me=>{const Ae=!!N[me.saleItemId],xe=N[me.saleItemId],Ie=me.returnableQty-me.alreadyReturned;return a.jsx("div",{className:`p-4 rounded-xl border-2 transition-all ${Ae?"bg-rose-50 border-rose-300 shadow-sm":"bg-white border-slate-200 hover:border-slate-300"}`,children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("input",{type:"checkbox",checked:Ae,onChange:Ve=>V(me,Ve.target.checked),disabled:Ie<=0,className:"mt-1 w-5 h-5 accent-rose-600 rounded cursor-pointer disabled:opacity-50"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-slate-800",children:me.productName}),a.jsxs("div",{className:"text-sm text-slate-500 mt-0.5",children:["LKR ",me.unitPrice.toLocaleString(),"  ",me.qty," qty",me.alreadyReturned>0&&a.jsxs("span",{className:"ml-2 text-amber-600",children:["(",me.alreadyReturned," already returned)"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"font-mono font-bold text-slate-700",children:["LKR ",(me.unitPrice*me.qty).toLocaleString("en-LK",{minimumFractionDigits:2})]})})]}),Ae&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-rose-200 grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Return Qty"}),a.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-rose-200 px-2 py-1 w-fit",children:[a.jsx("button",{onClick:()=>Z(me.saleItemId,xe.returnQty-1),className:"w-7 h-7 flex items-center justify-center bg-slate-100 hover:bg-slate-200 rounded text-slate-600 font-bold",children:"-"}),a.jsx("span",{className:"w-10 text-center font-bold text-rose-700 text-lg",children:xe.returnQty}),a.jsx("button",{onClick:()=>Z(me.saleItemId,xe.returnQty+1),className:"w-7 h-7 flex items-center justify-center bg-slate-100 hover:bg-slate-200 rounded text-slate-600 font-bold",children:"+"}),a.jsxs("span",{className:"text-xs text-slate-400 ml-2",children:["of ",Ie]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Condition"}),a.jsx("select",{value:xe.condition,onChange:Ve=>ge(me.saleItemId,Ve.target.value),className:"w-full border border-rose-200 rounded-lg px-3 py-2 text-sm bg-white focus:outline-none focus:border-rose-500",children:y6.map(Ve=>a.jsx("option",{value:Ve.value,children:Ve.label},Ve.value))})]})]})]})]})},me.saleItemId)})})}),a.jsx("div",{className:"bg-slate-50 border-t border-slate-200 p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-1",children:"Return Reason"}),a.jsxs("select",{value:S,onChange:me=>_(me.target.value),className:"w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-rose-500",children:[a.jsx("option",{value:"",children:"Select reason..."}),n$.map(me=>a.jsx("option",{value:me,children:me},me))]}),S==="Other"&&a.jsx("input",{type:"text",value:E,onChange:me=>k(me.target.value),placeholder:"Specify reason...",className:"w-full mt-2 border border-slate-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:border-rose-500"})]}),a.jsxs("div",{className:"flex flex-col justify-between",children:[a.jsxs("div",{className:"bg-white border border-rose-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex justify-between text-sm text-slate-500 mb-1",children:[a.jsx("span",{children:"Items to Return"}),a.jsx("span",{className:"font-bold text-slate-700",children:Object.keys(N).length})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold text-rose-600",children:[a.jsx("span",{children:"Refund Total"}),a.jsxs("span",{className:"font-mono",children:["LKR ",G.toLocaleString("en-LK",{minimumFractionDigits:2})]})]})]}),a.jsxs("button",{onClick:H,disabled:Object.keys(N).length===0||!P.trim(),className:"mt-2 w-full py-3 bg-rose-600 hover:bg-rose-700 text-white rounded-lg font-bold flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx(Xr,{className:"w-5 h-5"}),"Continue to Approval"]})]})]})})]}),oe=()=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"px-6 py-4 bg-slate-50 border-b border-slate-200",children:[a.jsxs("button",{onClick:()=>s("select"),className:"flex items-center gap-1 text-sm text-slate-600 hover:text-slate-900 mb-2",children:[a.jsx(_g,{className:"w-4 h-4"}),"Back to Items"]}),a.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Jb,{className:"w-5 h-5 text-rose-600"}),"Supervisor Approval Required"]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-rose-50 to-rose-100 border border-rose-200 rounded-xl p-5 mb-6",children:[a.jsx("h4",{className:"text-sm font-bold text-rose-700 uppercase mb-3",children:"Return Summary"}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Invoice"}),a.jsx("span",{className:"font-mono font-bold text-slate-800",children:b?.invoiceNo})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Customer"}),a.jsx("span",{className:"font-medium text-slate-800",children:b?.customerName})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Items Returning"}),a.jsx("span",{className:"font-medium text-slate-800",children:Object.keys(N).length})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-600",children:"Reason"}),a.jsx("span",{className:"font-medium text-slate-800",children:P})]})]}),a.jsx("div",{className:"border-t border-rose-200 pt-3",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-rose-700 font-bold",children:"Total Refund"}),a.jsxs("span",{className:"font-mono font-black text-2xl text-rose-700",children:["LKR ",G.toLocaleString("en-LK",{minimumFractionDigits:2})]})]})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase mb-2",children:"Items Being Returned"}),a.jsx("div",{className:"bg-white border border-slate-200 rounded-lg divide-y divide-slate-100",children:Object.values(N).map(me=>a.jsxs("div",{className:"p-3 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-800",children:me.productName}),a.jsxs("div",{className:"text-xs text-slate-500",children:["Qty: ",me.returnQty,"  Condition: ",y6.find(Ae=>Ae.value===me.condition)?.label]})]}),a.jsxs("div",{className:"font-mono font-bold text-slate-700",children:["LKR ",(me.unitPrice*me.returnQty).toLocaleString("en-LK",{minimumFractionDigits:2})]})]},me.saleItemId))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-sm font-bold text-slate-500 uppercase mb-2",children:"Refund Method"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>F("CASH"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg border-2 font-medium transition-colors ${U==="CASH"?"bg-green-50 border-green-500 text-green-700":"bg-white border-slate-200 text-slate-600 hover:border-slate-300"}`,children:[a.jsx(ei,{className:"w-5 h-5"}),"Cash"]}),a.jsxs("button",{onClick:()=>F("CARD"),className:`flex-1 flex items-center justify-center gap-2 py-3 rounded-lg border-2 font-medium transition-colors ${U==="CARD"?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:border-slate-300"}`,children:[a.jsx(Wl,{className:"w-5 h-5"}),"Card Refund"]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-sm font-bold text-slate-500 uppercase mb-2 flex items-center gap-2",children:[a.jsx(ra,{className:"w-4 h-4 text-amber-500"}),"Supervisor Authorization"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx("input",{type:"text",value:M,onChange:me=>R(me.target.value),placeholder:"Supervisor Username",className:"w-full border border-slate-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-rose-500"}),a.jsx("input",{type:"password",value:B,onChange:me=>K(me.target.value),placeholder:"Supervisor Password",className:"w-full border border-slate-300 rounded-lg px-4 py-3 text-sm focus:outline-none focus:border-rose-500"})]})]})]}),a.jsx("div",{className:"bg-slate-50 border-t border-slate-200 p-4",children:a.jsx("button",{onClick:$,disabled:T||!M||!B,className:"w-full py-4 bg-rose-600 hover:bg-rose-700 text-white rounded-xl font-bold text-lg flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg",children:T?a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"w-5 h-5 animate-spin"}),"Processing Return..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xr,{className:"w-5 h-5"}),"Authorize & Process Return"]})})})]});return a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white w-[900px] h-[700px] rounded-2xl shadow-2xl flex flex-col overflow-hidden animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"bg-gradient-to-r from-rose-600 to-rose-700 px-6 py-4 flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:a.jsx(C0,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:"Smart Return"}),a.jsxs("p",{className:"text-rose-200 text-sm",children:[n==="search"&&"Search or scan invoice to start return",n==="select"&&"Select items and quantities to return",n==="confirm"&&"Review and authorize the return"]})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:a.jsx(Qt,{className:"w-6 h-6 text-white"})})]}),a.jsxs("div",{className:"bg-rose-50 px-6 py-2 flex items-center gap-2 border-b border-rose-100",children:[a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold ${n==="search"?"bg-rose-600 text-white":"bg-white text-slate-400 border border-slate-200"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center",children:"1"}),"Find Sale"]}),a.jsx(y0,{className:"w-4 h-4 text-slate-300"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold ${n==="select"?"bg-rose-600 text-white":"bg-white text-slate-400 border border-slate-200"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center",children:"2"}),"Select Items"]}),a.jsx(y0,{className:"w-4 h-4 text-slate-300"}),a.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full text-xs font-bold ${n==="confirm"?"bg-rose-600 text-white":"bg-white text-slate-400 border border-slate-200"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center",children:"3"}),"Authorize"]})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n==="search"&&be(),n==="select"&&ce(),n==="confirm"&&oe()]})]})})}function s$({onClose:e,onApply:t,selectedItem:r,cartTotal:n}){const[s,i]=v.useState("amount"),[c,u]=v.useState(""),[d,f]=v.useState(r?"item":"bill"),m=v.useRef(null);v.useEffect(()=>{m.current?.focus(),m.current?.select()},[]);const p=()=>{const N=parseFloat(c)||0;return s==="percent"?(d==="item"&&r?r.price*r.qty:n)*N/100:N},g=()=>{const N=p();if(N<=0){e();return}t({scope:d,discountType:s,value:parseFloat(c)||0,discountAmount:N}),e()},b=N=>{N.key==="Enter"&&g(),N.key==="Escape"&&e()},y=[5,10,15,20,25];return a.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-[2px]",children:a.jsxs("div",{className:"bg-white w-[420px] rounded-xl shadow-2xl overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-amber-500 px-4 py-3 flex justify-between items-center",children:[a.jsxs("h3",{className:"text-white font-bold text-lg flex items-center gap-2",children:[a.jsx(Uh,{className:"w-5 h-5"})," Apply Discount"]}),a.jsx("button",{onClick:e,className:"text-white/70 hover:text-white transition-colors",children:a.jsx(Qt,{className:"w-6 h-6"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[r&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2 block",children:"Apply To"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>f("item"),className:`py-2 px-3 rounded-lg border-2 text-sm font-bold transition-colors ${d==="item"?"bg-yellow-100 border-yellow-400 text-yellow-800":"bg-slate-50 border-slate-200 text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(ji,{className:"w-4 h-4 inline mr-1"}),"Selected Item"]}),a.jsxs("button",{onClick:()=>f("bill"),className:`py-2 px-3 rounded-lg border-2 text-sm font-bold transition-colors ${d==="bill"?"bg-yellow-100 border-yellow-400 text-yellow-800":"bg-slate-50 border-slate-200 text-slate-600 hover:bg-slate-100"}`,children:[a.jsx(Ei,{className:"w-4 h-4 inline mr-1"}),"Whole Bill"]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2 block",children:"Discount Type"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("button",{onClick:()=>i("amount"),className:`py-2 px-3 rounded-lg border-2 text-sm font-bold transition-colors ${s==="amount"?"bg-green-100 border-green-400 text-green-800":"bg-slate-50 border-slate-200 text-slate-600 hover:bg-slate-100"}`,children:"LKR Amount"}),a.jsx("button",{onClick:()=>i("percent"),className:`py-2 px-3 rounded-lg border-2 text-sm font-bold transition-colors ${s==="percent"?"bg-green-100 border-green-400 text-green-800":"bg-slate-50 border-slate-200 text-slate-600 hover:bg-slate-100"}`,children:"% Percentage"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2 block",children:s==="percent"?"Percentage":"Amount (LKR)"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{ref:m,type:"number",value:c,onChange:N=>u(N.target.value),onKeyDown:b,className:"w-full px-4 py-3 text-2xl font-mono font-bold text-center border-2 border-slate-300 rounded-lg focus:outline-none focus:border-yellow-500 focus:ring-2 focus:ring-yellow-100",placeholder:"0",min:"0",max:s==="percent"?100:void 0}),a.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold",children:s==="percent"?"%":"LKR"})]})]}),s==="percent"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-2 block",children:"Quick Select"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:y.map(N=>a.jsxs("button",{onClick:()=>u(String(N)),className:`py-2 rounded-lg text-sm font-bold transition-colors ${c===String(N)?"bg-yellow-500 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[N,"%"]},N))})]}),a.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Discount Amount:"}),a.jsxs("span",{className:"text-xl font-bold text-green-600",children:["LKR ",p().toFixed(2)]})]})})]}),a.jsxs("div",{className:"p-4 bg-slate-50 border-t border-slate-200 flex gap-3",children:[a.jsx("button",{onClick:e,className:"flex-1 py-3 bg-slate-200 hover:bg-slate-300 text-slate-700 font-bold rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:g,disabled:!c||parseFloat(c)<=0,className:"flex-1 py-3 bg-gradient-to-r from-yellow-500 to-amber-500 hover:from-yellow-600 hover:to-amber-600 text-white font-bold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply Discount"})]})]})})}const wx={PENDING:{label:"Pending",color:"bg-amber-100 text-amber-700 border-amber-200",icon:ks},SUPERVISOR_APPROVED:{label:"Supervisor Approved",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Fg},TRANSFERRED_TO_MANAGER:{label:"Sent to Manager",color:"bg-purple-100 text-purple-700 border-purple-200",icon:AN},PROCESSING:{label:"Processing",color:"bg-cyan-100 text-cyan-700 border-cyan-200",icon:_r},PAID:{label:"Paid",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:Xr},REJECTED:{label:"Rejected",color:"bg-red-100 text-red-700 border-red-200",icon:ra}},v6={URGENT:{label:"Urgent",color:"bg-red-500 text-white"},HIGH:{label:"High",color:"bg-orange-500 text-white"},NORMAL:{label:"Normal",color:"bg-blue-500 text-white"},LOW:{label:"Low",color:"bg-gray-500 text-white"}},i$=[{value:"CASH",label:"Cash",icon:ei},{value:"BANK_TRANSFER",label:"Bank Transfer",icon:yN},{value:"CHEQUE",label:"Cheque",icon:Xo},{value:"CARD",label:"Card",icon:Wl}];function o$({isOpen:e,onClose:t,branchId:r,onNotification:n}){const[s,i]=v.useState([]),[c,u]=v.useState(!0),[d,f]=v.useState(null),[m,p]=v.useState(!1),[g,b]=v.useState(!1),[y,N]=v.useState(!1),[j,S]=v.useState(!1),[_,E]=v.useState({username:"",password:""}),[k,T]=v.useState(""),[D,M]=v.useState("NORMAL"),[R,B]=v.useState({paymentMethod:"CASH",paymentReference:"",amountPaid:0,notes:""}),K=v.useCallback(async()=>{u(!0);try{const Z=await ao.getPaymentRequestsByBranch(r),ge=Z.data?.data||Z.data||[];i(Array.isArray(ge)?ge:[])}catch(Z){console.error("Failed to fetch payment requests:",Z),n?.("error","Error","Failed to load payment requests")}finally{u(!1)}},[r,n]);v.useEffect(()=>{e&&K()},[e,K]);const U=async()=>{if(d){if(!_.username||!_.password){n?.("error","Validation Error","Please enter supervisor credentials");return}N(!0);try{await ao.transferToManager(d.requestId,{supervisorUsername:_.username,supervisorPassword:_.password,notes:k,priority:D}),n?.("success","Transferred","Payment request sent to manager"),p(!1),f(null),E({username:"",password:""}),T(""),M("NORMAL"),K()}catch(Z){const ge=Z.response?.data?.message||Z.message||"Transfer failed";n?.("error","Transfer Failed",ge)}finally{N(!1)}}},F=async()=>{if(d){if(!_.username||!_.password){n?.("error","Validation Error","Please enter supervisor credentials");return}S(!0);try{await ao.transferToManager(d.requestId,{supervisorUsername:_.username,supervisorPassword:_.password,notes:`PAYOUT REQUEST
${R.notes}
Payment Method: ${R.paymentMethod}
Reference: ${R.paymentReference||"N/A"}`,priority:"HIGH"}),n?.("success","Payout Requested","Payment request sent to manager for payout approval"),b(!1),f(null),E({username:"",password:""}),B({paymentMethod:"CASH",paymentReference:"",amountPaid:0,notes:""}),K()}catch(Z){const ge=Z.response?.data?.message||Z.message||"Payout request failed";n?.("error","Payout Failed",ge)}finally{S(!1)}}},X=Z=>{f(Z),p(!0)},Q=Z=>{f(Z),B(ge=>({...ge,amountPaid:Z.amount})),b(!0)},pe=Z=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2}).format(Z||0),re=Z=>Z?new Date(Z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"-";if(!e)return null;const ue=s.filter(Z=>Z.status==="PENDING"||Z.status==="SUPERVISOR_APPROVED"),V=s.filter(Z=>!["PENDING","SUPERVISOR_APPROVED"].includes(Z.status));return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 px-6 py-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-white/20 flex items-center justify-center",children:a.jsx(Fl,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-bold text-white",children:"GRN Payment Requests"}),a.jsxs("p",{className:"text-sm text-indigo-100",children:[ue.length," pending request",ue.length!==1?"s":""]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:K,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 text-white transition-colors",title:"Refresh",children:a.jsx(Sa,{className:"w-4 h-4"})}),a.jsx("button",{onClick:t,className:"p-2 rounded-lg bg-white/10 hover:bg-white/20 text-white transition-colors",children:a.jsx(Qt,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:c?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(_r,{className:"w-8 h-8 text-indigo-600 animate-spin"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading payment requests..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:a.jsx(Fl,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"No Payment Requests"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"When GRNs are approved, payment requests will appear here."})]}):a.jsxs("div",{className:"space-y-6",children:[ue.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:["Pending Requests (",ue.length,")"]}),a.jsx("div",{className:"space-y-3",children:ue.map(Z=>{const ge=wx[Z.status]||wx.PENDING,G=ge.icon,P=v6[Z.priority]||v6.NORMAL;return a.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-all",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("span",{className:"font-bold text-gray-800",children:Z.grnNo}),a.jsx("span",{className:`px-2 py-0.5 text-xs font-bold rounded ${P.color}`,children:P.label}),a.jsxs("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full border ${ge.color}`,children:[a.jsx(G,{className:"w-3 h-3 inline mr-1"}),ge.label]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(yN,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:Z.supplierName})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Ei,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"font-semibold text-gray-800",children:pe(Z.amount)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Kc,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",re(Z.dueDate)]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Fl,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{children:Z.invoiceNo||"-"})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:H=>{H.stopPropagation(),Q(Z)},className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-sm font-medium transition-colors",children:[a.jsx(ei,{className:"w-4 h-4"}),"Pay"]}),a.jsxs("button",{onClick:H=>{H.stopPropagation(),X(Z)},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-medium transition-colors",children:[a.jsx(AN,{className:"w-4 h-4"}),"Transfer"]})]})]})},Z.requestId)})})]}),V.length>0&&a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:["Processed (",V.length,")"]}),a.jsx("div",{className:"space-y-2",children:V.slice(0,5).map(Z=>{const ge=wx[Z.status]||wx.PENDING,G=ge.icon;return a.jsxs("div",{className:"bg-gray-50 border border-gray-100 rounded-lg p-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium text-gray-700",children:Z.grnNo}),a.jsx("span",{className:"text-gray-500",children:Z.supplierName}),a.jsx("span",{className:"font-semibold text-gray-800",children:pe(Z.amount)})]}),a.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${ge.color}`,children:[a.jsx(G,{className:"w-3 h-3 inline mr-1"}),ge.label]})]},Z.requestId)})})]})]})})]}),g&&d&&a.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center gap-2",children:[a.jsx(ei,{className:"w-5 h-5 text-emerald-600"}),"Process Payout"]}),a.jsx("button",{onClick:()=>b(!1),className:"p-1 rounded hover:bg-gray-100",children:a.jsx(Qt,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"bg-emerald-50 rounded-lg p-3 mb-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:d.grnNo})," - ",d.supplierName]}),a.jsx("div",{className:"text-lg font-bold text-emerald-700 mt-1",children:pe(d.amount)})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Payment Method"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:i$.map(Z=>{const ge=Z.icon;return a.jsxs("button",{onClick:()=>B(G=>({...G,paymentMethod:Z.value})),className:`p-3 rounded-lg border-2 transition-all flex items-center gap-2 ${R.paymentMethod===Z.value?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 hover:border-gray-300"}`,children:[a.jsx(ge,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:Z.label})]},Z.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Reference Number"}),a.jsx("input",{type:"text",value:R.paymentReference,onChange:Z=>B(ge=>({...ge,paymentReference:Z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Cheque no, transfer ref, etc."})]}),a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[a.jsx(Fg,{className:"w-5 h-5 text-amber-600"}),a.jsx("span",{className:"text-sm text-amber-800 font-medium",children:"Supervisor approval required for payout"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Supervisor Username"}),a.jsx("input",{type:"text",value:_.username,onChange:Z=>E(ge=>({...ge,username:Z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Enter supervisor username"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Supervisor Password"}),a.jsx("input",{type:"password",value:_.password,onChange:Z=>E(ge=>({...ge,password:Z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Enter supervisor password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Notes (Optional)"}),a.jsx("textarea",{value:R.notes,onChange:Z=>B(ge=>({...ge,notes:Z.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Payment notes..."})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:F,disabled:j||!_.username||!_.password,className:"flex-1 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:j?a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ei,{className:"w-4 h-4"}),"Request Payout"]})})]})]})}),m&&d&&a.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Transfer to Manager"}),a.jsx("button",{onClick:()=>p(!1),className:"p-1 rounded hover:bg-gray-100",children:a.jsx(Qt,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"bg-indigo-50 rounded-lg p-3 mb-4",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:d.grnNo})," - ",d.supplierName]}),a.jsx("div",{className:"text-lg font-bold text-indigo-700 mt-1",children:pe(d.amount)})]}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[a.jsx(Fg,{className:"w-5 h-5 text-amber-600"}),a.jsx("span",{className:"text-sm text-amber-800 font-medium",children:"Supervisor approval required"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Supervisor Username"}),a.jsx("input",{type:"text",value:_.username,onChange:Z=>E(ge=>({...ge,username:Z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter supervisor username"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Supervisor Password"}),a.jsx("input",{type:"password",value:_.password,onChange:Z=>E(ge=>({...ge,password:Z.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter supervisor password"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Priority"}),a.jsxs("select",{value:D,onChange:Z=>M(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[a.jsx("option",{value:"LOW",children:"Low"}),a.jsx("option",{value:"NORMAL",children:"Normal"}),a.jsx("option",{value:"HIGH",children:"High"}),a.jsx("option",{value:"URGENT",children:"Urgent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Notes (Optional)"}),a.jsx("textarea",{value:k,onChange:Z=>T(Z.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Add any notes for the manager..."})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:U,disabled:y||!_.username||!_.password,className:"flex-1 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:y?a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"w-4 h-4 animate-spin"}),"Transferring..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Q0,{className:"w-4 h-4"}),"Transfer to Manager"]})})]})]})})]})}const l$=()=>{const e=localStorage.getItem("user");return e&&JSON.parse(e).branchId||1},Ld=1;function c$(){const[e]=v.useState(l$()),[t,r]=v.useState({isOpen:!1,cashier:"--",shiftId:null,userId:null,terminalCode:`POS-${String(Ld).padStart(2,"0")}`}),[n,s]=v.useState([]),[i,c]=v.useState(null),[u,d]=v.useState(""),[f,m]=v.useState("INV-READY"),[p,g]=v.useState(1),[b,y]=v.useState(null),[N,j]=v.useState({name:"Loading...",code:""}),[S,_]=v.useState(null),[E,k]=v.useState(null),[T,D]=v.useState(null),[M,R]=v.useState(null),[B,K]=v.useState(null),[U,F]=v.useState(null),[X,Q]=v.useState(null),[pe,re]=v.useState(0),[ue,V]=v.useState(new Date),[Z,ge]=v.useState(null),[G,P]=v.useState(!1),[H,$]=v.useState(0),[ae,le]=v.useState(0),[be,ce]=v.useState(!1),oe=v.useMemo(()=>{const Se=n.reduce((et,nt)=>et+nt.price*nt.qty,0),qe=n.reduce((et,nt)=>et+(nt.discount||0)*nt.qty,0),Fe=n.reduce((et,nt)=>{const Nt=nt.price*nt.qty-(nt.discount||0)*nt.qty;return et+Nt*(nt.taxRate||0)/100},0),Je=qe+H,Xe=Se-Je+Fe;return{grossTotal:Se,itemDiscountAmount:qe,billDiscountAmount:H,discountAmount:Je,totalDiscount:Je,taxAmount:Fe,netTotal:Xe,itemCount:n.length,totalQty:n.reduce((et,nt)=>et+nt.qty,0)}},[n,H]),me=async()=>{if(t.shiftId)try{const Se=await an.getShiftTotals(t.shiftId);y(Se.data?.data||Se.data)}catch(Se){console.error("Failed to fetch shift totals:",Se),xe("error","Sync Failed","Could not refresh shift totals.")}},Ae=v.useRef(null),{addNotification:xe,setIsOpen:Ie,unreadCount:Ve}=ap();v.useEffect(()=>{let Se=!0;return Gd.getBranches().then(qe=>{if(!Se)return;const Fe=qe?.find(Je=>String(Je.id??Je.branchId)===String(e));j({name:Fe?.name||Fe?.branchName||`Branch ${e}`,code:Fe?.code||Fe?.branchCode||""})}).catch(()=>{Se&&j({name:`Branch ${e}`,code:""})}),()=>{Se=!1}},[e]),v.useEffect(()=>{const Se=setInterval(()=>V(new Date),1e3);return()=>clearInterval(Se)},[]),v.useEffect(()=>{const Se=async()=>{try{const Je=(await ao.getPendingCount(e)).data?.data?.count||0;le(Je)}catch(Fe){console.error("Failed to fetch GRN payment count:",Fe)}};Se();const qe=setInterval(Se,3e4);return()=>clearInterval(qe)},[e]),v.useEffect(()=>{X!=null&&(X<0||X>=n.length)&&Q(null)},[n,X]);const se=v.useRef(!1);v.useEffect(()=>{if(se.current)return;se.current=!0,(async()=>{try{if(t.isOpen)return;let qe=null,Fe=null;const Je=localStorage.getItem("user");if(Je)try{Fe=JSON.parse(Je),qe=Fe.id||Fe.userId}catch(nt){console.error("Error parsing user",nt)}const Xe=await an.getCurrentShift(Ld,qe),et=Xe.data?.data||Xe.data;if(et&&et.shiftId){console.log("Restoring active shift:",et);let nt=et.cashierName;(!nt||nt==="Restored User")&&Fe&&(nt=Fe.username||Fe.name),r({isOpen:!0,cashier:nt||"Unknown User",userId:et.cashierId,shiftId:et.shiftId,shiftNo:et.shiftNo,terminalCode:`POS-${String(Ld).padStart(2,"0")}`}),_(null),xe("info","Session Restored",`Resumed Shift #${et.shiftId}`)}else _("FLOAT")}catch{console.log("No active shift found, waiting for login."),_("FLOAT")}})()},[]),v.useEffect(()=>{(async()=>{if(t.isOpen)try{const qe=await an.getLastInvoiceNumber(t.branchId||1),Fe=qe.data?.data||qe.data;Fe&&Fe.nextSequence&&(g(Fe.nextSequence),Fe.nextInvoiceNo)}catch(qe){console.error("Failed to fetch next invoice no",qe)}})()},[t.isOpen]),v.useEffect(()=>{if(t.isOpen){const Se=new Date,qe=Se.getFullYear().toString()+String(Se.getMonth()+1).padStart(2,"0")+String(Se.getDate()).padStart(2,"0"),Fe=String(p).padStart(5,"0"),Je=`INV-${qe}-${Fe}`;!B&&(f==="INV-READY"||f!==Je)&&m(Je)}},[t.isOpen,p,B]),v.useEffect(()=>{const Se=Fe=>{t.isOpen&&(Fe.key==="F5"||(Fe.ctrlKey||Fe.metaKey)&&Fe.key==="r")&&(Fe.preventDefault(),xe("warning","Action Blocked","Refreshing is disabled while the shift is open."))},qe=Fe=>{if(t.isOpen)return Fe.preventDefault(),Fe.returnValue="",""};return window.addEventListener("keydown",Se),window.addEventListener("beforeunload",qe),()=>{window.removeEventListener("keydown",Se),window.removeEventListener("beforeunload",qe)}},[t.isOpen,xe]);const at=async(Se,qe,Fe,Je=null)=>{try{const Xe=await Gd.login({username:Fe.username,password:Fe.password}),et=Xe.data||Xe;console.log("Supervisor Auth Response:",et);const nt=["ADMIN","BRANCH_MANAGER","SUPERVISOR"],Nt=(et.role||et.userRole||"").toUpperCase();if(!nt.includes(Nt))throw xe("error","Access Denied",`User '${et.username||Fe.username}' is a ${Nt||"CASHIER"} and cannot approve shifts. Only Admin, Branch Manager, or Supervisor can approve.`),new Error("Insufficient Permissions");const gt={cashierId:Se.id,branchId:e,terminalId:Ld,openingCash:parseFloat(qe),supervisorUsername:Fe.username,supervisorPassword:Fe.password,approvedBy:et.userId||et.id};Je&&Je.length>0&&(gt.denominations=Je),console.log("Opening Shift - Payload:",JSON.stringify(gt,null,2));const it=await an.openShift(gt),Et=it.data?.data||it.data;console.log("Shift Open Response:",Et);let Tt=null,ht=null;if(typeof Et=="number"?Tt=Et:Et&&typeof Et=="object"&&(Tt=Et.shiftId||Et.id||Et.shift_id,ht=Et.shiftNo||Et.shift_no),!Tt)throw new Error("Invalid Shift ID received.");r({isOpen:!0,cashier:Se.name,shiftId:Tt,shiftNo:ht||`SH-${Tt}`,userId:Se.id,terminalCode:`POS-${String(Ld).padStart(2,"0")}`});try{const Xt=await an.getLastInvoiceNumber(e),Zr=Xt.data?.data||Xt.data;let Jr=0;if(Zr)if(typeof Zr=="number")Jr=Zr;else if(typeof Zr=="string"){const aa=Zr.match(/(\d+)$/);Jr=aa?parseInt(aa[1]):0}else if(Zr.invoiceNo){const aa=Zr.invoiceNo.match(/(\d+)$/);Jr=aa?parseInt(aa[1]):0}else Zr.lastNumber!==void 0&&(Jr=Zr.lastNumber);g(Jr+1),console.log("Next Invoice Number:",Jr+1)}catch(Xt){console.warn("Could not fetch last invoice number, starting from 1:",Xt),g(1)}_(null),xe("success","Terminal Open",`Shift #${Tt} started successfully. Approved by ${et.username||Fe.username}.`)}catch(Xe){if(console.error("Shift Open Error:",Xe),console.error("Error Response:",Xe.response?.data),Xe.message!=="Insufficient Permissions")if(Xe.response?.status===401||Xe.response?.status===403)xe("error","Verification Failed","Invalid Supervisor Username or Password.");else if(Xe.response?.status===400){const et=Xe.response?.data?.message||Xe.response?.data?.error||"Invalid request data";xe("error","Validation Error",et)}else{const et=Xe.response?.data?.message||Xe.message||"Failed to open shift";xe("error","Login Error",et)}throw Xe}},Dt=async(Se,qe,Fe=null)=>{try{const Je=await Gd.login({username:qe.username,password:qe.password}),Xe=Je.data||Je,et=["ADMIN","BRANCH_MANAGER","SUPERVISOR"],nt=(Xe.role||Xe.userRole||"").toUpperCase();if(!et.includes(nt))throw new Error(`Access Denied: ${nt} cannot approve shift end.`);await an.closeShift(t.shiftId,{closingCash:parseFloat(Se),denominations:Fe,notes:"Shift Closed",supervisorUsername:qe.username,supervisorPassword:qe.password,approvedBy:Xe.userId||Xe.id}),r({isOpen:!1,cashier:"--",shiftId:null,userId:null,terminalCode:`POS-${String(Ld).padStart(2,"0")}`}),localStorage.removeItem("pos_notifications"),xe("success","Shift Closed","Redirecting to login..."),setTimeout(()=>{window.location.href="/"},1e3)}catch(Je){const Xe=Je.response?.data?.message||Je.message||"Logout failed";throw xe("error","Logout Error",Xe),new Error(Xe)}},xt=async Se=>{if(Se)try{let qe;if(typeof Se=="object"&&Se!==null)qe={id:Se.productId||Se.id,name:Se.name||Se.productName,price:parseFloat(Se.sellingPrice||Se.price||0),costPrice:parseFloat(Se.costPrice||0),sku:Se.sku,barcode:Se.barcode,taxRate:parseFloat(Se.taxRate||0),qty:1,discount:0};else{const Je=String(Se).trim();if(!Je)return;console.log("Scanning product code:",Je);const Xe=await an.getProduct(Je),et=Xe.data?.data||Xe.data;if(console.log("Product API response:",et),!et)throw new Error("Product not found");qe={id:et.productId||et.id,name:et.name||et.productName,price:parseFloat(et.sellingPrice??et.price??et.unitPrice??0),costPrice:parseFloat(et.costPrice||0),sku:et.sku,barcode:et.barcode,taxRate:parseFloat(et.taxRate||0),qty:1,discount:0}}if(!qe.id&&!qe.sku&&!qe.barcode)throw new Error("Invalid product data - no identifier");if(!qe.name)throw new Error("Invalid product data - no name");qe.id||(qe.id=qe.sku||qe.barcode);let Fe=null;s(Je=>{const Xe=Je.findIndex(et=>et.id===qe.id||et.barcode&&et.barcode===qe.barcode||et.sku&&et.sku===qe.sku);if(Xe>=0){const et=[...Je],nt=et[Xe].qty+1;return et[Xe]={...et[Xe],qty:nt},Fe={type:"info",title:"Quantity Updated",message:`${qe.name} x${nt}`},et}return Fe={type:"success",title:"Item Added",message:`${qe.name} added to cart`},[...Je,qe]}),Fe&&xe(Fe.type,Fe.title,Fe.message),Ae.current?.focus()}catch(qe){console.error("Add to cart error:",qe);const Fe=typeof Se=="object"?Se?.sku||Se?.barcode:Se;xe("error","Product Not Found",`Code '${Fe}' is invalid or not available.`)}},tt=()=>{u.trim()&&(xt(u.trim()),d(""),Ae.current?.focus())},jt=(Se="CASH")=>{if(n.length===0){xe("warning","Empty Cart","Add items first.");return}if(!t.shiftId){xe("error","System Error","No Active Shift.");return}D({mode:Se}),_("PAYMENT")},ut=async Se=>{const qe=n.reduce((it,Et)=>it+Et.price*Et.qty,0),Je=n.reduce((it,Et)=>it+(Et.discount||0)*Et.qty,0)+H,Xe=n.reduce((it,Et)=>{const Tt=Et.price*Et.qty-(Et.discount||0)*Et.qty;return it+Tt*(Et.taxRate||0)/100},0),et=qe-Je+Xe,nt=n.map(it=>({productId:it.id,serialId:it.serialId||null,qty:it.qty,unitPrice:it.price,discount:it.discount||0,taxRate:it.taxRate||0})),Nt=Se.payments.map(it=>({paymentType:it.paymentType,amount:it.amount,referenceNo:it.referenceNo||null,bankName:it.bankName||null,cardLast4:it.cardLast4||null})),gt={saleId:B,branchId:e,cashierId:t.userId,customerId:i?i.customerId||i.id:null,shiftId:t.shiftId,grossTotal:qe,discount:Je,taxAmount:Xe,netTotal:et,paidAmount:Se.totalPaid,changeAmount:Se.changeAmount||0,saleType:"RETAIL",notes:"",items:nt,payments:Nt};try{const it=await an.submitOrder(gt),Et=it.data?.data||it.data,Tt=Et?.invoiceNo||Et?.invoice_no||f;m(Tt);let ht="";if(i&&i.id){const Xt=Math.floor(et/100);if(Xt>0)try{await an.updateLoyaltyPoints(i.id,Xt),ht=` | +${Xt} Points`}catch(Zr){console.error("Failed to update loyalty points",Zr)}}xe("success","Sale Complete",`Invoice: ${Tt} | Change: LKR ${Se.changeAmount?.toFixed(2)||"0.00"}${ht}`),s([]),c(null),K(null),$(0),_(null),setTimeout(()=>{m("INV-READY")},3e3)}catch(it){const Et=it.response?.data?.message||it.response?.data?.error||"Transaction failed";xe("error","Payment Failed",Et)}},kt=Se=>{Q(Se),U!==null&&U!==Se&&F(null)},Ct=(Se,qe)=>{const Fe=Number(qe);if(!Number.isFinite(Fe)||Fe<=0){xe("warning","Invalid Quantity","Enter a quantity greater than 0.");return}s(Je=>{const Xe=[...Je];return Xe[Se]?(Xe[Se]={...Xe[Se],qty:Fe},Xe):Je}),F(null),Ae.current?.focus()},Gt=()=>{F(null),Ae.current?.focus()},nr=async()=>{if(!t.shiftId){xe("warning","No Active Shift","Open a shift to view summary.");return}_("CASHIER_SUMMARY"),P(!0);try{const Se=await an.getShiftTotals(t.shiftId),qe=Se.data?.data||Se.data||{};ge(qe)}catch(Se){console.error("Failed to load cashier summary:",Se),xe("error","Summary Error",Se.response?.data?.message||"Failed to load cashier summary."),ge(null)}finally{P(!1)}},Ut=Se=>{const Fe=X??n.length-1;if(Fe<0||Fe>=n.length)return;const Je=n[Fe];Kt("Void Item",`Remove "${Je.name}" from cart?`,()=>{const Xe=[...n];Xe.splice(Fe,1),s(Xe),Q(et=>et==null?null:et===Fe?Xe.length?Math.min(Fe,Xe.length-1):null:et>Fe?et-1:et),_(null),xe("info","Item Voided",`${Je.name} removed from cart.`)})},ar=(Se,qe)=>{Se<0||Se>=n.length||(s(Fe=>{const Je=[...Fe];return Je[Se]={...Je[Se],discount:qe},Je}),xe("success","Discount Applied",`LKR ${qe.toFixed(2)} discount applied.`))},Kt=(Se,qe,Fe,Je=!1)=>{k({title:Se,message:qe,onYes:Fe,isAlert:Je}),_("CONFIRM")},ct=async Se=>{if(Se==="HOLD"){if(n.length===0)return;Kt("Suspend Transaction","Park this transaction for later?",async()=>{try{const qe=n.reduce((nt,Nt)=>nt+Nt.price*Nt.qty,0),Je=n.reduce((nt,Nt)=>nt+(Nt.discount||0)*Nt.qty,0)+H,Xe=n.reduce((nt,Nt)=>{const gt=Nt.price*Nt.qty-(Nt.discount||0)*Nt.qty;return nt+gt*(Nt.taxRate||0)/100},0),et=qe-Je+Xe;await an.holdBill({saleId:B,branchId:e,cashierId:t.userId,shiftId:t.shiftId,customerId:i?.customerId||i?.id||null,grossTotal:qe,discount:Je,taxAmount:Xe,netTotal:et,items:n.map(nt=>({productId:nt.id,quantity:nt.qty,unitPrice:nt.price,discount:nt.discount||0,taxRate:nt.taxRate||0}))}),s([]),c(null),K(null),$(0),_(null),m("INV-READY"),g(nt=>nt),xe("info","Bill Held","Transaction parked successfully.")}catch(qe){xe("error","Hold Failed",qe.response?.data?.message||"Could not hold bill.")}})}else if(Se==="CANCEL"){if(n.length===0)return;Kt("Cancel Transaction","Void the entire bill?",()=>{s([]),c(null),K(null),$(0),_(null),m("INV-READY"),xe("warning","Bill Cancelled","Transaction cleared.")})}else if(Se==="RECALL")D({type:"RECALL"}),_("LIST");else if(Se==="RETURN")_("SMART_RETURN");else if(Se==="EXIT"){if(n.length>0){Kt("Pending Items","You have items in cart. Cancel them before closing shift.",null,!0);return}y(null),_("END_SHIFT"),y(null),_("END_SHIFT"),me()}else Se==="PAY_CASH"?jt("CASH"):Se==="PAY_CARD"?jt("CARD"):Se==="PAY_QR"&&jt("QR")},Ht=async Se=>{try{if(T?.type==="RETURN"){R(Se),D(null),_("RETURN_DETAILS");return}const qe=await an.recallBill(Se.saleId||Se.id),Fe=qe.data?.data||qe.data;if(Fe.items&&Array.isArray(Fe.items)){const Je=Fe.items.map(Xe=>({id:Xe.productId,name:Xe.productName||Xe.name,price:Xe.unitPrice,qty:Xe.quantity||Xe.qty,discount:Xe.discount||0,taxRate:Xe.taxRate||0}));s(Je)}Fe.customer?c({id:Fe.customer.id||Fe.customer.customerId,customerId:Fe.customer.id||Fe.customer.customerId,name:Fe.customer.name,phone:Fe.customer.phone,email:Fe.customer.email,loyaltyPoints:Fe.customer.loyaltyPoints||0}):Fe.customerId&&c({id:Fe.customerId,customerId:Fe.customerId,name:Fe.customerName||"Customer"}),Se.invoiceNo&&m(Se.invoiceNo),(Se.saleId||Se.id)&&K(Se.saleId||Se.id),D(null),_(null),xe("success","Bill Recalled",`Bill #${Se.invoiceNo||Se.id} loaded.`)}catch(qe){xe("error","Recall Failed",qe.response?.data?.message||"Failed to load bill.")}};return v.useEffect(()=>{const Se=qe=>{if(S&&S!=="FLOAT"){qe.key==="Escape"&&(_(null),k(null));return}t.isOpen&&(qe.key==="F1"&&(qe.preventDefault(),_("PRICE_CHECK")),qe.key==="F3"&&(qe.preventDefault(),ct("RECALL")),qe.key==="F4"&&(qe.preventDefault(),ct("CANCEL")),qe.key==="F6"&&(qe.preventDefault(),_("PAID_IN")),qe.key==="F7"&&(qe.preventDefault(),_("PAID_OUT")),(qe.key===" "||qe.code==="Space")&&document.activeElement.tagName!=="INPUT"&&(qe.preventDefault(),ct("PAY_CASH")),qe.key==="F10"&&(qe.preventDefault(),ct("PAY_CARD")),qe.key==="F11"&&(qe.preventDefault(),ct("PAY_QR")),qe.key==="Delete"&&(qe.preventDefault(),Ut()),(qe.key==="q"||qe.key==="Q")&&X!=null&&(qe.preventDefault(),F(X)),!S&&document.activeElement.tagName!=="INPUT"&&Ae.current?.focus())};return window.addEventListener("keydown",Se),()=>window.removeEventListener("keydown",Se)},[S,n,t.isOpen,X]),a.jsxs("div",{className:"h-screen w-screen flex flex-col bg-slate-100 overflow-hidden font-sans relative",children:[a.jsxs("header",{className:"bg-slate-900 text-white h-16 shrink-0 flex items-center justify-between px-4 shadow-md z-30 border-b border-slate-800",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex flex-col leading-none",children:[a.jsx("span",{className:"font-bold text-2xl text-green-400 tracking-tight",children:t.terminalCode}),a.jsxs("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider flex items-center gap-1",children:[a.jsx(_N,{className:"w-3 h-3"})," ",N.name||`Branch ${e}`]})]}),a.jsx("div",{className:"h-10 w-px bg-slate-700"}),a.jsx("div",{className:"h-12 flex items-center",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[9px] text-slate-500 uppercase font-bold tracking-widest",children:"Invoice"}),a.jsx("div",{className:"flex items-center gap-1",children:f==="INV-READY"?a.jsx("span",{className:"font-mono text-lg font-bold text-slate-400 animate-pulse",children:"READY"}):a.jsx(a.Fragment,{children:(()=>{const Se=f.split("-");return Se.length>=3?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"font-mono text-xs font-bold text-blue-400",children:Se[0]}),a.jsx("span",{className:"text-slate-600",children:"-"}),a.jsx("span",{className:"font-mono text-sm font-bold text-cyan-400",children:Se[1]}),a.jsx("span",{className:"text-slate-600",children:"-"}),a.jsx("span",{className:"font-mono text-xl font-black text-green-400 tracking-wider",children:Se[2]})]}):a.jsx("span",{className:"font-mono text-xl font-bold text-white",children:f})})()})})]})}),t.shiftId&&a.jsx("div",{className:"h-12 flex items-center ml-4",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-[9px] text-slate-500 uppercase font-bold tracking-widest",children:"Active Shift"}),a.jsxs("span",{className:"text-lg text-green-400 font-mono font-bold",children:["#",t.shiftId]})]})})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("button",{onClick:()=>Ie(!0),className:"relative p-2 rounded-full hover:bg-slate-800 transition-colors text-slate-300 hover:text-white",children:[a.jsx(Bh,{className:"w-5 h-5"}),Ve>0&&a.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-slate-900 animate-pulse"})]}),a.jsxs("button",{onClick:()=>ce(!0),className:"relative p-2 rounded-full hover:bg-slate-800 transition-colors text-slate-300 hover:text-purple-400",title:"GRN Payment Requests",children:[a.jsx(Fl,{className:"w-5 h-5"}),ae>0&&a.jsx("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] flex items-center justify-center bg-purple-500 text-white text-[10px] font-bold rounded-full border-2 border-slate-900 animate-pulse",children:ae>9?"9+":ae})]}),a.jsxs("button",{onClick:nr,disabled:!t.isOpen,className:"flex items-center gap-3 bg-blue-900/40 border border-blue-500/30 rounded-full py-1.5 px-4 hover:bg-blue-900/60 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[a.jsx(uo,{className:"w-4 h-4 text-blue-400"}),a.jsx("span",{className:"text-sm font-bold tracking-wide uppercase text-blue-100",children:t.cashier})]}),a.jsxs("div",{className:"text-right leading-tight hidden md:block",children:[a.jsx("div",{className:"font-mono text-2xl font-bold text-white tracking-widest",children:ue.toLocaleTimeString("en-US",{hour12:!1})}),a.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-wider",children:ue.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}).toUpperCase()})]}),a.jsxs("button",{onClick:()=>ct("EXIT"),disabled:!t.isOpen,className:"inline-flex items-center justify-center gap-2 bg-red-600 hover:bg-red-700 disabled:bg-slate-700 disabled:cursor-not-allowed text-white px-6 py-2 rounded-md text-xs font-bold uppercase tracking-widest border border-red-800 disabled:border-slate-600 shadow-lg active:scale-95 transition-all w-auto",children:["EXIT ",a.jsx(ef,{className:"w-4 h-4"})]})]})]}),a.jsxs("div",{className:`flex flex-1 overflow-hidden transition-all duration-500 ${!t.isOpen||S?"blur-[3px] brightness-90":""}`,children:[a.jsx(fU,{cart:n,customer:i,totals:oe,onItemClick:kt,selectedIndex:X,editingIndex:U,onQuantityCommit:Ct,onQuantityCancel:Gt,onDetachCustomer:()=>c(null),billDiscount:H}),a.jsx($q,{inputRef:Ae,inputBuffer:u,setInputBuffer:d,onScan:tt,onOpenModal:_,onAction:ct,onVoid:()=>Ut(),isEnabled:t.isOpen,onSelectProduct:xt}),a.jsx(Hq,{onAddToCart:xt,onAddQuickItemClick:()=>_("QUICK_ADD"),refreshTrigger:pe,branchId:e})]}),a.jsx(aP,{}),S==="FLOAT"&&a.jsx(Qq,{onApprove:at,branchId:e,terminalId:Ld}),S==="END_SHIFT"&&a.jsx(Zq,{cashierName:t.cashier,shiftId:t.shiftId,expectedTotals:b,onClose:()=>_(null),onConfirm:Dt,onRefresh:me}),S==="PAYMENT"&&a.jsx(Jq,{total:oe.netTotal,cart:n,customer:i,invoiceId:f,cashierName:t.cashier,branchInfo:N,totals:oe,initialMethod:T?.mode||"CASH",onClose:()=>_(null),onProcess:ut}),S==="QUICK_ADD"&&a.jsx(e$,{onClose:()=>_(null),onProductSelected:Se=>{xt(Se),_(null)},onAddToQuickPick:Se=>{try{const qe="pos_quick_pick_items",Fe=localStorage.getItem(qe),Je=Fe?JSON.parse(Fe):[],Xe={id:Se.productId||Se.id,sku:Se.sku,barcode:Se.barcode,name:Se.name||Se.productName,price:parseFloat(Se.sellingPrice||Se.price||0),taxRate:parseFloat(Se.taxRate||0),isActive:!0};return Je.some(nt=>nt.id===Xe.id)?(xe("info","Already Added",`${Xe.name} is already in quick pick.`),!1):(Je.push(Xe),localStorage.setItem(qe,JSON.stringify(Je)),re(nt=>nt+1),xe("success","Added to Quick Pick",`${Xe.name} added to quick pick panel.`),!0)}catch(qe){return console.error("Failed to add to quick pick:",qe),!1}}}),S==="PAID_IN"&&a.jsx(g6,{type:"PAID_IN",shiftId:t.shiftId,onClose:()=>_(null),onNotify:xe}),S==="PAID_OUT"&&a.jsx(g6,{type:"PAID_OUT",shiftId:t.shiftId,onClose:()=>_(null),onNotify:xe}),S==="PRICE_CHECK"&&a.jsx(Kq,{onClose:()=>_(null)}),S==="LOYALTY"&&a.jsx(Vq,{onClose:()=>_(null),onAttach:Se=>{c(Se),_(null)}}),S==="REGISTER"&&a.jsx(Wq,{onClose:()=>_(null)}),S==="CONFIRM"&&E&&a.jsx(Yq,{title:E.title,message:E.message,onConfirm:()=>{E.onYes&&E.onYes(),_(null),k(null)},onCancel:()=>{_(null),k(null)},isAlert:E.isAlert}),S==="LIST"&&T&&a.jsx(Xq,{type:T.type,branchId:e,onClose:()=>{_(null),D(null)},onSelect:Ht}),S==="CASHIER_SUMMARY"&&a.jsx(t$,{cashierName:t.cashier,shiftId:t.shiftId,summary:Z,loading:G,onClose:()=>{_(null),ge(null)}}),S==="RETURN_DETAILS"&&M&&a.jsx(r$,{sale:M,branchId:e,onClose:()=>{_(null),R(null)},onNotify:xe}),S==="SMART_RETURN"&&a.jsx(a$,{branchId:e,onClose:()=>_(null),onNotify:xe}),S==="DISCOUNT"&&a.jsx(s$,{selectedItem:X!==null?n[X]:null,cartTotal:n.reduce((Se,qe)=>Se+qe.price*qe.qty-(qe.discount||0)*qe.qty,0),onClose:()=>_(null),onApply:Se=>{Se.scope==="item"&&X!==null?ar(X,Se.discountAmount/n[X].qty):($(Se.discountAmount),xe("success","Bill Discount Applied",`LKR ${Se.discountAmount.toFixed(2)} discount applied to bill.`))}}),a.jsx(o$,{isOpen:be,onClose:()=>{ce(!1),ao.getPendingCount(e).then(Se=>le(Se.data?.data?.count||0)).catch(()=>{})},branchId:e,onNotification:xe})]})}function u$(){return a.jsx(TN,{children:a.jsx(c$,{})})}const sP=e=>{switch(e){case"In Stock":return"bg-green-100 text-green-700";case"Low Stock":return"bg-orange-100 text-orange-700";case"Out of Stock":return"bg-red-100 text-red-700";case"Pending":return"bg-yellow-100 text-yellow-700";case"Approved":return"bg-blue-100 text-blue-700";case"Completed":return"bg-green-100 text-green-700";case"Safe":return"bg-green-100 text-green-700 border-green-300";case"Near Expiry":return"bg-yellow-100 text-yellow-700 border-yellow-300";case"Expired":return"bg-red-100 text-red-700 border-red-300";default:return"bg-gray-100 text-gray-700"}},d$=({items:e,searchQuery:t,setSearchQuery:r,setIsAddModalOpen:n,setSelectedItemId:s,setActiveScreen:i,handleDeleteItem:c,handleEditItem:u,categories:d,onRefresh:f})=>{const[m,p]=v.useState(!1),[g,b]=v.useState({category:"",stockStatus:"",status:""}),[y,N]=v.useState({key:"name",direction:"asc"}),[j,S]=v.useState("table"),[_,E]=v.useState([]),[k,T]=v.useState(!1),[D,M]=v.useState(new Date);v.useEffect(()=>{const V=setInterval(()=>{R(!0)},3e4);return()=>clearInterval(V)},[]);const R=v.useCallback(async(V=!1)=>{V||T(!0);try{f&&await f(),M(new Date)}catch(Z){console.error("Error refreshing items:",Z)}finally{T(!1)}},[f]),B=v.useMemo(()=>{const V=e.length,Z=e.filter(H=>H.is_active).length,ge=e.filter(H=>(H.quantity||0)<=(H.reorder_level||0)&&(H.quantity||0)>0).length,G=e.filter(H=>(H.quantity||0)<=0).length,P=e.reduce((H,$)=>H+($.quantity||0)*($.selling_price||0),0);return{totalItems:V,activeItems:Z,lowStockItems:ge,outOfStock:G,totalValue:P}},[e]),K=v.useMemo(()=>{let V=e.filter(Z=>{const ge=Z.name?.toLowerCase().includes(t.toLowerCase())||Z.sku?.toLowerCase().includes(t.toLowerCase())||Z.barcode?.toLowerCase().includes(t.toLowerCase()),G=g.category?Z.category_id===g.category:!0;let P=!0;g.stockStatus==="low"?P=(Z.quantity||0)<=(Z.reorder_level||0)&&(Z.quantity||0)>0:g.stockStatus==="out"?P=(Z.quantity||0)<=0:g.stockStatus==="in"&&(P=(Z.quantity||0)>(Z.reorder_level||0));const H=g.status==="active"?Z.is_active:g.status==="inactive"?!Z.is_active:!0;return ge&&G&&P&&H});return V.sort((Z,ge)=>{let G=Z[y.key],P=ge[y.key];return typeof G=="string"&&(G=G.toLowerCase()),typeof P=="string"&&(P=P.toLowerCase()),G<P?y.direction==="asc"?-1:1:G>P?y.direction==="asc"?1:-1:0}),V},[e,t,g,y]),U=()=>{b({category:"",stockStatus:"",status:""})},F=V=>{N(Z=>({key:V,direction:Z.key===V&&Z.direction==="asc"?"desc":"asc"}))},X=()=>{_.length===K.length?E([]):E(K.map(V=>V.product_id))},Q=(V,Z)=>{Z.stopPropagation(),E(ge=>ge.includes(V)?ge.filter(G=>G!==V):[...ge,V])},pe=Object.values(g).filter(Boolean).length,re=V=>{const Z=V.quantity||0,ge=V.reorder_level||0;return Z<=0?{color:"text-red-600 bg-red-50",label:"Out of Stock",icon:Hd}:Z<=ge?{color:"text-amber-600 bg-amber-50",label:"Low Stock",icon:ra}:Z>ge*2?{color:"text-emerald-600 bg-emerald-50",label:"In Stock",icon:Xr}:{color:"text-blue-600 bg-blue-50",label:"Normal",icon:Ln}},ue=()=>{const Z=[[" SKU"," Item Name"," Category"," Quantity"," Selling Price"," MRP"," Reorder Level"," Tax Rate"," Status"].join(","),...K.map(H=>{const ae=(H.quantity||0)<=(H.reorder_level||0)?` ${H.quantity||0}`:` ${H.quantity||0}`,le=H.is_active?" Active":" Inactive";return[H.sku,`"${H.name.replace(/"/g,'""')}"`,`"${(d?.find(be=>be.category_id===H.category_id)?.name||H.category_id||"").replace(/"/g,'""')}"`,ae,H.selling_price?.toFixed(2),H.mrp?.toFixed(2),H.reorder_level,`${H.tax_rate}%`,le].join(",")})].join(`
`),ge=new Blob(["\uFEFF"+Z],{type:"text/csv;charset=utf-8;"}),G=document.createElement("a"),P=URL.createObjectURL(ge);G.setAttribute("href",P),G.setAttribute("download",`item_list_${new Date().toISOString().split("T")[0]}.csv`),G.style.visibility="hidden",document.body.appendChild(G),G.click(),document.body.removeChild(G)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Item List"}),a.jsxs("p",{className:"text-gray-600 mt-2 font-medium flex items-center gap-2",children:["Manage your inventory items",a.jsxs("span",{className:"text-xs text-gray-400",children:["Last updated: ",D.toLocaleTimeString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>R(!1),className:`p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors ${k?"animate-spin":""}`,disabled:k,children:a.jsx(Sa,{size:18,className:"text-gray-500"})}),a.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-brand-primary text-white rounded-lg flex items-center gap-2 hover:bg-brand-secondary transition-colors btn-hover-scale btn-interactive",children:[a.jsx(Oi,{size:20}),"Add New Item"]})]})]}),a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:a.jsx(Ln,{className:"w-5 h-5 text-blue-600"})}),a.jsx(co,{className:"w-4 h-4 text-blue-500"})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-3",children:B.totalItems}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Items"})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center",children:a.jsx(Xr,{className:"w-5 h-5 text-emerald-600"})})}),a.jsx("p",{className:"text-2xl font-bold text-gray-800 mt-3",children:B.activeItems}),a.jsx("p",{className:"text-sm text-gray-500",children:"Active Items"})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-100 flex items-center justify-center",children:a.jsx(ra,{className:"w-5 h-5 text-amber-600"})})}),a.jsx("p",{className:"text-2xl font-bold text-amber-600 mt-3",children:B.lowStockItems}),a.jsx("p",{className:"text-sm text-gray-500",children:"Low Stock"})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:a.jsx(Hd,{className:"w-5 h-5 text-red-600"})})}),a.jsx("p",{className:"text-2xl font-bold text-red-600 mt-3",children:B.outOfStock}),a.jsx("p",{className:"text-sm text-gray-500",children:"Out of Stock"})]}),a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center",children:a.jsx(Jd,{className:"w-5 h-5 text-purple-600"})})}),a.jsxs("p",{className:"text-2xl font-bold text-gray-800 mt-3",children:["LKR ",(B.totalValue/1e3).toFixed(1),"K"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Value"})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search items by name, SKU, or barcode...",className:"w-full pl-10 pr-4 py-2.5 border border-brand-border rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent outline-none transition-all",value:t,onChange:V=>r(V.target.value)}),t&&a.jsx("button",{onClick:()=>r(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.jsx(Hd,{size:16})})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>p(!m),className:`px-4 py-2 border rounded-lg flex items-center gap-2 transition-colors ${m||pe>0?"border-brand-primary bg-blue-50 text-brand-primary":"border-gray-300 hover:bg-gray-50"}`,children:[a.jsx(vN,{size:20}),"Filters",pe>0&&a.jsx("span",{className:"flex items-center justify-center bg-brand-primary text-white text-xs font-bold rounded-full w-5 h-5",children:pe})]}),m&&a.jsxs("div",{className:"absolute top-full mt-2 right-0 w-72 bg-white rounded-xl shadow-xl border border-gray-200 z-50 p-4 animate-in fade-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Filter Items"}),pe>0&&a.jsx("button",{onClick:U,className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"Clear all"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Category"}),a.jsxs("select",{value:g.category,onChange:V=>b({...g,category:V.target.value}),className:"w-full text-sm",children:[a.jsx("option",{value:"",children:"All Categories"}),d?.map(V=>a.jsx("option",{value:V.category_id,children:V.name},V.category_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Stock Status"}),a.jsxs("select",{value:g.stockStatus,onChange:V=>b({...g,stockStatus:V.target.value}),className:"w-full text-sm",children:[a.jsx("option",{value:"",children:"All Stock Levels"}),a.jsx("option",{value:"in",children:"In Stock"}),a.jsx("option",{value:"low",children:"Low Stock"}),a.jsx("option",{value:"out",children:"Out of Stock"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:"Item Status"}),a.jsxs("div",{className:"flex rounded-lg border border-gray-200 p-1",children:[a.jsx("button",{onClick:()=>b({...g,status:""}),className:`flex-1 py-1.5 text-xs font-medium rounded ${g.status?"text-gray-500 hover:text-gray-900":"bg-gray-100 text-gray-900"}`,children:"All"}),a.jsx("button",{onClick:()=>b({...g,status:"active"}),className:`flex-1 py-1.5 text-xs font-medium rounded ${g.status==="active"?"bg-green-100 text-green-700":"text-gray-500 hover:text-gray-900"}`,children:"Active"}),a.jsx("button",{onClick:()=>b({...g,status:"inactive"}),className:`flex-1 py-1.5 text-xs font-medium rounded ${g.status==="inactive"?"bg-red-100 text-red-700":"text-gray-500 hover:text-gray-900"}`,children:"Inactive"})]})]})]})]})]}),a.jsxs("button",{onClick:ue,className:"px-4 py-2 border border-gray-300 rounded-lg flex items-center gap-2 hover:bg-gray-50",children:[a.jsx(Yl,{size:20}),"Export"]})]}),a.jsxs("div",{className:"flex items-center justify-between px-2 text-sm text-gray-600",children:[a.jsxs("span",{children:["Showing ",K.length," of ",e.length," items",t&&a.jsxs("span",{className:"ml-1",children:['for "',t,'"']})]}),_.length>0&&a.jsxs("span",{className:"text-brand-primary font-medium",children:[_.length," item",_.length!==1?"s":""," selected"]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left",children:a.jsx("input",{type:"checkbox",checked:_.length===K.length&&K.length>0,onChange:X,className:"w-4 h-4 rounded border-gray-300 text-brand-primary focus:ring-brand-primary"})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>F("sku"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["SKU",y.key==="sku"&&a.jsx(Rl,{className:`w-3 h-3 ${y.direction==="desc"?"rotate-180":""}`})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>F("name"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Item Name",y.key==="name"&&a.jsx(Rl,{className:`w-3 h-3 ${y.direction==="desc"?"rotate-180":""}`})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>F("quantity"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Quantity",y.key==="quantity"&&a.jsx(Rl,{className:`w-3 h-3 ${y.direction==="desc"?"rotate-180":""}`})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>F("selling_price"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Selling Price",y.key==="selling_price"&&a.jsx(Rl,{className:`w-3 h-3 ${y.direction==="desc"?"rotate-180":""}`})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"MRP"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Stock Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:K.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:10,className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(Ln,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{className:"font-medium",children:"No items found"}),a.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search or filters"})]})}):K.map(V=>{const Z=re(V),ge=Z.icon;return a.jsxs("tr",{onClick:()=>{s(V.product_id),i("item-detail")},className:`hover:bg-gray-50 cursor-pointer transition-colors ${_.includes(V.product_id)?"bg-blue-50":""}`,children:[a.jsx("td",{className:"px-4 py-4",children:a.jsx("input",{type:"checkbox",checked:_.includes(V.product_id),onChange:G=>Q(V.product_id,G),className:"w-4 h-4 rounded border-gray-300 text-brand-primary focus:ring-brand-primary"})}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-900",children:V.sku}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:a.jsx(Ln,{className:"w-4 h-4 text-gray-500"})}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:V.name})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 rounded text-xs text-gray-600",children:[a.jsx(ji,{className:"w-3 h-3"}),d?.find(G=>G.category_id===V.category_id)?.name||V.category_id]})}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-900",children:V.quantity||0}),a.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-gray-900",children:["LKR ",V.selling_price?.toFixed(2)]}),a.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:["LKR ",V.mrp?.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${Z.color}`,children:[a.jsx(ge,{className:"w-3 h-3"}),Z.label]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded ${V.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:V.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("button",{onClick:G=>{G.stopPropagation(),s(V.product_id),i("item-detail")},className:"p-1.5 text-gray-500 hover:bg-gray-100 rounded transition-colors",title:"View Details",children:a.jsx(Zb,{size:16})}),a.jsx("button",{onClick:G=>{G.stopPropagation(),u(V.product_id)},className:"p-1.5 text-brand-primary hover:bg-blue-50 rounded transition-colors",title:"Edit Item",children:a.jsx(lo,{size:16})}),a.jsx("button",{onClick:G=>{G.stopPropagation(),i("barcode-print")},className:"p-1.5 text-gray-600 hover:bg-gray-50 rounded transition-colors",title:"Print Barcode",children:a.jsx(tf,{size:16})}),a.jsx("button",{onClick:G=>{G.stopPropagation(),c(V.product_id)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:a.jsx(ni,{size:16})})]})})]},V.product_id)})})]})})]})},f$="http://localhost:8080/api",He=Tn.create({baseURL:f$,headers:{"Content-Type":"application/json"}});He.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),console.log("[API] Request:",e.method?.toUpperCase(),e.baseURL+e.url),e},e=>(console.error("[API] Request error:",e),Promise.reject(e)));He.interceptors.response.use(e=>(console.log("[API] Response:",e.config?.method?.toUpperCase(),e.config?.url,"Status:",e.status),e),e=>(e.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),console.error("[API] Error:",e.response?.status,e.response?.data),Promise.reject(e)));const h$=e=>e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`),m$=e=>e.replace(/_([a-z])/g,(t,r)=>r.toUpperCase()),Pi=e=>{if(e==null)return e;if(Array.isArray(e))return e.map(Pi);if(typeof e!="object")return e;const t={};for(const r in e)if(e.hasOwnProperty(r)){const n=h$(r);t[n]=Pi(e[r])}return t},fo=e=>{if(e==null)return e;if(Array.isArray(e))return e.map(fo);if(typeof e!="object")return e;const t={};for(const r in e)if(e.hasOwnProperty(r)){const n=m$(r);t[n]=fo(e[r])}return t},ig=e=>e?Pi(e):null,w6=e=>e?fo(e):null,Nx=e=>Array.isArray(e)?e.map(ig):[],Ww=e=>e?Pi(e):null,N6=e=>e?fo(e):null,p$=e=>Array.isArray(e)?e.map(Ww):[],og=e=>{if(!e)return null;const t=Pi(e);return{...t,icon:t.icon||"Tag",color:t.color||"blue"}},j6=e=>e?fo(e):null,x$=e=>Array.isArray(e)?e.map(og):[],lg=e=>e?Pi(e):null,S6=e=>e?fo(e):null,g$=e=>Array.isArray(e)?e.map(lg):[],cg=e=>e?Pi(e):null,A6=e=>e?fo(e):null,b$=e=>Array.isArray(e)?e.map(cg):[],ug=e=>e?Pi(e):null,_6=e=>e?fo(e):null,mh=e=>Array.isArray(e)?e.map(ug):[],Yw=e=>e?Pi(e):null,y$=e=>e?fo(e):null,v$=e=>Array.isArray(e)?e.map(Yw):[],dg=e=>e?Pi(e):null,C6=e=>e?fo(e):null,w$=e=>Array.isArray(e)?e.map(dg):[],Xw=e=>e?Pi(e):null,N$=e=>e?fo(e):null,E6=e=>Array.isArray(e)?e.map(Xw):[],Bu=e=>e?Pi(e):null,j$=e=>e?fo(e):null,Jm=e=>Array.isArray(e)?e.map(Bu):[],S$=e=>e?Pi(e):null,A$=e=>Array.isArray(e)?e.map(S$):[],Lr={getProducts:async()=>{try{console.log("[InventoryService] GET products");const e=await He.get("/inventory/products");console.log("[InventoryService] GET products response:",e.data);const t=e.data.data||e.data,r=Nx(t);return console.log("[InventoryService] GET products mapped:",r.length,"items"),r}catch(e){throw console.error("[InventoryService] GET products error:",e?.response||e),e}},getProductById:async e=>{try{const t=await He.get(`/inventory/products/${e}`),r=t.data.data||t.data;return ig(r)}catch(t){throw console.error("Error fetching product:",t),t}},searchProducts:async e=>{try{const t=await He.get(`/products/search?q=${e}`),r=t.data.data||t.data;return Nx(r)}catch(t){throw console.error("Error searching products:",t),t}},createProduct:async e=>{try{const t=w6(e),r=await He.post("/inventory/products",t),n=r.data.data||r.data;return ig(n)}catch(t){throw console.error("Error creating product:",t),t}},updateProduct:async(e,t)=>{try{const r=w6(t),n=await He.put(`/inventory/products/${e}`,r),s=n.data.data||n.data;return ig(s)}catch(r){throw console.error("Error updating product:",r),r}},deleteProduct:async e=>{try{return(await He.delete(`/inventory/products/${e}`)).data}catch(t){throw console.error("Error deleting product:",t),t}},getProductsByCategory:async e=>{try{const t=await He.get(`/products/category/${e}`),r=t.data.data||t.data;return Nx(r)}catch(t){throw console.error("Error fetching products by category:",t),t}},getProductsByBrand:async e=>{try{const t=await He.get(`/products/brand/${e}`),r=t.data.data||t.data;return Nx(r)}catch(t){throw console.error("Error fetching products by brand:",t),t}},getCategories:async()=>{try{console.log("[InventoryService] GET categories");const e=await He.get("/inventory/categories");console.log("[InventoryService] GET categories response:",e.data);const t=e.data.data||e.data,r=x$(t);return console.log("[InventoryService] GET categories mapped:",r.length,"items"),r}catch(e){throw console.error("[InventoryService] GET categories error:",e?.response||e),e}},getCategoryById:async e=>{try{const t=await He.get(`/inventory/categories/${e}`),r=t.data.data||t.data;return og(r)}catch(t){throw console.error("Error fetching category:",t),t}},createCategory:async e=>{try{const{category_id:t,...r}=e;console.log("[InventoryService] POST category:",r);const n=j6(r);console.log("[InventoryService] POST category (mapped):",n);const s=await He.post("/inventory/categories",n);console.log("[InventoryService] POST category response:",s.data);const i=s.data.data||s.data;return og(i)}catch(t){throw console.error("[InventoryService] POST category error:",t?.response||t),t}},updateCategory:async(e,t)=>{try{const r=j6(t),n=await He.put(`/categories/${e}`,r),s=n.data.data||n.data;return og(s)}catch(r){throw console.error("Error updating category:",r),r}},deleteCategory:async e=>{try{return(await He.delete(`/inventory/categories/${e}`)).data}catch(t){throw console.error("Error deleting category:",t),t}},getSubCategories:async()=>{try{const e=await He.get("/inventory/subcategories"),t=e.data.data||e.data;return p$(t)}catch(e){throw console.error("Error fetching subcategories:",e),e}},createSubCategory:async e=>{try{const{subcategory_id:t,...r}=e,n=N6(r),s=await He.post("/inventory/subcategories",n),i=s.data.data||s.data;return Ww(i)}catch(t){throw console.error("Error creating subcategory:",t),t}},updateSubCategory:async(e,t)=>{try{const r=N6(t),n=await He.put(`/subcategories/${e}`,r),s=n.data.data||n.data;return Ww(s)}catch(r){throw console.error("Error updating subcategory:",r),r}},deleteSubCategory:async e=>{try{return(await He.delete(`/inventory/subcategories/${e}`)).data}catch(t){throw console.error("Error deleting subcategory:",t),t}},getBrands:async()=>{try{console.log("[InventoryService] GET brands");const e=await He.get("/inventory/brands");console.log("[InventoryService] GET brands response:",e.data);const t=e.data.data||e.data,r=g$(t);return console.log("[InventoryService] GET brands mapped:",r.length,"items"),r}catch(e){throw console.error("[InventoryService] GET brands error:",e?.response||e),e}},getBrandById:async e=>{try{const t=await He.get(`/inventory/brands/${e}`),r=t.data.data||t.data;return lg(r)}catch(t){throw console.error("Error fetching brand:",t),t}},createBrand:async e=>{try{const{brand_id:t,...r}=e,n=S6(r),s=await He.post("/inventory/brands",n),i=s.data.data||s.data;return lg(i)}catch(t){throw console.error("Error creating brand:",t),t}},updateBrand:async(e,t)=>{try{const r=S6(t),n=await He.put(`/brands/${e}`,r),s=n.data.data||n.data;return lg(s)}catch(r){throw console.error("Error updating brand:",r),r}},deleteBrand:async e=>{try{return(await He.delete(`/inventory/brands/${e}`)).data}catch(t){throw console.error("Error deleting brand:",t),t}},getBranches:async()=>{try{console.log("[InventoryService] GET branches");const e=await He.get("/inventory/branches");console.log("[InventoryService] GET branches response:",e.data);const t=e.data.data||e.data,r=A$(t);return console.log("[InventoryService] GET branches mapped:",r.length,"items"),r}catch(e){throw console.error("[InventoryService] GET branches error:",e?.response||e),e}},getGRNs:async e=>{try{console.log("[InventoryService] GET GRNs for branch:",e);const t=JSON.parse(localStorage.getItem("user")||"{}"),r=e||t.branchId||1,n=await He.get(`/inventory/grn/branch/${r}`),s=n.data.data||n.data,i=Jm(s);return console.log("[InventoryService] GET GRNs mapped:",i.length,"items"),i}catch(t){throw console.error("[InventoryService] Error fetching GRNs:",t),t}},searchGRNs:async(e={})=>{try{console.log("[InventoryService] Search GRNs with filter:",e);const t=j$(e),r=await He.post("/inventory/grn/search",t),n=r.data.data||r.data;return Jm(n)}catch(t){throw console.error("[InventoryService] Error searching GRNs:",t),t}},getPendingGRNs:async e=>{try{console.log("[InventoryService] GET pending GRNs for branch:",e);const t=await He.get("/inventory/grn/pending",{params:e?{branchId:e}:{}}),r=t.data.data||t.data;return Jm(r)}catch(t){throw console.error("[InventoryService] Error fetching pending GRNs:",t),t}},getGRNById:async e=>{try{console.log("[InventoryService] GET GRN by ID:",e);const t=await He.get(`/inventory/grn/${e}`),r=t.data.data||t.data;return Bu(r)}catch(t){throw console.error("[InventoryService] Error fetching GRN:",t),t}},createGRN:async e=>{try{console.log("[InventoryService] Create GRN:",e);const t={branchId:e.branch_id,supplierId:e.supplier_id,poId:e.po_id||null,grnDate:e.grn_date,invoiceNo:e.invoice_no,invoiceDate:e.invoice_date,items:e.items.map(c=>({productId:c.product_id,batchCode:c.batch_code||null,expiryDate:c.expiry_date||null,qtyReceived:c.quantity,unitPrice:c.unit_price}))};console.log("[InventoryService] Create GRN backend data:",t);const r=JSON.parse(localStorage.getItem("user")||"{}"),n=r.userId||r.id||1,s=await He.post("/inventory/grn",t,{headers:{"User-ID":n}}),i=s.data.data||s.data;return console.log("[InventoryService] Create GRN response:",i),Bu(i)}catch(t){throw console.error("[InventoryService] Error creating GRN:",t),console.error("[InventoryService] Error details:",t.response?.data),t}},updateGRN:async(e,t)=>{try{console.log("[InventoryService] Update GRN:",e,t);const r={grnDate:t.grn_date,invoiceNo:t.invoice_no,invoiceDate:t.invoice_date,items:t.items?.map(i=>({productId:i.product_id,batchCode:i.batch_code||null,expiryDate:i.expiry_date||null,qtyReceived:i.quantity,unitPrice:i.unit_price}))},n=await He.put(`/inventory/grn/${e}`,r),s=n.data.data||n.data;return Bu(s)}catch(r){throw console.error("[InventoryService] Error updating GRN:",r),r}},approveGRN:async e=>{try{console.log("[InventoryService] Approve GRN:",e);const t=JSON.parse(localStorage.getItem("user")||"{}"),r=t.userId||t.id||1,n=await He.put(`/inventory/grn/${e}/approve`,{},{headers:{"User-ID":r}}),s=n.data.data||n.data;return Bu(s)}catch(t){throw console.error("[InventoryService] Error approving GRN:",t),t}},rejectGRN:async(e,t)=>{try{console.log("[InventoryService] Reject GRN:",e,t);const r=JSON.parse(localStorage.getItem("user")||"{}"),n=r.userId||r.id||1,s=await He.put(`/inventory/grn/${e}/reject`,{},{headers:{"User-ID":n},params:{reason:t}}),i=s.data.data||s.data;return Bu(i)}catch(r){throw console.error("[InventoryService] Error rejecting GRN:",r),r}},updateGRNPaymentStatus:async(e,t)=>{try{console.log("[InventoryService] Update GRN payment status:",e,t);const r=await He.put(`/inventory/grn/${e}/payment-status`,null,{params:{paymentStatus:t}}),n=r.data.data||r.data;return Bu(n)}catch(r){throw console.error("[InventoryService] Error updating GRN payment status:",r),r}},deleteGRN:async e=>{try{return console.log("[InventoryService] Delete GRN:",e),(await He.delete(`/inventory/grn/${e}`)).data}catch(t){throw console.error("[InventoryService] Error deleting GRN:",t),t}},getGRNStats:async(e,t)=>{try{console.log("[InventoryService] GET GRN stats:",e,t);const r=t?{period:t}:{},n=await He.get(`/inventory/grn/branch/${e}/stats`,{params:r}),s=n.data.data||n.data;return Bu(s)}catch(r){throw console.error("[InventoryService] Error fetching GRN stats:",r),r}},getGRNItemsByProduct:async(e,t)=>{try{console.log("[InventoryService] GET GRN items by product:",e,t);const r=t?{branchId:t}:{},n=await He.get(`/inventory/grn/product/${e}/items`,{params:r}),s=n.data.data||n.data;return Jm(s)}catch(r){throw console.error("[InventoryService] Error fetching GRN items by product:",r),r}},getGRNsBySupplier:async e=>{try{console.log("[InventoryService] GET GRNs by supplier:",e);const t=await He.get(`/inventory/grn/supplier/${e}`),r=t.data.data||t.data;return Jm(r)}catch(t){throw console.error("[InventoryService] Error fetching GRNs by supplier:",t),t}},checkGRNNumber:async e=>{try{console.log("[InventoryService] Check GRN number:",e);const t=await He.get(`/inventory/grn/check-number/${e}`);return t.data.data||t.data}catch(t){throw console.error("[InventoryService] Error checking GRN number:",t),t}},getSuppliers:async()=>{try{console.log("[InventoryService] GET suppliers");const e=await He.get("/inventory/suppliers");console.log("[InventoryService] GET suppliers response:",e.data);const t=e.data.data||e.data,r=b$(t);return console.log("[InventoryService] GET suppliers mapped:",r.length,"items"),r}catch(e){throw console.error("[InventoryService] GET suppliers error:",e?.response||e),e}},getSupplierById:async e=>{try{const t=await He.get(`/inventory/suppliers/${e}`),r=t.data.data||t.data;return cg(r)}catch(t){throw console.error("Error fetching supplier:",t),t}},createSupplier:async e=>{try{const{supplier_id:t,...r}=e,n={...r,contacts:r.contacts||[],branches:r.branches||[],createdBy:r.createdBy||1},s=A6(n);console.log("[InventoryService] Creating supplier with data:",s);const i=await He.post("/inventory/suppliers",s),c=i.data.data||i.data;return cg(c)}catch(t){throw console.error("Error creating supplier:",t),t.response&&console.error("Backend validation errors:",t.response.data),t}},updateSupplier:async(e,t)=>{try{const r=A6(t),n=await He.put(`/suppliers/${e}`,r),s=n.data.data||n.data;return cg(s)}catch(r){throw console.error("Error updating supplier:",r),r}},deleteSupplier:async e=>{try{return(await He.delete(`/inventory/suppliers/${e}`)).data}catch(t){throw console.error("Error deleting supplier:",t),t}}},iP=v.createContext(),iy=()=>{const e=v.useContext(iP);if(!e)throw new Error("useInventoryNotification must be used within InventoryNotificationProvider");return e},_$=({children:e})=>{const[t,r]=v.useState([]),n=v.useCallback((S,_="info",E=4e3)=>{const k=Date.now()+Math.random(),T={id:k,message:S,type:_,duration:E};r(D=>[...D,T]),E>0&&setTimeout(()=>{s(k)},E)},[]),s=v.useCallback(S=>{r(_=>_.filter(E=>E.id!==S))},[]),i=v.useCallback((S,_)=>{n(S,"success",_)},[n]),c=v.useCallback((S,_)=>{n(S,"error",_)},[n]),u=v.useCallback((S,_)=>{n(S,"warning",_)},[n]),d=v.useCallback((S,_)=>{n(S,"info",_)},[n]),[f,m]=v.useState({isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"}),[p,g]=v.useState({isOpen:!1,title:"",message:"",onConfirm:null,placeholder:""}),b=v.useCallback((S,_,E="danger")=>new Promise(k=>{m({isOpen:!0,title:S,message:_,type:E,onConfirm:()=>k(!0)})}),[]),y=v.useCallback((S,_,E="")=>new Promise(k=>{g({isOpen:!0,title:S,message:_,placeholder:E,onConfirm:T=>k(T)})}),[]),N=v.useCallback(()=>{m({isOpen:!1,title:"",message:"",onConfirm:null,type:"danger"})},[]),j=v.useCallback(()=>{g({isOpen:!1,title:"",message:"",onConfirm:null,placeholder:""})},[]);return a.jsx(iP.Provider,{value:{notifications:t,showNotification:n,removeNotification:s,success:i,error:c,warning:u,info:d,confirm:b,prompt:y,confirmDialog:f,promptDialog:p,closeConfirmDialog:N,closePromptDialog:j},children:e})},Dl=(e=null)=>v.useCallback(r=>{if(r.key==="Enter"&&r.target.tagName!=="BUTTON"){r.preventDefault();const n=r.target.form;if(!n)return;const s=Array.from(n.querySelectorAll('input:not([disabled]):not([type="button"]):not([type="submit"]):not([type="reset"]), select:not([disabled]), textarea:not([disabled])')),c=s.indexOf(r.target)+1;c<s.length?s[c].focus():e&&typeof e=="function"&&e()}},[e]),k6=({onClose:e,setActiveScreen:t,categories:r,subCategories:n=[],brands:s,onSaved:i,itemToEdit:c})=>{const{success:u,error:d,warning:f}=iy(),[m,p]=v.useState({sku:"",barcode:"",name:"",description:"",category_id:"",subcategory_id:"",brand_id:"",unit:"",cost_price:"",selling_price:"",mrp:"",tax_rate:"0",reorder_level:"10",is_active:!0});Ju.useEffect(()=>{c&&p({sku:c.sku||"",barcode:c.barcode||"",name:c.name||"",description:c.description||"",category_id:c.category_id||"",subcategory_id:c.subcategory_id||"",brand_id:c.brand_id||"",unit:c.unit||"",cost_price:c.cost_price||"",selling_price:c.selling_price||"",mrp:c.mrp||"",tax_rate:c.tax_rate||"0",reorder_level:c.reorder_level||"10",is_active:c.is_active!==void 0?c.is_active:!0})},[c]);const[g,b]=v.useState(!1),y=_=>{const{name:E,value:k,type:T,checked:D}=_.target;p(M=>({...M,[E]:T==="checkbox"?D:k}))},N=()=>m.sku.trim()?m.name.trim()?m.category_id?!m.cost_price||parseFloat(m.cost_price)<=0?(f("Valid Cost Price is required"),!1):!m.selling_price||parseFloat(m.selling_price)<=0?(f("Valid Selling Price is required"),!1):!0:(f("Category is required"),!1):(f("Product Name is required"),!1):(f("SKU is required"),!1),j=async()=>{if(N()){b(!0);try{const _={...m,category_id:parseInt(m.category_id),subcategory_id:m.subcategory_id?parseInt(m.subcategory_id):null,brand_id:m.brand_id?parseInt(m.brand_id):null,cost_price:parseFloat(m.cost_price),selling_price:parseFloat(m.selling_price),mrp:m.mrp?parseFloat(m.mrp):parseFloat(m.selling_price),tax_rate:parseFloat(m.tax_rate),reorder_level:parseInt(m.reorder_level)};let E;c?E=await Lr.updateProduct(c.product_id,_):E=await Lr.createProduct(_),i&&i(E),u(c?"Product updated successfully!":"Product created successfully!"),e?e():t("item-list")}catch(_){console.error("Error saving product:",_),d("Failed to save product. Please try again.")}finally{b(!1)}}},S=Dl(j);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add New Item"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new inventory item"})]}),e&&a.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",children:""})]}),a.jsxs("form",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 overflow-y-auto max-h-[70vh]",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU *"}),a.jsx("input",{type:"text",name:"sku",value:m.sku,onChange:y,onKeyDown:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent",placeholder:"BEV-CC-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Barcode"}),a.jsx("input",{type:"text",name:"barcode",value:m.barcode,onChange:y,onKeyDown:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"1234567890123"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),a.jsx("input",{type:"text",name:"name",value:m.name,onChange:y,onKeyDown:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter product name"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{name:"description",value:m.description,onChange:y,onKeyDown:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Product description",rows:"2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),a.jsxs("select",{name:"category_id",value:m.category_id,onChange:y,onKeyDown:S,className:"w-full text-base",children:[a.jsx("option",{value:"",children:"Select category"}),r&&r.map(_=>a.jsx("option",{value:_.category_id,children:_.name},_.category_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory"}),a.jsxs("select",{name:"subcategory_id",value:m.subcategory_id,onChange:y,onKeyDown:S,className:"w-full text-base",disabled:!m.category_id,children:[a.jsx("option",{value:"",children:"Select subcategory"}),n.filter(_=>_.category_id===parseInt(m.category_id)).map(_=>a.jsx("option",{value:_.subcategory_id,children:_.name},_.subcategory_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),a.jsxs("select",{name:"brand_id",value:m.brand_id,onChange:y,onKeyDown:S,className:"w-full text-base",children:[a.jsx("option",{value:"",children:"Select brand"}),s&&s.map(_=>a.jsx("option",{value:_.brand_id,children:_.name},_.brand_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit"}),a.jsxs("select",{name:"unit",value:m.unit,onChange:y,onKeyDown:S,className:"w-full text-base",children:[a.jsx("option",{value:"",children:"Select unit"}),a.jsx("option",{value:"PIECE",children:"Piece"}),a.jsx("option",{value:"BOX",children:"Box"}),a.jsx("option",{value:"PACK",children:"Pack"}),a.jsx("option",{value:"LITER",children:"Liter"}),a.jsx("option",{value:"KG",children:"Kilogram"}),a.jsx("option",{value:"GRAM",children:"Gram"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reorder Level"}),a.jsx("input",{type:"number",name:"reorder_level",value:m.reorder_level,onChange:y,onKeyDown:S,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cost Price *"}),a.jsx("input",{type:"number",name:"cost_price",value:m.cost_price,onChange:y,onKeyDown:S,step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selling Price *"}),a.jsx("input",{type:"number",name:"selling_price",value:m.selling_price,onChange:y,onKeyDown:S,step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"MRP (Maximum Retail Price)"}),a.jsx("input",{type:"number",name:"mrp",value:m.mrp,onChange:y,onKeyDown:S,step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Rate (%)"}),a.jsx("input",{type:"number",name:"tax_rate",value:m.tax_rate,onChange:y,onKeyDown:S,step:"0.01",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>e?e():t("item-list"),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",disabled:g,children:"Cancel"}),a.jsx("button",{type:"button",onClick:j,className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:g,children:g?"Saving...":"Save Item"})]})]})]})},C$=({items:e,itemDetails:t,selectedItemId:r,setSelectedItemId:n,setActiveScreen:s,selectedItemTab:i,setSelectedItemTab:c,batches:u,categories:d,brands:f,subCategories:m})=>{const p=r||e[0]?.product_id,g=e.find(_=>_.product_id===p),b=t[p],y=d?.find(_=>_.category_id===g?.category_id)?.name||g?.category_id||"N/A",N=m?.find(_=>_.subcategory_id===g?.subcategory_id)?.name||g?.subcategory_id||"N/A",j=f?.find(_=>_.brand_id===g?.brand_id)?.name||g?.brand_id||"N/A",S=()=>{const _=window.open("","_blank"),E=u.filter(R=>R.product_id===p).map(R=>`
            <tr>
                <td>${R.batch_code}</td>
                <td style="text-align: center">${R.qty}</td>
                <td>${R.manufacturing_date}</td>
                <td>${R.expiry_date}</td>
                <td>${R.branch_id}</td>
            </tr>
        `).join(""),k=(b?.stockHistory||[]).map(R=>`
            <tr>
                <td>${R.date}</td>
                <td>${R.type}</td>
                <td>${R.reference}</td>
                <td style="text-align: center; color: ${R.quantity>0?"green":"red"}">${R.quantity>0?"+":""}${R.quantity}</td>
                <td>${R.notes}</td>
            </tr>
        `).join(""),T=(b?.supplierHistory||[]).map(R=>`
            <tr>
                <td>${R.name}</td>
                <td>${R.lastPO}</td>
                <td>${R.leadTime}</td>
                <td style="text-align: right">LKR ${R.cost_price.toFixed(2)}</td>
            </tr>
        `).join(""),D=(b?.salesData||[]).map(R=>`
            <tr>
                <td>${R.date}</td>
                <td style="text-align: center">${R.quantity}</td>
                <td style="text-align: right">LKR ${R.revenue.toFixed(2)}</td>
            </tr>
        `).join(""),M=`
            <!DOCTYPE html>
            <html>
            <head>
                <title>Item Report - ${g.name}</title>
                <style>
                    body { font-family: sans-serif; margin: 20px; color: #111827; }
                    .container { max-width: 900px; margin: 0 auto; }
                    h1 { margin-bottom: 5px; color: #1e3a8a; }
                    .subtitle { color: #6b7280; font-size: 14px; margin-bottom: 20px; }
                    
                    .section { margin-bottom: 30px; page-break-inside: avoid; }
                    .section-title { 
                        font-size: 16px; font-weight: bold; border-bottom: 2px solid #e5e7eb; 
                        padding-bottom: 8px; margin-bottom: 15px; color: #374151;
                    }
                    
                    .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
                    .card { border: 1px solid #e5e7eb; padding: 15px; border-radius: 6px; }
                    .label { font-size: 11px; color: #6b7280; text-transform: uppercase; font-weight: 600; }
                    .value { font-size: 15px; font-weight: 600; margin-top: 2px; }
                    
                    table { width: 100%; border-collapse: collapse; font-size: 13px; }
                    th { background: #f9fafb; padding: 8px 12px; text-align: left; border-bottom: 2px solid #e5e7eb; font-weight: 600; color: #374151; }
                    td { padding: 8px 12px; border-bottom: 1px solid #e5e7eb; }
                    
                    .badge { display: inline-block; padding: 2px 8px; border-radius: 99px; font-size: 11px; font-weight: 600; }
                    .badge-active { background: #dcfce7; color: #166534; }
                    .badge-inactive { background: #fee2e2; color: #991b1b; }
                    
                    @media print {
                        body { margin: 0; }
                        .no-print { display: none; }
                    }
                </style>
            </head>
            <body>
                <div class="container">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start;">
                        <div>
                            <h1>${g.name}</h1>
                            <div class="subtitle">SKU: ${g.sku} &bull; Barcode: ${g.barcode}</div>
                        </div>
                        <div style="text-align: right;">
                             <span class="badge ${g.is_active?"badge-active":"badge-inactive"}">
                                ${g.is_active?"ACTIVE":"INACTIVE"}
                            </span>
                            <div style="margin-top: 5px; font-size: 12px; color: #6b7280;">${new Date().toLocaleDateString()}</div>
                        </div>
                    </div>

                    <div class="section">
                        <div class="section-title">Overview</div>
                        <div class="grid-2">
                            <div class="card">
                                <div class="label">Price Information</div>
                                <div style="display: flex; justify-content: space-between; margin-top: 8px;">
                                    <div>
                                        <div class="label">Cost Price</div>
                                        <div class="value">LKR ${(g.cost_price||0).toFixed(2)}</div>
                                    </div>
                                    <div>
                                        <div class="label">Selling Price</div>
                                        <div class="value">LKR ${(g.selling_price||0).toFixed(2)}</div>
                                    </div>
                                    <div>
                                        <div class="label">MRP</div>
                                        <div class="value">LKR ${(g.mrp||0).toFixed(2)}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="card">
                                <div class="label">Stock Information</div>
                                <div style="display: flex; justify-content: space-between; margin-top: 8px;">
                                    <div>
                                        <div class="label">Current Stock</div>
                                        <div class="value" style="font-size: 18px;">${g.quantity||0}</div>
                                    </div>
                                    <div>
                                        <div class="label">Reorder Level</div>
                                        <div class="value">${g.reorder_level}</div>
                                    </div>
                                    <div>
                                        <div class="label">Category</div>
                                        <div class="value" style="font-size: 13px;">${y}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    ${E?`
                    <div class="section">
                        <div class="section-title">Active Batches</div>
                        <table>
                            <thead><tr><th>Batch Code</th><th style="text-align: center">Qty</th><th>Mfg Date</th><th>Expiry Date</th><th>Branch</th></tr></thead>
                            <tbody>${E}</tbody>
                        </table>
                    </div>`:""}

                    ${k?`
                    <div class="section">
                        <div class="section-title">Stock History (Last 10 Actions)</div>
                        <table>
                            <thead><tr><th>Date</th><th>Type</th><th>Reference</th><th style="text-align: center">Qty Change</th><th>Notes</th></tr></thead>
                            <tbody>${k}</tbody>
                        </table>
                    </div>`:""}

                    ${T?`
                    <div class="section">
                        <div class="section-title">Supplier Information</div>
                        <table>
                            <thead><tr><th>Supplier</th><th>Last PO</th><th>Lead Time</th><th style="text-align: right">Cost Price</th></tr></thead>
                            <tbody>${T}</tbody>
                        </table>
                    </div>`:""}
                    
                    ${D?`
                    <div class="section">
                        <div class="section-title">Recent Sales</div>
                        <table>
                            <thead><tr><th>Date</th><th style="text-align: center">Qty</th><th style="text-align: right">Revenue</th></tr></thead>
                            <tbody>${D}</tbody>
                        </table>
                    </div>`:""}

                </div>
                <script>
                    setTimeout(() => {
                        window.print();
                        window.close();
                    }, 500);
                <\/script>
            </body>
            </html>
        `;_.document.write(M),_.document.close()};return g?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("button",{onClick:()=>{n(null),s("item-list")},className:"text-blue-600 hover:text-blue-700 flex items-center gap-1",children:" Back to List"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:g.name}),a.jsxs("button",{onClick:S,className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors flex items-center gap-2",title:"Print Item Details",children:[a.jsx(tf,{size:20}),a.jsx("span",{className:"text-sm",children:"Print"})]})]}),a.jsx("div",{className:"flex gap-2 border-b border-gray-200",children:["summary","prices","stock-history","batches","suppliers","sales","reorder"].map(_=>a.jsxs("button",{onClick:()=>c(_),className:`px-4 py-3 font-medium border-b-2 ${i===_?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:[_==="summary"&&"Summary",_==="prices"&&"Prices",_==="stock-history"&&"Stock History",_==="batches"&&"Batch & Expiry",_==="suppliers"&&"Suppliers",_==="sales"&&"Sales",_==="reorder"&&"Reorder Alerts"]},_))}),i==="summary"&&a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Item Information"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Product ID:"}),a.jsx("p",{className:"font-mono",children:g.product_id})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Barcode:"}),a.jsx("p",{className:"font-mono",children:g.barcode})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"SKU:"}),a.jsx("p",{className:"font-mono",children:g.sku})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Category:"}),a.jsx("p",{children:y})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Subcategory:"}),a.jsx("p",{children:N})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Brand:"}),a.jsx("p",{children:j})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Description:"}),a.jsx("p",{children:g.description})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing Details"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Cost Price:"}),a.jsxs("p",{className:"text-lg font-bold",children:["LKR ",g.cost_price.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Selling Price:"}),a.jsxs("p",{className:"text-lg font-bold",children:["LKR ",g.selling_price.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"MRP:"}),a.jsxs("p",{className:"text-lg font-bold",children:["LKR ",g.mrp.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Tax Rate:"}),a.jsxs("p",{className:"text-lg font-bold",children:[g.tax_rate,"%"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Reorder Level:"}),a.jsxs("p",{className:"text-lg font-bold",children:[g.reorder_level," units"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-gray-600",children:"Status:"}),a.jsx("p",{children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:g.is_active?"Active":"Inactive"})})]})]})]})]}),i==="prices"&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Change"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Reason"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:(b?.priceHistory||[]).map((_,E)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:_.date}),a.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-right",children:["LKR ",_.selling_price.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 text-sm text-center",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_.change.includes("+")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:_.change})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.reason})]},E))})]})}),i==="stock-history"&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Reference"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Notes"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:(b?.stockHistory||[]).map((_,E)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:_.date}),a.jsx("td",{className:"px-6 py-4 text-sm",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.type==="GRN"?"bg-green-100 text-green-700":_.type==="Sales"?"bg-blue-100 text-blue-700":_.type==="Adjustment"?"bg-orange-100 text-orange-700":"bg-purple-100 text-purple-700"}`,children:_.type})}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono",children:_.reference}),a.jsx("td",{className:"px-6 py-4 text-center text-sm font-mono",children:a.jsxs("span",{className:_.quantity>0?"text-green-600":"text-red-600",children:[_.quantity>0?"+":"",_.quantity]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.notes})]},E))})]})}),i==="batches"&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Batch Code"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Mfg Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Branch"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Cost Price"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:u.filter(_=>_.product_id===p).map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-mono",children:_.batch_code}),a.jsx("td",{className:"px-6 py-4 text-center text-sm",children:_.qty}),a.jsx("td",{className:"px-6 py-4 text-sm",children:_.manufacturing_date}),a.jsx("td",{className:"px-6 py-4 text-sm",children:_.expiry_date}),a.jsx("td",{className:"px-6 py-4 text-sm",children:_.branch_id}),a.jsxs("td",{className:"px-6 py-4 text-sm font-mono",children:["LKR ",_.cost_price.toFixed(2)]})]},_.batch_id))})]})}),i==="suppliers"&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Supplier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Last PO"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Last Delivery"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Lead Time"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Cost Price"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Reliability"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:(b?.supplierHistory||[]).map((_,E)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium",children:_.name}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono",children:_.lastPO}),a.jsx("td",{className:"px-6 py-4 text-sm",children:_.lastDelivery}),a.jsx("td",{className:"px-6 py-4 text-sm",children:_.leadTime}),a.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-right",children:["LKR ",_.cost_price.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 text-center text-sm",children:a.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:_.reliability})})]},E))})]})}),i==="sales"&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Quantity Sold"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Revenue"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:b?.salesData&&b.salesData.length>0?b.salesData.map((_,E)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm",children:_.date}),a.jsx("td",{className:"px-6 py-4 text-center text-sm font-mono",children:_.quantity}),a.jsxs("td",{className:"px-6 py-4 text-right text-sm font-mono text-green-600",children:["LKR ",_.revenue.toFixed(2)]})]},E)):a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No sales data available"})})})]})}),i==="reorder"&&a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:`${g.reorder_level>0?"bg-orange-50 border-orange-200":"bg-green-50 border-green-200"} border rounded-lg p-6`,children:[a.jsx("p",{className:`text-sm ${g.reorder_level>0?"text-orange-600":"text-green-600"} font-semibold`,children:g.reorder_level>0?"MONITOR STOCK":"IN STOCK"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Reorder Level"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:g.reorder_level})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Minimum Order Qty"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:"-"})]})]})]})})]}):a.jsxs("div",{className:"p-6",children:[a.jsx("p",{className:"text-gray-900 font-semibold mb-4",children:"Item not found or no item selected"}),a.jsx("button",{onClick:()=>s("item-list"),className:"text-blue-600 hover:text-blue-700",children:" Back to List"})]})},E$=({categories:e,subCategories:t,categoryForm:r,setCategoryForm:n,isAddCategoryOpen:s,setIsAddCategoryOpen:i,handleAddCategory:c,handleDeleteCategory:u,handleEditCategory:d,isEditMode:f,handleSaveEdit:m,subCategoryForm:p,setSubCategoryForm:g,isAddSubCategoryOpen:b,setIsAddSubCategoryOpen:y,handleAddSubCategory:N,setSelectedParentCategory:j,handleDeleteSubCategory:S,handleEditSubCategory:_})=>{const[E,k]=v.useState(null),[T,D]=v.useState(""),[M,R]=v.useState(null),B=e.filter(Q=>Q.name.toLowerCase().includes(T.toLowerCase())||Q.description?.toLowerCase().includes(T.toLowerCase())),K=Q=>{R(M===Q?null:Q)},U=Q=>t?t.filter(pe=>pe.category_id===Q):[],F={Tag:ji,Box:b0,Archive:Tl,Layers:Dg,ShoppingBag:qh,Coffee:Og,Smartphone:qg,Headphones:Lg,Shirt:Ug,Watch:Gg,Utensils:Hg,Zap:E0,Gift:zh,Briefcase:Cg,Camera:Eg,Music:Bg,Anchor:Ag,Globe:Pg,Key:Rg,Map:Ig,Sun:$g,Moon:Mg,Star:rf,Heart:Tg},X={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",red:"bg-red-100 text-red-600",yellow:"bg-yellow-100 text-yellow-600",purple:"bg-purple-100 text-purple-600",pink:"bg-pink-100 text-pink-600",orange:"bg-orange-100 text-orange-600",indigo:"bg-indigo-100 text-indigo-600",teal:"bg-teal-100 text-teal-600",cyan:"bg-cyan-100 text-cyan-600"};return a.jsxs("div",{className:"flex h-full gap-6",onClick:()=>R(null),children:[a.jsxs("div",{className:`flex-1 flex flex-col space-y-6 transition-all duration-300 ${E?"w-2/3":"w-full"}`,children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Category Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Organize your inventory categories"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search categories...",value:T,onChange:Q=>D(Q.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary w-full sm:w-64"})]}),a.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-brand-primary text-white rounded-lg flex items-center gap-2 hover:bg-brand-secondary transition-colors btn-hover-scale btn-interactive",children:[a.jsx(Oi,{size:20}),"Add Category"]})]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden flex-1",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider w-16",children:"No."}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider w-1/3",children:"Category Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider w-1/3",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider w-1/6",children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider w-1/6",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:B.length>0?B.map((Q,pe)=>{const re=U(Q.category_id),ue=E?.category_id===Q.category_id,V=F[Q.icon]||ji,Z=X[Q.color]||"bg-gray-100 text-gray-500";return a.jsxs("tr",{className:`hover:bg-gray-50 transition-colors cursor-pointer ${ue?"bg-blue-50/50 ring-1 ring-inset ring-blue-500/20":""}`,onClick:()=>k(ue?null:Q),children:[a.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-500",children:pe+1}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${ue?"bg-blue-100 text-blue-600":Z}`,children:a.jsx(V,{size:18})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`font-medium ${ue?"text-blue-700":"text-gray-900"}`,children:Q.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:[re.length," subcategories"]})]})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 truncate max-w-xs",children:Q.description||"-"}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-medium ${Q.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:Q.is_active?"Active":"Inactive"})}),a.jsxs("td",{className:"px-6 py-4 text-right relative",children:[a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:ge=>{ge.stopPropagation(),K(Q.category_id)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:a.jsx(Qb,{size:16})}),E?.category_id!==Q.category_id&&a.jsx("button",{onClick:ge=>{ge.stopPropagation(),k(Q)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors",children:a.jsx(y0,{size:18})})]}),M===Q.category_id&&a.jsxs("div",{className:"absolute right-8 top-8 w-48 bg-white rounded-lg shadow-xl border border-gray-100 z-20 py-1 animate-in fade-in zoom-in duration-200",children:[a.jsxs("button",{onClick:ge=>{ge.stopPropagation(),d(Q.category_id),R(null)},className:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(lo,{size:14})," Edit Category"]}),a.jsx("div",{className:"h-px bg-gray-100 my-1"}),a.jsxs("button",{onClick:ge=>{ge.stopPropagation(),u(Q.category_id),R(null)},className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[a.jsx(ni,{size:14})," Delete"]})]})]})]},Q.category_id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[a.jsx(ji,{size:48,className:"mb-4 text-gray-300"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No Categories Found"}),a.jsx("p",{className:"text-sm mt-1",children:"Get started by creating a new category."})]})})})})]})})})]}),E&&a.jsxs("div",{className:"w-1/3 bg-white border border-gray-200 rounded-xl shadow-lg flex flex-col animate-in slide-in-from-right-10 duration-300",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t-xl",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-gray-900",children:E.name}),a.jsx("p",{className:"text-xs text-gray-500",children:"Subcategories"})]}),a.jsx("button",{onClick:()=>k(null),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:a.jsx(Qt,{size:18})})]}),a.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[a.jsxs("button",{onClick:()=>{y(!0),j(E.category_id)},className:"w-full mb-4 py-2 px-4 border border-dashed border-blue-300 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 hover:border-blue-400 transition-all flex items-center justify-center gap-2 text-sm font-medium",children:[a.jsx(Oi,{size:16})," Add New Subcategory"]}),a.jsx("div",{className:"space-y-3",children:U(E.category_id).length>0?U(E.category_id).map(Q=>a.jsxs("div",{className:"group flex items-center justify-between p-3 bg-white border border-gray-100 rounded-lg shadow-sm hover:shadow-md hover:border-blue-200 transition-all",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 text-sm",children:Q.name}),Q.description&&a.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:Q.description})]}),a.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("button",{onClick:()=>_(Q.subcategory_id),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:a.jsx(lo,{size:14})}),a.jsx("button",{onClick:()=>S(Q.subcategory_id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:a.jsx(ni,{size:14})})]})]},Q.subcategory_id)):a.jsxs("div",{className:"text-center py-8 text-gray-400",children:[a.jsx("div",{className:"bg-gray-50 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Tz,{size:24,className:"text-gray-300"})}),a.jsx("p",{className:"text-sm",children:"No subcategories yet"})]})})]})]})]})},k$=({brands:e,setBrands:t,isAddBrandOpen:r,setIsAddBrandOpen:n,brandForm:s,setBrandForm:i,suppliers:c,handleDeleteBrand:u,handleEditBrand:d,isEditMode:f,handleSaveEdit:m})=>{const[p,g]=Ju.useState(""),b=e.filter(j=>j.name.toLowerCase().includes(p.toLowerCase())||j.description?.toLowerCase().includes(p.toLowerCase())),y={Archive:Tl,Tag:ji,Box:b0,Layers:Dg,ShoppingBag:qh,Coffee:Og,Smartphone:qg,Headphones:Lg,Shirt:Ug,Watch:Gg,Utensils:Hg,Zap:E0,Gift:zh,Briefcase:Cg,Camera:Eg,Music:Bg,Anchor:Ag,Globe:Pg,Key:Rg,Map:Ig,Sun:$g,Moon:Mg,Star:rf,Heart:Tg},N={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",red:"bg-red-100 text-red-600",yellow:"bg-yellow-100 text-yellow-600",purple:"bg-purple-100 text-purple-600",pink:"bg-pink-100 text-pink-600",orange:"bg-orange-100 text-orange-600",indigo:"bg-indigo-100 text-indigo-600",teal:"bg-teal-100 text-teal-600",cyan:"bg-cyan-100 text-cyan-600"};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Brand Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage brand list, suppliers and units"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search brands...",value:p,onChange:j=>g(j.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary w-full sm:w-64"})]}),a.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-brand-primary text-white rounded-lg flex items-center gap-2 hover:bg-brand-secondary transition-colors",children:[a.jsx(Oi,{size:20})," Add Brand"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase w-16",children:"No."}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Brand Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:b.length>0?b.map((j,S)=>{const _=y[j.icon]||Tl,E=N[j.color]||"bg-gray-100 text-gray-500";return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-500",children:S+1}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${E}`,children:a.jsx(_,{size:18})}),a.jsx("span",{className:"font-medium text-gray-900",children:j.name})]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 truncate max-w-xs",children:j.description||"-"}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-medium ${j.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:j.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 text-right text-sm",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>d(j.brand_id),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:a.jsx(lo,{size:16})}),a.jsx("button",{onClick:()=>u(j.brand_id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:a.jsx(ni,{size:16})})]})})]},j.brand_id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[a.jsx(Tl,{size:48,className:"mb-4 text-gray-300"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No Brands Found"}),a.jsx("p",{className:"text-sm mt-1",children:"Get started by creating a new brand."})]})})})})]})})]})},O$=({suppliers:e,setSuppliers:t,isAddSupplierOpen:r,setIsAddSupplierOpen:n,supplierForm:s,setSupplierForm:i,categories:c,handleDeleteSupplier:u,handleEditSupplier:d,isEditMode:f,handleSaveEdit:m})=>{const[p,g]=Ju.useState(""),b=e.filter(y=>y.name.toLowerCase().includes(p.toLowerCase())||y.code.toLowerCase().includes(p.toLowerCase())||y.company_name.toLowerCase().includes(p.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Supplier Management"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your suppliers"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search suppliers...",value:p,onChange:y=>g(y.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary w-full sm:w-64"})]}),a.jsxs("button",{onClick:()=>n(!0),className:"px-4 py-2 bg-brand-primary text-white rounded-lg flex items-center gap-2 hover:bg-brand-secondary transition-colors btn-hover-scale btn-interactive",children:[a.jsx(Oi,{size:20}),"Add Supplier"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase w-16",children:"No."}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Supplier Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Company & Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:b.length>0?b.map((y,N)=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-500",children:N+1}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-blue-50",children:a.jsx(Tl,{size:16,className:"text-brand-primary"})}),y.name]})}),a.jsxs("td",{className:"px-6 py-4 text-sm",children:[a.jsx("div",{className:"text-gray-900 font-medium",children:y.company_name}),a.jsx("div",{className:"text-xs text-gray-500 font-mono",children:y.code})]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.supplier_type}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:y.phone}),a.jsx("td",{className:"px-6 py-4 text-right text-sm",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>d(y.supplier_id),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit",children:a.jsx(lo,{size:16})}),a.jsx("button",{onClick:()=>u(y.supplier_id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete",children:a.jsx(ni,{size:16})})]})})]},y.supplier_id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:"No suppliers found."})})})]})})]})},P$=({items:e,suppliers:t,branches:r,categories:n=[],subCategories:s=[]})=>{const{success:i,error:c,warning:u,confirm:d,prompt:f}=iy(),[m,p]=v.useState("list"),[g,b]=v.useState([]),[y,N]=v.useState(null),[j,S]=v.useState(!1),[_,E]=v.useState(""),[k,T]=v.useState({supplier_id:"",grn_date:new Date().toISOString().split("T")[0],invoice_no:"",invoice_date:new Date().toISOString().split("T")[0],notes:"",branch_id:r?.[0]?.branch_id||1,items:[]}),[D,M]=v.useState({product_id:"",quantity:"",unit_price:"",batch_code:"",expiry_date:"",imei:""}),[R,B]=v.useState(""),[K,U]=v.useState(""),F=R?s.filter($=>$.category_id===parseInt(R)):[],X=e.filter($=>!(R&&$.category_id!==parseInt(R)||K&&$.subcategory_id!==parseInt(K)));v.useEffect(()=>{(async()=>{S(!0);try{const le=JSON.parse(localStorage.getItem("user")||"{}").branchId||r?.[0]?.branch_id||1,be=await Lr.getGRNs(le);b(be||[])}catch(ae){console.error("Failed to fetch GRNs",ae)}finally{S(!1)}})()},[r]);const Q=g.filter($=>$.grn_no?.toLowerCase().includes(_.toLowerCase())||$.invoice_no?.toLowerCase().includes(_.toLowerCase())||t.find(ae=>ae.supplier_id===$.supplier_id)?.name.toLowerCase().includes(_.toLowerCase())),pe=()=>{if(!D.product_id||!D.quantity||!D.unit_price){u("Please fill in Product, Quantity and Unit Price");return}const $=e.find(le=>le.product_id===parseInt(D.product_id)),ae={...D,product_name:$?.name||"Unknown",subtotal:parseFloat(D.quantity)*parseFloat(D.unit_price)};T({...k,items:[...k.items,ae]}),M({product_id:"",quantity:"",unit_price:"",batch_code:"",expiry_date:"",imei:""})},re=Dl(),ue=Dl(pe),V=async $=>{if(await d("Remove Item","Are you sure you want to remove this item from the GRN?","warning")){const le=[...k.items];le.splice($,1),T({...k,items:le})}},Z=()=>k.items.reduce(($,ae)=>$+ae.subtotal,0),ge=async()=>{if(!k.supplier_id){u("Please select a supplier");return}if(k.items.length===0){u("Please add at least one item");return}try{const $={branchId:parseInt(k.branch_id),supplierId:parseInt(k.supplier_id),grnDate:k.grn_date,invoiceNo:k.invoice_no,invoiceDate:k.invoice_date,items:k.items.map(oe=>({productId:parseInt(oe.product_id),qtyReceived:parseFloat(oe.quantity),unitPrice:parseFloat(oe.unit_price),batchCode:oe.batch_code||null,expiryDate:oe.expiry_date||null}))},ae=await Lr.createGRN($);i(`GRN Created Successfully! GRN No: ${ae.grn_no||"N/A"}`),p("list");const be=JSON.parse(localStorage.getItem("user")||"{}").branchId||r?.[0]?.branch_id||1,ce=await Lr.getGRNs(be);b(ce||[]),T({supplier_id:"",grn_date:new Date().toISOString().split("T")[0],invoice_no:"",invoice_date:new Date().toISOString().split("T")[0],notes:"",branch_id:r?.[0]?.branch_id||1,items:[]})}catch($){console.error("Error creating GRN:",$),$("Failed to create GRN: "+($.response?.data?.message||$.message))}},G=async $=>{if(await d("Approve GRN","Are you sure you want to approve this GRN? This will update stock levels.","info"))try{await Lr.approveGRN($),i("GRN approved successfully!");const be=JSON.parse(localStorage.getItem("user")||"{}").branchId||r?.[0]?.branch_id||1,ce=await Lr.getGRNs(be);if(b(ce||[]),y&&y.grn_id===$){const oe=await Lr.getGRNById($);N(oe)}}catch(le){console.error("Error approving GRN:",le),le("Failed to approve GRN: "+(le.response?.data?.message||le.message))}},P=async $=>{const ae=await f("Reject GRN","Please enter rejection reason:","Enter reason...");if(ae)try{await Lr.rejectGRN($,ae),i("GRN rejected successfully!");const be=JSON.parse(localStorage.getItem("user")||"{}").branchId||r?.[0]?.branch_id||1,ce=await Lr.getGRNs(be);b(ce||[]),y&&y.grn_id===$&&(p("list"),N(null))}catch(le){console.error("Error rejecting GRN:",le),le("Failed to reject GRN: "+(le.response?.data?.message||le.message))}},H=async $=>{try{const ae=await Lr.getGRNById($.grn_id);N(ae),p("detail")}catch(ae){console.error("Error fetching GRN details:",ae),ae("Failed to fetch GRN details")}};return m==="detail"&&y?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>{p("list"),N(null)},className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(_g,{size:20,className:"text-gray-600"})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:["GRN Details - ",y.grn_no]}),a.jsx("p",{className:"text-gray-600 text-sm",children:"View and manage GRN"})]})]}),y.status==="PENDING"&&a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>G(y.grn_id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[a.jsx(Xr,{size:20})," Approve"]}),a.jsx("button",{onClick:()=>P(y.grn_id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"GRN Information"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"GRN No"}),a.jsx("p",{className:"text-base font-mono font-medium",children:y.grn_no})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Status"}),a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full ${y.status==="APPROVED"?"bg-green-100 text-green-700":y.status==="PENDING"?"bg-yellow-100 text-yellow-700":y.status==="REJECTED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:y.status})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Supplier"}),a.jsx("p",{className:"text-base",children:y.supplier_name||t.find($=>$.supplier_id===y.supplier_id)?.name||"N/A"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"GRN Date"}),a.jsx("p",{className:"text-base",children:y.grn_date})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Invoice No"}),a.jsx("p",{className:"text-base font-mono",children:y.invoice_no})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Invoice Date"}),a.jsx("p",{className:"text-base",children:y.invoice_date})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Payment Status"}),a.jsx("span",{className:`inline-block px-2 py-1 text-xs font-semibold rounded-full ${y.payment_status==="PAID"?"bg-green-100 text-green-700":y.payment_status==="PARTIALLY_PAID"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:y.payment_status||"UNPAID"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500",children:"Created At"}),a.jsx("p",{className:"text-base text-sm",children:y.created_at?new Date(y.created_at).toLocaleString():"N/A"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Items"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left",children:"Product"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Batch"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Expiry"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Qty"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Unit Price"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Total"})]})}),a.jsx("tbody",{className:"divide-y",children:y.items?.map(($,ae)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2",children:$.product_name||e.find(le=>le.product_id===$.product_id)?.name||`Product #${$.product_id}`}),a.jsx("td",{className:"px-4 py-2 text-gray-500",children:$.batch_code||"-"}),a.jsx("td",{className:"px-4 py-2 text-gray-500",children:$.expiry_date||"-"}),a.jsx("td",{className:"px-4 py-2 text-right",children:$.qty_received||$.quantity}),a.jsx("td",{className:"px-4 py-2 text-right font-mono",children:parseFloat($.unit_price).toFixed(2)}),a.jsx("td",{className:"px-4 py-2 text-right font-mono font-medium",children:parseFloat($.total||($.qty_received||$.quantity)*$.unit_price).toFixed(2)})]},ae))})]})})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Summary"}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Total Items"}),a.jsx("span",{className:"font-medium",children:y.items?.length||0})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[a.jsx("span",{children:"Total Amount"}),a.jsxs("span",{children:["LKR ",(y.total_amount||0).toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Net Amount"}),a.jsxs("span",{className:"font-medium",children:["LKR ",(y.net_amount||0).toFixed(2)]})]})]})]})})]})]}):m==="create"?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>p("list"),className:"p-2 hover:bg-gray-100 rounded-full",children:a.jsx(_g,{size:20,className:"text-gray-600"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Create New GRN"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Receive stock from suppliers"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("form",{className:"bg-white rounded-lg border border-gray-200 p-6",onKeyDown:re,children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Supplier & Invoice Details"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),a.jsxs("select",{className:"w-full",value:k.supplier_id,onChange:$=>T({...k,supplier_id:$.target.value}),children:[a.jsx("option",{value:"",children:"Select Supplier"}),t.map($=>a.jsx("option",{value:$.supplier_id,children:$.name},$.supplier_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),a.jsx("select",{className:"w-full",value:k.branch_id,onChange:$=>T({...k,branch_id:$.target.value}),children:r?.map($=>a.jsx("option",{value:$.branch_id,children:$.name},$.branch_id))||a.jsx("option",{value:"1",children:"Main Branch"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice No"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2.5",value:k.invoice_no,onChange:$=>T({...k,invoice_no:$.target.value}),placeholder:"Enter Invoice Number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Date"}),a.jsx("input",{type:"date",className:"w-full",value:k.invoice_date,onChange:$=>T({...k,invoice_date:$.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Received Date"}),a.jsx("input",{type:"date",className:"w-full",value:k.grn_date,onChange:$=>T({...k,grn_date:$.target.value})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add Items"}),a.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end mb-4",onKeyDown:ue,children:[a.jsxs("div",{className:"md:col-span-3",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Category"}),a.jsxs("select",{className:"w-full text-sm",value:R,onChange:$=>{B($.target.value),U("")},children:[a.jsx("option",{value:"",children:"All Categories"}),n.map($=>a.jsx("option",{value:$.category_id,children:$.name},$.category_id))]})]}),a.jsxs("div",{className:"md:col-span-3",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Subcategory"}),a.jsxs("select",{className:"w-full text-sm",value:K,onChange:$=>U($.target.value),disabled:!R,children:[a.jsx("option",{value:"",children:"All Subcategories"}),F.map($=>a.jsx("option",{value:$.subcategory_id,children:$.name},$.subcategory_id))]})]}),a.jsxs("div",{className:"md:col-span-6",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Product"}),a.jsxs("select",{className:"w-full text-sm",value:D.product_id,onChange:$=>{const ae=e.find(le=>le.product_id===parseInt($.target.value));M({...D,product_id:$.target.value,unit_price:ae?ae.cost_price:"",quantity:""})},children:[a.jsx("option",{value:"",children:"Select Product"}),X.map($=>a.jsxs("option",{value:$.product_id,children:[$.name," (",$.sku,")"]},$.product_id))]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Batch Code"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2 text-sm",value:D.batch_code,onChange:$=>M({...D,batch_code:$.target.value}),placeholder:"Optional"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Expiry Date"}),a.jsx("input",{type:"date",className:"w-full text-sm",value:D.expiry_date,onChange:$=>M({...D,expiry_date:$.target.value}),placeholder:"Optional"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"IMEI / Serial"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-lg p-2 text-sm",value:D.imei,onChange:$=>M({...D,imei:$.target.value}),placeholder:"Optional"})]}),a.jsxs("div",{className:"md:col-span-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Qty"}),a.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-lg p-2 text-sm",value:D.quantity,onChange:$=>M({...D,quantity:$.target.value})})]}),a.jsxs("div",{className:"md:col-span-1",children:[a.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Cost"}),a.jsx("input",{type:"number",className:"w-full border border-gray-300 rounded-lg p-2 text-sm",value:D.unit_price,onChange:$=>M({...D,unit_price:$.target.value})})]}),a.jsx("div",{className:"md:col-span-12 flex justify-end",children:a.jsxs("button",{type:"button",onClick:pe,className:"bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 flex items-center gap-2",children:[a.jsx(Oi,{size:16})," Add Item"]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-gray-50 border-b",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left",children:"Product"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Batch"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"Expiry"}),a.jsx("th",{className:"px-4 py-2 text-left",children:"IMEI"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Qty"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Cost"}),a.jsx("th",{className:"px-4 py-2 text-right",children:"Total"}),a.jsx("th",{className:"px-4 py-2 text-center",children:"Action"})]})}),a.jsxs("tbody",{className:"divide-y",children:[k.items.map(($,ae)=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-2",children:$.product_name}),a.jsx("td",{className:"px-4 py-2 text-gray-500",children:$.batch_code||"-"}),a.jsx("td",{className:"px-4 py-2 text-gray-500",children:$.expiry_date||"-"}),a.jsx("td",{className:"px-4 py-2 text-gray-500",children:$.imei||"-"}),a.jsx("td",{className:"px-4 py-2 text-right",children:$.quantity}),a.jsx("td",{className:"px-4 py-2 text-right",children:parseFloat($.unit_price).toFixed(2)}),a.jsx("td",{className:"px-4 py-2 text-right font-medium",children:$.subtotal.toFixed(2)}),a.jsx("td",{className:"px-4 py-2 text-center",children:a.jsx("button",{onClick:()=>V(ae),className:"text-red-500 hover:text-red-700",children:a.jsx(ni,{size:16})})})]},ae)),k.items.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-4 py-8 text-center text-gray-500",children:"No items added yet"})})]})]})})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 sticky top-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Summary"}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Total Items"}),a.jsx("span",{className:"font-medium",children:k.items.length})]}),a.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[a.jsx("span",{children:"Total Amount"}),a.jsxs("span",{children:["LKR ",Z().toFixed(2)]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:ge,className:"w-full bg-brand-primary text-white py-3 rounded-lg font-semibold hover:bg-brand-secondary flex items-center justify-center gap-2",children:[a.jsx(SN,{size:20})," Save GRN"]}),a.jsx("button",{onClick:()=>p("list"),className:"w-full border border-gray-300 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-50",children:"Cancel"})]})]})})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Goods Received Note (GRN)"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage inbound stock"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search...",className:"pl-10 pr-4 py-2 border border-brand-border rounded-lg focus:ring-2 focus:ring-brand-primary focus:border-transparent outline-none w-64",value:_,onChange:$=>E($.target.value)})]}),a.jsxs("button",{onClick:()=>p("create"),className:"flex items-center gap-2 px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:[a.jsx(Oi,{size:20})," Create GRN"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden shadow-sm",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"GRN No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Supplier"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:Q.length>0?Q.map($=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>H($),children:[a.jsx("td",{className:"px-6 py-4 text-sm font-mono font-medium text-brand-primary",children:$.grn_no}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:$.supplier_name||t.find(ae=>ae.supplier_id===$.supplier_id)?.name||$.supplier_id}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:$.invoice_no}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:$.grn_date}),a.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-right font-medium",children:["LKR ",($.total_amount||0).toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${$.status==="APPROVED"?"bg-green-100 text-green-700":$.status==="PENDING"?"bg-yellow-100 text-yellow-700":$.status==="REJECTED"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:$.status})})]},$.grn_id)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"px-6 py-12 text-center text-gray-500",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(Xo,{size:48,className:"text-gray-300 mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:"No GRNs Found"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create a new GRN to get started"})]})})})})]})})]})},Es={getBatches:async()=>{try{console.log("[StoreService] GET batches");const e=await He.get("/inventory/batches");console.log("[StoreService] GET batches response:",e.data);const t=e.data.data||e.data,r=mh(t);return console.log("[StoreService] GET batches mapped:",r.length,"items"),r}catch(e){return console.error("[StoreService] GET batches error:",e?.response?.data||e?.response||e),[]}},getBatchById:async e=>{try{const t=await He.get(`/batches/${e}`),r=t.data.data||t.data;return ug(r)}catch(t){throw console.error("Error fetching batch:",t),t}},getBatchesByProduct:async e=>{try{const t=await He.get(`/batches/product/${e}`),r=t.data.data||t.data;return mh(r)}catch(t){throw console.error("Error fetching batches by product:",t),t}},createBatch:async e=>{try{const t=_6(e),r=await He.post("/inventory/batches",t),n=r.data.data||r.data;return ug(n)}catch(t){throw console.error("Error creating batch:",t),t}},updateBatch:async(e,t)=>{try{const r=_6(t),n=await He.put(`/batches/${e}`,r),s=n.data.data||n.data;return ug(s)}catch(r){throw console.error("Error updating batch:",r),r}},deleteBatch:async e=>{try{return(await He.delete(`/batches/${e}`)).data}catch(t){throw console.error("Error deleting batch:",t),t}},getAdjustments:async(e={})=>{try{console.log("[StoreService] GET adjustments with filters:",e);const t=new URLSearchParams;e.branchId&&t.append("branchId",e.branchId),e.productId&&t.append("productId",e.productId);const r=t.toString()?`/inventory/adjustments?${t.toString()}`:"/inventory/adjustments",n=await He.get(r);console.log("[StoreService] GET adjustments response:",n.data);const s=n.data.data||n.data,i=v$(s);return console.log("[StoreService] GET adjustments mapped:",i.length,"items"),i}catch(t){return console.error("[StoreService] GET adjustments error:",t?.response?.data||t?.response||t),[]}},getAdjustmentById:async e=>{try{const t=await He.get(`/inventory/adjustments/${e}`),r=t.data.data||t.data;return Yw(r)}catch(t){throw console.error("Error fetching adjustment:",t),t}},createAdjustment:async e=>{try{console.log("[StoreService] POST adjustment:",e);const t=y$(e);console.log("[StoreService] POST adjustment (mapped):",t);const r=await He.post("/inventory/adjustments",t);console.log("[StoreService] POST adjustment response:",r.data);const n=r.data.data||r.data;return Yw(n)}catch(t){throw console.error("[StoreService] POST adjustment error:",t?.response||t),t}},getAdjustmentsByProduct:async e=>{try{return await Es.getAdjustments({productId:e})}catch(t){throw console.error("Error fetching adjustments by product:",t),t}},getTransfers:async(e={})=>{try{console.log("[StoreService] GET transfers with filters:",e);const t={};e.status&&(t.status=e.status),e.fromBranchId&&(t.fromBranchId=e.fromBranchId),e.toBranchId&&(t.toBranchId=e.toBranchId),e.requestedBy&&(t.requestedBy=e.requestedBy);const r=await He.get("/inventory/transfers",{params:t});console.log("[StoreService] GET transfers response:",r.data);const n=r.data.data||r.data,s=w$(n);return console.log("[StoreService] GET transfers mapped:",s.length,"items"),s}catch(t){return console.error("[StoreService] GET transfers error:",t?.response||t),[]}},getTransferById:async e=>{try{console.log("[StoreService] GET transfer by ID:",e);const t=await He.get(`/inventory/transfers/${e}`),r=t.data.data||t.data;return dg(r)}catch(t){throw console.error("[StoreService] GET transfer by ID error:",t?.response?.data||t?.response||t),t}},createTransfer:async e=>{try{console.log("[StoreService] POST create transfer:",e);const t=C6(e);console.log("[StoreService] Mapped backend data:",t);const r=await He.post("/inventory/transfers",t);console.log("[StoreService] Create transfer response:",r.data);const n=r.data.data||r.data;return dg(n)}catch(t){throw console.error("[StoreService] Create transfer error:",t?.response?.data||t?.response||t),t}},updateTransfer:async(e,t)=>{try{console.log("[StoreService] PUT update transfer:",e,t);const r=C6(t),n=await He.put(`/inventory/transfers/${e}`,r),s=n.data.data||n.data;return dg(s)}catch(r){throw console.error("Error updating transfer:",r?.response?.data||r),r}},submitTransfer:async e=>{try{console.log("[StoreService] POST submit transfer:",e);const t=await He.post(`/inventory/transfers/${e}/submit`);return console.log("[StoreService] Submit transfer response:",t.data),t.data}catch(t){throw console.error("Error submitting transfer:",t?.response?.data||t),t}},approveTransfer:async(e,t="")=>{try{console.log("[StoreService] POST approve transfer:",e,t);const r=await He.post(`/inventory/transfers/${e}/approve`,null,{params:{approvalNotes:t}});return console.log("[StoreService] Approve transfer response:",r.data),r.data}catch(r){throw console.error("Error approving transfer:",r?.response?.data||r),r}},rejectTransfer:async(e,t)=>{try{console.log("[StoreService] POST reject transfer:",e,t);const r=await He.post(`/inventory/transfers/${e}/reject`,null,{params:{rejectionReason:t}});return console.log("[StoreService] Reject transfer response:",r.data),r.data}catch(r){throw console.error("Error rejecting transfer:",r?.response?.data||r),r}},deleteTransfer:async e=>{try{console.log("[StoreService] DELETE transfer:",e);const t=await He.delete(`/inventory/transfers/${e}`);return console.log("[StoreService] Delete transfer response:",t.data),t.data}catch(t){throw console.error("Error deleting transfer:",t?.response?.data||t),t}},getPendingTransfers:async()=>{try{return console.log("[StoreService] GET pending transfers"),await Es.getTransfers({status:"PENDING"})}catch(e){return console.error("[StoreService] GET pending transfers error:",e?.response?.data||e?.response||e),[]}},getDamages:async()=>{try{console.log("[StoreService] GET damages");const e=await He.get("/inventory/damages");console.log("[StoreService] GET damages response:",e.data);const t=e.data.data||e.data,r=E6(t);return console.log("[StoreService] GET damages mapped:",r.length,"items"),r}catch(e){return console.error("[StoreService] GET damages error:",e?.response?.data||e?.response||e),[]}},getDamageById:async e=>{try{const t=await He.get(`/damages/${e}`),r=t.data.data||t.data;return Xw(r)}catch(t){throw console.error("Error fetching damage:",t),t}},createDamage:async e=>{try{const t=N$(e),r=await He.post("/inventory/damages",t),n=r.data.data||r.data;return Xw(n)}catch(t){throw console.error("Error creating damage:",t),t}},getDamagesByProduct:async e=>{try{const t=await He.get(`/damages/product/${e}`),r=t.data.data||t.data;return E6(r)}catch(t){throw console.error("Error fetching damages by product:",t),t}},getExpiringProducts:async(e=30)=>{try{const t=await He.get(`/batches/expiring?days=${e}`),r=t.data.data||t.data;return mh(r)}catch(t){throw console.error("Error fetching expiring products:",t),t}},getExpiredProducts:async()=>{try{const e=await He.get("/inventory/batches/expired"),t=e.data.data||e.data;return mh(t)}catch(e){throw console.error("Error fetching expired products:",e),e}},getExpiryCalendar:async(e,t)=>{try{console.log("[StoreService] GET expiry calendar",{startDate:e,endDate:t});const r=await He.get(`/inventory/expiry-calendar?start=${e}&end=${t}`);console.log("[StoreService] GET expiry calendar response:",r.data);const n=r.data.data||r.data,s=mh(n);return console.log("[StoreService] GET expiry calendar mapped:",s.length,"items"),s}catch(r){return console.error("[StoreService] GET expiry calendar error:",r?.response?.data||r?.response||r),[]}},getStockValuation:async()=>{try{const e=await He.get("/reports/stock-valuation");return e.data.data||e.data}catch(e){throw console.error("Error fetching stock valuation:",e),e}},getStockAging:async()=>{try{const e=await He.get("/reports/stock-aging");return e.data.data||e.data}catch(e){throw console.error("Error fetching stock aging:",e),e}},getStockOverview:async()=>{try{console.log("[StoreService] GET stock overview");const e=await He.get("/inventory/stock-overview");return console.log("[StoreService] GET stock overview response:",e.data),e.data.data||e.data}catch(e){return console.error("[StoreService] GET stock overview error:",e?.response?.data||e?.response||e),[]}},getLowStockItems:async()=>{try{const e=await He.get("/inventory/stock-overview/low-stock"),t=e.data.data||e.data;return mh(t)}catch(e){return console.error("Error fetching low stock items:",e),[]}}},L$=({items:e,categories:t,branches:r,stockFilterCategory:n,setStockFilterCategory:s,stockFilterBranch:i,setStockFilterBranch:c,stockFilterDate:u,setStockFilterDate:d})=>{const[f,m]=v.useState(null),[p,g]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const E=await Es.getStockOverview();m(E)}catch(E){console.error("Error loading stock overview:",E)}finally{g(!1)}})()},[]);const b=e.filter(_=>!(n&&_.category_id!==parseInt(n))),y=f?.low_stock_count||b.filter(_=>_.reorder_level&&_.reorder_level>0).length,N=f?.out_of_stock_count||0,j=f?.expiring_soon_count||0,S=f?.total_stock_value||b.reduce((_,E)=>_+(E.selling_price||0),0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Stock Overview"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time inventory dashboard"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"By Category"}),a.jsxs("select",{value:n,onChange:_=>s(_.target.value),className:"w-full",children:[a.jsx("option",{value:"",children:"All Categories"}),t.map(_=>a.jsx("option",{value:_.category_id,children:_.name},_.category_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"By Branch / Store"}),a.jsxs("select",{value:i,onChange:_=>c(_.target.value),className:"w-full",children:[a.jsx("option",{value:"",children:"All Locations"}),r.map(_=>a.jsx("option",{value:_.branch_id,children:_.name},_.branch_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry By Date"}),a.jsx("input",{value:u,onChange:_=>d(_.target.value),type:"date",className:"w-full"})]})]}),a.jsx("button",{onClick:()=>{s(""),c(""),d("")},className:"mt-4 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Clear Filters"})]}),a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:b.length})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Ln,{className:"text-blue-600",size:24})})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Stock Value"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600 mt-2",children:["LKR ",(S/1e3).toFixed(1),"k"]})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(co,{className:"text-green-600",size:24})})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock Items"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:y})]}),a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(ra,{className:"text-orange-600",size:24})})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Out of Stock"}),a.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:N})]}),a.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:a.jsx(ra,{className:"text-red-600",size:24})})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Expiring Soon"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:j})]}),a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Kc,{className:"text-purple-600",size:24})})]})})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Category"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Warehouse"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Stock"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:b.map(_=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:_.name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:_.category_id}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:"-"}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-900",children:"-"}),a.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-gray-900",children:["LKR ",_.selling_price.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:"-"}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${_.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:_.is_active?"Active":"Inactive"})})]},_.product_id))})]})})]})},T$=({batches:e,items:t,batchFilterItem:r,setBatchFilterItem:n})=>{const[s,i]=v.useState(e||[]),[c,u]=v.useState(!0),[d,f]=v.useState(!1),[m,p]=v.useState(new Date),[g,b]=v.useState(""),[y,N]=v.useState(!1),[j,S]=v.useState(-1),_=v.useRef(null),E=v.useRef(null),[k,T]=v.useState({key:"expiry_date",direction:"asc"}),D=v.useCallback(async(V=!1)=>{V?f(!0):u(!0);try{const Z=await Es.getBatches();i(Z),p(new Date)}catch(Z){console.error("Error loading batches:",Z)}finally{u(!1),f(!1)}},[]);v.useEffect(()=>{D()},[D]),v.useEffect(()=>{const V=setInterval(()=>{D(!0)},3e4);return()=>clearInterval(V)},[D]);const M=v.useMemo(()=>new Date,[]),R=v.useMemo(()=>new Date(M.getTime()+720*60*60*1e3),[M]),B=v.useCallback(V=>{const Z=new Date(V);return Z<M?"Expired":Z<R?"Near Expiry":"Safe"},[M,R]),K=v.useMemo(()=>{if(!g.trim())return[];const V=g.toLowerCase();return t.filter(Z=>Z.name?.toLowerCase().includes(V)||Z.sku?.toLowerCase().includes(V)||Z.barcode?.toLowerCase().includes(V)).slice(0,8)},[g,t]),U=v.useMemo(()=>{let V=s;if(r&&(V=V.filter(Z=>Z.product_id===parseInt(r))),g.trim()&&!r){const Z=g.toLowerCase(),ge=t.filter(G=>G.name?.toLowerCase().includes(Z)||G.sku?.toLowerCase().includes(Z)).map(G=>G.product_id);V=V.filter(G=>ge.includes(G.product_id))}return V.sort((Z,ge)=>{let G=Z[k.key],P=ge[k.key];return(k.key==="expiry_date"||k.key==="manufacturing_date")&&(G=new Date(G),P=new Date(P)),G<P?k.direction==="asc"?-1:1:G>P?k.direction==="asc"?1:-1:0}),V},[s,r,g,t,k]),F=v.useMemo(()=>({expired:U.filter(V=>B(V.expiry_date)==="Expired").length,nearExpiry:U.filter(V=>B(V.expiry_date)==="Near Expiry").length,safe:U.filter(V=>B(V.expiry_date)==="Safe").length,totalQty:U.reduce((V,Z)=>V+(Z.qty||0),0),totalValue:U.reduce((V,Z)=>V+(Z.qty||0)*(Z.cost_price||0),0)}),[U,B]),X=V=>{if(!(!y||K.length===0))switch(V.key){case"ArrowDown":V.preventDefault(),S(Z=>Z<K.length-1?Z+1:0);break;case"ArrowUp":V.preventDefault(),S(Z=>Z>0?Z-1:K.length-1);break;case"Enter":V.preventDefault(),j>=0&&Q(K[j]);break;case"Escape":N(!1),S(-1);break}},Q=V=>{n(V.product_id.toString()),b(V.name),N(!1),S(-1)},pe=()=>{b(""),n(""),N(!1),S(-1),_.current?.focus()},re=V=>{T(Z=>({key:V,direction:Z.key===V&&Z.direction==="asc"?"desc":"asc"}))};v.useEffect(()=>{const V=Z=>{E.current&&!E.current.contains(Z.target)&&_.current&&!_.current.contains(Z.target)&&N(!1)};return document.addEventListener("mousedown",V),()=>document.removeEventListener("mousedown",V)},[]);const ue=()=>{const Z=[[" Product Name"," Batch Code"," Quantity"," Selling Price"," Cost Price"," Expiry Date"," Mfg Date"," Alert Status"].join(","),...U.map(H=>{const $=t.find(oe=>oe.product_id===H.product_id),ae=B(H.expiry_date);let le=ae;ae==="Expired"?le=" Expired":ae==="Near Expiry"?le=" Near Expiry":le=" Safe";const be=`"${($?.name||"").replace(/"/g,'""')}"`,ce=`"${(H.batch_code||"").replace(/"/g,'""')}"`;return[be,ce,H.qty,($?.selling_price||0).toFixed(2),(H.cost_price||0).toFixed(2),H.expiry_date,H.manufacturing_date,le].join(",")})].join(`
`),ge=new Blob(["\uFEFF"+Z],{type:"text/csv;charset=utf-8;"}),G=window.URL.createObjectURL(ge),P=document.createElement("a");P.href=G,P.download=`batch_stock_report_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(P),P.click(),document.body.removeChild(P)};return c?a.jsxs("div",{className:"flex items-center justify-center h-64",children:[a.jsx(Sa,{className:"w-8 h-8 text-blue-500 animate-spin"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading batch data..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Batch-wise Stock View"}),a.jsxs("p",{className:"text-gray-600 mt-1 flex items-center gap-2",children:["Track inventory by batch with expiry monitoring",a.jsxs("span",{className:"text-xs text-gray-400",children:["Auto-updates every 30s  Last: ",m.toLocaleTimeString()]})]})]}),a.jsx("button",{onClick:()=>D(!0),disabled:d,className:`p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors ${d?"animate-spin":""}`,children:a.jsx(Sa,{size:18,className:"text-gray-500"})})]}),a.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 hover:shadow-md transition-all",children:[a.jsx("p",{className:"text-sm text-red-600 font-semibold",children:"Expired Stock"}),a.jsx("p",{className:"text-2xl font-bold text-red-700 mt-2",children:F.expired})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 hover:shadow-md transition-all",children:[a.jsx("p",{className:"text-sm text-yellow-600 font-semibold",children:"Near Expiry"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-700 mt-2",children:F.nearExpiry})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 hover:shadow-md transition-all",children:[a.jsx("p",{className:"text-sm text-green-600 font-semibold",children:"Safe Stock"}),a.jsx("p",{className:"text-2xl font-bold text-green-700 mt-2",children:F.safe})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 hover:shadow-md transition-all",children:[a.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:"Total Quantity"}),a.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-2",children:F.totalQty.toLocaleString()})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4 hover:shadow-md transition-all",children:[a.jsx("p",{className:"text-sm text-purple-600 font-semibold",children:"Stock Value"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-700 mt-2",children:["LKR ",(F.totalValue/1e3).toFixed(1),"K"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-end gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Product"}),a.jsxs("div",{className:"relative",children:[a.jsx(Aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{ref:_,type:"text",value:g,onChange:V=>{b(V.target.value),N(!0),S(-1),V.target.value.trim()||n("")},onFocus:()=>g&&N(!0),onKeyDown:X,placeholder:"Search by product name, SKU, or barcode...",className:"w-full pl-10 pr-10 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all"}),g&&a.jsx("button",{onClick:pe,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a.jsx(Qt,{size:18})})]}),y&&K.length>0&&a.jsxs("div",{ref:E,className:"absolute z-50 top-full mt-1 w-full bg-white rounded-lg shadow-xl border border-gray-200 max-h-64 overflow-y-auto",children:[a.jsxs("div",{className:"p-2 text-xs text-gray-500 border-b border-gray-100 flex items-center gap-2",children:[a.jsx(qB,{className:"w-3 h-3"}),a.jsx(IB,{className:"w-3 h-3"}),a.jsx("span",{children:"Navigate"}),a.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-gray-100 rounded text-xs",children:"Enter"}),a.jsx("span",{children:"Select"})]}),K.map((V,Z)=>a.jsxs("div",{onClick:()=>Q(V),className:`px-4 py-3 flex items-center gap-3 cursor-pointer transition-colors ${Z===j?"bg-blue-50 border-l-3 border-blue-500":"hover:bg-gray-50"}`,children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:a.jsx(Ln,{className:"w-4 h-4 text-gray-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:V.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",V.sku,"  LKR ",V.selling_price?.toFixed(2)]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:`text-sm font-mono ${(V.quantity||0)<=(V.reorder_level||0)?"text-red-600":"text-green-600"}`,children:[V.quantity||0," in stock"]})})]},V.product_id))]})]}),a.jsxs("div",{className:"w-64",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Product"}),a.jsxs("select",{value:r,onChange:V=>{if(n(V.target.value),V.target.value){const Z=t.find(ge=>ge.product_id===parseInt(V.target.value));b(Z?.name||"")}else b("")},className:"w-full",children:[a.jsx("option",{value:"",children:"All Products"}),t.map(V=>a.jsx("option",{value:V.product_id,children:V.name},V.product_id))]})]}),a.jsxs("button",{onClick:ue,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 transition-colors",children:[a.jsx(Yl,{size:18}),"Export Report"]})]})}),a.jsx("div",{className:"flex items-center justify-between px-2 text-sm text-gray-600",children:a.jsxs("span",{children:["Showing ",U.length," batch",U.length!==1?"es":"",r&&a.jsxs("span",{className:"ml-1",children:['for "',t.find(V=>V.product_id===parseInt(r))?.name,'"']})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>re("product_id"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Product Name",k.key==="product_id"&&a.jsx(Rl,{className:`w-3 h-3 ${k.direction==="desc"?"rotate-180":""}`})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Batch Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>re("qty"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Quantity",k.key==="qty"&&a.jsx(Rl,{className:`w-3 h-3 ${k.direction==="desc"?"rotate-180":""}`})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Selling Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Cost Price"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",onClick:()=>re("expiry_date"),children:a.jsxs("div",{className:"flex items-center gap-1",children:["Expiry Date",k.key==="expiry_date"&&a.jsx(Rl,{className:`w-3 h-3 ${k.direction==="desc"?"rotate-180":""}`})]})}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Mfg Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Alert"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:U.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:[a.jsx(Ln,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),a.jsx("p",{className:"font-medium",children:"No batches found"}),a.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search or filter"})]})}):U.map(V=>{const Z=B(V.expiry_date),ge=t.find(G=>G.product_id===V.product_id);return a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:a.jsx(Ln,{className:"w-4 h-4 text-gray-500"})}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:ge?.name})]})}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:V.batch_code}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`text-sm font-mono font-semibold ${V.qty<=0?"text-red-600":V.qty<=10?"text-amber-600":"text-gray-900"}`,children:V.qty})}),a.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-emerald-600 font-semibold",children:["LKR ",ge?.selling_price?.toFixed(2)||"0.00"]}),a.jsxs("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:["LKR ",V.cost_price?.toFixed(2)]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Kc,{className:"w-3 h-3 text-gray-400"}),V.expiry_date]})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:V.manufacturing_date}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${sP(Z)}`,children:[Z==="Expired"&&a.jsx(ra,{className:"w-3 h-3 inline mr-1"}),Z]})})]},V.batch_id)})})]})})]})},R$=({batches:e})=>{const[t,r]=v.useState(e||[]),[n,s]=v.useState(!0);v.useEffect(()=>{(async()=>{try{const f=new Date().toISOString().split("T")[0],m=new Date(Date.now()+2160*60*60*1e3).toISOString().split("T")[0],p=await Es.getExpiryCalendar(f,m);r(p)}catch(f){console.error("Error loading expiry data:",f)}finally{s(!1)}})()},[]);const i=new Date("2026-01-11"),c={};t.forEach(d=>{const f=new Date(d.expiry_date),m=new Date(i.getTime()+720*60*60*1e3);let p="safe";f<i?p="expired":f<m&&(p="near-expiry");const g=d.expiry_date;c[g]||(c[g]={safe:0,"near-expiry":0,expired:0,items:[]}),c[g][p]++,c[g].items.push(d)});const u=Object.keys(c).sort();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Expiry Calendar View"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor inventory by expiry date"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3 bg-white p-4 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),a.jsxs("span",{className:"text-sm text-gray-700",children:[a.jsx("strong",{children:"Green:"})," Safe (",">","30 days)"]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-white p-4 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),a.jsxs("span",{className:"text-sm text-gray-700",children:[a.jsx("strong",{children:"Yellow:"})," Near Expiry (","","30 days)"]})]}),a.jsxs("div",{className:"flex items-center gap-3 bg-white p-4 rounded-lg border border-gray-200",children:[a.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),a.jsxs("span",{className:"text-sm text-gray-700",children:[a.jsx("strong",{children:"Red:"})," Expired"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Item Details"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map(d=>{const f=c[d],m=new Date(d),p=new Date(i.getTime()+720*60*60*1e3);let g="bg-green-50",b="bg-green-100 text-green-800",y="Safe";return m<i?(g="bg-red-50",b="bg-red-100 text-red-800",y="Expired"):m<p&&(g="bg-yellow-50",b="bg-yellow-100 text-yellow-800",y="Near Expiry"),a.jsxs("tr",{className:g,children:[a.jsx("td",{className:"px-6 py-4 text-sm font-semibold text-gray-900",children:d}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:a.jsx("div",{className:"space-y-1",children:f.items.map((N,j)=>a.jsxs("div",{className:"text-xs",children:[N.batch_code," - ",N.qty," units"]},j))})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${b}`,children:y})})]},d)})})]})})]})},D$=({adjustmentForm:e,setAdjustmentForm:t,adjustments:r,setAdjustments:n,items:s,batches:i})=>{const[c,u]=v.useState(r||[]),[d,f]=v.useState(!1),m=Dl();v.useEffect(()=>{(async()=>{try{const b=await Es.getAdjustments();u(b),n&&n(b)}catch(b){console.error("Error loading adjustments:",b)}})()},[]);const p=async()=>{if(e.itemId&&e.currentQty&&e.physicalQty){f(!0);try{const g=s.find(_=>_.product_id===parseInt(e.itemId)),b=i.find(_=>_.batch_id===parseInt(e.batchId)),y={product_id:parseInt(e.itemId),batch_id:e.batchId?parseInt(e.batchId):null,adjustment_type:e.adjustmentType,quantity_change:parseInt(e.physicalQty)-parseInt(e.currentQty),reason_code:e.reason,notes:`Approved by ${e.approvedBy}`,approved_by:e.approvedBy},j={...await Es.createAdjustment(y),itemName:g?.name||"",batchNumber:b?.batch_code||"",previousQty:parseInt(e.currentQty),currentQty:parseInt(e.physicalQty)},S=[...c,j];u(S),n&&n(S),t({itemId:"",batchId:"",currentQty:"",physicalQty:"",adjustmentType:"Increase",reason:"Audit",approvedBy:""})}catch(g){console.error("Error creating adjustment:",g),alert("Failed to create adjustment")}finally{f(!1)}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Stock Adjustment"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fix stock mismatches between system and physical count"})]}),a.jsxs("form",{className:"bg-white rounded-lg border border-gray-200 p-6",onKeyDown:m,children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Stock Adjustment"}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Item"}),a.jsxs("select",{value:e.itemId,onChange:g=>t({...e,itemId:g.target.value}),className:"w-full",children:[a.jsx("option",{value:"",children:"Select Item"}),s.map(g=>a.jsx("option",{value:g.product_id,children:g.name},g.product_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),a.jsxs("select",{value:e.batchId,onChange:g=>t({...e,batchId:g.target.value}),className:"w-full",children:[a.jsx("option",{value:"",children:"Select Batch"}),i.filter(g=>!e.itemId||g.product_id===parseInt(e.itemId)).map(g=>a.jsx("option",{value:g.batch_id,children:g.batch_code},g.batch_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current System Qty"}),a.jsx("input",{value:e.currentQty,onChange:g=>t({...e,currentQty:g.target.value}),type:"number",placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Physical Count Qty"}),a.jsx("input",{value:e.physicalQty,onChange:g=>t({...e,physicalQty:g.target.value}),type:"number",placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adjustment Type"}),a.jsxs("select",{value:e.adjustmentType,onChange:g=>t({...e,adjustmentType:g.target.value}),className:"w-full",children:[a.jsx("option",{value:"Increase",children:"Increase"}),a.jsx("option",{value:"Decrease",children:"Decrease"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason"}),a.jsxs("select",{value:e.reason,onChange:g=>t({...e,reason:g.target.value}),className:"w-full",children:[a.jsx("option",{value:"Damage",children:"Damage"}),a.jsx("option",{value:"Loss",children:"Loss"}),a.jsx("option",{value:"Audit",children:"Audit"})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Approved By"}),a.jsx("input",{value:e.approvedBy,onChange:g=>t({...e,approvedBy:g.target.value}),type:"text",placeholder:"Enter name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),a.jsx("button",{type:"button",onClick:p,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"Add Adjustment"})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Batch"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Previous Qty"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Current Qty"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Reason"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Approved By"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Date"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(g=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:g.itemName}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:g.batchNumber}),a.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:g.previousQty}),a.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:g.currentQty}),a.jsx("td",{className:"px-6 py-4 text-sm",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g.adjustmentType==="Increase"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:g.adjustmentType})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.reason}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.approvedBy}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.date})]},g.id))})]})})]})},I$=({damageForm:e,setDamageForm:t,damageEntries:r,setDamageEntries:n,items:s,batches:i})=>{const[c,u]=v.useState(r||[]),[d,f]=v.useState(!1),m=Dl();v.useEffect(()=>{(async()=>{try{const b=await Es.getDamages();u(b),n&&n(b)}catch(b){console.error("Error loading damages:",b)}})()},[]);const p=async()=>{if(e.product_id&&e.quantity&&e.reason){f(!0);try{const g=s.find(_=>_.product_id===parseInt(e.product_id)),b=i.find(_=>_.batch_id===parseInt(e.batch_id)),y={product_id:parseInt(e.product_id),batch_id:e.batch_id?parseInt(e.batch_id):null,damage_quantity:parseInt(e.quantity),damage_type:e.reason,notes:e.note,damage_date:e.date||new Date().toISOString().split("T")[0]},j={...await Es.createDamage(y),product_name:g?.name||"",batch_code:b?.batch_code||""},S=[...c,j];u(S),n&&n(S),t({product_id:"",batch_id:"",quantity:"",reason:"",date:"",note:""})}catch(g){console.error("Error creating damage entry:",g),alert("Failed to create damage entry")}finally{f(!1)}}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Damage / Wastage Entry"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Log damaged or wasted stock"})]}),a.jsxs("form",{className:"bg-white rounded-lg border border-gray-200 p-6",onKeyDown:m,children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add Damage Entry"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product"}),a.jsxs("select",{value:e.product_id,onChange:g=>t({...e,product_id:g.target.value}),className:"w-full",children:[a.jsx("option",{value:"",children:"Select Product"}),s.map(g=>a.jsx("option",{value:g.product_id,children:g.name},g.product_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),a.jsxs("select",{value:e.batch_id,onChange:g=>t({...e,batch_id:g.target.value}),className:"w-full",children:[a.jsx("option",{value:"",children:"Select Batch"}),i.filter(g=>!e.product_id||g.product_id===parseInt(e.product_id)).map(g=>a.jsx("option",{value:g.batch_id,children:g.batch_code},g.batch_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),a.jsx("input",{value:e.quantity,onChange:g=>t({...e,quantity:g.target.value}),type:"number",placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason"}),a.jsxs("select",{value:e.reason,onChange:g=>t({...e,reason:g.target.value}),className:"w-full",children:[a.jsx("option",{value:"",children:"Select Reason"}),a.jsx("option",{value:"Breakage",children:"Breakage"}),a.jsx("option",{value:"Expiry",children:"Expiry"}),a.jsx("option",{value:"Spillage",children:"Spillage"}),a.jsx("option",{value:"Other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),a.jsx("input",{value:e.date,onChange:g=>t({...e,date:g.target.value}),type:"date",className:"w-full"})]}),a.jsx("div",{})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supporting Note"}),a.jsx("textarea",{value:e.note,onChange:g=>t({...e,note:g.target.value}),placeholder:"Enter details...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg",rows:"2"})]}),a.jsx("button",{type:"button",onClick:p,disabled:d,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Creating...":"Log Damage Entry"})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Batch"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Reason"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Note"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(g=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:g.product_name}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:g.batch_code}),a.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-red-600",children:g.quantity}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.reason}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.date}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:g.note})]},g.id))})]})})]})},M$=({transferForm:e,setTransferForm:t,transfers:r,setTransfers:n,branches:s,items:i,batches:c})=>{const[u,d]=v.useState(r||[]),[f,m]=v.useState(!1),[p,g]=v.useState(!1);Dl(),v.useEffect(()=>{(async()=>{try{const k=await Es.getTransfers();d(k),n&&n(k)}catch(k){console.error("Error loading transfers:",k)}})()},[]);const b=async()=>{try{const E=await Es.getTransfers();d(E),n&&n(E)}catch(E){console.error("Error refreshing transfers:",E)}},y=async(E=!1)=>{if(e.fromBranch&&e.toBranch&&e.product_id&&e.quantity){m(!0);try{const k=i.find(F=>F.product_id===parseInt(e.product_id)),T=c.find(F=>F.batch_id===parseInt(e.batch_id)),D=JSON.parse(localStorage.getItem("user")||"{}"),M=D.userId||D.id||1,R={from_branch:e.fromBranch,to_branch:e.toBranch,product_id:parseInt(e.product_id),batch_id:e.batch_id?parseInt(e.batch_id):null,quantity:parseInt(e.quantity),transfer_date:e.transferDate||new Date().toISOString().split("T")[0],remarks:e.remarks,transfer_status:E?"PENDING":"DRAFT",requested_by:M},K={...await Es.createTransfer(R),product_name:k?.name||"",batch_code:T?.batch_code||"",requestedBy:"Current User",requested_time:new Date().toISOString()},U=[...u,K];d(U),n&&n(U),t({fromBranch:"",toBranch:"",product_id:"",quantity:"",batch_id:"",transferDate:"",remarks:"",status:"Draft"}),g(!1),alert(E?"Transfer request submitted successfully":"Transfer saved as draft")}catch(k){console.error("Error creating transfer:",k),alert("Failed to create transfer")}finally{m(!1)}}else alert("Please fill all required fields")},N=E=>E?new Date(E).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}):"-",j=E=>s.find(T=>T.branch_id===parseInt(E))?.name||E,S=u.filter(E=>E.transfer_status==="DRAFT"||E.transfer_status==="PENDING"),_=u.filter(E=>E.transfer_status==="APPROVED"||E.transfer_status==="REJECTED");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{children:a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Transfer Requests"})}),a.jsxs("button",{onClick:b,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2 text-gray-700",children:[a.jsx(Sa,{size:16}),"Refresh Data"]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Transfer"}),a.jsx("button",{onClick:()=>g(!p),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:p?"Cancel":"+ New Transfer"})]})}),p&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Branch *"}),a.jsxs("select",{value:e.fromBranch,onChange:E=>t({...e,fromBranch:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Source Branch"}),s.map(E=>a.jsx("option",{value:E.branch_id,children:E.name},E.branch_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Branch *"}),a.jsxs("select",{value:e.toBranch,onChange:E=>t({...e,toBranch:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Destination Branch"}),s.filter(E=>E.branch_id!==parseInt(e.fromBranch)).map(E=>a.jsx("option",{value:E.branch_id,children:E.name},E.branch_id))]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product *"}),a.jsxs("select",{value:e.product_id,onChange:E=>t({...e,product_id:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Product"}),i.map(E=>a.jsx("option",{value:E.product_id,children:E.name},E.product_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),a.jsxs("select",{value:e.batch_id,onChange:E=>t({...e,batch_id:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Batch (Optional)"}),c.filter(E=>!e.product_id||E.product_id===parseInt(e.product_id)).map(E=>a.jsx("option",{value:E.batch_id,children:E.batch_code},E.batch_id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),a.jsx("input",{value:e.quantity,onChange:E=>t({...e,quantity:E.target.value}),type:"number",placeholder:"Enter quantity",min:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transfer Date"}),a.jsx("input",{value:e.transferDate,onChange:E=>t({...e,transferDate:E.target.value}),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),a.jsx("input",{value:e.remarks,onChange:E=>t({...e,remarks:E.target.value}),type:"text",placeholder:"Enter remarks (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>y(!1),disabled:f,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:f?"Saving...":"Save as Draft"}),a.jsx("button",{onClick:()=>y(!0),disabled:f,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:f?"Submitting...":"Submit Request"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pending Requests"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Reference"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"From  To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:S.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[a.jsx(ks,{size:48,className:"mb-3 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No pending requests found"})]})})}):S.map((E,k)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:"Transfer Out"}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600 font-mono",children:["#",E.transfer_id||"N/A"]}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[j(E.from_branch),"  ",j(E.to_branch)]}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:E.product_name}),a.jsx("td",{className:"px-6 py-4 text-center text-sm font-mono font-semibold text-gray-900",children:E.quantity}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:N(E.requested_time||E.transfer_date)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${E.transfer_status==="DRAFT"?"bg-gray-100 text-gray-700":"bg-yellow-100 text-yellow-700"}`,children:E.transfer_status||"Draft"})})]},E.transfer_id||k))})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center gap-2",children:[a.jsx(ks,{size:20,className:"text-gray-600"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Request History"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Reference"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"From  To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Requested Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Processed Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 bg-white",children:_.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[a.jsx(Xr,{size:48,className:"mb-3 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No completed requests found"})]})})}):_.map((E,k)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:"Transfer Out"}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600 font-mono",children:["#",E.transfer_id||"N/A"]}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600",children:[j(E.from_branch),"  ",j(E.to_branch)]}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:E.product_name}),a.jsx("td",{className:"px-6 py-4 text-center text-sm font-mono font-semibold text-gray-900",children:E.quantity}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:N(E.requested_time||E.transfer_date)}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:N(E.approved_time||E.transfer_date)}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${E.transfer_status==="APPROVED"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:E.transfer_status})})]},E.transfer_id||k))})]})})]})]})},B$=({stockTransfers:e,branches:t})=>{const[r,n]=v.useState(e||[]),[s,i]=v.useState(!0);v.useEffect(()=>{c()},[]);const c=async()=>{try{const f=await Es.getPendingTransfers();n(f)}catch(f){console.error("Error loading pending transfers:",f)}finally{i(!1)}},u=async f=>{try{await Es.approveTransfer(f),await c(),alert("Transfer approved successfully")}catch(m){console.error("Error approving transfer:",m),alert("Failed to approve transfer")}},d=async f=>{const m=prompt("Enter rejection reason:");if(m)try{await Es.rejectTransfer(f,m),await c(),alert("Transfer rejected")}catch(p){console.error("Error rejecting transfer:",p),alert("Failed to reject transfer")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Transfer Approval"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve stock transfers"})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Transfer ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"From"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Items"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(f=>{const m=t?.find(g=>g.branch_id===f.fromBranch)?.name||"Unknown",p=t?.find(g=>g.branch_id===f.toBranch)?.name||"Unknown";return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-900",children:f.id}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:m}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:p}),a.jsxs("td",{className:"px-6 py-4 text-sm text-gray-900",children:[f.product_name," x ",f.quantity]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:f.date}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${sP(f.status)}`,children:f.status})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:[f.status==="Pending"&&a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>u(f.transfer_id||f.id),className:"px-3 py-1.5 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Approve"}),a.jsx("button",{onClick:()=>d(f.transfer_id||f.id),className:"px-3 py-1.5 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"Reject"})]}),f.status!=="Pending"&&a.jsx("button",{className:"px-3 py-1.5 bg-gray-100 text-gray-700 text-sm rounded hover:bg-gray-200",children:"View Details"})]})]},f.id)})})]})})]})},z$=({batches:e,items:t})=>{const[r,n]=v.useState("FIFO"),i=(d=>e.map(f=>{const p=t.find(b=>b.product_id===f.product_id)?.cost_price||0,g=f.qty*p;return{...f,costPerUnit:p,totalCost:g}}))(),c=i.reduce((d,f)=>d+f.totalCost,0),u=()=>{const d=[["Item","Batch Code","Quantity","Cost/Unit","Total Value"],...i.map(g=>[t.find(b=>b.product_id===g.product_id)?.name||"Unknown",g.batch_code,g.qty,g.costPerUnit.toFixed(2),g.totalCost.toFixed(2)]),["","","","Total:",c.toFixed(2)]].map(g=>g.join(",")).join(`
`),f=new Blob([d],{type:"text/csv"}),m=window.URL.createObjectURL(f),p=document.createElement("a");p.href=m,p.download="stock-valuation-report.csv",p.click()};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Stock Valuation Report"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Calculate inventory value using different methods"})]}),a.jsxs("button",{onClick:u,className:"px-4 py-2 bg-brand-primary text-white rounded-lg flex items-center gap-2 hover:bg-brand-secondary transition-colors",children:[a.jsx(Yl,{size:20}),"Export Report"]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Valuation Method:"}),a.jsx("div",{className:"flex gap-2",children:["FIFO","Weighted Average"].map(d=>a.jsx("button",{onClick:()=>n(d),className:`px-4 py-2 rounded-lg ${r===d?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:d},d))})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-blue-600 font-semibold",children:"Method"}),a.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-2",children:r})]}),a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-green-600 font-semibold",children:"Total Items"}),a.jsx("p",{className:"text-2xl font-bold text-green-700 mt-2",children:i.length})]}),a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-purple-600 font-semibold",children:"Total Value"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-700 mt-2",children:["LKR ",(c/1e3).toFixed(1),"k"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Batch"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Cost/Unit"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase",children:"Total Value"})]})}),a.jsxs("tbody",{className:"divide-y divide-gray-200",children:[i.map(d=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:t.find(f=>f.product_id===d.product_id)?.name||"Unknown"}),a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:d.batch_code}),a.jsx("td",{className:"px-6 py-4 text-center text-sm font-mono",children:d.qty}),a.jsxs("td",{className:"px-6 py-4 text-right text-sm font-mono",children:["LKR ",d.costPerUnit.toFixed(2)]}),a.jsxs("td",{className:"px-6 py-4 text-right text-sm font-semibold text-gray-900",children:["LKR ",d.totalCost.toFixed(2)]})]},d.batch_id)),a.jsxs("tr",{className:"bg-gray-50 font-semibold",children:[a.jsx("td",{colSpan:"4",className:"px-6 py-4 text-right text-sm",children:"Total Valuation:"}),a.jsxs("td",{className:"px-6 py-4 text-right text-sm",children:["LKR ",c.toFixed(2)]})]})]})]})})]})},F$=({batches:e})=>{const t=new Date("2026-01-11"),r=i=>{const c=Math.floor((t-new Date(i))/864e5);return c<=30?"0-30 days":c<=60?"31-60 days":c<=90?"61-90 days":"90+ days"},n=e.map(i=>({...i,daysInStock:Math.floor((t-new Date(i.manufacturing_date))/(1e3*60*60*24)),agingBucket:r(i.manufacturing_date)})),s={"0-30 days":0,"31-60 days":0,"61-90 days":0,"90+ days":0};return n.forEach(i=>s[i.agingBucket]++),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-800 to-blue-500 drop-shadow-sm",children:"Stock Aging Report"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Identify dead stock and optimize purchasing decisions"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-green-600 font-semibold",children:"0-30 Days"}),a.jsx("p",{className:"text-2xl font-bold text-green-700 mt-2",children:s["0-30 days"]})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-yellow-600 font-semibold",children:"31-60 Days"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-700 mt-2",children:s["31-60 days"]})]}),a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-orange-600 font-semibold",children:"61-90 Days"}),a.jsx("p",{className:"text-2xl font-bold text-orange-700 mt-2",children:s["61-90 days"]})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("p",{className:"text-sm text-red-600 font-semibold",children:"90+ Days"}),a.jsx("p",{className:"text-2xl font-bold text-red-700 mt-2",children:s["90+ days"]})]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Batch Code"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Mfg Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Expiry Date"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Days in Stock"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase",children:"Quantity"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase",children:"Aging Bucket"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:n.map(i=>{let c="bg-green-100 text-green-700";return i.agingBucket==="31-60 days"&&(c="bg-yellow-100 text-yellow-700"),i.agingBucket==="61-90 days"&&(c="bg-orange-100 text-orange-700"),i.agingBucket==="90+ days"&&(c="bg-red-100 text-red-700"),a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 text-sm font-mono text-gray-600",children:i.batch_code}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:i.manufacturing_date}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:i.expiry_date}),a.jsx("td",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:i.daysInStock}),a.jsx("td",{className:"px-6 py-4 text-center text-sm font-mono",children:i.qty}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${c}`,children:i.agingBucket})})]},i.batch_id)})})]})})]})},U$=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:i="Confirm",cancelText:c="Cancel",type:u="danger"})=>{if(!e)return null;const d={danger:{icon:"text-red-600",iconBg:"bg-red-100",button:"bg-red-600 hover:bg-red-700"},warning:{icon:"text-yellow-600",iconBg:"bg-yellow-100",button:"bg-yellow-600 hover:bg-yellow-700"},info:{icon:"text-blue-600",iconBg:"bg-blue-100",button:"bg-blue-600 hover:bg-blue-700"}},f=d[u]||d.danger;return a.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 animate-in fade-in duration-200",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"flex items-start gap-4 p-6 pb-4",children:[a.jsx("div",{className:`${f.iconBg} p-3 rounded-full flex-shrink-0`,children:a.jsx(ra,{className:f.icon,size:24,strokeWidth:2.5})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:n}),a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors flex-shrink-0",children:a.jsx(Qt,{size:20})})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-gray-50 rounded-b-xl",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:c}),a.jsx("button",{onClick:()=>{r(),t()},className:`px-4 py-2 text-sm font-medium text-white rounded-lg transition-colors ${f.button}`,children:i})]})]})]})},q$=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,placeholder:i="",confirmText:c="Submit",cancelText:u="Cancel"})=>{const[d,f]=v.useState("");if(!e)return null;const m=()=>{d.trim()&&(r(d),t(),f(""))};return a.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center p-4 animate-in fade-in duration-200",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full animate-in zoom-in-95 duration-200",children:[a.jsxs("div",{className:"p-6 pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(Qt,{size:20})})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:s}),a.jsx("input",{type:"text",value:d,onChange:p=>f(p.target.value),onKeyDown:p=>p.key==="Enter"&&m(),placeholder:i,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",autoFocus:!0})]}),a.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 bg-gray-50 rounded-b-xl",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:u}),a.jsx("button",{onClick:m,disabled:!d.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c})]})]})]})},$$=()=>{const{notifications:e,removeNotification:t,confirmDialog:r,promptDialog:n,closeConfirmDialog:s,closePromptDialog:i}=iy(),c=u=>{switch(u){case"success":return{container:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",icon:"text-green-600",text:"text-green-800",progress:"bg-green-500",IconComponent:Xr};case"error":return{container:"bg-gradient-to-r from-red-50 to-rose-50 border-red-200",icon:"text-red-600",text:"text-red-800",progress:"bg-red-500",IconComponent:Hd};case"warning":return{container:"bg-gradient-to-r from-yellow-50 to-amber-50 border-yellow-200",icon:"text-yellow-600",text:"text-yellow-800",progress:"bg-yellow-500",IconComponent:ra};default:return{container:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",icon:"text-blue-600",text:"text-blue-800",progress:"bg-blue-500",IconComponent:Z0}}};return a.jsxs(a.Fragment,{children:[e.length>0&&a.jsx("div",{className:"fixed top-20 right-6 z-[9999] flex flex-col gap-3 pointer-events-none",children:e.map(u=>{const d=c(u.type),f=d.IconComponent;return a.jsxs("div",{className:`${d.container} pointer-events-auto min-w-[320px] max-w-md border-l-4 rounded-lg shadow-lg backdrop-blur-sm animate-in slide-in-from-right-5 fade-in duration-300`,children:[a.jsxs("div",{className:"p-4 flex items-start gap-3",children:[a.jsx("div",{className:`${d.icon} flex-shrink-0 mt-0.5`,children:a.jsx(f,{size:20,strokeWidth:2.5})}),a.jsx("div",{className:`flex-1 ${d.text} text-sm font-medium leading-relaxed`,children:u.message}),a.jsx("button",{onClick:()=>t(u.id),className:`${d.icon} hover:opacity-70 transition-opacity flex-shrink-0`,children:a.jsx(Qt,{size:16})})]}),u.duration>0&&a.jsx("div",{className:"h-1 bg-white/30 rounded-b-lg overflow-hidden",children:a.jsx("div",{className:`h-full ${d.progress} animate-shrink-width`,style:{animation:`shrinkWidth ${u.duration}ms linear forwards`}})})]},u.id)})}),a.jsx(U$,{isOpen:r.isOpen,onClose:s,onConfirm:r.onConfirm||(()=>{}),title:r.title,message:r.message,type:r.type}),a.jsx(q$,{isOpen:n.isOpen,onClose:i,onConfirm:n.onConfirm||(()=>{}),title:n.title,message:n.message,placeholder:n.placeholder}),a.jsx("style",{jsx:!0,children:`
                @keyframes shrinkWidth {
                    from {
                        width: 100%;
                    }
                    to {
                        width: 0%;
                    }
                }
                .animate-shrink-width {
                    animation: shrinkWidth linear forwards;
                }
            `})]})},oP=6048e5,H$=864e5,O6=Symbol.for("constructDateFrom");function Wu(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&O6 in e?e[O6](t):e instanceof Date?new e.constructor(t):new Date(t)}function rl(e,t){return Wu(t||e,e)}let G$={};function oy(){return G$}function k0(e,t){const r=oy(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=rl(e,t?.in),i=s.getDay(),c=(i<n?7:0)+i-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Vg(e,t){return k0(e,{...t,weekStartsOn:1})}function lP(e,t){const r=rl(e,t?.in),n=r.getFullYear(),s=Wu(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Vg(s),c=Wu(r,0);c.setFullYear(n,0,4),c.setHours(0,0,0,0);const u=Vg(c);return r.getTime()>=i.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function P6(e){const t=rl(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function K$(e,...t){const r=Wu.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function L6(e,t){const r=rl(e,t?.in);return r.setHours(0,0,0,0),r}function V$(e,t,r){const[n,s]=K$(r?.in,e,t),i=L6(n),c=L6(s),u=+i-P6(i),d=+c-P6(c);return Math.round((u-d)/H$)}function W$(e,t){const r=lP(e,t),n=Wu(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Vg(n)}function Y$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function X$(e){return!(!Y$(e)&&typeof e!="number"||isNaN(+rl(e)))}function Q$(e,t){const r=rl(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Z$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},J$=(e,t,r)=>{let n;const s=Z$[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function P1(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const eH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nH={date:P1({formats:eH,defaultWidth:"full"}),time:P1({formats:tH,defaultWidth:"full"}),dateTime:P1({formats:rH,defaultWidth:"full"})},aH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sH=(e,t,r,n)=>aH[e];function e0(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=r?.width?String(r.width):c;s=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=r?.width?String(r.width):e.defaultWidth;s=e.values[u]||e.values[c]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const iH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fH=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hH={ordinalNumber:fH,era:e0({values:iH,defaultWidth:"wide"}),quarter:e0({values:oH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:e0({values:lH,defaultWidth:"wide"}),day:e0({values:cH,defaultWidth:"wide"}),dayPeriod:e0({values:uH,defaultWidth:"wide",formattingValues:dH,defaultFormattingWidth:"wide"})};function t0(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const c=i[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?pH(u,p=>p.test(c)):mH(u,p=>p.test(c));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(c.length);return{value:f,rest:m}}}function mH(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function pH(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function xH(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let c=e.valueCallback?e.valueCallback(i[0]):i[0];c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(s.length);return{value:c,rest:u}}}const gH=/^(\d+)(th|st|nd|rd)?/i,bH=/\d+/i,yH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vH={any:[/^b/i,/^(a|c)/i]},wH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NH={any:[/1/i,/2/i,/3/i,/4/i]},jH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},AH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_H={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},CH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},EH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kH={ordinalNumber:xH({matchPattern:gH,parsePattern:bH,valueCallback:e=>parseInt(e,10)}),era:t0({matchPatterns:yH,defaultMatchWidth:"wide",parsePatterns:vH,defaultParseWidth:"any"}),quarter:t0({matchPatterns:wH,defaultMatchWidth:"wide",parsePatterns:NH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:t0({matchPatterns:jH,defaultMatchWidth:"wide",parsePatterns:SH,defaultParseWidth:"any"}),day:t0({matchPatterns:AH,defaultMatchWidth:"wide",parsePatterns:_H,defaultParseWidth:"any"}),dayPeriod:t0({matchPatterns:CH,defaultMatchWidth:"any",parsePatterns:EH,defaultParseWidth:"any"})},OH={code:"en-US",formatDistance:J$,formatLong:nH,formatRelative:sH,localize:hH,match:kH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PH(e,t){const r=rl(e,t?.in);return V$(r,Q$(r))+1}function LH(e,t){const r=rl(e,t?.in),n=+Vg(r)-+W$(r);return Math.round(n/oP)+1}function cP(e,t){const r=rl(e,t?.in),n=r.getFullYear(),s=oy(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,c=Wu(t?.in||e,0);c.setFullYear(n+1,0,i),c.setHours(0,0,0,0);const u=k0(c,t),d=Wu(t?.in||e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const f=k0(d,t);return+r>=+u?n+1:+r>=+f?n:n-1}function TH(e,t){const r=oy(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=cP(e,t),i=Wu(t?.in||e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),k0(i,t)}function RH(e,t){const r=rl(e,t?.in),n=+k0(r,t)-+TH(r,t);return Math.round(n/oP)+1}function Mr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Du={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mr(r+1,2)},d(e,t){return Mr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mr(e.getHours()%12||12,t.length)},H(e,t){return Mr(e.getHours(),t.length)},m(e,t){return Mr(e.getMinutes(),t.length)},s(e,t){return Mr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Mr(s,t.length)}},ph={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},T6={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Du.y(e,t)},Y:function(e,t,r,n){const s=cP(e,n),i=s>0?s:1-s;if(t==="YY"){const c=i%100;return Mr(c,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Mr(i,t.length)},R:function(e,t){const r=lP(e);return Mr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Du.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=RH(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mr(s,t.length)},I:function(e,t,r){const n=LH(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Du.d(e,t)},D:function(e,t,r){const n=PH(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Mr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Mr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Mr(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=ph.noon:n===0?s=ph.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=ph.evening:n>=12?s=ph.afternoon:n>=4?s=ph.morning:s=ph.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Du.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Du.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Du.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Du.s(e,t)},S:function(e,t){return Du.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return D6(n);case"XXXX":case"XX":return Rd(n);default:return Rd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return D6(n);case"xxxx":case"xx":return Rd(n);default:return Rd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+R6(n,":");default:return"GMT"+Rd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+R6(n,":");default:return"GMT"+Rd(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Mr(n,t.length)},T:function(e,t,r){return Mr(+e,t.length)}};function R6(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+Mr(i,2)}function D6(e,t){return e%60===0?(e>0?"-":"+")+Mr(Math.abs(e)/60,2):Rd(e,t)}function Rd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Mr(Math.trunc(n/60),2),i=Mr(n%60,2);return r+s+t+i}const I6=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},uP=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},DH=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return I6(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",I6(n,t)).replace("{{time}}",uP(s,t))},IH={p:uP,P:DH},MH=/^D+$/,BH=/^Y+$/,zH=["D","DD","YY","YYYY"];function FH(e){return MH.test(e)}function UH(e){return BH.test(e)}function qH(e,t,r){const n=$H(e,t,r);if(console.warn(n),zH.includes(e))throw new RangeError(n)}function $H(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KH=/^'([^]*?)'?$/,VH=/''/g,WH=/[a-zA-Z]/;function YH(e,t,r){const n=oy(),s=n.locale??OH,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,c=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=rl(e,r?.in);if(!X$(u))throw new RangeError("Invalid time value");let d=t.match(GH).map(m=>{const p=m[0];if(p==="p"||p==="P"){const g=IH[p];return g(m,s.formatLong)}return m}).join("").match(HH).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:XH(m)};if(T6[p])return{isToken:!0,value:m};if(p.match(WH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const f={firstWeekContainsDate:i,weekStartsOn:c,locale:s};return d.map(m=>{if(!m.isToken)return m.value;const p=m.value;(UH(p)||FH(p))&&qH(p,t,String(e));const g=T6[p[0]];return g(u,p,s.localize,f)}).join("")}function XH(e){const t=e.match(KH);return t?t[1].replace(VH,"'"):e}function QH(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState("ALL"),[c,u]=v.useState("ALL");v.useEffect(()=>{d()},[s,c]);const d=async()=>{n(!0);try{const m=f();t(m)}catch(m){console.error("Error fetching activity logs:",m)}finally{n(!1)}},f=()=>{const m=[{type:"STOCK_IN",label:"Stock Received",icon:X0,color:"text-emerald-500",bg:"bg-emerald-50"},{type:"STOCK_OUT",label:"Stock Sold",icon:Gc,color:"text-blue-500",bg:"bg-blue-50"},{type:"ADJUSTMENT",label:"Stock Adjustment",icon:Cs,color:"text-orange-500",bg:"bg-orange-50"},{type:"UPDATE",label:"Item Updated",icon:lo,color:"text-indigo-500",bg:"bg-indigo-50"},{type:"CREATE",label:"New Item Added",icon:Oi,color:"text-green-500",bg:"bg-green-50"},{type:"DELETE",label:"Item Deleted",icon:ni,color:"text-red-500",bg:"bg-red-50"}];return Array(20).fill(null).map((p,g)=>{const b=m[Math.floor(Math.random()*m.length)],y=new Date;return y.setHours(y.getHours()-Math.floor(Math.random()*48*g)),{id:`LOG-${1e3+g}`,type:b.type,actionConfig:b,message:`${b.label}: Item #${2e3+g} - "Sample Product ${g+1}"`,user:"Admin User",timestamp:y,details:"Quantity changed from 50 to 45"}}).sort((p,g)=>g.timestamp-p.timestamp)};return a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Fh,{className:"w-6 h-6 text-brand-primary"}),"Activity Log"]}),a.jsx("p",{className:"text-slate-500",children:"Track all inventory movements and updates"})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-slate-200 rounded-lg text-slate-600 hover:bg-slate-50 font-medium text-sm transition-colors",children:[a.jsx(Yl,{size:16}),"Export"]})})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600 text-sm font-medium",children:[a.jsx(vN,{size:16}),"Filters:"]}),a.jsxs("select",{value:s,onChange:m=>i(m.target.value),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20",children:[a.jsx("option",{value:"ALL",children:"All Activities"}),a.jsx("option",{value:"STOCK_IN",children:"Stock In"}),a.jsx("option",{value:"STOCK_OUT",children:"Stock Out"}),a.jsx("option",{value:"ADJUSTMENT",children:"Adjustments"}),a.jsx("option",{value:"UPDATE",children:"Updates"}),a.jsx("option",{value:"CREATE",children:"Creates"})]}),a.jsxs("select",{value:c,onChange:m=>u(m.target.value),className:"px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/20",children:[a.jsx("option",{value:"ALL",children:"All Time"}),a.jsx("option",{value:"TODAY",children:"Today"}),a.jsx("option",{value:"7DAYS",children:"Last 7 Days"}),a.jsx("option",{value:"30DAYS",children:"Last 30 Days"})]})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:r?a.jsx("div",{className:"p-8 text-center text-slate-500",children:"Loading logs..."}):a.jsxs("div",{className:"divide-y divide-slate-100",children:[e.map(m=>{const p=m.actionConfig.icon;return a.jsxs("div",{className:"p-4 hover:bg-slate-50 transition-colors flex items-start gap-4",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${m.actionConfig.bg} ${m.actionConfig.color}`,children:a.jsx(p,{size:18})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"font-semibold text-slate-800 text-sm",children:m.message}),a.jsx("span",{className:"text-xs text-slate-400 whitespace-nowrap",children:YH(m.timestamp,"MMM d, yyyy h:mm a")})]}),a.jsx("p",{className:"text-sm text-slate-500 mb-1",children:m.details}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[a.jsxs("span",{className:"flex items-center gap-1 bg-slate-100 px-2 py-0.5 rounded-full text-slate-500 font-medium",children:["User: ",m.user]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["ID: ",m.id]})]})]})]},m.id)}),e.length===0&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Fh,{className:"w-12 h-12 text-slate-300 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"No activity logs found"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Try adjusting your filters"})]})]})})]})}const ZH=({branchName:e,userRole:t,userName:r,goToDashboard:n,handleLogout:s})=>{const[i,c]=v.useState(new Date);return v.useEffect(()=>{const u=setInterval(()=>{c(new Date)},1e3);return()=>clearInterval(u)},[]),a.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-6 gap-4 shrink-0 shadow-sm",children:[a.jsxs("div",{className:"flex flex-col flex-1",children:[a.jsx("h1",{className:"font-bold text-lg text-slate-800",children:"Inventory Management"}),a.jsx("span",{className:"text-xs text-slate-500",children:e})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[(t==="ADMIN"||t==="BRANCH_MANAGER")&&a.jsxs("button",{onClick:n,className:"group flex items-center gap-2 px-3 py-2 bg-slate-100 hover:bg-blue-50 rounded-lg text-sm font-medium transition-all duration-300 hover:shadow-[0_0_15px_rgba(59,130,246,0.3)] hover:border hover:border-blue-200",children:[a.jsx(wN,{size:16,className:"text-slate-600 group-hover:text-blue-600 transition-colors"}),a.jsx("span",{className:"hidden sm:inline text-slate-700 group-hover:text-blue-700 transition-colors",children:"Dashboard"})]}),a.jsxs("div",{className:"text-right leading-tight",children:[a.jsx("div",{className:"font-mono text-lg font-bold tracking-wider text-slate-700",children:i.toLocaleTimeString("en-US",{hour12:!1})}),a.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:i.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}).toUpperCase()})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-3 px-4 py-2 bg-white/80 backdrop-blur-md rounded-full border border-blue-100 shadow-[0_0_15px_rgba(59,130,246,0.15)] hover:shadow-[0_0_20px_rgba(59,130,246,0.25)] transition-all duration-300 group cursor-default",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-600 to-indigo-600 flex items-center justify-center text-white text-xs font-bold shadow-md transform group-hover:scale-110 transition-transform duration-300 ring-2 ring-blue-100",children:r.charAt(0).toUpperCase()}),a.jsx("span",{className:"text-sm font-semibold text-slate-700 group-hover:text-blue-700 transition-colors",children:r})]}),a.jsxs("button",{onClick:s,className:"group relative overflow-hidden flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 hover:border-red-100 text-slate-700 hover:text-red-600 rounded-xl transition-all duration-300 shadow-sm hover:shadow-md hover:-translate-y-0.5",children:[a.jsx("div",{className:"absolute inset-0 bg-red-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx(ef,{size:18,className:"relative z-10 transition-transform duration-300 group-hover:scale-110 group-hover:-translate-x-0.5"}),a.jsx("span",{className:"relative z-10 hidden sm:inline text-sm font-semibold",children:"Sign Out"})]})]})]})},JH=Ju.memo(ZH),eG=()=>{const e=Vl(),[t,r]=v.useState("item-list"),{success:n,error:s,warning:i,info:c,confirm:u}=iy(),d=Dl(),f=Dl(),m=Dl(),p=Dl(),g=localStorage.getItem("user");let b="User",y="Staff",N="Main Branch";if(g)try{const Pe=JSON.parse(g);b=Pe.username||Pe.name||"User",y=Pe.role||Pe.userRole||"Staff",N=Pe.branchName||"Main Branch"}catch{}const j=async()=>{await u("Sign Out","Are you sure you want to sign out?","danger")&&(localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login"))},S=()=>{const Pe=localStorage.getItem("user");if(Pe)try{const lt=JSON.parse(Pe),St=(lt.role||lt.userRole||"").toUpperCase();e(St==="ADMIN"?"/admin":St==="BRANCH_MANAGER"?"/manager":"/pos")}catch{e("/pos")}else e("/login")};v.useEffect(()=>{(async()=>{console.log("=== Inventory API called ==="),console.log("[InventorySystem] Starting to load inventory data...");try{console.log("[InventorySystem] Calling Promise.all for products, categories, brands, suppliers, subcategories, branches");const[lt,St,on,Di,Ds,ln]=await Promise.all([Lr.getProducts(),Lr.getCategories(),Lr.getBrands(),Lr.getSuppliers(),Lr.getSubCategories(),Lr.getBranches().catch(Wn=>(console.warn("Failed to fetch branches, using empty list:",Wn),[]))]);console.log("[InventorySystem] Data received:",{products:lt?.length||0,categories:St?.length||0,brands:on?.length||0,suppliers:Di?.length||0,branches:ln?.length||0});const ol=JSON.parse(localStorage.getItem("category_metadata")||"{}"),Ga=St.map(Wn=>({...Wn,icon:ol[Wn.category_id]?.icon||Wn.icon||"Tag",color:ol[Wn.category_id]?.color||Wn.color||"blue"})),is=JSON.parse(localStorage.getItem("brand_metadata")||"{}"),li=on.map(Wn=>({...Wn,icon:is[Wn.brand_id]?.icon||Wn.icon||"Archive",color:is[Wn.brand_id]?.color||Wn.color||"blue"}));gt(lt),ae(Ga),G(li),ue(Di),be(Ds),nt(ln),console.log("[InventorySystem] State updated successfully")}catch(lt){console.error("[InventorySystem] Inventory API error:",lt),console.error("[InventorySystem] Error details:",{message:lt.message,response:lt.response,status:lt.response?.status,data:lt.response?.data}),s("Failed to load inventory data. Please refresh the page.")}})()},[]);const[_,E]=v.useState(!1),[k,T]=v.useState(!1),[D,M]=v.useState(!1),[R,B]=v.useState(""),[K,U]=v.useState(!1),[F,X]=v.useState(null),[Q,pe]=v.useState(null),[re,ue]=v.useState([]),[V,Z]=v.useState({supplier_id:"",code:"",name:"",company_name:"",contact_person:"",phone:"",mobile:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Sri Lanka",supplier_type:"LOCAL",supplier_category:"PRIMARY",is_active:!0,is_verified:!1}),[ge,G]=v.useState([]),[P,H]=v.useState({brand_id:"",name:"",description:"",is_active:!0,icon:"Archive",color:"blue"}),[$,ae]=v.useState([]),[le,be]=v.useState([]),[ce,oe]=v.useState({category_id:"",name:"",description:"",is_active:!0,icon:"Tag",color:"blue"}),[me,Ae]=v.useState(!1),[xe,Ie]=v.useState({subcategory_id:"",category_id:"",name:"",description:"",is_active:!0}),[Ve,se]=v.useState(!1),[at,Dt]=v.useState(null),xt=async()=>{if(ce.name.trim())try{const Pe=await Lr.createCategory(ce),lt=JSON.parse(localStorage.getItem("category_metadata")||"{}");lt[Pe.category_id]={icon:ce.icon,color:ce.color},localStorage.setItem("category_metadata",JSON.stringify(lt));const St={...Pe,icon:ce.icon,color:ce.color};ae([...$,St]),oe({category_id:"",name:"",description:"",is_active:!0,icon:"Tag",color:"blue"}),Ae(!1)}catch(Pe){console.error("Error creating category:",Pe),s("Failed to create category. Please try again.")}},tt=async()=>{if(xe.name.trim()&&at)try{const Pe={...xe,category_id:at},lt=await Lr.createSubCategory(Pe);be([...le,lt]),Ie({subcategory_id:"",category_id:"",name:"",description:"",is_active:!0}),se(!1),Dt(null)}catch(Pe){console.error("Error creating subcategory:",Pe),s("Failed to create subcategory. Please try again.")}},jt=async Pe=>{if(await u("Delete Subcategory","Are you sure you want to delete this subcategory? This action cannot be undone.","danger"))try{await Lr.deleteSubCategory(Pe),be(le.filter(St=>St.subcategory_id!==Pe)),n("Subcategory deleted successfully!")}catch(St){console.error("Error deleting subcategory:",St),s("Failed to delete subcategory. Please try again.")}},ut=async Pe=>{if(await u("Delete Category","Are you sure you want to delete this category? This action cannot be undone.","danger"))try{await Lr.deleteCategory(Pe);const St=JSON.parse(localStorage.getItem("category_metadata")||"{}");St[Pe]&&(delete St[Pe],localStorage.setItem("category_metadata",JSON.stringify(St))),ae($.filter(on=>on.category_id!==Pe)),n("Category deleted successfully!")}catch(St){console.error("Error deleting category:",St),s("Failed to delete category. Please try again.")}},kt=async Pe=>{if(await u("Delete Brand","Are you sure you want to delete this brand? This action cannot be undone.","danger"))try{await Lr.deleteBrand(Pe);const St=JSON.parse(localStorage.getItem("brand_metadata")||"{}");St[Pe]&&(delete St[Pe],localStorage.setItem("brand_metadata",JSON.stringify(St))),G(ge.filter(on=>on.brand_id!==Pe)),n("Brand deleted successfully!")}catch(St){console.error("Error deleting brand:",St),s("Failed to delete brand. Please try again.")}},Ct=async Pe=>{if(await u("Delete Supplier","Are you sure you want to delete this supplier? This action cannot be undone.","danger"))try{await Lr.deleteSupplier(Pe),ue(re.filter(St=>St.supplier_id!==Pe)),n("Supplier deleted successfully!")}catch(St){console.error("Error deleting supplier:",St),s("Failed to delete supplier. Please try again.")}},Gt=async Pe=>{if(await u("Delete Product","Are you sure you want to delete this product? This action cannot be undone.","danger"))try{await Lr.deleteProduct(Pe),gt(Nt.filter(St=>St.product_id!==Pe)),n("Product deleted successfully!")}catch(St){console.error("Error deleting product:",St),s("Failed to delete product. Please try again.")}},nr=Pe=>{const lt=$.find(St=>St.category_id===Pe);lt&&(oe({...lt,icon:lt.icon||"Tag",color:lt.color||"blue"}),X(Pe),pe("category"),U(!0),Ae(!0))},Ut=Pe=>{const lt=ge.find(St=>St.brand_id===Pe);lt&&(H({...lt,icon:lt.icon||"Archive",color:lt.color||"blue"}),X(Pe),pe("brand"),U(!0),M(!0))},ar=Pe=>{const lt=re.find(St=>St.supplier_id===Pe);lt&&(Z({...lt}),X(Pe),pe("supplier"),U(!0),T(!0))},Kt=Pe=>{const lt=le.find(St=>St.subcategory_id===Pe);lt&&(Ie({...lt}),X(Pe),pe("subcategory"),U(!0),se(!0))},ct=async()=>{try{if(Q==="category"&&ce.name.trim()){const Pe=await Lr.updateCategory(F,ce),lt=JSON.parse(localStorage.getItem("category_metadata")||"{}");lt[F]={icon:ce.icon,color:ce.color},localStorage.setItem("category_metadata",JSON.stringify(lt));const St={...Pe,icon:ce.icon,color:ce.color};ae($.map(on=>on.category_id===F?St:on)),U(!1),X(null),pe(null),Ae(!1)}else if(Q==="brand"&&P.name.trim()){const Pe=await Lr.updateBrand(F,P),lt=JSON.parse(localStorage.getItem("brand_metadata")||"{}");lt[F]={icon:P.icon,color:P.color},localStorage.setItem("brand_metadata",JSON.stringify(lt));const St={...Pe,icon:P.icon,color:P.color};G(ge.map(on=>on.brand_id===F?St:on)),U(!1),X(null),pe(null),M(!1)}else if(Q==="supplier"&&V.name.trim()){const Pe=await Lr.updateSupplier(F,V);ue(re.map(lt=>lt.supplier_id===F?Pe:lt)),U(!1),X(null),pe(null),T(!1)}else if(Q==="subcategory"&&xe.name.trim()){const Pe=await Lr.updateSubCategory(F,xe);be(le.map(lt=>lt.subcategory_id===F?Pe:lt)),U(!1),X(null),pe(null),se(!1)}}catch(Pe){console.error("Error updating:",Pe),s("Failed to update. Please try again.")}},[Ht,Se]=v.useState(""),[qe,Fe]=v.useState(""),[Je,Xe]=v.useState(""),[et,nt]=v.useState([]),[Nt,gt]=v.useState([]),it=[],[Et,Tt]=v.useState(""),[ht,Xt]=v.useState({itemId:"",batchId:"",currentQty:"",physicalQty:"",adjustmentType:"Increase",reason:"Audit",approvedBy:""}),[Zr,Jr]=v.useState([]),[aa,as]=v.useState({itemId:"",batchId:"",quantity:"",reason:"",date:"",note:""}),[Ot,oi]=v.useState([]),[Rs,qa]=v.useState({fromBranch:"",toBranch:"",product_id:"",quantity:"",batch_id:"",transferDate:"",remarks:"",status:"Draft"}),[$a,Ur]=v.useState([]),[gn,_n]=v.useState(null),[Ri,ha]=v.useState("summary"),[jr,qr]=v.useState(null),sa=Pe=>{const lt=Nt.find(St=>St.product_id===Pe);lt&&(qr(lt),E(!0))},Ha={},ss=[],bo=[{id:"procurement",label:"Procurement",icon:Xo,screens:[{id:"grn-mgmt",label:"GRN Management",icon:Xr}]},{id:"item-management",label:"Item Management",icon:Ln,screens:[{id:"item-list",label:"Item List",icon:Ln},{id:"item-detail",label:"Item Detail",icon:Xo},{id:"barcode-print",label:"Barcode Print",icon:tf}]},{id:"category-master",label:"Category & Master",icon:ji,screens:[{id:"category-mgmt",label:"Category Management",icon:ji},{id:"brand-mgmt",label:"Brand Management",icon:Tl},{id:"supplier-mgmt",label:"Supplier Management",icon:Tl}]},{id:"stock-ops",label:"Stock Operations",icon:b0,screens:[{id:"stock-overview",label:"Stock Overview",icon:Jd},{id:"batch-stock",label:"Batch-wise Stock",icon:Ln},{id:"expiry-calendar",label:"Expiry Calendar",icon:Kc},{id:"stock-adjustment",label:"Stock Adjustment",icon:Sa},{id:"damage-entry",label:"Damage Entry",icon:ra}]},{id:"transfers",label:"Transfers & Valuation",icon:X3,screens:[{id:"transfer-create",label:"Create Transfer",icon:X3},{id:"stock-valuation",label:"Stock Valuation",icon:co},{id:"stock-aging",label:"Stock Aging Report",icon:ks}]},{id:"logs",label:"Activity Logs",icon:Fh,screens:[{id:"activity-log",label:"Activity Log",icon:Fh}]}],gs=()=>{switch(t){case"activity-log":return a.jsx(QH,{});case"item-list":return a.jsx(d$,{items:Nt,searchQuery:R,setSearchQuery:B,setSelectedItemId:_n,setActiveScreen:r,handleDeleteItem:Gt,handleEditItem:sa,categories:$,setIsAddModalOpen:Pe=>{Pe&&qr(null),E(Pe)}});case"item-detail":return a.jsx(C$,{items:Nt,itemDetails:Ha,selectedItemId:gn,setSelectedItemId:_n,setActiveScreen:r,selectedItemTab:Ri,setSelectedItemTab:ha,batches:it,categories:$,brands:ge,subCategories:le});case"add-item":return a.jsx(k6,{setActiveScreen:r,categories:$,brands:ge,onSaved:Pe=>{gt([...Nt,Pe]),r("item-list")}});case"stock-overview":return a.jsx(L$,{items:Nt,categories:$,branches:et,stockFilterCategory:Ht,setStockFilterCategory:Se,stockFilterBranch:qe,setStockFilterBranch:Fe,stockFilterDate:Je,setStockFilterDate:Xe});case"batch-stock":return a.jsx(T$,{batches:it,items:Nt,batchFilterItem:Et,setBatchFilterItem:Tt});case"expiry-calendar":return a.jsx(R$,{batches:it});case"stock-adjustment":return a.jsx(D$,{adjustmentForm:ht,setAdjustmentForm:Xt,adjustments:Zr,setAdjustments:Jr,items:Nt,batches:it});case"damage-entry":return a.jsx(I$,{damageForm:aa,setDamageForm:as,damageEntries:Ot,setDamageEntries:oi,items:Nt,batches:it});case"category-mgmt":return a.jsx(E$,{categories:$,subCategories:le,categoryForm:ce,setCategoryForm:oe,isAddCategoryOpen:me,setIsAddCategoryOpen:Ae,handleAddCategory:xt,subCategoryForm:xe,setSubCategoryForm:Ie,isAddSubCategoryOpen:Ve,setIsAddSubCategoryOpen:se,handleAddSubCategory:tt,selectedParentCategory:at,setSelectedParentCategory:Dt,handleDeleteCategory:ut,handleEditCategory:nr,isEditMode:K&&Q==="category",handleSaveEdit:ct,handleEditSubCategory:Kt,handleDeleteSubCategory:jt});case"brand-mgmt":return a.jsx(k$,{brands:ge,setBrands:G,isAddBrandOpen:D,setIsAddBrandOpen:M,brandForm:P,setBrandForm:H,suppliers:re,handleDeleteBrand:kt,handleEditBrand:Ut,isEditMode:K&&Q==="brand",handleSaveEdit:ct});case"supplier-mgmt":return a.jsx(O$,{suppliers:re,setSuppliers:ue,isAddSupplierOpen:k,setIsAddSupplierOpen:T,supplierForm:V,setSupplierForm:Z,categories:$,handleDeleteSupplier:Ct,handleEditSupplier:ar,isEditMode:K&&Q==="supplier",handleSaveEdit:ct});case"grn-mgmt":return a.jsx(P$,{items:Nt,suppliers:re,branches:et,categories:$,subCategories:le});case"transfer-create":return a.jsx(M$,{transferForm:Rs,setTransferForm:qa,transfers:$a,setTransfers:Ur,branches:et,items:Nt,batches:it});case"approve-transfer":return a.jsx(B$,{stockTransfers:ss,branches:et});case"stock-valuation":return a.jsx(z$,{batches:it,items:Nt});case"stock-aging":return a.jsx(F$,{batches:it});case"barcode-print":return a.jsxs("div",{className:"flex flex-col items-center justify-center h-full relative overflow-hidden bg-slate-50/50",children:[a.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-[20%] left-[20%] w-72 h-72 bg-blue-400/10 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-[20%] right-[20%] w-96 h-96 bg-indigo-400/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),a.jsxs("div",{className:"relative z-10 text-center p-12 bg-white/70 backdrop-blur-xl rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-white max-w-xl mx-auto transform transition-all duration-500 hover:scale-[1.01] hover:shadow-[0_8px_30px_rgb(0,0,0,0.08)]",children:[a.jsxs("div",{className:"relative mb-8 inline-block group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-blue-500 to-indigo-600 rounded-2xl blur opacity-20 group-hover:opacity-30 transition-opacity duration-300"}),a.jsx("div",{className:"relative z-10 bg-white p-6 rounded-2xl shadow-sm border border-slate-100 group-hover:border-blue-100 transition-colors",children:a.jsx(tf,{size:48,className:"text-blue-600",strokeWidth:1.5})}),a.jsx("div",{className:"absolute -top-3 -right-3 bg-slate-900 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-lg border border-white",children:"DEV"})]}),a.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-2 tracking-tight",children:"Barcode Studio"}),a.jsx("h3",{className:"text-xl font-medium text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600 mb-6",children:"Coming Soon"}),a.jsx("p",{className:"text-slate-500 text-[15px] mb-8 leading-relaxed max-w-sm mx-auto",children:"We are building a powerful barcode generation tool. Create custom labels, support multiple formats, and print directly from your browser."}),a.jsxs("div",{className:"max-w-sm mx-auto mb-8 bg-white p-4 rounded-xl border border-slate-100 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between text-xs font-semibold text-slate-500 mb-2",children:[a.jsx("span",{children:"Development Status"}),a.jsx("span",{className:"text-blue-600",children:"In Progress"})]}),a.jsx("div",{className:"h-1.5 w-full bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full w-[65%] relative overflow-hidden",children:a.jsx("div",{className:"absolute inset-0 bg-white/30 animate-[shimmer_2s_infinite]"})})})]}),a.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-slate-100/50 rounded-full border border-slate-200/50",children:[a.jsx(ks,{size:14,className:"text-slate-400"}),a.jsx("span",{className:"text-xs font-medium text-slate-500",children:"Expected Update: Next Release"})]})]})]});default:return a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ln,{size:64,className:"text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Screen Coming Soon"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"This feature is under development"})]})})}};return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsxs("aside",{className:"w-72 shrink-0 bg-gray-900 text-white h-screen flex flex-col min-h-0",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800",children:[a.jsxs("h1",{className:"text-xl font-bold",children:["SmartRetail ",a.jsx("span",{className:"text-emerald-400",children:"Pro"})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Inventory Management"})]}),a.jsx("nav",{className:"sidebar-scroll p-4 flex-1 min-h-0 overflow-y-auto",children:bo.map(Pe=>a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:Pe.label}),a.jsx("div",{className:"mt-2 space-y-1",children:Pe.screens.map(lt=>a.jsxs("button",{onClick:()=>r(lt.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 ${t===lt.id?"bg-brand-primary text-white shadow-lg translate-x-1":"text-gray-300 hover:bg-gray-800 hover:translate-x-1 hover:text-white"}`,children:[a.jsx(lt.icon,{size:18,className:"shrink-0 transition-transform duration-200 group-hover:scale-110"}),a.jsx("span",{className:"text-sm truncate",children:lt.label})]},lt.id))})]},Pe.id))})]}),a.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[a.jsx(JH,{branchName:N,userRole:y,userName:b,goToDashboard:S,handleLogout:j}),a.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 p-8 animate-screen-transition",children:gs()},t)]}),_&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center animate-modal-blur",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>E(!1)}),a.jsx("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-full sm:max-w-2xl md:max-w-3xl mx-4 sm:mx-6 z-10 max-h-[90vh] overflow-y-auto",children:a.jsx("div",{className:"p-4 sm:p-6",children:a.jsx(k6,{onClose:()=>E(!1),setActiveScreen:r,categories:$,subCategories:le,brands:ge,itemToEdit:jr,onSaved:Pe=>{gt(jr?Nt.map(lt=>lt.product_id===Pe.product_id?Pe:lt):[...Nt,Pe])}})})})]}),Ve&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center animate-modal-blur",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>se(!1)}),a.jsx("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-md mx-4 sm:mx-6 z-10 max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:K?"Edit Subcategory":"Add New Subcategory"}),a.jsx("button",{onClick:()=>se(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Qt,{size:20})})]}),a.jsxs("form",{className:"space-y-4",onKeyDown:f,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subcategory Name"}),a.jsx("input",{type:"text",value:xe.name,onChange:Pe=>Ie({...xe,name:Pe.target.value}),placeholder:"e.g., Soft Drinks",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:xe.description,onChange:Pe=>Ie({...xe,description:Pe.target.value}),placeholder:"Description...",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:xe.is_active,onChange:Pe=>Ie({...xe,is_active:Pe.target.checked}),id:"isSubActive",className:"rounded"}),a.jsx("label",{htmlFor:"isSubActive",className:"text-sm font-medium text-gray-700",children:"Active"})]}),a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>se(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:K?ct:tt,className:"flex-1 px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary",children:K?"Save Changes":"Add Subcategory"})]})]})]})})]}),me&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center animate-modal-blur",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>Ae(!1)}),a.jsx("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-md mx-4 sm:mx-6 z-10 max-h-[90vh] overflow-y-auto",children:a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:K?"Edit Category":"Add New Category"}),a.jsx("button",{onClick:()=>Ae(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Qt,{size:20})})]}),a.jsxs("form",{className:"space-y-4",onKeyDown:d,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category Name"}),a.jsx("input",{type:"text",value:ce.name,onChange:Pe=>oe({...ce,name:Pe.target.value}),placeholder:"e.g., Beverages",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:ce.description,onChange:Pe=>oe({...ce,description:Pe.target.value}),placeholder:"e.g., Drinks and beverages",rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:ce.is_active,onChange:Pe=>oe({...ce,is_active:Pe.target.checked}),id:"isActive",className:"rounded"}),a.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:"Active"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category Icon"}),a.jsx("div",{className:"grid grid-cols-6 gap-2",children:["Tag","Box","Archive","Layers","ShoppingBag","Coffee","Smartphone","Headphones","Shirt","Watch","Utensils","Zap","Gift","Briefcase","Camera","Music","Anchor","Globe","Key","Map","Sun","Moon","Star","Heart"].map(Pe=>{const lt={Tag:ji,Box:b0,Archive:Tl,Layers:Dg,ShoppingBag:qh,Coffee:Og,Smartphone:qg,Headphones:Lg,Shirt:Ug,Watch:Gg,Utensils:Hg,Zap:E0,Gift:zh,Briefcase:Cg,Camera:Eg,Music:Bg,Anchor:Ag,Globe:Pg,Key:Rg,Map:Ig,Sun:$g,Moon:Mg,Star:rf,Heart:Tg}[Pe]||ji;return a.jsx("button",{type:"button",onClick:()=>oe({...ce,icon:Pe}),className:`p-2 rounded-lg flex items-center justify-center transition-all ${ce.icon===Pe?"bg-blue-100 text-blue-600 ring-2 ring-blue-500":"bg-gray-50 text-gray-500 hover:bg-gray-100"}`,title:Pe,children:a.jsx(lt,{size:20})},Pe)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:[{id:"blue",bg:"bg-blue-500"},{id:"green",bg:"bg-green-500"},{id:"red",bg:"bg-red-500"},{id:"yellow",bg:"bg-yellow-500"},{id:"purple",bg:"bg-purple-500"},{id:"pink",bg:"bg-pink-500"},{id:"orange",bg:"bg-orange-500"},{id:"indigo",bg:"bg-indigo-500"},{id:"teal",bg:"bg-teal-500"},{id:"cyan",bg:"bg-cyan-500"}].map(Pe=>a.jsx("button",{type:"button",onClick:()=>oe({...ce,color:Pe.id}),className:`w-8 h-8 rounded-full ${Pe.bg} transition-transform hover:scale-110 flex items-center justify-center ${ce.color===Pe.id?"ring-2 ring-offset-2 ring-gray-400 scale-110":""}`,children:ce.color===Pe.id&&a.jsx(Xr,{size:14,className:"text-white"})},Pe.id))})]}),a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>Ae(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:K?ct:xt,className:"flex-1 px-4 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary",children:K?"Save Changes":"Add Category"})]})]})]})})]}),D&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center animate-modal-blur",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>M(!1)}),a.jsx("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-md mx-4 sm:mx-6 z-10 max-h-[90vh] overflow-y-auto",children:a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:K?"Edit Brand":"Add Brand"}),a.jsx("p",{className:"text-gray-600 mt-1",children:K?"Update brand details":"Create a new brand"})]}),a.jsx("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Qt,{size:20})})]}),a.jsxs("form",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",onKeyDown:m,children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Name *"}),a.jsx("input",{value:P.name,onChange:Pe=>H({...P,name:Pe.target.value}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Brand name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:P.description,onChange:Pe=>H({...P,description:Pe.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Short description",rows:"2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),a.jsxs("select",{value:P.is_active,onChange:Pe=>H({...P,is_active:Pe.target.value==="true"}),className:"w-full",children:[a.jsx("option",{value:"true",children:"Active"}),a.jsx("option",{value:"false",children:"Inactive"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand Icon"}),a.jsx("div",{className:"grid grid-cols-6 gap-2",children:["Archive","Box","Tag","Layers","ShoppingBag","Coffee","Smartphone","Headphones","Shirt","Watch","Utensils","Zap","Gift","Briefcase","Camera","Music","Anchor","Globe","Key","Map","Sun","Moon","Star","Heart"].map(Pe=>{const lt={Archive:Tl,Tag:ji,Box:b0,Layers:Dg,ShoppingBag:qh,Coffee:Og,Smartphone:qg,Headphones:Lg,Shirt:Ug,Watch:Gg,Utensils:Hg,Zap:E0,Gift:zh,Briefcase:Cg,Camera:Eg,Music:Bg,Anchor:Ag,Globe:Pg,Key:Rg,Map:Ig,Sun:$g,Moon:Mg,Star:rf,Heart:Tg}[Pe]||Tl;return a.jsx("button",{type:"button",onClick:()=>H({...P,icon:Pe}),className:`p-2 rounded-lg flex items-center justify-center transition-all ${P.icon===Pe?"bg-blue-100 text-blue-600 ring-2 ring-blue-500":"bg-gray-50 text-gray-500 hover:bg-gray-100"}`,title:Pe,children:a.jsx(lt,{size:20})},Pe)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:[{id:"blue",bg:"bg-blue-500"},{id:"green",bg:"bg-green-500"},{id:"red",bg:"bg-red-500"},{id:"yellow",bg:"bg-yellow-500"},{id:"purple",bg:"bg-purple-500"},{id:"pink",bg:"bg-pink-500"},{id:"orange",bg:"bg-orange-500"},{id:"indigo",bg:"bg-indigo-500"},{id:"teal",bg:"bg-teal-500"},{id:"cyan",bg:"bg-cyan-500"}].map(Pe=>a.jsx("button",{type:"button",onClick:()=>H({...P,color:Pe.id}),className:`w-8 h-8 rounded-full ${Pe.bg} transition-transform hover:scale-110 flex items-center justify-center ${P.color===Pe.id?"ring-2 ring-offset-2 ring-gray-400 scale-110":""}`,children:P.color===Pe.id&&a.jsx(Xr,{size:14,className:"text-white"})},Pe.id))})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>{M(!1),H({brand_id:"",name:"",description:"",is_active:!0,icon:"Archive",color:"blue"})},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:async()=>{if(!P.name){i("Please fill in the brand name");return}if(K)await ct();else try{const Pe=await Lr.createBrand(P),lt=JSON.parse(localStorage.getItem("brand_metadata")||"{}");lt[Pe.brand_id]={icon:P.icon,color:P.color},localStorage.setItem("brand_metadata",JSON.stringify(lt));const St={...Pe,icon:P.icon,color:P.color};G([...ge,St]),M(!1),H({brand_id:"",name:"",description:"",is_active:!0,icon:"Archive",color:"blue"})}catch(Pe){console.error("Error creating brand:",Pe),s("Failed to create brand. Please try again.")}},className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:K?"Save Changes":"Save Brand"})]})]})]})})})]}),k&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center animate-modal-blur",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>T(!1)}),a.jsx("div",{className:"relative bg-white rounded-lg shadow-lg w-full max-w-md mx-4 sm:mx-6 z-10 max-h-[90vh] overflow-y-auto",children:a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add Supplier"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new supplier"})]}),a.jsx("button",{onClick:()=>T(!1),className:"text-gray-500 hover:text-gray-700",children:a.jsx(Qt,{size:20})})]}),a.jsxs("form",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6",onKeyDown:p,children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Code *"}),a.jsx("input",{value:V.code,onChange:Pe=>Z({...V,code:Pe.target.value}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"SUP001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Name *"}),a.jsx("input",{value:V.name,onChange:Pe=>Z({...V,name:Pe.target.value}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Supplier name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),a.jsx("input",{value:V.company_name,onChange:Pe=>Z({...V,company_name:Pe.target.value}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Company name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Person"}),a.jsx("input",{value:V.contact_person,onChange:Pe=>Z({...V,contact_person:Pe.target.value}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Contact person"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),a.jsx("input",{value:V.phone,onChange:Pe=>Z({...V,phone:Pe.target.value}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"011-1234567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),a.jsx("input",{value:V.email,onChange:Pe=>Z({...V,email:Pe.target.value}),type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"email@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),a.jsx("input",{value:V.city,onChange:Pe=>Z({...V,city:Pe.target.value}),type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"Colombo"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Type"}),a.jsxs("select",{value:V.supplier_type,onChange:Pe=>Z({...V,supplier_type:Pe.target.value}),className:"w-full",children:[a.jsx("option",{value:"LOCAL",children:"Local"}),a.jsx("option",{value:"INTERNATIONAL",children:"International"}),a.jsx("option",{value:"DISTRIBUTOR",children:"Distributor"}),a.jsx("option",{value:"MANUFACTURER",children:"Manufacturer"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier Category"}),a.jsxs("select",{value:V.supplier_category,onChange:Pe=>Z({...V,supplier_category:Pe.target.value}),className:"w-full",children:[a.jsx("option",{value:"PRIMARY",children:"Primary"}),a.jsx("option",{value:"SECONDARY",children:"Secondary"}),a.jsx("option",{value:"OCCASIONAL",children:"Occasional"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-6 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>{T(!1),Z({supplier_id:"",code:"",name:"",company_name:"",contact_person:"",phone:"",mobile:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Sri Lanka",supplier_type:"LOCAL",supplier_category:"PRIMARY",is_active:!0,is_verified:!1})},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:async()=>{if(!V.code||!V.name){i("Please fill in the required fields (Code and Name)");return}if(K)await ct();else try{const Pe=await Lr.createSupplier(V);ue([...re,Pe]),T(!1),Z({supplier_id:"",code:"",name:"",company_name:"",contact_person:"",phone:"",mobile:"",email:"",address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"Sri Lanka",supplier_type:"LOCAL",supplier_category:"PRIMARY",is_active:!0,is_verified:!1})}catch(Pe){console.error("Error creating supplier:",Pe),s("Failed to create supplier. Please try again.")}},className:"px-6 py-2 bg-brand-primary text-white rounded-lg hover:bg-brand-secondary transition-colors",children:K?"Save Changes":"Save Supplier"})]})]})]})})})]})]})},tG=()=>a.jsxs(_$,{children:[a.jsx(eG,{}),a.jsx($$,{})]}),Dn="http://localhost:8080/api/v1/manager",dP="http://localhost:8080/api/v1/accounting",fP=async()=>{try{return(await He.get(`${Dn}/stats`)).data}catch(e){throw console.error("Error fetching dashboard stats:",e),e}},rG=async(e="weekly")=>{try{return(await He.get(`${Dn}/sales?period=${e}`)).data}catch(t){throw console.error("Error fetching sales data:",t),t}},nG=async(e="daily")=>{try{return(await He.get(`${Dn}/sales/analytics?period=${e}`)).data}catch(t){throw console.error("Error fetching sales analytics:",t),t}},hP=async(e=5)=>{try{return(await He.get(`${Dn}/products/top-selling?limit=${e}`)).data}catch(t){throw console.error("Error fetching top selling products:",t),t}},aG=async(e={})=>{try{const t=new URLSearchParams;return e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),(await He.get(`${Dn}/reports/sales?${t}`)).data}catch(t){throw console.error("Error fetching sales reports:",t),t}},sG=async(e={})=>{try{const t=new URLSearchParams;return e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),(await He.get(`${Dn}/reports/sales/summary-by-terminal?${t}`)).data}catch(t){throw console.error("Error fetching sales summary by terminal:",t),t}},iG=async()=>{try{return(await He.get(`${Dn}/grns/pending`)).data}catch(e){throw console.error("Error fetching pending GRNs:",e),e}},oG=async()=>{try{return(await He.get(`${Dn}/inventory/alerts`)).data}catch(e){throw console.error("Error fetching stock alerts:",e),e}},lG=async()=>{try{return(await He.get(`${Dn}/inventory/expiry-alerts`)).data}catch(e){throw console.error("Error fetching expiry alerts:",e),e}},mP=async()=>{try{return(await He.get(`${Dn}/staff/summary`)).data}catch(e){throw console.error("Error fetching staff summary:",e),e}},cG=async()=>{try{return(await He.get(`${Dn}/alerts`)).data}catch(e){throw console.error("Error fetching branch alerts:",e),e}},uG=async(e=null)=>{try{const t=e?`?status=${e}`:"";return(await He.get(`${Dn}/approvals${t}`)).data}catch(t){throw console.error("Error fetching approvals:",t),t}},dG=async(e,t,r="",n=null)=>{try{return(await He.patch(`${Dn}/approvals/${e}`,{status:t,notes:r,role:n})).data}catch(s){throw console.error("Error updating approval status:",s),s}},RN=async(e="PENDING")=>{try{return(await He.get(`${Dn}/approvals?status=${e}`)).data}catch(t){throw console.error("Error fetching user registrations:",t),t}},M6=async(e,t,r)=>{try{return(await He.patch(`${Dn}/approvals/${e}`,{status:t,role:r})).data}catch(n){throw console.error("Error updating registration status:",n),n}},fG=async(e=1,t={})=>{try{const r=new URLSearchParams;r.append("branchId",e),t.limit&&r.append("limit",t.limit),t.type&&r.append("type",t.type),t.date&&r.append("date",t.date),t.userId&&r.append("userId",t.userId);const n=await He.get(`${Dn}/activity/recent?${r}`);return n.data.data||n.data}catch(r){throw console.error("Error fetching activity log:",r),r}},pP=async()=>{try{return(await He.get(`${dP}/chart-of-accounts`)).data}catch(e){throw console.error("Error fetching chart of accounts:",e),e}},hG=async(e="monthly",t={})=>{try{const r=new URLSearchParams;return r.append("period",e),t.from&&r.append("from",t.from),t.to&&r.append("to",t.to),(await He.get(`${dP}/profit-loss?${r}`)).data}catch(r){throw console.error("Error fetching P&L report:",r),r}},mG=async()=>{try{return(await He.get(`${Dn}/customers/stats`)).data}catch(e){throw console.error("Error fetching loyalty stats:",e),e}},pG=async()=>{try{return(await He.get(`${Dn}/customers`)).data}catch(e){throw console.error("Error fetching loyalty customers:",e),e}},B6=async(e,t)=>{try{return(await He.put(`${Dn}/customers/${e}`,t)).data}catch(r){throw console.error("Error updating customer:",r),r}},xG=async(e,t,r)=>{try{return(await He.post(`${Dn}/customers/${e}/adjust-points`,{points:t,reason:r})).data}catch(n){throw console.error("Error adjusting points:",n),n}},xP=async()=>{try{return(await He.get(`${Dn}/customers/active-tier-rules`)).data}catch(e){throw console.error("Error fetching tier rules:",e),e}},gG=async e=>{try{return(await He.post(`${Dn}/customers/active-tier-rules`,e)).data}catch(t){throw console.error("Error updating tier rules:",t),t}},bG=async e=>{try{return(await He.get(`${Dn}/customers/${e}/sales`)).data}catch(t){throw console.error("Error fetching customer sales:",t),t}},yG="w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 text-gray-300 hover:bg-gray-800 hover:translate-x-1 hover:text-white relative",vG="bg-brand-primary text-white shadow-lg translate-x-1",Ji=({to:e,icon:t,label:r,end:n=!1,badge:s})=>a.jsxs(bN,{to:e,end:n,className:({isActive:i})=>`${yG} ${i?vG:""}`,children:[a.jsx(t,{size:18,className:"shrink-0 transition-transform duration-200"}),a.jsx("span",{className:"text-sm truncate flex-1",children:r}),s>0&&a.jsx("span",{className:"ml-auto bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-lg animate-pulse",children:s})]});function wG(){Vl();const[e,t]=v.useState(0),r=localStorage.getItem("user");let n="User",s="Staff",i="Branch";if(r)try{const c=JSON.parse(r);n=c.username||c.name||"User",s=c.role||c.userRole||"Staff",i=c.branchName||"Main Branch"}catch(c){console.error("Error parsing user:",c)}return v.useEffect(()=>{const c=async()=>{try{const d=await RN("PENDING");Array.isArray(d)&&t(d.length)}catch(d){console.error("Failed to fetch pending count sidebar",d)}};c();const u=setInterval(c,3e4);return()=>clearInterval(u)},[]),a.jsxs("aside",{className:"w-72 shrink-0 bg-gray-900 text-white h-screen flex flex-col min-h-0",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800",children:[a.jsxs("h1",{className:"text-xl font-bold",children:["SmartRetail ",a.jsx("span",{className:"text-emerald-400",children:"Pro"})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:s==="ADMIN"?"Admin Dashboard":"Manager Dashboard"})]}),a.jsxs("nav",{className:"sidebar-scroll p-4 flex-1 min-h-0 overflow-y-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Overview"}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx(Ji,{to:"/manager",end:!0,icon:O8,label:"Dashboard"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Operations"}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx(Ji,{to:"/manager/approvals",icon:Xr,label:"Approvals"}),a.jsx(Ji,{to:"/manager/branch-activity",icon:Tc,label:"Branch Activity"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Sales"}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx(Ji,{to:"/manager/sales",icon:oo,label:"Sales"}),a.jsx(Ji,{to:"/manager/loyalty",icon:Ln,label:"Loyalty & Customers"}),a.jsx(Ji,{to:"/manager/sales-reports",icon:Jd,label:"Sales Reports"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Accounting"}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx(Ji,{to:"/manager/chart-of-accounts",icon:WB,label:"Chart of Accounts"}),a.jsx(Ji,{to:"/manager/journal-entry",icon:cF,label:"Journal Entry"}),a.jsx(Ji,{to:"/manager/profit-loss",icon:co,label:"Profit & Loss"}),a.jsx(Ji,{to:"/manager/manager-payments",icon:rU,label:"GRN Payments"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Staff"}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx(Ji,{to:"/manager/user-registrations",icon:XF,label:"User Registrations",badge:e})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Reports"}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx(Ji,{to:"/manager/reports",icon:Xo,label:"Other Reports"})})]})]})]})}function NG(){const[e,t]=v.useState(new Date),r=Vl(),n=ap()||{},{unreadCount:s=0,setIsOpen:i=()=>{},addNotification:c=()=>{}}=n,[u,d]=v.useState(0);v.useEffect(()=>{let j=!0;const S=async()=>{try{const E=await RN("PENDING");if(!j)return;const k=Array.isArray(E)?E.length:0;d(T=>{if(k>T&&T!==0){const D=k-T;c&&c("info","New Registration Request",`${D} new user(s) waiting for approval`)}return k})}catch{}};S();const _=setInterval(S,3e4);return()=>{j=!1,clearInterval(_)}},[c]);const f=localStorage.getItem("user");let m="Main Branch",p="User",g=1;const[b,y]=v.useState("");if(f)try{const j=JSON.parse(f);m=j.branchName||"Main Branch",p=j.username||j.name||"User",g=j.branchId||1}catch{}v.useEffect(()=>{const j=setInterval(()=>t(new Date),1e3);return()=>clearInterval(j)},[]),v.useEffect(()=>{(async()=>{try{const _=(await Gd.getBranches())?.find(k=>String(k.id??k.branchId)===String(g)),E=_?.name||_?.branchName;E?y(E):m&&y(m)}catch{m&&y(m)}})()},[g,m]);const N=()=>{localStorage.clear(),r("/login")};return a.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-6 gap-4 shrink-0 shadow-sm",children:[a.jsxs("div",{className:"flex flex-col flex-1",children:[a.jsx("h1",{className:"font-bold text-lg text-slate-800",children:"Manager Dashboard"}),a.jsxs("span",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider flex items-center gap-1",children:[a.jsx(_N,{className:"w-3 h-3"})," ",b||"Main Branch"]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>r("/inventory"),className:"hidden md:flex group items-center gap-2 px-3 py-2 bg-slate-100 hover:bg-blue-50 rounded-lg text-sm font-medium transition-all duration-300 hover:shadow-md hover:border-blue-200 border border-transparent",children:[a.jsx(wN,{size:16,className:"text-slate-600 group-hover:text-blue-600 transition-colors"}),a.jsx("span",{className:"text-slate-700 group-hover:text-blue-700 transition-colors",children:"Inventory"})]}),a.jsxs("button",{onClick:()=>i(!0),className:"p-2 rounded-full hover:bg-slate-100 transition-colors text-slate-600 relative outline-none focus:ring-2 focus:ring-brand/20",children:[a.jsx(Bh,{className:"w-5 h-5"}),s>0&&a.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),a.jsxs("div",{className:"text-right leading-tight hidden sm:block",children:[a.jsx("div",{className:"font-mono text-lg font-bold tracking-wider text-slate-700",children:e.toLocaleTimeString("en-US",{hour12:!1})}),a.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:e.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-3 px-4 py-2 bg-white/80 backdrop-blur-md rounded-full border border-blue-100 shadow-sm hover:shadow-md transition-all duration-300 group cursor-default",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-600 to-indigo-600 flex items-center justify-center text-white text-xs font-bold shadow-md transform group-hover:scale-105 transition-transform duration-300 ring-2 ring-blue-100",children:p.charAt(0).toUpperCase()}),a.jsx("span",{className:"text-sm font-semibold text-slate-700 group-hover:text-blue-700 transition-colors max-w-[100px] truncate",children:p})]}),a.jsxs("button",{type:"button",onClick:N,className:"group relative overflow-hidden flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 hover:border-red-100 text-slate-700 hover:text-red-600 rounded-xl transition-all duration-300 shadow-sm hover:shadow-md hover:-translate-y-0.5",children:[a.jsx("div",{className:"absolute inset-0 bg-red-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx(ef,{size:18,className:"relative z-10 transition-transform duration-300 group-hover:scale-110 group-hover:-translate-x-0.5"}),a.jsx("span",{className:"relative z-10 hidden sm:inline text-sm font-semibold",children:"Sign Out"})]})]})]})}function jG(){return a.jsxs("div",{className:"h-screen flex bg-slate-50 overflow-hidden",children:[a.jsx(wG,{}),a.jsxs("div",{className:"flex-1 min-w-0 flex flex-col overflow-hidden",children:[a.jsx(NG,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6",children:a.jsx($9,{})})]})]})}const z6={primary:"border-brand-primary",secondary:"border-brand-secondary",warning:"border-brand-warning",danger:"border-brand-danger",success:"border-brand-success"},F6={primary:"bg-blue-100 text-blue-600",secondary:"bg-indigo-100 text-indigo-600",warning:"bg-yellow-100 text-yellow-600",danger:"bg-red-100 text-red-600",success:"bg-green-100 text-green-600"},SG={dollar:Ei,money:Ei,revenue:Ei,sales:oo,cart:oo,trending:co,growth:co,users:nf,staff:nf,package:Ln,inventory:Ln,alert:Cs,check:Xr,clock:ks,pending:ks,chart:Jd,analytics:Jd};function AG({title:e,value:t,icon:r="chart",tone:n="primary"}){const s=z6[n]||z6.primary,i=F6[n]||F6.primary,c=typeof t=="object"?JSON.stringify(t):t,u=SG[r?.toLowerCase()]||Jd;return a.jsx("div",{className:`bg-white border border-brand-border border-l-4 ${s} rounded-2xl shadow-sm p-5 h-full min-h-[110px] hover:shadow-md transition-shadow duration-200`,children:a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm text-brand-muted leading-tight",children:e}),a.jsx("div",{className:"mt-2 text-2xl font-extrabold leading-none",children:c})]}),a.jsx("div",{className:`w-12 h-12 rounded-2xl ${i} grid place-items-center shrink-0 shadow-sm`,children:a.jsx(u,{size:24,strokeWidth:2.5})})]})})}function _G({open:e,onClose:t,onSave:r,initialTarget:n}){const[s,i]=v.useState(n??25e4);if(v.useEffect(()=>{e&&i(n??25e4)},[e,n]),!e)return null;const c=()=>{const u=Number(s);if(!Number.isFinite(u)||u<=0)return alert("Enter a valid target amount");r(Math.round(u)),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-white p-5 shadow-xl border border-brand-border",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"font-extrabold",children:"Set Todays Sales Target"}),a.jsx("button",{type:"button",className:"px-3 py-1 rounded-lg bg-slate-100 border border-brand-border hover:bg-slate-200",onClick:t,children:""})]}),a.jsxs("p",{className:"mt-2 text-sm text-brand-muted",children:["Enter the target amount for ",a.jsx("b",{children:"today"}),"."]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"text-sm font-semibold",children:"Target (LKR)"}),a.jsx("input",{type:"number",value:s,onChange:u=>i(u.target.value),className:"mt-2 w-full px-4 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary",placeholder:"250000"})]}),a.jsxs("div",{className:"mt-5 flex items-center justify-end gap-2",children:[a.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl bg-slate-100 border border-brand-border hover:bg-slate-200 font-semibold",onClick:t,children:"Cancel"}),a.jsx("button",{type:"button",className:"px-4 py-2 rounded-xl bg-brand-primary hover:bg-brand-secondary text-white font-semibold",onClick:c,children:"Save Target"})]})]})})}function CG(){const[e,t]=v.useState(25e4),[r,n]=v.useState(0),[s,i]=v.useState(!1),[c,u]=v.useState(!0),f=(()=>{try{const j=localStorage.getItem("user");if(j){const S=JSON.parse(j);return S.branchName||S.branch||"Main Branch"}}catch(j){console.error("Error parsing user data:",j)}return"Main Branch"})(),m=new Date().toISOString().slice(0,10),p=`srp_target_${f.replace(/\s+/g,"_")}_${m}`;v.useEffect(()=>{(async()=>{try{u(!0);const S=await fP();if(S&&S.length>0){const _=S.find(E=>E.title?.includes("Sales"));if(_){const E=parseInt(_.value?.replace(/\D/g,"")||0);n(E)}}}catch(S){console.error("Error fetching stats:",S)}finally{u(!1)}})()},[]),v.useEffect(()=>{const j=localStorage.getItem(p);if(j){const S=Number(j);Number.isFinite(S)&&S>0&&t(S)}},[p]);const g=v.useMemo(()=>e?Math.min(100,Math.round(r/e*100)):0,[r,e]),b=r.toLocaleString(),y=e.toLocaleString(),N=j=>{t(j),localStorage.setItem(p,String(j))};return a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-5",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-brand-muted",children:"Today's Target"}),a.jsxs("div",{className:"mt-1 text-xl font-extrabold",children:["LKR ",b," / ",y]}),a.jsxs("div",{className:"mt-1 text-xs text-brand-muted",children:["You're at ",a.jsxs("span",{className:"font-bold text-brand-primary",children:[g,"%"]})," of today's sales goal."]})]}),a.jsx("button",{type:"button",className:"text-xs px-3 py-1 rounded-full bg-slate-100 border border-brand-border font-bold hover:bg-slate-200 transition",onClick:()=>i(!0),children:" Set Target"})]}),a.jsx("div",{className:"mt-4 h-3 w-full rounded-full bg-slate-100 overflow-hidden border border-brand-border",children:a.jsx("div",{className:"h-full bg-brand-primary",style:{width:`${g}%`}})}),a.jsx(_G,{open:s,onClose:()=>i(!1),onSave:N,initialTarget:e})]})}function gP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=gP(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qr(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=gP(e))&&(n&&(n+=" "),n+=t);return n}var EG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function DN(e){if(typeof e!="string")return!1;var t=EG;return t.includes(e)}var kG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],OG=new Set(kG);function bP(e){return typeof e!="string"?!1:OG.has(e)}function yP(e){return typeof e=="string"&&e.startsWith("data-")}function ql(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(bP(r)||yP(r))&&(t[r]=e[r]);return t}function sp(e){if(e==null)return null;if(v.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ql(t)}return typeof e=="object"&&!Array.isArray(e)?ql(e):null}function Os(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(bP(r)||yP(r)||DN(r))&&(t[r]=e[r]);return t}function PG(e){return e==null?null:v.isValidElement(e)?Os(e.props):typeof e=="object"&&!Array.isArray(e)?Os(e):null}var LG=["children","width","height","viewBox","className","style","title","desc"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(null,arguments)}function TG(e,t){if(e==null)return{};var r,n,s=RG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vP=v.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:c,style:u,title:d,desc:f}=e,m=TG(e,LG),p=i||{width:n,height:s,x:0,y:0},g=Qr("recharts-surface",c);return v.createElement("svg",Qw({},Os(m),{className:g,width:n,height:s,style:u,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),v.createElement("title",null,d),v.createElement("desc",null,f),r)}),DG=["children","className"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(null,arguments)}function IG(e,t){if(e==null)return{};var r,n,s=MG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function MG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ho=v.forwardRef((e,t)=>{var{children:r,className:n}=e,s=IG(e,DG),i=Qr("recharts-layer",n);return v.createElement("g",Zw({className:i},Os(s),{ref:t}),r)}),BG=v.createContext(null);function cn(e){return function(){return e}}const wP=Math.cos,Wg=Math.sin,nl=Math.sqrt,Yg=Math.PI,ly=2*Yg,Jw=Math.PI,e5=2*Jw,Dd=1e-6,zG=e5-Dd;function NP(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function FG(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return NP;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class UG{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?NP:FG(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,c){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+c}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let c=this._x1,u=this._y1,d=n-t,f=s-r,m=c-t,p=u-r,g=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Dd)if(!(Math.abs(p*d-f*m)>Dd)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-c,y=s-u,N=d*d+f*f,j=b*b+y*y,S=Math.sqrt(N),_=Math.sqrt(g),E=i*Math.tan((Jw-Math.acos((N+g-j)/(2*S*_)))/2),k=E/_,T=E/S;Math.abs(k-1)>Dd&&this._append`L${t+k*m},${r+k*p}`,this._append`A${i},${i},0,0,${+(p*b>m*y)},${this._x1=t+T*d},${this._y1=r+T*f}`}}arc(t,r,n,s,i,c){if(t=+t,r=+r,n=+n,c=!!c,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(s),d=n*Math.sin(s),f=t+u,m=r+d,p=1^c,g=c?s-i:i-s;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>Dd||Math.abs(this._y1-m)>Dd)&&this._append`L${f},${m}`,n&&(g<0&&(g=g%e5+e5),g>zG?this._append`A${n},${n},0,1,${p},${t-u},${r-d}A${n},${n},0,1,${p},${this._x1=f},${this._y1=m}`:g>Dd&&this._append`A${n},${n},0,${+(g>=Jw)},${p},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function IN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new UG(t)}function MN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jP(e){this._context=e}jP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cy(e){return new jP(e)}function SP(e){return e[0]}function AP(e){return e[1]}function _P(e,t){var r=cn(!0),n=null,s=cy,i=null,c=IN(u);e=typeof e=="function"?e:e===void 0?SP:cn(e),t=typeof t=="function"?t:t===void 0?AP:cn(t);function u(d){var f,m=(d=MN(d)).length,p,g=!1,b;for(n==null&&(i=s(b=c())),f=0;f<=m;++f)!(f<m&&r(p=d[f],f,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(p,f,d),+t(p,f,d));if(b)return i=null,b+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:cn(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:cn(+d),u):t},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:cn(!!d),u):r},u.curve=function(d){return arguments.length?(s=d,n!=null&&(i=s(n)),u):s},u.context=function(d){return arguments.length?(d==null?n=i=null:i=s(n=d),u):n},u}function jx(e,t,r){var n=null,s=cn(!0),i=null,c=cy,u=null,d=IN(f);e=typeof e=="function"?e:e===void 0?SP:cn(+e),t=typeof t=="function"?t:cn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?AP:cn(+r);function f(p){var g,b,y,N=(p=MN(p)).length,j,S=!1,_,E=new Array(N),k=new Array(N);for(i==null&&(u=c(_=d())),g=0;g<=N;++g){if(!(g<N&&s(j=p[g],g,p))===S)if(S=!S)b=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),y=g-1;y>=b;--y)u.point(E[y],k[y]);u.lineEnd(),u.areaEnd()}S&&(E[g]=+e(j,g,p),k[g]=+t(j,g,p),u.point(n?+n(j,g,p):E[g],r?+r(j,g,p):k[g]))}if(_)return u=null,_+""||null}function m(){return _P().defined(s).curve(c).context(i)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:cn(+p),n=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:cn(+p),f):e},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:cn(+p),f):n},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:cn(+p),r=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:cn(+p),f):t},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:cn(+p),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(n).y(t)},f.defined=function(p){return arguments.length?(s=typeof p=="function"?p:cn(!!p),f):s},f.curve=function(p){return arguments.length?(c=p,i!=null&&(u=c(i)),f):c},f.context=function(p){return arguments.length?(p==null?i=u=null:u=c(i=p),f):i},f}class CP{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qG(e){return new CP(e,!0)}function $G(e){return new CP(e,!1)}const BN={draw(e,t){const r=nl(t/Yg);e.moveTo(r,0),e.arc(0,0,r,0,ly)}},HG={draw(e,t){const r=nl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},EP=nl(1/3),GG=EP*2,KG={draw(e,t){const r=nl(t/GG),n=r*EP;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},VG={draw(e,t){const r=nl(t),n=-r/2;e.rect(n,n,r,r)}},WG=.8908130915292852,kP=Wg(Yg/10)/Wg(7*Yg/10),YG=Wg(ly/10)*kP,XG=-wP(ly/10)*kP,QG={draw(e,t){const r=nl(t*WG),n=YG*r,s=XG*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const c=ly*i/5,u=wP(c),d=Wg(c);e.lineTo(d*r,-u*r),e.lineTo(u*n-d*s,d*n+u*s)}e.closePath()}},L1=nl(3),ZG={draw(e,t){const r=-nl(t/(L1*3));e.moveTo(0,r*2),e.lineTo(-L1*r,-r),e.lineTo(L1*r,-r),e.closePath()}},eo=-.5,to=nl(3)/2,t5=1/nl(12),JG=(t5/2+1)*3,eK={draw(e,t){const r=nl(t/JG),n=r/2,s=r*t5,i=n,c=r*t5+r,u=-i,d=c;e.moveTo(n,s),e.lineTo(i,c),e.lineTo(u,d),e.lineTo(eo*n-to*s,to*n+eo*s),e.lineTo(eo*i-to*c,to*i+eo*c),e.lineTo(eo*u-to*d,to*u+eo*d),e.lineTo(eo*n+to*s,eo*s-to*n),e.lineTo(eo*i+to*c,eo*c-to*i),e.lineTo(eo*u+to*d,eo*d-to*u),e.closePath()}};function tK(e,t){let r=null,n=IN(s);e=typeof e=="function"?e:cn(e||BN),t=typeof t=="function"?t:cn(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:cn(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:cn(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Xg(){}function Qg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function OP(e){this._context=e}OP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rK(e){return new OP(e)}function PP(e){this._context=e}PP.prototype={areaStart:Xg,areaEnd:Xg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nK(e){return new PP(e)}function LP(e){this._context=e}LP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aK(e){return new LP(e)}function TP(e){this._context=e}TP.prototype={areaStart:Xg,areaEnd:Xg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sK(e){return new TP(e)}function U6(e){return e<0?-1:1}function q6(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),c=(r-e._y1)/(s||n<0&&-0),u=(i*s+c*n)/(n+s);return(U6(i)+U6(c))*Math.min(Math.abs(i),Math.abs(c),.5*Math.abs(u))||0}function $6(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function T1(e,t,r){var n=e._x0,s=e._y0,i=e._x1,c=e._y1,u=(i-n)/3;e._context.bezierCurveTo(n+u,s+u*t,i-u,c-u*r,i,c)}function Zg(e){this._context=e}Zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:T1(this,this._t0,$6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,T1(this,$6(this,r=q6(this,e,t)),r);break;default:T1(this,this._t0,r=q6(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function RP(e){this._context=new DP(e)}(RP.prototype=Object.create(Zg.prototype)).point=function(e,t){Zg.prototype.point.call(this,t,e)};function DP(e){this._context=e}DP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function iK(e){return new Zg(e)}function oK(e){return new RP(e)}function IP(e){this._context=e}IP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=H6(e),s=H6(t),i=0,c=1;c<r;++i,++c)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[c],t[c]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function H6(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),c=new Array(r);for(s[0]=0,i[0]=2,c[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,c[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,c[t]-=n*c[t-1];for(s[r-1]=c[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(c[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function lK(e){return new IP(e)}function uy(e,t){this._context=e,this._t=t}uy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cK(e){return new uy(e,.5)}function uK(e){return new uy(e,0)}function dK(e){return new uy(e,1)}function sf(e,t){if((c=e.length)>1)for(var r=1,n,s,i=e[t[0]],c,u=i.length;r<c;++r)for(s=i,i=e[t[r]],n=0;n<u;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function r5(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fK(e,t){return e[t]}function hK(e){const t=[];return t.key=e,t}function mK(){var e=cn([]),t=r5,r=sf,n=fK;function s(i){var c=Array.from(e.apply(this,arguments),hK),u,d=c.length,f=-1,m;for(const p of i)for(u=0,++f;u<d;++u)(c[u][f]=[0,+n(p,c[u].key,f,i)]).data=p;for(u=0,m=MN(t(c));u<d;++u)c[m[u]].index=u;return r(c,m),c}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:cn(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:cn(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?r5:typeof i=="function"?i:cn(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??sf,s):r},s}function pK(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,c;s<i;++s){for(c=r=0;r<n;++r)c+=e[r][s][1]||0;if(c)for(r=0;r<n;++r)e[r][s][1]/=c}sf(e,t)}}function xK(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var c=0,u=0;c<s;++c)u+=e[c][r][1]||0;n[r][1]+=n[r][0]=-u/2}sf(e,t)}}function gK(e,t){if(!(!((c=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,c;n<i;++n){for(var u=0,d=0,f=0;u<c;++u){for(var m=e[t[u]],p=m[n][1]||0,g=m[n-1][1]||0,b=(p-g)/2,y=0;y<u;++y){var N=e[t[y]],j=N[n][1]||0,S=N[n-1][1]||0;b+=j-S}d+=p,f+=b*p}s[n-1][1]+=s[n-1][0]=r,d&&(r-=f/d)}s[n-1][1]+=s[n-1][0]=r,sf(e,t)}}var R1={},D1={},G6;function bK(){return G6||(G6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(D1)),D1}var I1={},K6;function MP(){return K6||(K6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(I1)),I1}var M1={},V6;function zN(){return V6||(V6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(M1)),M1}var B1={},z1={},W6;function yK(){return W6||(W6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(z1)),z1}var Y6;function FN(){return Y6||(Y6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yK(),r=zN();function n(s){if(Array.isArray(s))return s.map(r.toKey);if(typeof s=="symbol")return[s];s=t.toString(s);const i=[],c=s.length;if(c===0)return i;let u=0,d="",f="",m=!1;for(s.charCodeAt(0)===46&&(i.push(""),u++);u<c;){const p=s[u];f?p==="\\"&&u+1<c?(u++,d+=s[u]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,i.push(d),d=""):d+=p:p==="["?(m=!0,d&&(i.push(d),d="")):p==="."?d&&(i.push(d),d=""):d+=p,u++}return d&&i.push(d),i}e.toPath=n})(B1)),B1}var X6;function UN(){return X6||(X6=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bK(),r=MP(),n=zN(),s=FN();function i(u,d,f){if(u==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?r.isDeepKey(d)?i(u,s.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=u[d];return m===void 0?f:m}default:{if(Array.isArray(d))return c(u,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=u[d];return m===void 0?f:m}}}function c(u,d,f){if(d.length===0)return f;let m=u;for(let p=0;p<d.length;p++){if(m==null||t.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}e.get=i})(R1)),R1}var F1,Q6;function vK(){return Q6||(Q6=1,F1=UN().get),F1}var wK=vK();const Hh=Kl(wK);var NK=4;function $u(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NK,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Kn(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((s,i,c)=>{var u=r[c-1];return typeof u=="string"?s+u+i:u!==void 0?s+$u(u)+i:s+i},"")}var Ai=e=>e===0?0:e>0?1:-1,$l=e=>typeof e=="number"&&e!=+e,of=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Lt=e=>(typeof e=="number"||e instanceof Number)&&!$l(e),Hl=e=>Lt(e)||typeof e=="string",jK=0,O0=e=>{var t=++jK;return"".concat(e||"").concat(t)},Qo=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Lt(t)&&typeof t!="string")return n;var i;if(of(t)){if(r==null)return n;var c=t.indexOf("%");i=r*parseFloat(t.slice(0,c))/100}else i=+t;return $l(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},BP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Vn(e,t,r){return Lt(e)&&Lt(t)?$u(e+r*(t-e)):t}function zP(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Hh(n,t))===r)}var Rn=e=>e===null||typeof e>"u",ip=e=>Rn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Il(e){return e!=null}function xf(){}var SK=["type","size","sizeType"];function n5(){return n5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n5.apply(null,arguments)}function Z6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function J6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z6(Object(r),!0).forEach(function(n){AK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AK(e,t,r){return(t=_K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EK(e,t){if(e==null)return{};var r,n,s=kK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FP={symbolCircle:BN,symbolCross:HG,symbolDiamond:KG,symbolSquare:VG,symbolStar:QG,symbolTriangle:ZG,symbolWye:eK},OK=Math.PI/180,PK=e=>{var t="symbol".concat(ip(e));return FP[t]||BN},LK=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*OK;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},TK=(e,t)=>{FP["symbol".concat(ip(e))]=t},UP=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=EK(e,SK),i=J6(J6({},s),{},{type:t,size:r,sizeType:n}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var g=PK(c),b=tK().type(g).size(LK(r,n,c)),y=b();if(y!==null)return y},{className:d,cx:f,cy:m}=i,p=Os(i);return Lt(f)&&Lt(m)&&Lt(r)?v.createElement("path",n5({},p,{className:Qr("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:u()})):null};UP.registerSymbol=TK;var qP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,qN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{DN(s)&&(n[s]=(i=>r[s](r,i)))}),n},RK=(e,t,r)=>n=>(e(t,r,n),null),$N=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];DN(s)&&typeof i=="function"&&(n||(n={}),n[s]=RK(i,t,r))}),n};function eA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function DK(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(r),!0).forEach(function(n){IK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t,r){return(t=MK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ai(e,t){var r=DK({},e),n=t,s=Object.keys(t),i=s.reduce((c,u)=>(c[u]===void 0&&n[u]!==void 0&&(c[u]=n[u]),c),r);return i}var U1={},q1={},tA;function zK(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const c=r[i],u=n(c,i,r);s.has(u)||s.set(u,c)}return Array.from(s.values())}e.uniqBy=t})(q1)),q1}var $1={},rA;function FK(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...s){return r.apply(this,s.slice(0,n))}}e.ary=t})($1)),$1}var H1={},nA;function $P(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(H1)),H1}var G1={},K1={},V1={},aA;function UK(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(V1)),V1}var sA;function HN(){return sA||(sA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UK();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(K1)),K1}var W1={},iA;function qK(){return iA||(iA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(W1)),W1}var oA;function $K(){return oA||(oA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HN(),r=qK();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(G1)),G1}var Y1={},X1={},lA;function HK(){return lA||(lA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UN();function r(n){return function(s){return t.get(s,n)}}e.property=r})(X1)),X1}var Q1={},Z1={},J1={},e2={},cA;function HP(){return cA||(cA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(e2)),e2}var t2={},uA;function GP(){return uA||(uA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(t2)),t2}var r2={},dA;function KP(){return dA||(dA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(r2)),r2}var fA;function GK(){return fA||(fA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HP(),r=GP(),n=KP();function s(m,p,g){return typeof g!="function"?s(m,p,()=>{}):i(m,p,function b(y,N,j,S,_,E){const k=g(y,N,j,S,_,E);return k!==void 0?!!k:i(y,N,b,E)},new Map)}function i(m,p,g,b){if(p===m)return!0;switch(typeof p){case"object":return c(m,p,g,b);case"function":return Object.keys(p).length>0?i(m,{...p},g,b):n.isEqualsSameValueZero(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:n.isEqualsSameValueZero(m,p)}}function c(m,p,g,b){if(p==null)return!0;if(Array.isArray(p))return d(m,p,g,b);if(p instanceof Map)return u(m,p,g,b);if(p instanceof Set)return f(m,p,g,b);const y=Object.keys(p);if(m==null||r.isPrimitive(m))return y.length===0;if(y.length===0)return!0;if(b?.has(p))return b.get(p)===m;b?.set(p,m);try{for(let N=0;N<y.length;N++){const j=y[N];if(!r.isPrimitive(m)&&!(j in m)||p[j]===void 0&&m[j]!==void 0||p[j]===null&&m[j]!==null||!g(m[j],p[j],j,m,p,b))return!1}return!0}finally{b?.delete(p)}}function u(m,p,g,b){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[y,N]of p.entries()){const j=m.get(y);if(g(j,N,y,m,p,b)===!1)return!1}return!0}function d(m,p,g,b){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const y=new Set;for(let N=0;N<p.length;N++){const j=p[N];let S=!1;for(let _=0;_<m.length;_++){if(y.has(_))continue;const E=m[_];let k=!1;if(g(E,j,N,m,p,b)&&(k=!0),k){y.add(_),S=!0;break}}if(!S)return!1}return!0}function f(m,p,g,b){return p.size===0?!0:m instanceof Set?d([...m],[...p],g,b):!1}e.isMatchWith=s,e.isSetMatch=f})(J1)),J1}var hA;function VP(){return hA||(hA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GK();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(Z1)),Z1}var n2={},a2={},s2={},mA;function KK(){return mA||(mA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(s2)),s2}var i2={},pA;function GN(){return pA||(pA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(i2)),i2}var o2={},xA;function WP(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",c="[object Symbol]",u="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",g="[object ArrayBuffer]",b="[object Object]",y="[object Error]",N="[object DataView]",j="[object Uint8Array]",S="[object Uint8ClampedArray]",_="[object Uint16Array]",E="[object Uint32Array]",k="[object BigUint64Array]",T="[object Int8Array]",D="[object Int16Array]",M="[object Int32Array]",R="[object BigInt64Array]",B="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=m,e.bigInt64ArrayTag=R,e.bigUint64ArrayTag=k,e.booleanTag=s,e.dataViewTag=N,e.dateTag=u,e.errorTag=y,e.float32ArrayTag=B,e.float64ArrayTag=K,e.functionTag=p,e.int16ArrayTag=D,e.int32ArrayTag=M,e.int8ArrayTag=T,e.mapTag=d,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=c,e.uint16ArrayTag=_,e.uint32ArrayTag=E,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=S})(o2)),o2}var l2={},gA;function VK(){return gA||(gA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(l2)),l2}var bA;function YP(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KK(),r=GN(),n=WP(),s=GP(),i=VK();function c(m,p){return u(m,void 0,m,new Map,p)}function u(m,p,g,b=new Map,y=void 0){const N=y?.(m,p,g,b);if(N!==void 0)return N;if(s.isPrimitive(m))return m;if(b.has(m))return b.get(m);if(Array.isArray(m)){const j=new Array(m.length);b.set(m,j);for(let S=0;S<m.length;S++)j[S]=u(m[S],S,g,b,y);return Object.hasOwn(m,"index")&&(j.index=m.index),Object.hasOwn(m,"input")&&(j.input=m.input),j}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const j=new RegExp(m.source,m.flags);return j.lastIndex=m.lastIndex,j}if(m instanceof Map){const j=new Map;b.set(m,j);for(const[S,_]of m)j.set(S,u(_,S,g,b,y));return j}if(m instanceof Set){const j=new Set;b.set(m,j);for(const S of m)j.add(u(S,void 0,g,b,y));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const j=new(Object.getPrototypeOf(m)).constructor(m.length);b.set(m,j);for(let S=0;S<m.length;S++)j[S]=u(m[S],S,g,b,y);return j}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const j=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return b.set(m,j),d(j,m,g,b,y),j}if(typeof File<"u"&&m instanceof File){const j=new File([m],m.name,{type:m.type});return b.set(m,j),d(j,m,g,b,y),j}if(typeof Blob<"u"&&m instanceof Blob){const j=new Blob([m],{type:m.type});return b.set(m,j),d(j,m,g,b,y),j}if(m instanceof Error){const j=new m.constructor;return b.set(m,j),j.message=m.message,j.name=m.name,j.stack=m.stack,j.cause=m.cause,d(j,m,g,b,y),j}if(m instanceof Boolean){const j=new Boolean(m.valueOf());return b.set(m,j),d(j,m,g,b,y),j}if(m instanceof Number){const j=new Number(m.valueOf());return b.set(m,j),d(j,m,g,b,y),j}if(m instanceof String){const j=new String(m.valueOf());return b.set(m,j),d(j,m,g,b,y),j}if(typeof m=="object"&&f(m)){const j=Object.create(Object.getPrototypeOf(m));return b.set(m,j),d(j,m,g,b,y),j}return m}function d(m,p,g=m,b,y){const N=[...Object.keys(p),...t.getSymbols(p)];for(let j=0;j<N.length;j++){const S=N[j],_=Object.getOwnPropertyDescriptor(m,S);(_==null||_.writable)&&(m[S]=u(p[S],S,g,b,y))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=d})(a2)),a2}var yA;function WK(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YP();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(n2)),n2}var vA;function YK(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VP(),r=WK();function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(Q1)),Q1}var c2={},u2={},d2={},wA;function XK(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YP(),r=GN(),n=WP();function s(i,c){return t.cloneDeepWith(i,(u,d,f,m)=>{const p=c?.(u,d,f,m);if(p!==void 0)return p;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const g={};return m.set(i,g),t.copyProperties(g,i,f,m),g}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new i.constructor(i?.valueOf());return t.copyProperties(g,i),g}case n.argumentsTag:{const g={};return t.copyProperties(g,i),g.length=i.length,g[Symbol.iterator]=i[Symbol.iterator],g}default:return}}})}e.cloneDeepWith=s})(d2)),d2}var NA;function QK(){return NA||(NA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XK();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(u2)),u2}var f2={},h2={},jA;function XP(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(h2)),h2}var m2={},SA;function ZK(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GN();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(m2)),m2}var AA;function JK(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MP(),r=XP(),n=ZK(),s=FN();function i(c,u){let d;if(Array.isArray(u)?d=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?d=s.toPath(u):d=[u],d.length===0)return!1;let f=c;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=i})(f2)),f2}var _A;function eV(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VP(),r=zN(),n=QK(),s=UN(),i=JK();function c(u,d){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=r.toKey(u);break}}return d=n.cloneDeep(d),function(f){const m=s.get(f,u);return m===void 0?i.has(f,u):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=c})(c2)),c2}var CA;function tV(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$P(),r=HK(),n=YK(),s=eV();function i(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):n.matches(c);case"string":case"symbol":case"number":return r.property(c)}}e.iteratee=i})(Y1)),Y1}var EA;function rV(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zK(),r=FK(),n=$P(),s=$K(),i=tV();function c(u,d=n.identity){return s.isArrayLikeObject(u)?t.uniqBy(Array.from(u),r.ary(i.iteratee(d),1)):[]}e.uniqBy=c})(U1)),U1}var p2,kA;function nV(){return kA||(kA=1,p2=rV().uniqBy),p2}var aV=nV();const OA=Kl(aV);function sV(e,t,r){return t===!0?OA(e,r):typeof t=="function"?OA(e,t):e}var x2={exports:{}},g2={},b2={exports:{}},y2={};var PA;function iV(){if(PA)return y2;PA=1;var e=Qh();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,c=e.useDebugValue;function u(p,g){var b=g(),y=n({inst:{value:b,getSnapshot:g}}),N=y[0].inst,j=y[1];return i(function(){N.value=b,N.getSnapshot=g,d(N)&&j({inst:N})},[p,b,g]),s(function(){return d(N)&&j({inst:N}),p(function(){d(N)&&j({inst:N})})},[p]),c(b),b}function d(p){var g=p.getSnapshot;p=p.value;try{var b=g();return!r(p,b)}catch{return!0}}function f(p,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return y2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,y2}var LA;function oV(){return LA||(LA=1,b2.exports=iV()),b2.exports}var TA;function lV(){if(TA)return g2;TA=1;var e=Qh(),t=oV();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=e.useRef,c=e.useEffect,u=e.useMemo,d=e.useDebugValue;return g2.useSyncExternalStoreWithSelector=function(f,m,p,g,b){var y=i(null);if(y.current===null){var N={hasValue:!1,value:null};y.current=N}else N=y.current;y=u(function(){function S(D){if(!_){if(_=!0,E=D,D=g(D),b!==void 0&&N.hasValue){var M=N.value;if(b(M,D))return k=M}return k=D}if(M=k,n(E,D))return M;var R=g(D);return b!==void 0&&b(M,R)?(E=D,M):(E=D,k=R)}var _=!1,E,k,T=p===void 0?null:p;return[function(){return S(m())},T===null?void 0:function(){return S(T())}]},[m,p,g,b]);var j=s(f,y[0],y[1]);return c(function(){N.hasValue=!0,N.value=j},[j]),d(j),j},g2}var RA;function cV(){return RA||(RA=1,x2.exports=lV()),x2.exports}var uV=cV(),KN=v.createContext(null),dV=e=>e,na=()=>{var e=v.useContext(KN);return e?e.store.dispatch:dV},fg=()=>{},fV=()=>fg,hV=(e,t)=>e===t;function Bt(e){var t=v.useContext(KN),r=v.useMemo(()=>t?n=>{if(n!=null)return e(n)}:fg,[t,e]);return uV.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fV,t?t.store.getState:fg,t?t.store.getState:fg,r,hV)}function mV(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pV(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xV(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var DA=e=>Array.isArray(e)?e:[e];function gV(e){const t=Array.isArray(e[0])?e[0]:e;return xV(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function bV(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var yV=class{constructor(e){this.value=e}deref(){return this.value}},vV=typeof WeakRef<"u"?WeakRef:yV,wV=0,IA=1;function Sx(){return{s:wV,v:void 0,o:null,p:null}}function QP(e,t={}){let r=Sx();const{resultEqualityCheck:n}=t;let s,i=0;function c(){let u=r;const{length:d}=arguments;for(let p=0,g=d;p<g;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let y=u.o;y===null&&(u.o=y=new WeakMap);const N=y.get(b);N===void 0?(u=Sx(),y.set(b,u)):u=N}else{let y=u.p;y===null&&(u.p=y=new Map);const N=y.get(b);N===void 0?(u=Sx(),y.set(b,u)):u=N}}const f=u;let m;if(u.s===IA)m=u.v;else if(m=e.apply(null,arguments),i++,n){const p=s?.deref?.()??s;p!=null&&n(p,m)&&(m=p,i!==0&&i--),s=typeof m=="object"&&m!==null||typeof m=="function"?new vV(m):m}return f.s=IA,f.v=m,m}return c.clearCache=()=>{r=Sx(),c.resetResultsCount()},c.resultsCount=()=>i,c.resetResultsCount=()=>{i=0},c}function NV(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,c=0,u,d={},f=s.pop();typeof f=="object"&&(d=f,f=s.pop()),mV(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...d},{memoize:p,memoizeOptions:g=[],argsMemoize:b=QP,argsMemoizeOptions:y=[]}=m,N=DA(g),j=DA(y),S=gV(s),_=p(function(){return i++,f.apply(null,arguments)},...N),E=b(function(){c++;const T=bV(S,arguments);return u=_.apply(null,T),u},...j);return Object.assign(E,{resultFunc:f,memoizedResultFunc:_,dependencies:S,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var De=NV(QP),jV=Object.assign((e,t=De)=>{pV(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((c,u,d)=>(c[r[d]]=u,c),{}))},{withTypes:()=>jV}),v2={},w2={},N2={},MA;function SV(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const c=t(n),u=t(s);if(c===u&&c===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?u-c:c-u}return 0};e.compareValues=r})(N2)),N2}var j2={},S2={},BA;function ZP(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(S2)),S2}var zA;function AV(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZP(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,c){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||c!=null&&Object.hasOwn(c,i)}e.isKey=s})(j2)),j2}var FA;function _V(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SV(),r=AV(),n=FN();function s(i,c,u,d){if(i==null)return[];u=d?void 0:u,Array.isArray(i)||(i=Object.values(i)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(b=>String(b));const f=(b,y)=>{let N=b;for(let j=0;j<y.length&&N!=null;++j)N=N[y[j]];return N},m=(b,y)=>y==null||b==null?y:typeof b=="object"&&"key"in b?Object.hasOwn(y,b.key)?y[b.key]:f(y,b.path):typeof b=="function"?b(y):Array.isArray(b)?f(y,b):typeof y=="object"?y[b]:y,p=c.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return i.map(b=>({original:b,criteria:p.map(y=>m(y,b))})).slice().sort((b,y)=>{for(let N=0;N<p.length;N++){const j=t.compareValues(b.criteria[N],y.criteria[N],u[N]);if(j!==0)return j}return 0}).map(b=>b.original)}e.orderBy=s})(w2)),w2}var A2={},UA;function CV(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),c=(u,d)=>{for(let f=0;f<u.length;f++){const m=u[f];Array.isArray(m)&&d<i?c(m,d+1):s.push(m)}};return c(r,0),s}e.flatten=t})(A2)),A2}var _2={},qA;function JP(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XP(),r=HN(),n=HP(),s=KP();function i(c,u,d){return n.isObject(d)&&(typeof u=="number"&&r.isArrayLike(d)&&t.isIndex(u)&&u<d.length||typeof u=="string"&&u in d)?s.isEqualsSameValueZero(d[u],c):!1}e.isIterateeCall=i})(_2)),_2}var $A;function EV(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_V(),r=CV(),n=JP();function s(i,...c){const u=c.length;return u>1&&n.isIterateeCall(i,c[0],c[1])?c=[]:u>2&&n.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(i,r.flatten(c),["asc"])}e.sortBy=s})(v2)),v2}var C2,HA;function kV(){return HA||(HA=1,C2=EV().sortBy),C2}var OV=kV();const dy=Kl(OV);var eL=e=>e.legend.settings,PV=e=>e.legend.size,LV=e=>e.legend.payload;De([LV,eL],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?dy(n,r):n});var Ax=1;function TV(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),c={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(c.height-t.height)>Ax||Math.abs(c.left-t.left)>Ax||Math.abs(c.top-t.top)>Ax||Math.abs(c.width-t.width)>Ax)&&r({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function es(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RV=typeof Symbol=="function"&&Symbol.observable||"@@observable",GA=RV,E2=()=>Math.random().toString(36).substring(7).split("").join("."),DV={INIT:`@@redux/INIT${E2()}`,REPLACE:`@@redux/REPLACE${E2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${E2()}`},Jg=DV;function VN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function tL(e,t,r){if(typeof e!="function")throw new Error(es(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(es(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(es(1));return r(tL)(e,t)}let n=e,s=t,i=new Map,c=i,u=0,d=!1;function f(){c===i&&(c=new Map,i.forEach((j,S)=>{c.set(S,j)}))}function m(){if(d)throw new Error(es(3));return s}function p(j){if(typeof j!="function")throw new Error(es(4));if(d)throw new Error(es(5));let S=!0;f();const _=u++;return c.set(_,j),function(){if(S){if(d)throw new Error(es(6));S=!1,f(),c.delete(_),i=null}}}function g(j){if(!VN(j))throw new Error(es(7));if(typeof j.type>"u")throw new Error(es(8));if(typeof j.type!="string")throw new Error(es(17));if(d)throw new Error(es(9));try{d=!0,s=n(s,j)}finally{d=!1}return(i=c).forEach(_=>{_()}),j}function b(j){if(typeof j!="function")throw new Error(es(10));n=j,g({type:Jg.REPLACE})}function y(){const j=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(es(11));function _(){const k=S;k.next&&k.next(m())}return _(),{unsubscribe:j(_)}},[GA](){return this}}}return g({type:Jg.INIT}),{dispatch:g,subscribe:p,getState:m,replaceReducer:b,[GA]:y}}function IV(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Jg.INIT})>"u")throw new Error(es(12));if(typeof r(void 0,{type:Jg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(es(13))})}function rL(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const c=t[i];typeof e[c]=="function"&&(r[c]=e[c])}const n=Object.keys(r);let s;try{IV(r)}catch(i){s=i}return function(c={},u){if(s)throw s;let d=!1;const f={};for(let m=0;m<n.length;m++){const p=n[m],g=r[p],b=c[p],y=g(b,u);if(typeof y>"u")throw u&&u.type,new Error(es(14));f[p]=y,d=d||y!==b}return d=d||n.length!==Object.keys(c).length,d?f:c}}function eb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function MV(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(es(15))};const c={getState:s.getState,dispatch:(d,...f)=>i(d,...f)},u=e.map(d=>d(c));return i=eb(...u)(s.dispatch),{...s,dispatch:i}}}function nL(e){return VN(e)&&"type"in e&&typeof e.type=="string"}var aL=Symbol.for("immer-nothing"),KA=Symbol.for("immer-draftable"),Ps=Symbol.for("immer-state");function Ko(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _i=Object,Gh=_i.getPrototypeOf,tb="constructor",fy="prototype",a5="configurable",rb="enumerable",hg="writable",P0="value",Ic=e=>!!e&&!!e[Ps];function Zo(e){return e?sL(e)||my(e)||!!e[KA]||!!e[tb]?.[KA]||py(e)||xy(e):!1}var BV=_i[fy][tb].toString(),VA=new WeakMap;function sL(e){if(!e||!WN(e))return!1;const t=Gh(e);if(t===null||t===_i[fy])return!0;const r=_i.hasOwnProperty.call(t,tb)&&t[tb];if(r===Object)return!0;if(!Ah(r))return!1;let n=VA.get(r);return n===void 0&&(n=Function.toString.call(r),VA.set(r,n)),n===BV}function hy(e,t,r=!0){op(e)===0?(r?Reflect.ownKeys(e):_i.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function op(e){const t=e[Ps];return t?t.type_:my(e)?1:py(e)?2:xy(e)?3:0}var WA=(e,t,r=op(e))=>r===2?e.has(t):_i[fy].hasOwnProperty.call(e,t),s5=(e,t,r=op(e))=>r===2?e.get(t):e[t],nb=(e,t,r,n=op(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function zV(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var my=Array.isArray,py=e=>e instanceof Map,xy=e=>e instanceof Set,WN=e=>typeof e=="object",Ah=e=>typeof e=="function",k2=e=>typeof e=="boolean";function FV(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ac=e=>e.copy_||e.base_,YN=e=>e.modified_?e.copy_:e.base_;function i5(e,t){if(py(e))return new Map(e);if(xy(e))return new Set(e);if(my(e))return Array[fy].slice.call(e);const r=sL(e);if(t===!0||t==="class_only"&&!r){const n=_i.getOwnPropertyDescriptors(e);delete n[Ps];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const c=s[i],u=n[c];u[hg]===!1&&(u[hg]=!0,u[a5]=!0),(u.get||u.set)&&(n[c]={[a5]:!0,[hg]:!0,[rb]:u[rb],[P0]:e[c]})}return _i.create(Gh(e),n)}else{const n=Gh(e);if(n!==null&&r)return{...e};const s=_i.create(n);return _i.assign(s,e)}}function XN(e,t=!1){return gy(e)||Ic(e)||!Zo(e)||(op(e)>1&&_i.defineProperties(e,{set:_x,add:_x,clear:_x,delete:_x}),_i.freeze(e),t&&hy(e,(r,n)=>{XN(n,!0)},!1)),e}function UV(){Ko(2)}var _x={[P0]:UV};function gy(e){return e===null||!WN(e)?!0:_i.isFrozen(e)}var ab="MapSet",o5="Patches",YA="ArrayMethods",iL={};function lf(e){const t=iL[e];return t||Ko(0,e),t}var XA=e=>!!iL[e],L0,oL=()=>L0,qV=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:XA(ab)?lf(ab):void 0,arrayMethodsPlugin_:XA(YA)?lf(YA):void 0});function QA(e,t){t&&(e.patchPlugin_=lf(o5),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function l5(e){c5(e),e.drafts_.forEach($V),e.drafts_=null}function c5(e){e===L0&&(L0=e.parent_)}var ZA=e=>L0=qV(L0,e);function $V(e){const t=e[Ps];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function JA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ps].modified_&&(l5(t),Ko(4)),Zo(e)&&(e=e_(t,e));const{patchPlugin_:s}=t;s&&s.generateReplacementPatches_(r[Ps].base_,e,t)}else e=e_(t,r);return HV(t,e,!0),l5(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aL?e:void 0}function e_(e,t){if(gy(t))return t;const r=t[Ps];if(!r)return sb(t,e.handledSet_,e);if(!by(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);uL(r,e)}return r.copy_}function HV(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&XN(t,r)}function lL(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var by=(e,t)=>e.scope_===t,GV=[];function cL(e,t,r,n){const s=Ac(e),i=e.type_;if(n!==void 0&&s5(s,n,i)===t){nb(s,n,r,i);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;hy(s,(d,f)=>{if(Ic(f)){const m=u.get(f)||[];m.push(d),u.set(f,m)}})}const c=e.draftLocations_.get(t)??GV;for(const u of c)nb(s,u,r,i)}function KV(e,t,r){e.callbacks_.push(function(s){const i=t;if(!i||!by(i,s))return;s.mapSetPlugin_?.fixSetContents(i);const c=YN(i);cL(e,i.draft_??i,c,r),uL(i,s)})}function uL(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const s=n.getPath(e);s&&n.generatePatches_(e,s,t)}lL(e)}}function VV(e,t,r){const{scope_:n}=e;if(Ic(r)){const s=r[Ps];by(s,n)&&s.callbacks_.push(function(){mg(e);const c=YN(s);cL(e,r,c,t)})}else Zo(r)&&e.callbacks_.push(function(){const i=Ac(e);e.type_===3?i.has(r)&&sb(r,n.handledSet_,n):s5(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&sb(s5(e.copy_,t,e.type_),n.handledSet_,n)})}function sb(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ic(e)||t.has(e)||!Zo(e)||gy(e)||(t.add(e),hy(e,(n,s)=>{if(Ic(s)){const i=s[Ps];if(by(i,r)){const c=YN(i);nb(e,n,c,e.type_),lL(i)}}else Zo(s)&&sb(s,t,r)})),e}function WV(e,t){const r=my(e),n={type_:r?1:0,scope_:t?t.scope_:oL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let s=n,i=ib;r&&(s=[n],i=T0);const{revoke:c,proxy:u}=Proxy.revocable(s,i);return n.draft_=u,n.revoke_=c,[u,n]}var ib={get(e,t){if(t===Ps)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const s=Ac(e);if(!WA(s,t,e.type_))return YV(e,s,t);const i=s[t];if(e.finalized_||!Zo(i)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&FV(t))return i;if(i===O2(e.base_,t)){mg(e);const c=e.type_===1?+t:t,u=d5(e.scope_,i,e,c);return e.copy_[c]=u}return i},has(e,t){return t in Ac(e)},ownKeys(e){return Reflect.ownKeys(Ac(e))},set(e,t,r){const n=dL(Ac(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=O2(Ac(e),t),i=s?.[Ps];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(zV(r,s)&&(r!==void 0||WA(e.base_,t,e.type_)))return!0;mg(e),u5(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),VV(e,t,r)),!0},deleteProperty(e,t){return mg(e),O2(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),u5(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ac(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[hg]:!0,[a5]:e.type_!==1||t!=="length",[rb]:n[rb],[P0]:r[t]}},defineProperty(){Ko(11)},getPrototypeOf(e){return Gh(e.base_)},setPrototypeOf(){Ko(12)}},T0={};for(let e in ib){let t=ib[e];T0[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}T0.deleteProperty=function(e,t){return T0.set.call(this,e,t,void 0)};T0.set=function(e,t,r){return ib.set.call(this,e[0],t,r,e[0])};function O2(e,t){const r=e[Ps];return(r?Ac(r):e)[t]}function YV(e,t,r){const n=dL(t,r);return n?P0 in n?n[P0]:n.get?.call(e.draft_):void 0}function dL(e,t){if(!(t in e))return;let r=Gh(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Gh(r)}}function u5(e){e.modified_||(e.modified_=!0,e.parent_&&u5(e.parent_))}function mg(e){e.copy_||(e.assigned_=new Map,e.copy_=i5(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var XV=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,s)=>{if(Ah(r)&&!Ah(n)){const c=n;n=r;const u=this;return function(f=c,...m){return u.produce(f,p=>n.call(this,p,...m))}}Ah(n)||Ko(6),s!==void 0&&!Ah(s)&&Ko(7);let i;if(Zo(r)){const c=ZA(this),u=d5(c,r,void 0);let d=!0;try{i=n(u),d=!1}finally{d?l5(c):c5(c)}return QA(c,s),JA(i,c)}else if(!r||!WN(r)){if(i=n(r),i===void 0&&(i=r),i===aL&&(i=void 0),this.autoFreeze_&&XN(i,!0),s){const c=[],u=[];lf(o5).generateReplacementPatches_(r,i,{patches_:c,inversePatches_:u}),s(c,u)}return i}else Ko(1,r)},this.produceWithPatches=(r,n)=>{if(Ah(r))return(u,...d)=>this.produceWithPatches(u,f=>r(f,...d));let s,i;return[this.produce(r,n,(u,d)=>{s=u,i=d}),s,i]},k2(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),k2(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),k2(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Zo(t)||Ko(8),Ic(t)&&(t=Yo(t));const r=ZA(this),n=d5(r,t,void 0);return n[Ps].isManual_=!0,c5(r),n}finishDraft(t,r){const n=t&&t[Ps];(!n||!n.isManual_)&&Ko(9);const{scope_:s}=n;return QA(s,r),JA(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const s=lf(o5).applyPatches_;return Ic(t)?s(t,r):this.produce(t,i=>s(i,r))}};function d5(e,t,r,n){const[s,i]=py(t)?lf(ab).proxyMap_(t,r):xy(t)?lf(ab).proxySet_(t,r):WV(t,r);return(r?.scope_??oL()).drafts_.push(s),i.callbacks_=r?.callbacks_??[],i.key_=n,r&&n!==void 0?KV(r,i,n):i.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:f}=d;i.modified_&&f&&f.generatePatches_(i,[],d)}),s}function Yo(e){return Ic(e)||Ko(10,e),fL(e)}function fL(e){if(!Zo(e)||gy(e))return e;const t=e[Ps];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=i5(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=i5(e,!0);return hy(r,(s,i)=>{nb(r,s,fL(i))},n),t&&(t.finalized_=!1),r}var QV=new XV,hL=QV.produce;function mL(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var ZV=mL(),JV=mL,eW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?eb:eb.apply(null,arguments)};function mo(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(ki(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>nL(n)&&n.type===e,r}var pL=class p0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,p0.prototype)}static get[Symbol.species](){return p0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new p0(...t[0].concat(this)):new p0(...t.concat(this))}};function t_(e){return Zo(e)?hL(e,()=>{}):e}function Cx(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function tW(e){return typeof e=="boolean"}var rW=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let c=new pL;return r&&(tW(r)?c.push(ZV):c.push(JV(r.extraArgument))),c},xL="RTK_autoBatch",jn=()=>e=>({payload:e,meta:{[xL]:!0}}),r_=e=>t=>{setTimeout(t,e)},gL=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,c=!1;const u=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:r_(10):e.type==="callback"?e.queueNotification:r_(e.timeout),f=()=>{c=!1,i&&(i=!1,u.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const p=()=>s&&m(),g=n.subscribe(p);return u.add(m),()=>{g(),u.delete(m)}},dispatch(m){try{return s=!m?.meta?.[xL],i=!s,i&&(c||(c=!0,d(f))),n.dispatch(m)}finally{s=!0}}})},nW=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new pL(e);return n&&s.push(gL(typeof n=="object"?n:void 0)),s};function aW(e){const t=rW(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:c=void 0}=e||{};let u;if(typeof r=="function")u=r;else if(VN(r))u=rL(r);else throw new Error(ki(1));let d;typeof n=="function"?d=n(t):d=t();let f=eb;s&&(f=eW({trace:!1,...typeof s=="object"&&s}));const m=MV(...d),p=nW(m);let g=typeof c=="function"?c(p):p();const b=f(...g);return tL(u,i,b)}function bL(e){const t={},r=[];let n;const s={addCase(i,c){const u=typeof i=="string"?i:i.type;if(!u)throw new Error(ki(28));if(u in t)throw new Error(ki(29));return t[u]=c,s},addAsyncThunk(i,c){return c.pending&&(t[i.pending.type]=c.pending),c.rejected&&(t[i.rejected.type]=c.rejected),c.fulfilled&&(t[i.fulfilled.type]=c.fulfilled),c.settled&&r.push({matcher:i.settled,reducer:c.settled}),s},addMatcher(i,c){return r.push({matcher:i,reducer:c}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function sW(e){return typeof e=="function"}function iW(e,t){let[r,n,s]=bL(t),i;if(sW(e))i=()=>t_(e());else{const u=t_(e);i=()=>u}function c(u=i(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[s]),f.reduce((m,p)=>{if(p)if(Ic(m)){const b=p(m,d);return b===void 0?m:b}else{if(Zo(m))return hL(m,g=>p(g,d));{const g=p(m,d);if(g===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return m},u)}return c.getInitialState=i,c}var oW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",lW=(e=21)=>{let t="",r=e;for(;r--;)t+=oW[Math.random()*64|0];return t},cW=Symbol.for("rtk-slice-createasyncthunk");function uW(e,t){return`${e}/${t}`}function dW({creators:e}={}){const t=e?.asyncThunk?.[cW];return function(n){const{name:s,reducerPath:i=s}=n;if(!s)throw new Error(ki(11));const c=(typeof n.reducers=="function"?n.reducers(hW()):n.reducers)||{},u=Object.keys(c),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,k){const T=typeof E=="string"?E:E.type;if(!T)throw new Error(ki(12));if(T in d.sliceCaseReducersByType)throw new Error(ki(13));return d.sliceCaseReducersByType[T]=k,f},addMatcher(E,k){return d.sliceMatchers.push({matcher:E,reducer:k}),f},exposeAction(E,k){return d.actionCreators[E]=k,f},exposeCaseReducer(E,k){return d.sliceCaseReducersByName[E]=k,f}};u.forEach(E=>{const k=c[E],T={reducerName:E,type:uW(s,E),createNotation:typeof n.reducers=="function"};pW(k)?gW(T,k,f,t):mW(T,k,f)});function m(){const[E={},k=[],T=void 0]=typeof n.extraReducers=="function"?bL(n.extraReducers):[n.extraReducers],D={...E,...d.sliceCaseReducersByType};return iW(n.initialState,M=>{for(let R in D)M.addCase(R,D[R]);for(let R of d.sliceMatchers)M.addMatcher(R.matcher,R.reducer);for(let R of k)M.addMatcher(R.matcher,R.reducer);T&&M.addDefaultCase(T)})}const p=E=>E,g=new Map,b=new WeakMap;let y;function N(E,k){return y||(y=m()),y(E,k)}function j(){return y||(y=m()),y.getInitialState()}function S(E,k=!1){function T(M){let R=M[E];return typeof R>"u"&&k&&(R=Cx(b,T,j)),R}function D(M=p){const R=Cx(g,k,()=>new WeakMap);return Cx(R,M,()=>{const B={};for(const[K,U]of Object.entries(n.selectors??{}))B[K]=fW(U,M,()=>Cx(b,M,j),k);return B})}return{reducerPath:E,getSelectors:D,get selectors(){return D(T)},selectSlice:T}}const _={name:s,reducer:N,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:j,...S(i),injectInto(E,{reducerPath:k,...T}={}){const D=k??i;return E.inject({reducerPath:D,reducer:N},T),{..._,...S(D,!0)}}};return _}}function fW(e,t,r,n){function s(i,...c){let u=t(i);return typeof u>"u"&&n&&(u=r()),e(u,...c)}return s.unwrapped=e,s}var si=dW();function hW(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function mW({type:e,reducerName:t,createNotation:r},n,s){let i,c;if("reducer"in n){if(r&&!xW(n))throw new Error(ki(17));i=n.reducer,c=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,c?mo(e,c):mo(e))}function pW(e){return e._reducerDefinitionType==="asyncThunk"}function xW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function gW({type:e,reducerName:t},r,n,s){if(!s)throw new Error(ki(18));const{payloadCreator:i,fulfilled:c,pending:u,rejected:d,settled:f,options:m}=r,p=s(e,i,m);n.exposeAction(t,p),c&&n.addCase(p.fulfilled,c),u&&n.addCase(p.pending,u),d&&n.addCase(p.rejected,d),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(t,{fulfilled:c||Ex,pending:u||Ex,rejected:d||Ex,settled:f||Ex})}function Ex(){}var bW="task",yL="listener",vL="completed",QN="cancelled",yW=`task-${QN}`,vW=`task-${vL}`,f5=`${yL}-${QN}`,wW=`${yL}-${vL}`,yy=class{constructor(e){this.code=e,this.message=`${bW} ${QN} (reason: ${e})`}name="TaskAbortError";message},ZN=(e,t)=>{if(typeof e!="function")throw new TypeError(ki(32))},ob=()=>{},wL=(e,t=ob)=>(e.catch(t),e),NL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vd=e=>{if(e.aborted)throw new yy(e.reason)};function jL(e,t){let r=ob;return new Promise((n,s)=>{const i=()=>s(new yy(e.reason));if(e.aborted){i();return}r=NL(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=ob})}var NW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof yy?"cancelled":"rejected",error:r}}finally{t?.()}},lb=e=>t=>wL(jL(e,t).then(r=>(Vd(e),r))),SL=e=>{const t=lb(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ph}=Object,n_={},vy="listenerMiddleware",jW=(e,t)=>{const r=n=>NL(e,()=>n.abort(e.reason));return(n,s)=>{ZN(n);const i=new AbortController;r(i);const c=NW(async()=>{Vd(e),Vd(i.signal);const u=await n({pause:lb(i.signal),delay:SL(i.signal),signal:i.signal});return Vd(i.signal),u},()=>i.abort(vW));return s?.autoJoin&&t.push(c.catch(ob)),{result:lb(e)(c),cancel(){i.abort(yW)}}}},SW=(e,t)=>{const r=async(n,s)=>{Vd(t);let i=()=>{};const u=[new Promise((d,f)=>{let m=e({predicate:n,effect:(p,g)=>{g.unsubscribe(),d([p,g.getState(),g.getOriginalState()])}});i=()=>{m(),f()}})];s!=null&&u.push(new Promise(d=>setTimeout(d,s,null)));try{const d=await jL(t,Promise.race(u));return Vd(t),d}finally{i()}};return(n,s)=>wL(r(n,s))},AL=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=mo(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(ki(21));return ZN(i),{predicate:s,type:t,effect:i}},_L=Ph(e=>{const{type:t,predicate:r,effect:n}=AL(e);return{id:lW(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ki(22))}}},{withTypes:()=>_L}),a_=(e,t)=>{const{type:r,effect:n,predicate:s}=AL(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},h5=e=>{e.pending.forEach(t=>{t.abort(f5)})},AW=(e,t)=>()=>{for(const r of t.keys())h5(r);e.clear()},s_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},CL=Ph(mo(`${vy}/add`),{withTypes:()=>CL}),_W=mo(`${vy}/removeAll`),EL=Ph(mo(`${vy}/remove`),{withTypes:()=>EL}),CW=(...e)=>{console.error(`${vy}/error`,...e)},lp=(e={})=>{const t=new Map,r=new Map,n=b=>{const y=r.get(b)??0;r.set(b,y+1)},s=b=>{const y=r.get(b)??1;y===1?r.delete(b):r.set(b,y-1)},{extra:i,onError:c=CW}=e;ZN(c);const u=b=>(b.unsubscribe=()=>t.delete(b.id),t.set(b.id,b),y=>{b.unsubscribe(),y?.cancelActive&&h5(b)}),d=b=>{const y=a_(t,b)??_L(b);return u(y)};Ph(d,{withTypes:()=>d});const f=b=>{const y=a_(t,b);return y&&(y.unsubscribe(),b.cancelActive&&h5(y)),!!y};Ph(f,{withTypes:()=>f});const m=async(b,y,N,j)=>{const S=new AbortController,_=SW(d,S.signal),E=[];try{b.pending.add(S),n(b),await Promise.resolve(b.effect(y,Ph({},N,{getOriginalState:j,condition:(k,T)=>_(k,T).then(Boolean),take:_,delay:SL(S.signal),pause:lb(S.signal),extra:i,signal:S.signal,fork:jW(S.signal,E),unsubscribe:b.unsubscribe,subscribe:()=>{t.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((k,T,D)=>{k!==S&&(k.abort(f5),D.delete(k))})},cancel:()=>{S.abort(f5),b.pending.delete(S)},throwIfCancelled:()=>{Vd(S.signal)}})))}catch(k){k instanceof yy||s_(c,k,{raisedBy:"effect"})}finally{await Promise.all(E),S.abort(wW),s(b),b.pending.delete(S)}},p=AW(t,r);return{middleware:b=>y=>N=>{if(!nL(N))return y(N);if(CL.match(N))return d(N.payload);if(_W.match(N)){p();return}if(EL.match(N))return f(N.payload);let j=b.getState();const S=()=>{if(j===n_)throw new Error(ki(23));return j};let _;try{if(_=y(N),t.size>0){const E=b.getState(),k=Array.from(t.values());for(const T of k){let D=!1;try{D=T.predicate(N,E,j)}catch(M){D=!1,s_(c,M,{raisedBy:"predicate"})}D&&m(T,N,b,S)}}}finally{j=n_}return _},startListening:d,stopListening:f,clearListeners:p}};function ki(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var EW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},kL=si({name:"chartLayout",initialState:EW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:kW,setLayout:OW,setChartSize:PW,setScale:LW}=kL.actions,TW=kL.reducer;function OL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Pr(e){return Number.isFinite(e)}function Yu(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){RW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RW(e,t,r){return(t=DW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DW(e){var t=IW(e,"string");return typeof t=="symbol"?t:t+""}function IW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function da(e,t,r){return Rn(e)||Rn(t)?r:Hl(t)?Hh(e,t,r):typeof t=="function"?t(e):r}var MW=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&i!=="center"&&Lt(e[i]))return Eh(Eh({},e),{},{[i]:e[i]+(n||0)});if((u==="horizontal"||u==="vertical"&&i==="center")&&c!=="middle"&&Lt(e[c]))return Eh(Eh({},e),{},{[c]:e[c]+(s||0)})}return e},Vc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",BW=(e,t)=>{if(!t||t.length!==2||!Lt(t[0])||!Lt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Lt(e[0])||e[0]<r)&&(s[0]=r),(!Lt(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},zW=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var s=0;s<n;++s)for(var i=0,c=0,u=0;u<r;++u){var d=e[u],f=d?.[s];if(f!=null){var m=f[1],p=f[0],g=$l(m)?p:m;g>=0?(f[0]=i,i+=g,f[1]=i):(f[0]=c,c+=g,f[1]=c)}}}},FW=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var s=0;s<n;++s)for(var i=0,c=0;c<r;++c){var u=e[c],d=u?.[s];if(d!=null){var f=$l(d[1])?d[0]:d[1];f>=0?(d[0]=i,i+=f,d[1]=i):(d[0]=0,d[1]=0)}}}},UW={sign:zW,expand:pK,none:sf,silhouette:xK,wiggle:gK,positive:FW},qW=(e,t,r)=>{var n,s=(n=UW[r])!==null&&n!==void 0?n:sf,i=mK().keys(t).value((u,d)=>Number(da(u,d,0))).order(r5).offset(s),c=i(e);return c.forEach((u,d)=>{u.forEach((f,m)=>{var p=da(e[m],t[d],0);Array.isArray(p)&&p.length===2&&Lt(p[0])&&Lt(p[1])&&(f[0]=p[0],f[1]=p[1])})}),c};function $W(e){return e==null?void 0:String(e)}function o_(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rn(s[t.dataKey])){var u=zP(r,"value",s[t.dataKey]);if(u)return u.coordinate+n/2}return r!=null&&r[i]?r[i].coordinate+n/2:null}var d=da(s,Rn(c)?t.dataKey:c),f=t.scale.map(d);return Lt(f)?f:null}var l_=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:c}=e;if(t.type==="category")return r[c]?r[c].coordinate+n:null;var u=da(i,t.dataKey,t.scale.domain()[c]);if(Rn(u))return null;var d=t.scale.map(u);return Lt(d)?d-s/2+n:null},HW=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},GW=e=>{var t=e.flat(2).filter(Lt);return[Math.min(...t),Math.max(...t)]},KW=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],VW=(e,t,r)=>{if(e!=null)return KW(Object.keys(e).reduce((n,s)=>{var i=e[s];if(!i)return n;var{stackedData:c}=i,u=c.reduce((d,f)=>{var m=OL(f,t,r),p=GW(m);return!Pr(p[0])||!Pr(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(u[0],n[0]),Math.max(u[1],n[1])]},[1/0,-1/0]))},c_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=dy(t,m=>m.coordinate),i=1/0,c=1,u=s.length;c<u;c++){var d=s[c],f=s[c-1];i=Math.min((d?.coordinate||0)-(f?.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function d_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return Eh(Eh({},t),{},{dataKey:r,payload:n,value:s,name:i})}function wy(e,t){if(e)return String(e);if(typeof t=="string")return t}var WW=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},YW=(e,t)=>t==="centric"?e.angle:e.radius,Wc=e=>e.layout.width,Yc=e=>e.layout.height,XW=e=>e.layout.scale,PL=e=>e.layout.margin,Ny=De(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),jy=De(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),QW="data-recharts-item-index",ZW="data-recharts-item-id",cp=60;function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){JW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JW(e,t,r){return(t=eY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eY(e){var t=tY(e,"string");return typeof t=="symbol"?t:t+""}function tY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rY=e=>e.brush.height;function nY(e){var t=jy(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:cp;return r+s}return r},0)}function aY(e){var t=jy(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:cp;return r+s}return r},0)}function sY(e){var t=Ny(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function iY(e){var t=Ny(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ba=De([Wc,Yc,PL,rY,nY,aY,sY,iY,eL,PV],(e,t,r,n,s,i,c,u,d,f)=>{var m={left:(r.left||0)+s,right:(r.right||0)+i},p={top:(r.top||0)+c,bottom:(r.bottom||0)+u},g=kx(kx({},p),m),b=g.bottom;g.bottom+=n,g=MW(g,d,f);var y=e-g.left-g.right,N=t-g.top-g.bottom;return kx(kx({brushBottom:b},g),{},{width:Math.max(y,0),height:Math.max(N,0)})}),oY=De(Ba,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),JN=De(Wc,Yc,(e,t)=>({x:0,y:0,width:e,height:t})),lY=v.createContext(null),Ls=()=>v.useContext(lY)!=null,Sy=e=>e.brush,Ay=De([Sy,Ba,PL],(e,t,r)=>({height:e.height,x:Lt(e.x)?e.x:t.left,y:Lt(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Lt(e.width)?e.width:t.width})),P2={},L2={},T2={},h_;function cY(){return h_||(h_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let c,u=null;const d=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),m=()=>{u!==null&&(r.apply(c,u),c=void 0,u=null)},p=()=>{f&&m(),N()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},n)},y=()=>{g!==null&&(clearTimeout(g),g=null)},N=()=>{y(),c=void 0,u=null},j=()=>{m()},S=function(..._){if(s?.aborted)return;c=this,u=_;const E=g==null;b(),d&&E&&m()};return S.schedule=b,S.cancel=N,S.flush=j,s?.addEventListener("abort",N,{once:!0}),S}e.debounce=t})(T2)),T2}var m_;function uY(){return m_||(m_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cY();function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:c=!1,trailing:u=!0,maxWait:d}=i,f=Array(2);c&&(f[0]="leading"),u&&(f[1]="trailing");let m,p=null;const g=t.debounce(function(...N){m=n.apply(this,N),p=null},s,{edges:f}),b=function(...N){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=n.apply(this,N),p=Date.now(),g.cancel(),g.schedule(),m):(g.apply(this,N),m)},y=()=>(g.flush(),m);return b.cancel=g.cancel,b.flush=y,b}e.debounce=r})(L2)),L2}var p_;function dY(){return p_||(p_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uY();function r(n,s=0,i={}){const{leading:c=!0,trailing:u=!0}=i;return t.debounce(n,s,{leading:c,maxWait:s,trailing:u})}e.throttle=r})(P2)),P2}var R2,x_;function fY(){return x_||(x_=1,R2=dY().throttle),R2}var hY=fY();const mY=Kl(hY);var g_=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(r.replace(/%s/g,()=>s[c++]))}},Ml={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},LL=(e,t,r)=>{var{width:n=Ml.width,height:s=Ml.height,aspect:i,maxHeight:c}=r,u=of(n)?e:Number(n),d=of(s)?t:Number(s);return i&&i>0&&(u?d=u/i:d&&(u=d*i),c&&d!=null&&d>c&&(d=c)),{calculatedWidth:u,calculatedHeight:d}},pY={width:0,height:0,overflow:"visible"},xY={width:0,overflowX:"visible"},gY={height:0,overflowY:"visible"},bY={},yY=e=>{var{width:t,height:r}=e,n=of(t),s=of(r);return n&&s?pY:n?xY:s?gY:bY};function vY(e){var{width:t,height:r,aspect:n}=e,s=t,i=r;return s===void 0&&i===void 0?(s=Ml.width,i=Ml.height):s===void 0?s=n&&n>0?void 0:Ml.width:i===void 0&&(i=n&&n>0?void 0:Ml.height),{width:s,height:i}}function m5(){return m5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m5.apply(null,arguments)}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){wY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wY(e,t,r){return(t=NY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NY(e){var t=jY(e,"string");return typeof t=="symbol"?t:t+""}function jY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TL=v.createContext(Ml.initialDimension);function SY(e){return Yu(e.width)&&Yu(e.height)}function RL(e){var{children:t,width:r,height:n}=e,s=v.useMemo(()=>({width:r,height:n}),[r,n]);return SY(s)?v.createElement(TL.Provider,{value:s},t):null}var ej=()=>v.useContext(TL),AY=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n=Ml.initialDimension,width:s,height:i,minWidth:c=Ml.minWidth,minHeight:u,maxHeight:d,children:f,debounce:m=Ml.debounce,id:p,className:g,onResize:b,style:y={}}=e,N=v.useRef(null),j=v.useRef();j.current=b,v.useImperativeHandle(t,()=>N.current);var[S,_]=v.useState({containerWidth:n.width,containerHeight:n.height}),E=v.useCallback((R,B)=>{_(K=>{var U=Math.round(R),F=Math.round(B);return K.containerWidth===U&&K.containerHeight===F?K:{containerWidth:U,containerHeight:F}})},[]);v.useEffect(()=>{if(N.current==null||typeof ResizeObserver>"u")return xf;var R=F=>{var X,Q=F[0];if(Q!=null){var{width:pe,height:re}=Q.contentRect;E(pe,re),(X=j.current)===null||X===void 0||X.call(j,pe,re)}};m>0&&(R=mY(R,m,{trailing:!0,leading:!1}));var B=new ResizeObserver(R),{width:K,height:U}=N.current.getBoundingClientRect();return E(K,U),B.observe(N.current),()=>{B.disconnect()}},[E,m]);var{containerWidth:k,containerHeight:T}=S;g_(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:M}=LL(k,T,{width:s,height:i,aspect:r,maxHeight:d});return g_(D!=null&&D>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,M,s,i,c,u,r),v.createElement("div",{id:p?"".concat(p):void 0,className:Qr("recharts-responsive-container",g),style:y_(y_({},y),{},{width:s,height:i,minWidth:c,minHeight:u,maxHeight:d}),ref:N},v.createElement("div",{style:yY({width:s,height:i})},v.createElement(RL,{width:D,height:M},f)))}),_y=v.forwardRef((e,t)=>{var r=ej();if(Yu(r.width)&&Yu(r.height))return e.children;var{width:n,height:s}=vY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:c}=LL(void 0,void 0,{width:n,height:s,aspect:e.aspect,maxHeight:e.maxHeight});return Lt(i)&&Lt(c)?v.createElement(RL,{width:i,height:c},e.children):v.createElement(AY,m5({},e,{width:n,height:s,ref:t}))});function tj(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Cy=()=>{var e,t=Ls(),r=Bt(oY),n=Bt(Ay),s=(e=Bt(Sy))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},_Y={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},CY=()=>{var e;return(e=Bt(Ba))!==null&&e!==void 0?e:_Y},EY=()=>Bt(Wc),kY=()=>Bt(Yc),Fr=e=>e.layout.layoutType,gf=()=>Bt(Fr),DL=()=>{var e=gf();if(e==="horizontal"||e==="vertical")return e},IL=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},OY=()=>{var e=gf();return e!==void 0},up=e=>{var t=na(),r=Ls(),{width:n,height:s}=e,i=ej(),c=n,u=s;return i&&(c=i.width>0?i.width:n,u=i.height>0?i.height:s),v.useEffect(()=>{!r&&Yu(c)&&Yu(u)&&t(PW({width:c,height:u}))},[t,r,c,u]),null},ML=Symbol.for("immer-nothing"),v_=Symbol.for("immer-draftable"),Li=Symbol.for("immer-state");function Vo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var R0=Object.getPrototypeOf;function Vh(e){return!!e&&!!e[Li]}function cf(e){return e?BL(e)||Array.isArray(e)||!!e[v_]||!!e.constructor?.[v_]||dp(e)||ky(e):!1}var PY=Object.prototype.constructor.toString(),w_=new WeakMap;function BL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=w_.get(r);return n===void 0&&(n=Function.toString.call(r),w_.set(r,n)),n===PY}function cb(e,t,r=!0){Ey(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(s=>{t(s,e[s],e)}):e.forEach((n,s)=>t(s,n,e))}function Ey(e){const t=e[Li];return t?t.type_:Array.isArray(e)?1:dp(e)?2:ky(e)?3:0}function p5(e,t){return Ey(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function zL(e,t,r){const n=Ey(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function LY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function dp(e){return e instanceof Map}function ky(e){return e instanceof Set}function Id(e){return e.copy_||e.base_}function x5(e,t){if(dp(e))return new Map(e);if(ky(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=BL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Li];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const c=s[i],u=n[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(n[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(R0(e),n)}else{const n=R0(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function rj(e,t=!1){return Oy(e)||Vh(e)||!cf(e)||(Ey(e)>1&&Object.defineProperties(e,{set:Ox,add:Ox,clear:Ox,delete:Ox}),Object.freeze(e),t&&Object.values(e).forEach(r=>rj(r,!0))),e}function TY(){Vo(2)}var Ox={value:TY};function Oy(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var RY={};function uf(e){const t=RY[e];return t||Vo(0,e),t}var D0;function FL(){return D0}function DY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function N_(e,t){t&&(uf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function g5(e){b5(e),e.drafts_.forEach(IY),e.drafts_=null}function b5(e){e===D0&&(D0=e.parent_)}function j_(e){return D0=DY(D0,e)}function IY(e){const t=e[Li];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function S_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Li].modified_&&(g5(t),Vo(4)),cf(e)&&(e=ub(t,e),t.parent_||db(t,e)),t.patches_&&uf("Patches").generateReplacementPatches_(r[Li].base_,e,t.patches_,t.inversePatches_)):e=ub(t,r,[]),g5(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ML?e:void 0}function ub(e,t,r){if(Oy(t))return t;const n=e.immer_.shouldUseStrictIteration(),s=t[Li];if(!s)return cb(t,(i,c)=>A_(e,s,t,i,c,r),n),t;if(s.scope_!==e)return t;if(!s.modified_)return db(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const i=s.copy_;let c=i,u=!1;s.type_===3&&(c=new Set(i),i.clear(),u=!0),cb(c,(d,f)=>A_(e,s,i,d,f,r,u),n),db(e,i,!1),r&&e.patches_&&uf("Patches").generatePatches_(s,r,e.patches_,e.inversePatches_)}return s.copy_}function A_(e,t,r,n,s,i,c){if(s==null||typeof s!="object"&&!c)return;const u=Oy(s);if(!(u&&!c)){if(Vh(s)){const d=i&&t&&t.type_!==3&&!p5(t.assigned_,n)?i.concat(n):void 0,f=ub(e,s,d);if(zL(r,n,f),Vh(f))e.canAutoFreeze_=!1;else return}else c&&r.add(s);if(cf(s)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===s&&u)return;ub(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(dp(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&db(e,s)}}}function db(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&rj(t,r)}function MY(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:FL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=nj;r&&(s=[n],i=I0);const{revoke:c,proxy:u}=Proxy.revocable(s,i);return n.draft_=u,n.revoke_=c,u}var nj={get(e,t){if(t===Li)return e;const r=Id(e);if(!p5(r,t))return BY(e,r,t);const n=r[t];return e.finalized_||!cf(n)?n:n===D2(e.base_,t)?(I2(e),e.copy_[t]=v5(n,e)):n},has(e,t){return t in Id(e)},ownKeys(e){return Reflect.ownKeys(Id(e))},set(e,t,r){const n=UL(Id(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=D2(Id(e),t),i=s?.[Li];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(LY(r,s)&&(r!==void 0||p5(e.base_,t)))return!0;I2(e),y5(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return D2(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,I2(e),y5(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Id(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vo(11)},getPrototypeOf(e){return R0(e.base_)},setPrototypeOf(){Vo(12)}},I0={};cb(nj,(e,t)=>{I0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});I0.deleteProperty=function(e,t){return I0.set.call(this,e,t,void 0)};I0.set=function(e,t,r){return nj.set.call(this,e[0],t,r,e[0])};function D2(e,t){const r=e[Li];return(r?Id(r):e)[t]}function BY(e,t,r){const n=UL(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function UL(e,t){if(!(t in e))return;let r=R0(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=R0(r)}}function y5(e){e.modified_||(e.modified_=!0,e.parent_&&y5(e.parent_))}function I2(e){e.copy_||(e.copy_=x5(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var zY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const c=this;return function(d=i,...f){return c.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&Vo(6),n!==void 0&&typeof n!="function"&&Vo(7);let s;if(cf(t)){const i=j_(this),c=v5(t,void 0);let u=!0;try{s=r(c),u=!1}finally{u?g5(i):b5(i)}return N_(i,n),S_(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===ML&&(s=void 0),this.autoFreeze_&&rj(s,!0),n){const i=[],c=[];uf("Patches").generateReplacementPatches_(t,s,i,c),n(i,c)}return s}else Vo(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,d=>t(d,...u));let n,s;return[this.produce(t,r,(c,u)=>{n=c,s=u}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){cf(e)||Vo(8),Vh(e)&&(e=FY(e));const t=j_(this),r=v5(e,void 0);return r[Li].isManual_=!0,b5(t),r}finishDraft(e,t){const r=e&&e[Li];(!r||!r.isManual_)&&Vo(9);const{scope_:n}=r;return N_(n,t),S_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=uf("Patches").applyPatches_;return Vh(e)?n(e,t):this.produce(e,s=>n(s,t))}};function v5(e,t){const r=dp(e)?uf("MapSet").proxyMap_(e,t):ky(e)?uf("MapSet").proxySet_(e,t):MY(e,t);return(t?t.scope_:FL()).drafts_.push(r),r}function FY(e){return Vh(e)||Vo(10,e),qL(e)}function qL(e){if(!cf(e)||Oy(e))return e;const t=e[Li];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=x5(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=x5(e,!0);return cb(r,(s,i)=>{zL(r,s,qL(i))},n),t&&(t.finalized_=!1),r}var UY=new zY;UY.produce;var qY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$L=si({name:"legend",initialState:qY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:jn()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Yo(e).payload.indexOf(r);s>-1&&(e.payload[s]=n)},prepare:jn()},removeLegendPayload:{reducer(e,t){var r=Yo(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:jn()}}}),{setLegendSize:y0e,setLegendSettings:v0e,addLegendPayload:$Y,replaceLegendPayload:HY,removeLegendPayload:GY}=$L.actions,KY=$L.reducer;function w5(){return w5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w5.apply(null,arguments)}function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){VY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VY(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XY(e){return Array.isArray(e)&&Hl(e[0])&&Hl(e[1])?e.join(" ~ "):e}var xh={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},QY=e=>{var{separator:t=xh.separator,contentStyle:r,itemStyle:n,labelStyle:s=xh.labelStyle,payload:i,formatter:c,itemSorter:u,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:g=xh.accessibilityLayer}=e,b=()=>{if(i&&i.length){var T={padding:0,margin:0},D=(u?dy(i,u):i).map((M,R)=>{if(M.type==="none")return null;var B=M.formatter||c||XY,{value:K,name:U}=M,F=K,X=U;if(B){var Q=B(K,U,M,R,i);if(Array.isArray(Q))[F,X]=Q;else if(Q!=null)F=Q;else return null}var pe=r0(r0({},xh.itemStyle),{},{color:M.color||xh.itemStyle.color},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:pe},Hl(X)?v.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Hl(X)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},F),v.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:T},D)}return null},y=r0(r0({},xh.contentStyle),r),N=r0({margin:0},s),j=!Rn(m),S=j?m:"",_=Qr("recharts-default-tooltip",d),E=Qr("recharts-tooltip-label",f);j&&p&&i!==void 0&&i!==null&&(S=p(m,i));var k=g?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",w5({className:_,style:y},k),v.createElement("p",{className:E,style:N},v.isValidElement(S)?S:"".concat(S)),b())},n0="recharts-tooltip-wrapper",ZY={visibility:"hidden"};function JY(e){var{coordinate:t,translateX:r,translateY:n}=e;return Qr(n0,{["".concat(n0,"-right")]:Lt(r)&&t&&Lt(t.x)&&r>=t.x,["".concat(n0,"-left")]:Lt(r)&&t&&Lt(t.x)&&r<t.x,["".concat(n0,"-bottom")]:Lt(n)&&t&&Lt(t.y)&&n>=t.y,["".concat(n0,"-top")]:Lt(n)&&t&&Lt(t.y)&&n<t.y})}function C_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:s,position:i,reverseDirection:c,tooltipDimension:u,viewBox:d,viewBoxDimension:f}=e;if(i&&Lt(i[n]))return i[n];var m=r[n]-u-(s>0?s:0),p=r[n]+s;if(t[n])return c[n]?m:p;var g=d[n];if(g==null)return 0;if(c[n]){var b=m,y=g;return b<y?Math.max(p,g):Math.max(m,g)}if(f==null)return 0;var N=p+u,j=g+f;return N>j?Math.max(m,g):Math.max(p,g)}function eX(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function tX(e){var{allowEscapeViewBox:t,coordinate:r,offsetTop:n,offsetLeft:s,position:i,reverseDirection:c,tooltipBox:u,useTranslate3d:d,viewBox:f}=e,m,p,g;return u.height>0&&u.width>0&&r?(p=C_({allowEscapeViewBox:t,coordinate:r,key:"x",offset:s,position:i,reverseDirection:c,tooltipDimension:u.width,viewBox:f,viewBoxDimension:f.width}),g=C_({allowEscapeViewBox:t,coordinate:r,key:"y",offset:n,position:i,reverseDirection:c,tooltipDimension:u.height,viewBox:f,viewBoxDimension:f.height}),m=eX({translateX:p,translateY:g,useTranslate3d:d})):m=ZY,{cssProperties:m,cssClasses:JY({translateX:p,translateY:g,coordinate:r})}}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Px(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){N5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N5(e,t,r){return(t=rX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aX extends v.PureComponent{constructor(){super(...arguments),N5(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),N5(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:c,hasPayload:u,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:g,viewBox:b,wrapperStyle:y,lastBoundingBox:N,innerRef:j,hasPortalFromProps:S}=this.props,_=typeof f=="number"?f:f.x,E=typeof f=="number"?f:f.y,{cssClasses:k,cssProperties:T}=tX({allowEscapeViewBox:r,coordinate:c,offsetLeft:_,offsetTop:E,position:m,reverseDirection:p,tooltipBox:{height:N.height,width:N.width},useTranslate3d:g,viewBox:b}),D=S?{}:Px(Px({transition:d&&t?"transform ".concat(n,"ms ").concat(s):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=Px(Px({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},y);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:M,ref:j},i)}}var HL=()=>{var e;return(e=Bt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function j5(){return j5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j5.apply(null,arguments)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){sX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sX(e,t,r){return(t=iX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iX(e){var t=oX(e,"string");return typeof t=="symbol"?t:t+""}function oX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P_={curveBasisClosed:nK,curveBasisOpen:aK,curveBasis:rK,curveBumpX:qG,curveBumpY:$G,curveLinearClosed:sK,curveLinear:cy,curveMonotoneX:iK,curveMonotoneY:oK,curveNatural:lK,curveStep:cK,curveStepAfter:dK,curveStepBefore:uK},fb=e=>Pr(e.x)&&Pr(e.y),L_=e=>e.base!=null&&fb(e.base)&&fb(e),a0=e=>e.x,s0=e=>e.y,lX=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(ip(e));if((r==="curveMonotone"||r==="curveBump")&&t){var n=P_["".concat(r).concat(t==="vertical"?"Y":"X")];if(n)return n}return P_[r]||cy},T_={connectNulls:!1,type:"linear"},cX=e=>{var{type:t=T_.type,points:r=[],baseLine:n,layout:s,connectNulls:i=T_.connectNulls}=e,c=lX(t,s),u=i?r.filter(fb):r;if(Array.isArray(n)){var d,f=r.map((y,N)=>O_(O_({},y),{},{base:n[N]}));s==="vertical"?d=jx().y(s0).x1(a0).x0(y=>y.base.x):d=jx().x(a0).y1(s0).y0(y=>y.base.y);var m=d.defined(L_).curve(c),p=i?f.filter(L_):f;return m(p)}var g;s==="vertical"&&Lt(n)?g=jx().y(s0).x1(a0).x0(n):Lt(n)?g=jx().x(a0).y1(s0).y0(n):g=_P().x(a0).y(s0);var b=g.defined(fb).curve(c);return b(u)},GL=e=>{var{className:t,points:r,path:n,pathRef:s}=e,i=gf();if((!r||!r.length)&&!n)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},u=r&&r.length?cX(c):n;return v.createElement("path",j5({},ql(e),qN(e),{className:Qr("recharts-curve",t),d:u===null?void 0:u,ref:s}))},uX=["x","y","top","left","width","height","className"];function S5(){return S5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S5.apply(null,arguments)}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){fX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fX(e,t,r){return(t=hX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pX(e,t){if(e==null)return{};var r,n,s=xX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function xX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gX=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),bX=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:c=0,className:u}=e,d=pX(e,uX),f=dX({x:t,y:r,top:n,left:s,width:i,height:c},d);return!Lt(t)||!Lt(r)||!Lt(i)||!Lt(c)||!Lt(n)||!Lt(s)?null:v.createElement("path",S5({},Os(f),{className:Qr("recharts-cross",u),d:gX(t,r,i,c,n,s)}))};function yX(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){vX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vX(e,t,r){return(t=wX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jX=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),KL=(e,t,r)=>e.map(n=>"".concat(jX(n)," ").concat(t,"ms ").concat(r)).join(","),SX=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),M0=(e,t)=>Object.keys(t).reduce((r,n)=>I_(I_({},r),{},{[n]:e(n,t[n])}),{});function M_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M_(Object(r),!0).forEach(function(n){AX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AX(e,t,r){return(t=_X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _X(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hb=(e,t,r)=>e+(t-e)*r,A5=e=>{var{from:t,to:r}=e;return t!==r},VL=(e,t,r)=>{var n=M0((s,i)=>{if(A5(i)){var[c,u]=e(i.from,i.to,i.velocity);return ja(ja({},i),{},{from:c,velocity:u})}return i},t);return r<1?M0((s,i)=>A5(i)&&n[s]!=null?ja(ja({},i),{},{velocity:hb(i.velocity,n[s].velocity,r),from:hb(i.from,n[s].from,r)}):i,t):VL(e,n,r-1)};function EX(e,t,r,n,s,i){var c,u=n.reduce((g,b)=>ja(ja({},g),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),d=()=>M0((g,b)=>b.from,u),f=()=>!Object.values(u).filter(A5).length,m=null,p=g=>{c||(c=g);var b=g-c,y=b/r.dt;u=VL(r,u,y),s(ja(ja(ja({},e),t),d())),c=g,f()||(m=i.setTimeout(p))};return()=>(m=i.setTimeout(p),()=>{var g;(g=m)===null||g===void 0||g()})}function kX(e,t,r,n,s,i,c){var u=null,d=s.reduce((p,g)=>{var b=e[g],y=t[g];return b==null||y==null?p:ja(ja({},p),{},{[g]:[b,y]})},{}),f,m=p=>{f||(f=p);var g=(p-f)/n,b=M0((N,j)=>hb(...j,r(g)),d);if(i(ja(ja(ja({},e),t),b)),g<1)u=c.setTimeout(m);else{var y=M0((N,j)=>hb(...j,r(1)),d);i(ja(ja(ja({},e),t),y))}};return()=>(u=c.setTimeout(m),()=>{var p;(p=u)===null||p===void 0||p()})}const OX=(e,t,r,n,s,i)=>{var c=SX(e,t);return r==null?()=>(s(ja(ja({},e),t)),()=>{}):r.isStepper===!0?EX(e,t,r,c,s,i):kX(e,t,r,n,c,s,i)};var mb=1e-4,WL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],YL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),B_=(e,t)=>r=>{var n=WL(e,t);return YL(n,r)},PX=(e,t)=>r=>{var n=WL(e,t),s=[...n.map((i,c)=>i*c).slice(1),0];return YL(s,r)},LX=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var s=n.map(i=>parseFloat(i));return[s[0],s[1],s[2],s[3]]},TX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var s=LX(r[0]);if(s)return s}}return r.length===4?r:[0,0,1,1]},RX=(e,t,r,n)=>{var s=B_(e,r),i=B_(t,n),c=PX(e,r),u=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,g=0;g<8;++g){var b=s(p)-m,y=c(p);if(Math.abs(b-m)<mb||y<mb)return i(p);p=u(p-b/y)}return i(p)};return d.isStepper=!1,d},z_=function(){return RX(...TX(...arguments))},DX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(c,u,d)=>{var f=-(c-u)*r,m=d*n,p=d+(f-m)*s/1e3,g=d*s/1e3+c;return Math.abs(g-u)<mb&&Math.abs(p)<mb?[u,0]:[g,p]};return i.isStepper=!0,i.dt=s,i},IX=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return z_(e);case"spring":return DX();default:if(e.split("(")[0]==="cubic-bezier")return z_(e)}return typeof e=="function"?e:null};function MX(e){var t,r=()=>null,n=!1,s=null,i=c=>{if(!n){if(Array.isArray(c)){if(!c.length)return;var u=c,[d,...f]=u;if(typeof d=="number"){s=e.setTimeout(i.bind(null,f),d);return}i(d),s=e.setTimeout(i.bind(null,f));return}typeof c=="string"&&(t=c,r(t)),typeof c=="object"&&(t=c,r(t)),typeof c=="function"&&c()}};return{stop:()=>{n=!0},start:c=>{n=!1,s&&(s(),s=null),i(c)},subscribe:c=>(r=c,()=>{r=()=>null}),getTimeoutController:()=>e}}class BX{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=c=>{c-n>=r?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{s!=null&&cancelAnimationFrame(s)}}}function zX(){return MX(new BX)}var FX=v.createContext(zX);function UX(e,t){var r=v.useContext(FX);return v.useMemo(()=>t??r(e),[e,t,r])}var qX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Py={isSsr:qX()},$X={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},F_={t:0},M2={t:1};function Ly(e){var t=ai(e,$X),{isActive:r,canBegin:n,duration:s,easing:i,begin:c,onAnimationEnd:u,onAnimationStart:d,children:f}=t,m=r==="auto"?!Py.isSsr:r,p=UX(t.animationId,t.animationManager),[g,b]=v.useState(m?F_:M2),y=v.useRef(null);return v.useEffect(()=>{m||b(M2)},[m]),v.useEffect(()=>{if(!m||!n)return xf;var N=OX(F_,M2,IX(i),s,b,p.getTimeoutController()),j=()=>{y.current=N()};return p.start([d,c,j,s,u]),()=>{p.stop(),y.current&&y.current(),u()}},[m,n,s,i,c,d,u,p]),f(g.t)}function Ty(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(O0(t)),n=v.useRef(e);return n.current!==e&&(r.current=O0(t),n.current=e),r.current}var HX=["radius"],GX=["radius"],U_,q_,$_,H_,G_,K_,V_,W_,Y_,X_;function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){KX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KX(e,t,r){return(t=VX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pb.apply(null,arguments)}function J_(e,t){if(e==null)return{};var r,n,s=YX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function YX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var eC=(e,t,r,n,s)=>{var i=$u(r),c=$u(n),u=Math.min(Math.abs(i)/2,Math.abs(c)/2),d=c>=0?1:-1,f=i>=0?1:-1,m=c>=0&&i>=0||c<0&&i<0?1:0,p;if(u>0&&Array.isArray(s)){for(var g=[0,0,0,0],b=0,y=4;b<y;b++){var N,j=(N=s[b])!==null&&N!==void 0?N:0;g[b]=j>u?u:j}p=Kn(U_||(U_=Cl(["M",",",""])),e,t+d*g[0]),g[0]>0&&(p+=Kn(q_||(q_=Cl(["A ",",",",0,0,",",",",",""])),g[0],g[0],m,e+f*g[0],t)),p+=Kn($_||($_=Cl(["L ",",",""])),e+r-f*g[1],t),g[1]>0&&(p+=Kn(H_||(H_=Cl(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],m,e+r,t+d*g[1])),p+=Kn(G_||(G_=Cl(["L ",",",""])),e+r,t+n-d*g[2]),g[2]>0&&(p+=Kn(K_||(K_=Cl(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],m,e+r-f*g[2],t+n)),p+=Kn(V_||(V_=Cl(["L ",",",""])),e+f*g[3],t+n),g[3]>0&&(p+=Kn(W_||(W_=Cl(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],m,e,t+n-d*g[3])),p+="Z"}else if(u>0&&s===+s&&s>0){var S=Math.min(u,s);p=Kn(Y_||(Y_=Cl(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*S,S,S,m,e+f*S,t,e+r-f*S,t,S,S,m,e+r,t+d*S,e+r,t+n-d*S,S,S,m,e+r-f*S,t+n,e+f*S,t+n,S,S,m,e,t+n-d*S)}else p=Kn(X_||(X_=Cl(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return p},tC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XL=e=>{var t=ai(e,tC),r=v.useRef(null),[n,s]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ue=r.current.getTotalLength();ue&&s(ue)}catch{}},[]);var{x:i,y:c,width:u,height:d,radius:f,className:m}=t,{animationEasing:p,animationDuration:g,animationBegin:b,isAnimationActive:y,isUpdateAnimationActive:N}=t,j=v.useRef(u),S=v.useRef(d),_=v.useRef(i),E=v.useRef(c),k=v.useMemo(()=>({x:i,y:c,width:u,height:d,radius:f}),[i,c,u,d,f]),T=Ty(k,"rectangle-");if(i!==+i||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var D=Qr("recharts-rectangle",m);if(!N){var M=Os(t),{radius:R}=M,B=J_(M,HX);return v.createElement("path",pb({},B,{x:$u(i),y:$u(c),width:$u(u),height:$u(d),radius:typeof f=="number"?f:void 0,className:D,d:eC(i,c,u,d,f)}))}var K=j.current,U=S.current,F=_.current,X=E.current,Q="0px ".concat(n===-1?1:n,"px"),pe="".concat(n,"px 0px"),re=KL(["strokeDasharray"],g,typeof p=="string"?p:tC.animationEasing);return v.createElement(Ly,{animationId:T,key:T,canBegin:n>0,duration:g,easing:p,isActive:N,begin:b},ue=>{var V=Vn(K,u,ue),Z=Vn(U,d,ue),ge=Vn(F,i,ue),G=Vn(X,c,ue);r.current&&(j.current=V,S.current=Z,_.current=ge,E.current=G);var P;y?ue>0?P={transition:re,strokeDasharray:pe}:P={strokeDasharray:Q}:P={strokeDasharray:pe};var H=Os(t),{radius:$}=H,ae=J_(H,GX);return v.createElement("path",pb({},ae,{radius:typeof f=="number"?f:void 0,className:D,d:eC(ge,G,V,Z,f),ref:r,style:Z_(Z_({},P),t.style)}))})};function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){XX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XX(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=ZX(e,"string");return typeof t=="symbol"?t:t+""}function ZX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xb=Math.PI/180,JX=e=>e*180/Math.PI,rs=(e,t,r,n)=>({x:e+Math.cos(-xb*n)*r,y:t+Math.sin(-xb*n)*r}),eQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},tQ=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},rQ=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,c=tQ({x:r,y:n},{x:s,y:i});if(c<=0)return{radius:c,angle:0};var u=(r-s)/c,d=Math.acos(u);return n>i&&(d=2*Math.PI-d),{radius:c,angle:JX(d),angleInRadian:d}},nQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},aQ=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),c=Math.min(s,i);return e+c*360},sQ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:s,angle:i}=rQ({x:r,y:n},t),{innerRadius:c,outerRadius:u}=t;if(s<c||s>u||s===0)return null;var{startAngle:d,endAngle:f}=nQ(t),m=i,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?nC(nC({},t),{},{radius:s,angle:aQ(m,t)}):null};function QL(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,c=rs(t,r,n,s),u=rs(t,r,n,i);return{points:[c,u],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}var aC,sC,iC,oC,lC,cC,uC;function _5(){return _5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_5.apply(null,arguments)}function Ud(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var iQ=(e,t)=>{var r=Ai(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Lx=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:c,cornerRadius:u,cornerIsExternal:d}=e,f=u*(c?1:-1)+n,m=Math.asin(u/f)/xb,p=d?s:s+i*m,g=rs(t,r,f,p),b=rs(t,r,n,p),y=d?s-i*m:s,N=rs(t,r,f*Math.cos(m*xb),y);return{center:g,circleTangency:b,lineTangency:N,theta:m}},ZL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:c}=e,u=iQ(i,c),d=i+u,f=rs(t,r,s,i),m=rs(t,r,s,d),p=Kn(aC||(aC=Ud(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,s,s,+(Math.abs(u)>180),+(i>d),m.x,m.y);if(n>0){var g=rs(t,r,n,i),b=rs(t,r,n,d);p+=Kn(sC||(sC=Ud(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,n,n,+(Math.abs(u)>180),+(i<=d),g.x,g.y)}else p+=Kn(iC||(iC=Ud(["L ",","," Z"])),t,r);return p},oQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}=e,m=Ai(f-d),{circleTangency:p,lineTangency:g,theta:b}=Lx({cx:t,cy:r,radius:s,angle:d,sign:m,cornerRadius:i,cornerIsExternal:u}),{circleTangency:y,lineTangency:N,theta:j}=Lx({cx:t,cy:r,radius:s,angle:f,sign:-m,cornerRadius:i,cornerIsExternal:u}),S=u?Math.abs(d-f):Math.abs(d-f)-b-j;if(S<0)return c?Kn(oC||(oC=Ud(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,i,i,i*2,i,i,-i*2):ZL({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:d,endAngle:f});var _=Kn(lC||(lC=Ud(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,i,i,+(m<0),p.x,p.y,s,s,+(S>180),+(m<0),y.x,y.y,i,i,+(m<0),N.x,N.y);if(n>0){var{circleTangency:E,lineTangency:k,theta:T}=Lx({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),{circleTangency:D,lineTangency:M,theta:R}=Lx({cx:t,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:u}),B=u?Math.abs(d-f):Math.abs(d-f)-T-R;if(B<0&&i===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+=Kn(cC||(cC=Ud(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,i,i,+(m<0),D.x,D.y,n,n,+(B>180),+(m>0),E.x,E.y,i,i,+(m<0),k.x,k.y)}else _+=Kn(uC||(uC=Ud(["L",",","Z"])),t,r);return _},lQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JL=e=>{var t=ai(e,lQ),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=t;if(i<s||f===m)return null;var g=Qr("recharts-sector",p),b=i-s,y=Qo(c,b,0,!0),N;return y>0&&Math.abs(f-m)<360?N=oQ({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(y,b/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:f,endAngle:m}):N=ZL({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:f,endAngle:m}),v.createElement("path",_5({},Os(t),{className:g,d:N}))};function cQ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(qP(t)){if(e==="centric"){var{cx:n,cy:s,innerRadius:i,outerRadius:c,angle:u}=t,d=rs(n,s,i,u),f=rs(n,s,c,u);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return QL(t)}}var B2={},z2={},F2={},dC;function uQ(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZP();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(F2)),F2}var fC;function dQ(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uQ();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(z2)),z2}var hC;function fQ(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JP(),r=dQ();function n(s,i,c){c&&typeof c!="number"&&t.isIterateeCall(s,i,c)&&(i=c=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),c=c===void 0?s<i?1:-1:r.toFinite(c);const u=Math.max(Math.ceil((i-s)/(c||1)),0),d=new Array(u);for(let f=0;f<u;f++)d[f]=s,s+=c;return d}e.range=n})(B2)),B2}var U2,mC;function hQ(){return mC||(mC=1,U2=fQ().range),U2}var mQ=hQ();const eT=Kl(mQ);function Gu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function pQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aj(e){let t,r,n;e.length!==2?(t=Gu,r=(u,d)=>Gu(e(u),d),n=(u,d)=>e(u)-d):(t=e===Gu||e===pQ?e:xQ,r=e,n=e);function s(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;r(u[p],d)<0?f=p+1:m=p}while(f<m)}return f}function i(u,d,f=0,m=u.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;r(u[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function c(u,d,f=0,m=u.length){const p=s(u,d,f,m-1);return p>f&&n(u[p-1],d)>-n(u[p],d)?p-1:p}return{left:s,center:c,right:i}}function xQ(){return 0}function tT(e){return e===null?NaN:+e}function*gQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const bQ=aj(Gu),fp=bQ.right;aj(tT).center;class pC extends Map{constructor(t,r=wQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(xC(this,t))}has(t){return super.has(xC(this,t))}set(t,r){return super.set(yQ(this,t),r)}delete(t){return super.delete(vQ(this,t))}}function xC({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function yQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NQ(e=Gu){if(e===Gu)return rT;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function rT(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const jQ=Math.sqrt(50),SQ=Math.sqrt(10),AQ=Math.sqrt(2);function gb(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),c=i>=jQ?10:i>=SQ?5:i>=AQ?2:1;let u,d,f;return s<0?(f=Math.pow(10,-s)/c,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*c,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=r&&r<2?gb(e,t,r*2):[u,d,f]}function C5(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,c]=n?gb(t,e,r):gb(e,t,r);if(!(i>=s))return[];const u=i-s+1,d=new Array(u);if(n)if(c<0)for(let f=0;f<u;++f)d[f]=(i-f)/-c;else for(let f=0;f<u;++f)d[f]=(i-f)*c;else if(c<0)for(let f=0;f<u;++f)d[f]=(s+f)/-c;else for(let f=0;f<u;++f)d[f]=(s+f)*c;return d}function E5(e,t,r){return t=+t,e=+e,r=+r,gb(e,t,r)[2]}function k5(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?E5(t,e,r):E5(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function gC(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function bC(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function nT(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?rT:NQ(s);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),g=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),b=Math.max(r,Math.floor(t-f*p/d+g)),y=Math.min(n,Math.floor(t+(d-f)*p/d+g));nT(e,t,b,y,s)}const i=e[t];let c=r,u=n;for(i0(e,r,t),s(e[n],i)>0&&i0(e,r,n);c<u;){for(i0(e,c,u),++c,--u;s(e[c],i)<0;)++c;for(;s(e[u],i)>0;)--u}s(e[r],i)===0?i0(e,r,u):(++u,i0(e,u,n)),u<=t&&(r=u+1),t<=u&&(n=u-1)}return e}function i0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _Q(e,t,r){if(e=Float64Array.from(gQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return bC(e);if(t>=1)return gC(e);var n,s=(n-1)*t,i=Math.floor(s),c=gC(nT(e,i).subarray(0,i+1)),u=bC(e.subarray(i+1));return c+(u-c)*(s-i)}}function CQ(e,t,r=tT){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),c=+r(e[i],i,e),u=+r(e[i+1],i+1,e);return c+(u-c)*(s-i)}}function EQ(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function go(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const O5=Symbol("implicit");function sj(){var e=new pC,t=[],r=[],n=O5;function s(i){let c=e.get(i);if(c===void 0){if(n!==O5)return n;e.set(i,c=t.push(i)-1)}return r[c%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new pC;for(const c of i)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return sj(t,r).unknown(n)},go.apply(s,arguments),s}function ij(){var e=sj().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,c,u=!1,d=0,f=0,m=.5;delete e.unknown;function p(){var g=t().length,b=s<n,y=b?s:n,N=b?n:s;i=(N-y)/Math.max(1,g-d+f*2),u&&(i=Math.floor(i)),y+=(N-y-i*(g-d))*m,c=i*(1-d),u&&(y=Math.round(y),c=Math.round(c));var j=EQ(g).map(function(S){return y+i*S});return r(b?j.reverse():j)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,s]=g,n=+n,s=+s,p()):[n,s]},e.rangeRound=function(g){return[n,s]=g,n=+n,s=+s,u=!0,p()},e.bandwidth=function(){return c},e.step=function(){return i},e.round=function(g){return arguments.length?(u=!!g,p()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),p()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),p()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(m=Math.max(0,Math.min(1,g)),p()):m},e.copy=function(){return ij(t(),[n,s]).round(u).paddingInner(d).paddingOuter(f).align(m)},go.apply(p(),arguments)}function aT(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aT(t())},e}function kQ(){return aT(ij.apply(null,arguments).paddingInner(1))}function oj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function sT(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hp(){}var B0=.7,bb=1/B0,Lh="\\s*([+-]?\\d+)\\s*",z0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",OQ=/^#([0-9a-f]{3,8})$/,PQ=new RegExp(`^rgb\\(${Lh},${Lh},${Lh}\\)$`),LQ=new RegExp(`^rgb\\(${Ul},${Ul},${Ul}\\)$`),TQ=new RegExp(`^rgba\\(${Lh},${Lh},${Lh},${z0}\\)$`),RQ=new RegExp(`^rgba\\(${Ul},${Ul},${Ul},${z0}\\)$`),DQ=new RegExp(`^hsl\\(${z0},${Ul},${Ul}\\)$`),IQ=new RegExp(`^hsla\\(${z0},${Ul},${Ul},${z0}\\)$`),yC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oj(hp,F0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vC,formatHex:vC,formatHex8:MQ,formatHsl:BQ,formatRgb:wC,toString:wC});function vC(){return this.rgb().formatHex()}function MQ(){return this.rgb().formatHex8()}function BQ(){return iT(this).formatHsl()}function wC(){return this.rgb().formatRgb()}function F0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=OQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?NC(t):r===3?new Js(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Tx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Tx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PQ.exec(e))?new Js(t[1],t[2],t[3],1):(t=LQ.exec(e))?new Js(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=TQ.exec(e))?Tx(t[1],t[2],t[3],t[4]):(t=RQ.exec(e))?Tx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=DQ.exec(e))?AC(t[1],t[2]/100,t[3]/100,1):(t=IQ.exec(e))?AC(t[1],t[2]/100,t[3]/100,t[4]):yC.hasOwnProperty(e)?NC(yC[e]):e==="transparent"?new Js(NaN,NaN,NaN,0):null}function NC(e){return new Js(e>>16&255,e>>8&255,e&255,1)}function Tx(e,t,r,n){return n<=0&&(e=t=r=NaN),new Js(e,t,r,n)}function zQ(e){return e instanceof hp||(e=F0(e)),e?(e=e.rgb(),new Js(e.r,e.g,e.b,e.opacity)):new Js}function P5(e,t,r,n){return arguments.length===1?zQ(e):new Js(e,t,r,n??1)}function Js(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}oj(Js,P5,sT(hp,{brighter(e){return e=e==null?bb:Math.pow(bb,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?B0:Math.pow(B0,e),new Js(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Js(Wd(this.r),Wd(this.g),Wd(this.b),yb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jC,formatHex:jC,formatHex8:FQ,formatRgb:SC,toString:SC}));function jC(){return`#${qd(this.r)}${qd(this.g)}${qd(this.b)}`}function FQ(){return`#${qd(this.r)}${qd(this.g)}${qd(this.b)}${qd((isNaN(this.opacity)?1:this.opacity)*255)}`}function SC(){const e=yb(this.opacity);return`${e===1?"rgb(":"rgba("}${Wd(this.r)}, ${Wd(this.g)}, ${Wd(this.b)}${e===1?")":`, ${e})`}`}function yb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qd(e){return e=Wd(e),(e<16?"0":"")+e.toString(16)}function AC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wo(e,t,r,n)}function iT(e){if(e instanceof Wo)return new Wo(e.h,e.s,e.l,e.opacity);if(e instanceof hp||(e=F0(e)),!e)return new Wo;if(e instanceof Wo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),c=NaN,u=i-s,d=(i+s)/2;return u?(t===i?c=(r-n)/u+(r<n)*6:r===i?c=(n-t)/u+2:c=(t-r)/u+4,u/=d<.5?i+s:2-i-s,c*=60):u=d>0&&d<1?0:c,new Wo(c,u,d,e.opacity)}function UQ(e,t,r,n){return arguments.length===1?iT(e):new Wo(e,t,r,n??1)}function Wo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}oj(Wo,UQ,sT(hp,{brighter(e){return e=e==null?bb:Math.pow(bb,e),new Wo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?B0:Math.pow(B0,e),new Wo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Js(q2(e>=240?e-240:e+120,s,n),q2(e,s,n),q2(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Wo(_C(this.h),Rx(this.s),Rx(this.l),yb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yb(this.opacity);return`${e===1?"hsl(":"hsla("}${_C(this.h)}, ${Rx(this.s)*100}%, ${Rx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _C(e){return e=(e||0)%360,e<0?e+360:e}function Rx(e){return Math.max(0,Math.min(1,e||0))}function q2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const lj=e=>()=>e;function qQ(e,t){return function(r){return e+r*t}}function $Q(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function HQ(e){return(e=+e)==1?oT:function(t,r){return r-t?$Q(t,r,e):lj(isNaN(t)?r:t)}}function oT(e,t){var r=t-e;return r?qQ(e,r):lj(isNaN(e)?t:e)}const CC=(function e(t){var r=HQ(t);function n(s,i){var c=r((s=P5(s)).r,(i=P5(i)).r),u=r(s.g,i.g),d=r(s.b,i.b),f=oT(s.opacity,i.opacity);return function(m){return s.r=c(m),s.g=u(m),s.b=d(m),s.opacity=f(m),s+""}}return n.gamma=e,n})(1);function GQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function KQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function VQ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),c;for(c=0;c<n;++c)s[c]=nm(e[c],t[c]);for(;c<r;++c)i[c]=t[c];return function(u){for(c=0;c<n;++c)i[c]=s[c](u);return i}}function WQ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function vb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function YQ(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=nm(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var L5=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$2=new RegExp(L5.source,"g");function XQ(e){return function(){return e}}function QQ(e){return function(t){return e(t)+""}}function ZQ(e,t){var r=L5.lastIndex=$2.lastIndex=0,n,s,i,c=-1,u=[],d=[];for(e=e+"",t=t+"";(n=L5.exec(e))&&(s=$2.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),u[c]?u[c]+=i:u[++c]=i),(n=n[0])===(s=s[0])?u[c]?u[c]+=s:u[++c]=s:(u[++c]=null,d.push({i:c,x:vb(n,s)})),r=$2.lastIndex;return r<t.length&&(i=t.slice(r),u[c]?u[c]+=i:u[++c]=i),u.length<2?d[0]?QQ(d[0].x):XQ(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)u[(p=d[m]).i]=p.x(f);return u.join("")})}function nm(e,t){var r=typeof t,n;return t==null||r==="boolean"?lj(t):(r==="number"?vb:r==="string"?(n=F0(t))?(t=n,CC):ZQ:t instanceof F0?CC:t instanceof Date?WQ:KQ(t)?GQ:Array.isArray(t)?VQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YQ:vb)(e,t)}function cj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function JQ(e,t){t===void 0&&(t=e,e=nm);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(c){var u=Math.max(0,Math.min(n-1,Math.floor(c*=n)));return i[u](c-u)}}function eZ(e){return function(){return e}}function wb(e){return+e}var EC=[0,1];function _s(e){return e}function T5(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:eZ(isNaN(t)?NaN:.5)}function tZ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function rZ(e,t,r){var n=e[0],s=e[1],i=t[0],c=t[1];return s<n?(n=T5(s,n),i=r(c,i)):(n=T5(n,s),i=r(i,c)),function(u){return i(n(u))}}function nZ(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),c=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<n;)s[c]=T5(e[c],e[c+1]),i[c]=r(t[c],t[c+1]);return function(u){var d=fp(e,u,1,n)-1;return i[d](s[d](u))}}function mp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ry(){var e=EC,t=EC,r=nm,n,s,i,c=_s,u,d,f;function m(){var g=Math.min(e.length,t.length);return c!==_s&&(c=tZ(e[0],e[g-1])),u=g>2?nZ:rZ,d=f=null,p}function p(g){return g==null||isNaN(g=+g)?i:(d||(d=u(e.map(n),t,r)))(n(c(g)))}return p.invert=function(g){return c(s((f||(f=u(t,e.map(n),vb)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,wb),m()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),m()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=cj,m()},p.clamp=function(g){return arguments.length?(c=g?!0:_s,m()):c!==_s},p.interpolate=function(g){return arguments.length?(r=g,m()):r},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,b){return n=g,s=b,m()}}function uj(){return Ry()(_s,_s)}function aZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Nb(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Wh(e){return e=Nb(Math.abs(e)),e?e[1]:NaN}function sZ(e,t){return function(r,n){for(var s=r.length,i=[],c=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),i.push(r.substring(s-=u,s+u)),!((d+=u+1)>n));)u=e[c=(c+1)%e.length];return i.reverse().join(t)}}function iZ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var oZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function U0(e){if(!(t=oZ.exec(e)))throw new Error("invalid format: "+e);var t;return new dj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}U0.prototype=dj.prototype;function dj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}dj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lZ(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var jb;function cZ(e,t){var r=Nb(e,t);if(!r)return jb=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(jb=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=n.length;return i===c?n:i>c?n+new Array(i-c+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Nb(e,Math.max(0,t+i-1))[0]}function kC(e,t){var r=Nb(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const OC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:aZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>kC(e*100,t),r:kC,s:cZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function PC(e){return e}var LC=Array.prototype.map,TC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uZ(e){var t=e.grouping===void 0||e.thousands===void 0?PC:sZ(LC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?PC:iZ(LC.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p,g){p=U0(p);var b=p.fill,y=p.align,N=p.sign,j=p.symbol,S=p.zero,_=p.width,E=p.comma,k=p.precision,T=p.trim,D=p.type;D==="n"?(E=!0,D="g"):OC[D]||(k===void 0&&(k=12),T=!0,D="g"),(S||b==="0"&&y==="=")&&(S=!0,b="0",y="=");var M=(g&&g.prefix!==void 0?g.prefix:"")+(j==="$"?r:j==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),R=(j==="$"?n:/[%p]/.test(D)?c:"")+(g&&g.suffix!==void 0?g.suffix:""),B=OC[D],K=/[defgprs%]/.test(D);k=k===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function U(F){var X=M,Q=R,pe,re,ue;if(D==="c")Q=B(F)+Q,F="";else{F=+F;var V=F<0||1/F<0;if(F=isNaN(F)?d:B(Math.abs(F),k),T&&(F=lZ(F)),V&&+F==0&&N!=="+"&&(V=!1),X=(V?N==="("?N:u:N==="-"||N==="("?"":N)+X,Q=(D==="s"&&!isNaN(F)&&jb!==void 0?TC[8+jb/3]:"")+Q+(V&&N==="("?")":""),K){for(pe=-1,re=F.length;++pe<re;)if(ue=F.charCodeAt(pe),48>ue||ue>57){Q=(ue===46?s+F.slice(pe+1):F.slice(pe))+Q,F=F.slice(0,pe);break}}}E&&!S&&(F=t(F,1/0));var Z=X.length+F.length+Q.length,ge=Z<_?new Array(_-Z+1).join(b):"";switch(E&&S&&(F=t(ge+F,ge.length?_-Q.length:1/0),ge=""),y){case"<":F=X+F+Q+ge;break;case"=":F=X+ge+F+Q;break;case"^":F=ge.slice(0,Z=ge.length>>1)+X+F+Q+ge.slice(Z);break;default:F=ge+X+F+Q;break}return i(F)}return U.toString=function(){return p+""},U}function m(p,g){var b=Math.max(-8,Math.min(8,Math.floor(Wh(g)/3)))*3,y=Math.pow(10,-b),N=f((p=U0(p),p.type="f",p),{suffix:TC[8+b/3]});return function(j){return N(y*j)}}return{format:f,formatPrefix:m}}var Dx,fj,lT;dZ({thousands:",",grouping:[3],currency:["$",""]});function dZ(e){return Dx=uZ(e),fj=Dx.format,lT=Dx.formatPrefix,Dx}function fZ(e){return Math.max(0,-Wh(Math.abs(e)))}function hZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wh(t)/3)))*3-Wh(Math.abs(e)))}function mZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wh(t)-Wh(e))+1}function cT(e,t,r,n){var s=k5(e,t,r),i;switch(n=U0(n??",f"),n.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=hZ(s,c))&&(n.precision=i),lT(n,c)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=mZ(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=fZ(s))&&(n.precision=i-(n.type==="%")*2);break}}return fj(n)}function ed(e){var t=e.domain;return e.ticks=function(r){var n=t();return C5(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return cT(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,c=n[s],u=n[i],d,f,m=10;for(u<c&&(f=c,c=u,u=f,f=s,s=i,i=f);m-- >0;){if(f=E5(c,u,r),f===d)return n[s]=c,n[i]=u,t(n);if(f>0)c=Math.floor(c/f)*f,u=Math.ceil(u/f)*f;else if(f<0)c=Math.ceil(c*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function uT(){var e=uj();return e.copy=function(){return mp(e,uT())},go.apply(e,arguments),ed(e)}function dT(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,wb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return dT(e).unknown(t)},e=arguments.length?Array.from(e,wb):[0,1],ed(r)}function fT(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],c;return i<s&&(c=r,r=n,n=c,c=s,s=i,i=c),e[r]=t.floor(s),e[n]=t.ceil(i),e}function RC(e){return Math.log(e)}function DC(e){return Math.exp(e)}function pZ(e){return-Math.log(-e)}function xZ(e){return-Math.exp(-e)}function gZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bZ(e){return e===10?gZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function IC(e){return(t,r)=>-e(-t,r)}function hj(e){const t=e(RC,DC),r=t.domain;let n=10,s,i;function c(){return s=yZ(n),i=bZ(n),r()[0]<0?(s=IC(s),i=IC(i),e(pZ,xZ)):e(RC,DC),t}return t.base=function(u){return arguments.length?(n=+u,c()):n},t.domain=function(u){return arguments.length?(r(u),c()):r()},t.ticks=u=>{const d=r();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let g=s(f),b=s(m),y,N;const j=u==null?10:+u;let S=[];if(!(n%1)&&b-g<j){if(g=Math.floor(g),b=Math.ceil(b),f>0){for(;g<=b;++g)for(y=1;y<n;++y)if(N=g<0?y/i(-g):y*i(g),!(N<f)){if(N>m)break;S.push(N)}}else for(;g<=b;++g)for(y=n-1;y>=1;--y)if(N=g>0?y/i(-g):y*i(g),!(N<f)){if(N>m)break;S.push(N)}S.length*2<j&&(S=C5(f,m,j))}else S=C5(g,b,Math.min(b-g,j)).map(i);return p?S.reverse():S},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=U0(d)).precision==null&&(d.trim=!0),d=fj(d)),u===1/0)return d;const f=Math.max(1,n*u/t.ticks().length);return m=>{let p=m/i(Math.round(s(m)));return p*n<n-.5&&(p*=n),p<=f?d(m):""}},t.nice=()=>r(fT(r(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function hT(){const e=hj(Ry()).domain([1,10]);return e.copy=()=>mp(e,hT()).base(e.base()),go.apply(e,arguments),e}function MC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function mj(e){var t=1,r=e(MC(t),BC(t));return r.constant=function(n){return arguments.length?e(MC(t=+n),BC(t)):t},ed(r)}function mT(){var e=mj(Ry());return e.copy=function(){return mp(e,mT()).constant(e.constant())},go.apply(e,arguments)}function zC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function vZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wZ(e){return e<0?-e*e:e*e}function pj(e){var t=e(_s,_s),r=1;function n(){return r===1?e(_s,_s):r===.5?e(vZ,wZ):e(zC(r),zC(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},ed(t)}function xj(){var e=pj(Ry());return e.copy=function(){return mp(e,xj()).exponent(e.exponent())},go.apply(e,arguments),e}function NZ(){return xj.apply(null,arguments).exponent(.5)}function FC(e){return Math.sign(e)*e*e}function jZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function pT(){var e=uj(),t=[0,1],r=!1,n;function s(i){var c=jZ(e(i));return isNaN(c)?n:r?Math.round(c):c}return s.invert=function(i){return e.invert(FC(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,wb)).map(FC)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return pT(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},go.apply(s,arguments),ed(s)}function xT(){var e=[],t=[],r=[],n;function s(){var c=0,u=Math.max(1,t.length);for(r=new Array(u-1);++c<u;)r[c-1]=CQ(e,c/u);return i}function i(c){return c==null||isNaN(c=+c)?n:t[fp(r,c)]}return i.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?r[u-1]:e[0],u<r.length?r[u]:e[e.length-1]]},i.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Gu),s()},i.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},i.unknown=function(c){return arguments.length?(n=c,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return xT().domain(e).range(t).unknown(n)},go.apply(i,arguments)}function gT(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function c(d){return d!=null&&d<=d?s[fp(n,d,0,r)]:i}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return c}return c.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},c.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,u()):s.slice()},c.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},c.unknown=function(d){return arguments.length&&(i=d),c},c.thresholds=function(){return n.slice()},c.copy=function(){return gT().domain([e,t]).range(s).unknown(i)},go.apply(ed(c),arguments)}function bT(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[fp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var c=t.indexOf(i);return[e[c-1],e[c]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return bT().domain(e).range(t).unknown(r)},go.apply(s,arguments)}const H2=new Date,G2=new Date;function _a(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const c=s(i),u=s.ceil(i);return i-c<u-i?c:u},s.offset=(i,c)=>(t(i=new Date(+i),c==null?1:Math.floor(c)),i),s.range=(i,c,u)=>{const d=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<c)||!(u>0))return d;let f;do d.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<c);return d},s.filter=i=>_a(c=>{if(c>=c)for(;e(c),!i(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!i(c););else for(;--u>=0;)for(;t(c,1),!i(c););}),r&&(s.count=(i,c)=>(H2.setTime(+i),G2.setTime(+c),e(H2),e(G2),Math.floor(r(H2,G2))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?c=>n(c)%i===0:c=>s.count(0,c)%i===0):s)),s}const Sb=_a(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_a(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sb);Sb.range;const kc=1e3,so=kc*60,Oc=so*60,Mc=Oc*24,gj=Mc*7,UC=Mc*30,K2=Mc*365,$d=_a(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kc)},(e,t)=>(t-e)/kc,e=>e.getUTCSeconds());$d.range;const bj=_a(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kc)},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getMinutes());bj.range;const yj=_a(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*so)},(e,t)=>(t-e)/so,e=>e.getUTCMinutes());yj.range;const vj=_a(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kc-e.getMinutes()*so)},(e,t)=>{e.setTime(+e+t*Oc)},(e,t)=>(t-e)/Oc,e=>e.getHours());vj.range;const wj=_a(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Oc)},(e,t)=>(t-e)/Oc,e=>e.getUTCHours());wj.range;const pp=_a(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*so)/Mc,e=>e.getDate()-1);pp.range;const Dy=_a(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mc,e=>e.getUTCDate()-1);Dy.range;const yT=_a(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mc,e=>Math.floor(e/Mc));yT.range;function bf(e){return _a(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*so)/gj)}const Iy=bf(0),Ab=bf(1),SZ=bf(2),AZ=bf(3),Yh=bf(4),_Z=bf(5),CZ=bf(6);Iy.range;Ab.range;SZ.range;AZ.range;Yh.range;_Z.range;CZ.range;function yf(e){return _a(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/gj)}const My=yf(0),_b=yf(1),EZ=yf(2),kZ=yf(3),Xh=yf(4),OZ=yf(5),PZ=yf(6);My.range;_b.range;EZ.range;kZ.range;Xh.range;OZ.range;PZ.range;const Nj=_a(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Nj.range;const jj=_a(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());jj.range;const Bc=_a(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Bc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_a(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Bc.range;const zc=_a(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_a(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zc.range;function vT(e,t,r,n,s,i){const c=[[$d,1,kc],[$d,5,5*kc],[$d,15,15*kc],[$d,30,30*kc],[i,1,so],[i,5,5*so],[i,15,15*so],[i,30,30*so],[s,1,Oc],[s,3,3*Oc],[s,6,6*Oc],[s,12,12*Oc],[n,1,Mc],[n,2,2*Mc],[r,1,gj],[t,1,UC],[t,3,3*UC],[e,1,K2]];function u(f,m,p){const g=m<f;g&&([f,m]=[m,f]);const b=p&&typeof p.range=="function"?p:d(f,m,p),y=b?b.range(f,+m+1):[];return g?y.reverse():y}function d(f,m,p){const g=Math.abs(m-f)/p,b=aj(([,,j])=>j).right(c,g);if(b===c.length)return e.every(k5(f/K2,m/K2,p));if(b===0)return Sb.every(Math.max(k5(f,m,p),1));const[y,N]=c[g/c[b-1][2]<c[b][2]/g?b-1:b];return y.every(N)}return[u,d]}const[LZ,TZ]=vT(zc,jj,My,yT,wj,yj),[RZ,DZ]=vT(Bc,Nj,Iy,pp,vj,bj);function V2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function W2(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function o0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function IZ(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,c=e.shortDays,u=e.months,d=e.shortMonths,f=l0(s),m=c0(s),p=l0(i),g=c0(i),b=l0(c),y=c0(c),N=l0(u),j=c0(u),S=l0(d),_=c0(d),E={a:ue,A:V,b:Z,B:ge,c:null,d:VC,e:VC,f:sJ,g:pJ,G:gJ,H:rJ,I:nJ,j:aJ,L:wT,m:iJ,M:oJ,p:G,q:P,Q:XC,s:QC,S:lJ,u:cJ,U:uJ,V:dJ,w:fJ,W:hJ,x:null,X:null,y:mJ,Y:xJ,Z:bJ,"%":YC},k={a:H,A:$,b:ae,B:le,c:null,d:WC,e:WC,f:NJ,g:LJ,G:RJ,H:yJ,I:vJ,j:wJ,L:jT,m:jJ,M:SJ,p:be,q:ce,Q:XC,s:QC,S:AJ,u:_J,U:CJ,V:EJ,w:kJ,W:OJ,x:null,X:null,y:PJ,Y:TJ,Z:DJ,"%":YC},T={a:K,A:U,b:F,B:X,c:Q,d:GC,e:GC,f:ZZ,g:HC,G:$C,H:KC,I:KC,j:WZ,L:QZ,m:VZ,M:YZ,p:B,q:KZ,Q:eJ,s:tJ,S:XZ,u:UZ,U:qZ,V:$Z,w:FZ,W:HZ,x:pe,X:re,y:HC,Y:$C,Z:GZ,"%":JZ};E.x=D(r,E),E.X=D(n,E),E.c=D(t,E),k.x=D(r,k),k.X=D(n,k),k.c=D(t,k);function D(oe,me){return function(Ae){var xe=[],Ie=-1,Ve=0,se=oe.length,at,Dt,xt;for(Ae instanceof Date||(Ae=new Date(+Ae));++Ie<se;)oe.charCodeAt(Ie)===37&&(xe.push(oe.slice(Ve,Ie)),(Dt=qC[at=oe.charAt(++Ie)])!=null?at=oe.charAt(++Ie):Dt=at==="e"?" ":"0",(xt=me[at])&&(at=xt(Ae,Dt)),xe.push(at),Ve=Ie+1);return xe.push(oe.slice(Ve,Ie)),xe.join("")}}function M(oe,me){return function(Ae){var xe=o0(1900,void 0,1),Ie=R(xe,oe,Ae+="",0),Ve,se;if(Ie!=Ae.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(me&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Ve=W2(o0(xe.y,0,1)),se=Ve.getUTCDay(),Ve=se>4||se===0?_b.ceil(Ve):_b(Ve),Ve=Dy.offset(Ve,(xe.V-1)*7),xe.y=Ve.getUTCFullYear(),xe.m=Ve.getUTCMonth(),xe.d=Ve.getUTCDate()+(xe.w+6)%7):(Ve=V2(o0(xe.y,0,1)),se=Ve.getDay(),Ve=se>4||se===0?Ab.ceil(Ve):Ab(Ve),Ve=pp.offset(Ve,(xe.V-1)*7),xe.y=Ve.getFullYear(),xe.m=Ve.getMonth(),xe.d=Ve.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),se="Z"in xe?W2(o0(xe.y,0,1)).getUTCDay():V2(o0(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(se+5)%7:xe.w+xe.U*7-(se+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,W2(xe)):V2(xe)}}function R(oe,me,Ae,xe){for(var Ie=0,Ve=me.length,se=Ae.length,at,Dt;Ie<Ve;){if(xe>=se)return-1;if(at=me.charCodeAt(Ie++),at===37){if(at=me.charAt(Ie++),Dt=T[at in qC?me.charAt(Ie++):at],!Dt||(xe=Dt(oe,Ae,xe))<0)return-1}else if(at!=Ae.charCodeAt(xe++))return-1}return xe}function B(oe,me,Ae){var xe=f.exec(me.slice(Ae));return xe?(oe.p=m.get(xe[0].toLowerCase()),Ae+xe[0].length):-1}function K(oe,me,Ae){var xe=b.exec(me.slice(Ae));return xe?(oe.w=y.get(xe[0].toLowerCase()),Ae+xe[0].length):-1}function U(oe,me,Ae){var xe=p.exec(me.slice(Ae));return xe?(oe.w=g.get(xe[0].toLowerCase()),Ae+xe[0].length):-1}function F(oe,me,Ae){var xe=S.exec(me.slice(Ae));return xe?(oe.m=_.get(xe[0].toLowerCase()),Ae+xe[0].length):-1}function X(oe,me,Ae){var xe=N.exec(me.slice(Ae));return xe?(oe.m=j.get(xe[0].toLowerCase()),Ae+xe[0].length):-1}function Q(oe,me,Ae){return R(oe,t,me,Ae)}function pe(oe,me,Ae){return R(oe,r,me,Ae)}function re(oe,me,Ae){return R(oe,n,me,Ae)}function ue(oe){return c[oe.getDay()]}function V(oe){return i[oe.getDay()]}function Z(oe){return d[oe.getMonth()]}function ge(oe){return u[oe.getMonth()]}function G(oe){return s[+(oe.getHours()>=12)]}function P(oe){return 1+~~(oe.getMonth()/3)}function H(oe){return c[oe.getUTCDay()]}function $(oe){return i[oe.getUTCDay()]}function ae(oe){return d[oe.getUTCMonth()]}function le(oe){return u[oe.getUTCMonth()]}function be(oe){return s[+(oe.getUTCHours()>=12)]}function ce(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var me=D(oe+="",E);return me.toString=function(){return oe},me},parse:function(oe){var me=M(oe+="",!1);return me.toString=function(){return oe},me},utcFormat:function(oe){var me=D(oe+="",k);return me.toString=function(){return oe},me},utcParse:function(oe){var me=M(oe+="",!0);return me.toString=function(){return oe},me}}}var qC={"-":"",_:" ",0:"0"},za=/^\s*\d+/,MZ=/^%/,BZ=/[\\^$*+?|[\]().{}]/g;function Cr(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function zZ(e){return e.replace(BZ,"\\$&")}function l0(e){return new RegExp("^(?:"+e.map(zZ).join("|")+")","i")}function c0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function FZ(e,t,r){var n=za.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function UZ(e,t,r){var n=za.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qZ(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function $Z(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function HZ(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function $C(e,t,r){var n=za.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function HC(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KZ(e,t,r){var n=za.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function VZ(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function GC(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function WZ(e,t,r){var n=za.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function KC(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function YZ(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function XZ(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function QZ(e,t,r){var n=za.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function ZZ(e,t,r){var n=za.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function JZ(e,t,r){var n=MZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function eJ(e,t,r){var n=za.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tJ(e,t,r){var n=za.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function VC(e,t){return Cr(e.getDate(),t,2)}function rJ(e,t){return Cr(e.getHours(),t,2)}function nJ(e,t){return Cr(e.getHours()%12||12,t,2)}function aJ(e,t){return Cr(1+pp.count(Bc(e),e),t,3)}function wT(e,t){return Cr(e.getMilliseconds(),t,3)}function sJ(e,t){return wT(e,t)+"000"}function iJ(e,t){return Cr(e.getMonth()+1,t,2)}function oJ(e,t){return Cr(e.getMinutes(),t,2)}function lJ(e,t){return Cr(e.getSeconds(),t,2)}function cJ(e){var t=e.getDay();return t===0?7:t}function uJ(e,t){return Cr(Iy.count(Bc(e)-1,e),t,2)}function NT(e){var t=e.getDay();return t>=4||t===0?Yh(e):Yh.ceil(e)}function dJ(e,t){return e=NT(e),Cr(Yh.count(Bc(e),e)+(Bc(e).getDay()===4),t,2)}function fJ(e){return e.getDay()}function hJ(e,t){return Cr(Ab.count(Bc(e)-1,e),t,2)}function mJ(e,t){return Cr(e.getFullYear()%100,t,2)}function pJ(e,t){return e=NT(e),Cr(e.getFullYear()%100,t,2)}function xJ(e,t){return Cr(e.getFullYear()%1e4,t,4)}function gJ(e,t){var r=e.getDay();return e=r>=4||r===0?Yh(e):Yh.ceil(e),Cr(e.getFullYear()%1e4,t,4)}function bJ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Cr(t/60|0,"0",2)+Cr(t%60,"0",2)}function WC(e,t){return Cr(e.getUTCDate(),t,2)}function yJ(e,t){return Cr(e.getUTCHours(),t,2)}function vJ(e,t){return Cr(e.getUTCHours()%12||12,t,2)}function wJ(e,t){return Cr(1+Dy.count(zc(e),e),t,3)}function jT(e,t){return Cr(e.getUTCMilliseconds(),t,3)}function NJ(e,t){return jT(e,t)+"000"}function jJ(e,t){return Cr(e.getUTCMonth()+1,t,2)}function SJ(e,t){return Cr(e.getUTCMinutes(),t,2)}function AJ(e,t){return Cr(e.getUTCSeconds(),t,2)}function _J(e){var t=e.getUTCDay();return t===0?7:t}function CJ(e,t){return Cr(My.count(zc(e)-1,e),t,2)}function ST(e){var t=e.getUTCDay();return t>=4||t===0?Xh(e):Xh.ceil(e)}function EJ(e,t){return e=ST(e),Cr(Xh.count(zc(e),e)+(zc(e).getUTCDay()===4),t,2)}function kJ(e){return e.getUTCDay()}function OJ(e,t){return Cr(_b.count(zc(e)-1,e),t,2)}function PJ(e,t){return Cr(e.getUTCFullYear()%100,t,2)}function LJ(e,t){return e=ST(e),Cr(e.getUTCFullYear()%100,t,2)}function TJ(e,t){return Cr(e.getUTCFullYear()%1e4,t,4)}function RJ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Xh(e):Xh.ceil(e),Cr(e.getUTCFullYear()%1e4,t,4)}function DJ(){return"+0000"}function YC(){return"%"}function XC(e){return+e}function QC(e){return Math.floor(+e/1e3)}var gh,AT,_T;IJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function IJ(e){return gh=IZ(e),AT=gh.format,gh.parse,_T=gh.utcFormat,gh.utcParse,gh}function MJ(e){return new Date(e)}function BJ(e){return e instanceof Date?+e:+new Date(+e)}function Sj(e,t,r,n,s,i,c,u,d,f){var m=uj(),p=m.invert,g=m.domain,b=f(".%L"),y=f(":%S"),N=f("%I:%M"),j=f("%I %p"),S=f("%a %d"),_=f("%b %d"),E=f("%B"),k=f("%Y");function T(D){return(d(D)<D?b:u(D)<D?y:c(D)<D?N:i(D)<D?j:n(D)<D?s(D)<D?S:_:r(D)<D?E:k)(D)}return m.invert=function(D){return new Date(p(D))},m.domain=function(D){return arguments.length?g(Array.from(D,BJ)):g().map(MJ)},m.ticks=function(D){var M=g();return e(M[0],M[M.length-1],D??10)},m.tickFormat=function(D,M){return M==null?T:f(M)},m.nice=function(D){var M=g();return(!D||typeof D.range!="function")&&(D=t(M[0],M[M.length-1],D??10)),D?g(fT(M,D)):m},m.copy=function(){return mp(m,Sj(e,t,r,n,s,i,c,u,d,f))},m}function zJ(){return go.apply(Sj(RZ,DZ,Bc,Nj,Iy,pp,vj,bj,$d,AT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FJ(){return go.apply(Sj(LZ,TZ,zc,jj,My,Dy,wj,yj,$d,_T).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function By(){var e=0,t=1,r,n,s,i,c=_s,u=!1,d;function f(p){return p==null||isNaN(p=+p)?d:c(s===0?.5:(p=(i(p)-r)*s,u?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(p){return arguments.length?(u=!!p,f):u},f.interpolator=function(p){return arguments.length?(c=p,f):c};function m(p){return function(g){var b,y;return arguments.length?([b,y]=g,c=p(b,y),f):[c(0),c(1)]}}return f.range=m(nm),f.rangeRound=m(cj),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return i=p,r=p(e),n=p(t),s=r===n?0:1/(n-r),f}}function td(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CT(){var e=ed(By()(_s));return e.copy=function(){return td(e,CT())},Xc.apply(e,arguments)}function ET(){var e=hj(By()).domain([1,10]);return e.copy=function(){return td(e,ET()).base(e.base())},Xc.apply(e,arguments)}function kT(){var e=mj(By());return e.copy=function(){return td(e,kT()).constant(e.constant())},Xc.apply(e,arguments)}function Aj(){var e=pj(By());return e.copy=function(){return td(e,Aj()).exponent(e.exponent())},Xc.apply(e,arguments)}function UJ(){return Aj.apply(null,arguments).exponent(.5)}function OT(){var e=[],t=_s;function r(n){if(n!=null&&!isNaN(n=+n))return t((fp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Gu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>_Q(e,i/n))},r.copy=function(){return OT(t).domain(e)},Xc.apply(r,arguments)}function zy(){var e=0,t=.5,r=1,n=1,s,i,c,u,d,f=_s,m,p=!1,g;function b(N){return isNaN(N=+N)?g:(N=.5+((N=+m(N))-i)*(n*N<n*i?u:d),f(p?Math.max(0,Math.min(1,N)):N))}b.domain=function(N){return arguments.length?([e,t,r]=N,s=m(e=+e),i=m(t=+t),c=m(r=+r),u=s===i?0:.5/(i-s),d=i===c?0:.5/(c-i),n=i<s?-1:1,b):[e,t,r]},b.clamp=function(N){return arguments.length?(p=!!N,b):p},b.interpolator=function(N){return arguments.length?(f=N,b):f};function y(N){return function(j){var S,_,E;return arguments.length?([S,_,E]=j,f=JQ(N,[S,_,E]),b):[f(0),f(.5),f(1)]}}return b.range=y(nm),b.rangeRound=y(cj),b.unknown=function(N){return arguments.length?(g=N,b):g},function(N){return m=N,s=N(e),i=N(t),c=N(r),u=s===i?0:.5/(i-s),d=i===c?0:.5/(c-i),n=i<s?-1:1,b}}function PT(){var e=ed(zy()(_s));return e.copy=function(){return td(e,PT())},Xc.apply(e,arguments)}function LT(){var e=hj(zy()).domain([.1,1,10]);return e.copy=function(){return td(e,LT()).base(e.base())},Xc.apply(e,arguments)}function TT(){var e=mj(zy());return e.copy=function(){return td(e,TT()).constant(e.constant())},Xc.apply(e,arguments)}function _j(){var e=pj(zy());return e.copy=function(){return td(e,_j()).exponent(e.exponent())},Xc.apply(e,arguments)}function qJ(){return _j.apply(null,arguments).exponent(.5)}const x0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ij,scaleDiverging:PT,scaleDivergingLog:LT,scaleDivergingPow:_j,scaleDivergingSqrt:qJ,scaleDivergingSymlog:TT,scaleIdentity:dT,scaleImplicit:O5,scaleLinear:uT,scaleLog:hT,scaleOrdinal:sj,scalePoint:kQ,scalePow:xj,scaleQuantile:xT,scaleQuantize:gT,scaleRadial:pT,scaleSequential:CT,scaleSequentialLog:ET,scaleSequentialPow:Aj,scaleSequentialQuantile:OT,scaleSequentialSqrt:UJ,scaleSequentialSymlog:kT,scaleSqrt:NZ,scaleSymlog:mT,scaleThreshold:bT,scaleTime:zJ,scaleUtc:FJ,tickFormat:cT},Symbol.toStringTag,{value:"Module"}));var Qc=e=>e.chartData,RT=De([Qc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Cj=(e,t,r,n)=>n?RT(e):Qc(e),$J=(e,t,r)=>r?RT(e):Qc(e);function Fc(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Pr(t)&&Pr(r))return!0}return!1}function ZC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function DT(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(Pr(r))s=r;else if(typeof r=="function")return;if(Pr(n))i=n;else if(typeof n=="function")return;var c=[s,i];if(Fc(c))return c}}function HJ(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Fc(n))return ZC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,c,u;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Lt(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t?.[0]))}catch{}else if(typeof s=="string"&&c_.test(s)){var d=c_.exec(s);if(d==null||d[1]==null||t==null)c=void 0;else{var f=+d[1];c=t[0]-f}}else c=t?.[0];if(i==="auto")t!=null&&(u=Math.max(...t));else if(Lt(i))u=i;else if(typeof i=="function")try{t!=null&&(u=i(t?.[1]))}catch{}else if(typeof i=="string"&&u_.test(i)){var m=u_.exec(i);if(m==null||m[1]==null||t==null)u=void 0;else{var p=+m[1];u=t[1]+p}}else u=t?.[1];var g=[c,u];if(Fc(g))return t==null?g:ZC(g,t,r)}}}var am=1e9,GJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kj,Sn=!0,po="[DecimalError] ",Yd=po+"Invalid argument: ",Ej=po+"Exponent out of range: ",sm=Math.floor,Md=Math.pow,KJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Si,Ia=1e7,pn=7,IT=9007199254740991,Cb=sm(IT/pn),pt={};pt.absoluteValue=pt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};pt.comparedTo=pt.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};pt.decimalPlaces=pt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*pn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};pt.dividedBy=pt.div=function(e){return Rc(this,new this.constructor(e))};pt.dividedToIntegerBy=pt.idiv=function(e){var t=this,r=t.constructor;return sn(Rc(t,new r(e),0,1),r.precision)};pt.equals=pt.eq=function(e){return!this.cmp(e)};pt.exponent=function(){return fa(this)};pt.greaterThan=pt.gt=function(e){return this.cmp(e)>0};pt.greaterThanOrEqualTo=pt.gte=function(e){return this.cmp(e)>=0};pt.isInteger=pt.isint=function(){return this.e>this.d.length-2};pt.isNegative=pt.isneg=function(){return this.s<0};pt.isPositive=pt.ispos=function(){return this.s>0};pt.isZero=function(){return this.s===0};pt.lessThan=pt.lt=function(e){return this.cmp(e)<0};pt.lessThanOrEqualTo=pt.lte=function(e){return this.cmp(e)<1};pt.logarithm=pt.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Si))throw Error(po+"NaN");if(r.s<1)throw Error(po+(r.s?"NaN":"-Infinity"));return r.eq(Si)?new n(0):(Sn=!1,t=Rc(q0(r,i),q0(e,i),i),Sn=!0,sn(t,s))};pt.minus=pt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zT(t,e):MT(t,(e.s=-e.s,e))};pt.modulo=pt.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(po+"NaN");return r.s?(Sn=!1,t=Rc(r,e,0,1).times(e),Sn=!0,r.minus(t)):sn(new n(r),s)};pt.naturalExponential=pt.exp=function(){return BT(this)};pt.naturalLogarithm=pt.ln=function(){return q0(this)};pt.negated=pt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};pt.plus=pt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MT(t,e):zT(t,(e.s=-e.s,e))};pt.precision=pt.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yd+e);if(t=fa(s)+1,n=s.d.length-1,r=n*pn+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};pt.squareRoot=pt.sqrt=function(){var e,t,r,n,s,i,c,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(po+"NaN")}for(e=fa(u),Sn=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=Bl(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=sm((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),r=d.precision,s=c=r+3;;)if(i=n,n=i.plus(Rc(u,i,c+2)).times(.5),Bl(i.d).slice(0,c)===(t=Bl(n.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(sn(i,r+1,0),i.times(i).eq(u)){n=i;break}}else if(t!="9999")break;c+=4}return Sn=!0,sn(n,r)};pt.times=pt.mul=function(e){var t,r,n,s,i,c,u,d,f,m=this,p=m.constructor,g=m.d,b=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,r=m.e+e.e,d=g.length,f=b.length,d<f&&(i=g,g=b,b=i,c=d,d=f,f=c),i=[],c=d+f,n=c;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,s=d+n;s>n;)u=i[s]+b[n]*g[s-n-1]+t,i[s--]=u%Ia|0,t=u/Ia|0;i[s]=(i[s]+t)%Ia|0}for(;!i[--c];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Sn?sn(e,p.precision):e};pt.toDecimalPlaces=pt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Gl(e,0,am),t===void 0?t=n.rounding:Gl(t,0,8),sn(r,e+fa(r)+1,t))};pt.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=df(n,!0):(Gl(e,0,am),t===void 0?t=s.rounding:Gl(t,0,8),n=sn(new s(n),e+1,t),r=df(n,!0,e+1)),r};pt.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?df(s):(Gl(e,0,am),t===void 0?t=i.rounding:Gl(t,0,8),n=sn(new i(s),e+fa(s)+1,t),r=df(n.abs(),!1,e+fa(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};pt.toInteger=pt.toint=function(){var e=this,t=e.constructor;return sn(new t(e),fa(e)+1,t.rounding)};pt.toNumber=function(){return+this};pt.toPower=pt.pow=function(e){var t,r,n,s,i,c,u=this,d=u.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(Si);if(u=new d(u),!u.s){if(e.s<1)throw Error(po+"Infinity");return u}if(u.eq(Si))return u;if(n=d.precision,e.eq(Si))return sn(u,n);if(t=e.e,r=e.d.length-1,c=t>=r,i=u.s,c){if((r=m<0?-m:m)<=IT){for(s=new d(Si),t=Math.ceil(n/pn+4),Sn=!1;r%2&&(s=s.times(u),eE(s.d,t)),r=sm(r/2),r!==0;)u=u.times(u),eE(u.d,t);return Sn=!0,e.s<0?new d(Si).div(s):sn(s,n)}}else if(i<0)throw Error(po+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,u.s=1,Sn=!1,s=e.times(q0(u,n+f)),Sn=!0,s=BT(s),s.s=i,s};pt.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=fa(s),n=df(s,r<=i.toExpNeg||r>=i.toExpPos)):(Gl(e,1,am),t===void 0?t=i.rounding:Gl(t,0,8),s=sn(new i(s),e,t),r=fa(s),n=df(s,e<=r||r<=i.toExpNeg,e)),n};pt.toSignificantDigits=pt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Gl(e,1,am),t===void 0?t=n.rounding:Gl(t,0,8)),sn(new n(r),e,t)};pt.toString=pt.valueOf=pt.val=pt.toJSON=pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=fa(e),r=e.constructor;return df(e,t<=r.toExpNeg||t>=r.toExpPos)};function MT(e,t){var r,n,s,i,c,u,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),Sn?sn(t,p):t;if(d=e.d,f=t.d,c=e.e,s=t.e,d=d.slice(),i=c-s,i){for(i<0?(n=d,i=-i,u=f.length):(n=f,s=c,u=d.length),c=Math.ceil(p/pn),u=c>u?c+1:u+1,i>u&&(i=u,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Ia|0,d[i]%=Ia;for(r&&(d.unshift(r),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,Sn?sn(t,p):t}function Gl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Yd+e)}function Bl(e){var t,r,n,s=e.length-1,i="",c=e[0];if(s>0){for(i+=c,t=1;t<s;t++)n=e[t]+"",r=pn-n.length,r&&(i+=zu(r)),i+=n;c=e[t],n=c+"",r=pn-n.length,r&&(i+=zu(r))}else if(c===0)return"0";for(;c%10===0;)c/=10;return i+c}var Rc=(function(){function e(n,s){var i,c=0,u=n.length;for(n=n.slice();u--;)i=n[u]*s+c,n[u]=i%Ia|0,c=i/Ia|0;return c&&n.unshift(c),n}function t(n,s,i,c){var u,d;if(i!=c)d=i>c?1:-1;else for(u=d=0;u<i;u++)if(n[u]!=s[u]){d=n[u]>s[u]?1:-1;break}return d}function r(n,s,i){for(var c=0;i--;)n[i]-=c,c=n[i]<s[i]?1:0,n[i]=c*Ia+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,c){var u,d,f,m,p,g,b,y,N,j,S,_,E,k,T,D,M,R,B=n.constructor,K=n.s==s.s?1:-1,U=n.d,F=s.d;if(!n.s)return new B(n);if(!s.s)throw Error(po+"Division by zero");for(d=n.e-s.e,M=F.length,T=U.length,b=new B(K),y=b.d=[],f=0;F[f]==(U[f]||0);)++f;if(F[f]>(U[f]||0)&&--d,i==null?_=i=B.precision:c?_=i+(fa(n)-fa(s))+1:_=i,_<0)return new B(0);if(_=_/pn+2|0,f=0,M==1)for(m=0,F=F[0],_++;(f<T||m)&&_--;f++)E=m*Ia+(U[f]||0),y[f]=E/F|0,m=E%F|0;else{for(m=Ia/(F[0]+1)|0,m>1&&(F=e(F,m),U=e(U,m),M=F.length,T=U.length),k=M,N=U.slice(0,M),j=N.length;j<M;)N[j++]=0;R=F.slice(),R.unshift(0),D=F[0],F[1]>=Ia/2&&++D;do m=0,u=t(F,N,M,j),u<0?(S=N[0],M!=j&&(S=S*Ia+(N[1]||0)),m=S/D|0,m>1?(m>=Ia&&(m=Ia-1),p=e(F,m),g=p.length,j=N.length,u=t(p,N,g,j),u==1&&(m--,r(p,M<g?R:F,g))):(m==0&&(u=m=1),p=F.slice()),g=p.length,g<j&&p.unshift(0),r(N,p,j),u==-1&&(j=N.length,u=t(F,N,M,j),u<1&&(m++,r(N,M<j?R:F,j))),j=N.length):u===0&&(m++,N=[0]),y[f++]=m,u&&N[0]?N[j++]=U[k]||0:(N=[U[k]],j=1);while((k++<T||N[0]!==void 0)&&_--)}return y[0]||y.shift(),b.e=d,sn(b,c?i+fa(b)+1:i)}})();function BT(e,t){var r,n,s,i,c,u,d=0,f=0,m=e.constructor,p=m.precision;if(fa(e)>16)throw Error(Ej+fa(e));if(!e.s)return new m(Si);for(Sn=!1,u=p,c=new m(.03125);e.abs().gte(.1);)e=e.times(c),f+=5;for(n=Math.log(Md(2,f))/Math.LN10*2+5|0,u+=n,r=s=i=new m(Si),m.precision=u;;){if(s=sn(s.times(e),u),r=r.times(++d),c=i.plus(Rc(s,r,u)),Bl(c.d).slice(0,u)===Bl(i.d).slice(0,u)){for(;f--;)i=sn(i.times(i),u);return m.precision=p,t==null?(Sn=!0,sn(i,p)):i}i=c}}function fa(e){for(var t=e.e*pn,r=e.d[0];r>=10;r/=10)t++;return t}function Y2(e,t,r){if(t>e.LN10.sd())throw Sn=!0,r&&(e.precision=r),Error(po+"LN10 precision limit exceeded");return sn(new e(e.LN10),t)}function zu(e){for(var t="";e--;)t+="0";return t}function q0(e,t){var r,n,s,i,c,u,d,f,m,p=1,g=10,b=e,y=b.d,N=b.constructor,j=N.precision;if(b.s<1)throw Error(po+(b.s?"NaN":"-Infinity"));if(b.eq(Si))return new N(0);if(t==null?(Sn=!1,f=j):f=t,b.eq(10))return t==null&&(Sn=!0),Y2(N,f);if(f+=g,N.precision=f,r=Bl(y),n=r.charAt(0),i=fa(b),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=Bl(b.d),n=r.charAt(0),p++;i=fa(b),n>1?(b=new N("0."+r),i++):b=new N(n+"."+r.slice(1))}else return d=Y2(N,f+2,j).times(i+""),b=q0(new N(n+"."+r.slice(1)),f-g).plus(d),N.precision=j,t==null?(Sn=!0,sn(b,j)):b;for(u=c=b=Rc(b.minus(Si),b.plus(Si),f),m=sn(b.times(b),f),s=3;;){if(c=sn(c.times(m),f),d=u.plus(Rc(c,new N(s),f)),Bl(d.d).slice(0,f)===Bl(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(Y2(N,f+2,j).times(i+""))),u=Rc(u,new N(p),f),N.precision=j,t==null?(Sn=!0,sn(u,j)):u;u=d,s+=2}}function JC(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=sm(r/pn),e.d=[],n=(r+1)%pn,r<0&&(n+=pn),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=pn;n<s;)e.d.push(+t.slice(n,n+=pn));t=t.slice(n),n=pn-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Sn&&(e.e>Cb||e.e<-Cb))throw Error(Ej+r)}else e.s=0,e.e=0,e.d=[0];return e}function sn(e,t,r){var n,s,i,c,u,d,f,m,p=e.d;for(c=1,i=p[0];i>=10;i/=10)c++;if(n=t-c,n<0)n+=pn,s=t,f=p[m=0];else{if(m=Math.ceil((n+1)/pn),i=p.length,m>=i)return e;for(f=i=p[m],c=1;i>=10;i/=10)c++;n%=pn,s=n-pn+c}if(r!==void 0&&(i=Md(10,c-s-1),u=f/i%10|0,d=t<0||p[m+1]!==void 0||f%i,d=r<4?(u||d)&&(r==0||r==(e.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?s>0?f/Md(10,c-s):0:p[m-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(i=fa(e),p.length=1,t=t-i-1,p[0]=Md(10,(pn-t%pn)%pn),e.e=sm(-t/pn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=m,i=1,m--):(p.length=m+1,i=Md(10,pn-n),p[m]=s>0?(f/Md(10,c-s)%Md(10,s)|0)*i:0),d)for(;;)if(m==0){(p[0]+=i)==Ia&&(p[0]=1,++e.e);break}else{if(p[m]+=i,p[m]!=Ia)break;p[m--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(Sn&&(e.e>Cb||e.e<-Cb))throw Error(Ej+fa(e));return e}function zT(e,t){var r,n,s,i,c,u,d,f,m,p,g=e.constructor,b=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Sn?sn(t,b):t;if(d=e.d,p=t.d,n=t.e,f=e.e,d=d.slice(),c=f-n,c){for(m=c<0,m?(r=d,c=-c,u=p.length):(r=p,n=f,u=d.length),s=Math.max(Math.ceil(b/pn),u)+2,c>s&&(c=s,r.length=1),r.reverse(),s=c;s--;)r.push(0);r.reverse()}else{for(s=d.length,u=p.length,m=s<u,m&&(u=s),s=0;s<u;s++)if(d[s]!=p[s]){m=d[s]<p[s];break}c=0}for(m&&(r=d,d=p,p=r,t.s=-t.s),u=d.length,s=p.length-u;s>0;--s)d[u++]=0;for(s=p.length;s>c;){if(d[--s]<p[s]){for(i=s;i&&d[--i]===0;)d[i]=Ia-1;--d[i],d[s]+=Ia}d[s]-=p[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Sn?sn(t,b):t):new g(0)}function df(e,t,r){var n,s=fa(e),i=Bl(e.d),c=i.length;return t?(r&&(n=r-c)>0?i=i.charAt(0)+"."+i.slice(1)+zu(n):c>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+zu(-s-1)+i,r&&(n=r-c)>0&&(i+=zu(n))):s>=c?(i+=zu(s+1-c),r&&(n=r-s-1)>0&&(i=i+"."+zu(n))):((n=s+1)<c&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-c)>0&&(s+1===c&&(i+="."),i+=zu(n))),e.s<0?"-"+i:i}function eE(e,t){if(e.length>t)return e.length=t,!0}function FT(e){var t,r,n;function s(i){var c=this;if(!(c instanceof s))return new s(i);if(c.constructor=s,i instanceof s){c.s=i.s,c.e=i.e,c.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Yd+i);if(i>0)c.s=1;else if(i<0)i=-i,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(i===~~i&&i<1e7){c.e=0,c.d=[i];return}return JC(c,i.toString())}else if(typeof i!="string")throw Error(Yd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),c.s=-1):c.s=1,KJ.test(i))JC(c,i);else throw Error(Yd+i)}if(s.prototype=pt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=FT,s.config=s.set=VJ,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function VJ(e){if(!e||typeof e!="object")throw Error(po+"Object expected");var t,r,n,s=["precision",1,am,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(sm(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Yd+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Yd+r+": "+n);return this}var kj=FT(GJ);Si=new kj(1);const Br=kj;function UT(e){var t;return e===0?t=1:t=Math.floor(new Br(e).abs().log(10).toNumber())+1,t}function qT(e,t,r){for(var n=new Br(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var $T=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},HT=(e,t,r)=>{if(e.lte(0))return new Br(0);var n=UT(e.toNumber()),s=new Br(10).pow(n),i=e.div(s),c=n!==1?.05:.1,u=new Br(Math.ceil(i.div(c).toNumber())).add(r).mul(c),d=u.mul(s);return t?new Br(d.toNumber()):new Br(Math.ceil(d.toNumber()))},WJ=(e,t,r)=>{var n=new Br(1),s=new Br(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Br(10).pow(UT(e)-1),s=new Br(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Br(Math.floor(e)))}else e===0?s=new Br(Math.floor((t-1)/2)):r||(s=new Br(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],d=0;d<t;d++)u.push(s.add(new Br(d-c).mul(n)).toNumber());return u},GT=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Br(0),tickMin:new Br(0),tickMax:new Br(0)};var c=HT(new Br(r).sub(t).div(n-1),s,i),u;t<=0&&r>=0?u=new Br(0):(u=new Br(t).add(r).div(2),u=u.sub(new Br(u).mod(c)));var d=Math.ceil(u.sub(t).div(c).toNumber()),f=Math.ceil(new Br(r).sub(u).div(c).toNumber()),m=d+f+1;return m>n?GT(t,r,n,s,i+1):(m<n&&(f=r>0?f+(n-m):f,d=r>0?d:d+(n-m)),{step:c,tickMin:u.sub(new Br(d).mul(c)),tickMax:u.add(new Br(f).mul(c))})},YJ=function(t){var[r,n]=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(s,2),[u,d]=$T([r,n]);if(u===-1/0||d===1/0){var f=d===1/0?[u,...Array(s-1).fill(1/0)]:[...Array(s-1).fill(-1/0),d];return r>n?f.reverse():f}if(u===d)return WJ(u,s,i);var{step:m,tickMin:p,tickMax:g}=GT(u,d,c,i,0),b=qT(p,g.add(new Br(.1).mul(m)),m);return r>n?b.reverse():b},XJ=function(t,r){var[n,s]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=$T([n,s]);if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(r,2),f=HT(new Br(u).sub(c).div(d-1),i,0),m=[...qT(new Br(c),new Br(u),f),u];return i===!1&&(m=m.map(p=>Math.round(p))),n>s?m.reverse():m},KT=e=>e.rootProps.maxBarSize,QJ=e=>e.rootProps.barGap,VT=e=>e.rootProps.barCategoryGap,ZJ=e=>e.rootProps.barSize,Fy=e=>e.rootProps.stackOffset,WT=e=>e.rootProps.reverseStackOrder,Oj=e=>e.options.chartName,Pj=e=>e.rootProps.syncId,YT=e=>e.rootProps.syncMethod,Lj=e=>e.options.eventEmitter,ns={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Td={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},El={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Uy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function qy(e,t,r){if(r!=="auto")return r;if(e!=null)return Vc(e,t)?"category":"number"}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Eb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){JJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JJ(e,t,r){return(t=eee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eee(e){var t=tee(e,"string");return typeof t=="symbol"?t:t+""}function tee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rE={allowDataOverflow:Td.allowDataOverflow,allowDecimals:Td.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Td.angleAxisId,includeHidden:!1,name:void 0,reversed:Td.reversed,scale:Td.scale,tick:Td.tick,tickCount:void 0,ticks:void 0,type:Td.type,unit:void 0},nE={allowDataOverflow:El.allowDataOverflow,allowDecimals:El.allowDecimals,allowDuplicatedCategory:El.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:El.radiusAxisId,includeHidden:El.includeHidden,name:void 0,reversed:El.reversed,scale:El.scale,tick:El.tick,tickCount:El.tickCount,ticks:void 0,type:El.type,unit:void 0},ree=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Tj=De([ree,IL],(e,t)=>{var r;if(e!=null)return e;var n=(r=qy(t,"angleAxis",rE.type))!==null&&r!==void 0?r:"category";return Eb(Eb({},rE),{},{type:n})}),nee=(e,t)=>e.polarAxis.radiusAxis[t],Rj=De([nee,IL],(e,t)=>{var r;if(e!=null)return e;var n=(r=qy(t,"radiusAxis",nE.type))!==null&&r!==void 0?r:"category";return Eb(Eb({},nE),{},{type:n})}),$y=e=>e.polarOptions,Dj=De([Wc,Yc,Ba],eQ),XT=De([$y,Dj],(e,t)=>{if(e!=null)return Qo(e.innerRadius,t,0)}),QT=De([$y,Dj],(e,t)=>{if(e!=null)return Qo(e.outerRadius,t,t*.8)}),aee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},ZT=De([$y],aee);De([Tj,ZT],Uy);var JT=De([Dj,XT,QT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});De([Rj,JT],Uy);var e7=De([Fr,$y,XT,QT,Wc,Yc],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:c,cy:u,startAngle:d,endAngle:f}=t;return{cx:Qo(c,s,s/2),cy:Qo(u,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Fa=(e,t)=>t,Hy=(e,t,r)=>r;function Ij(e){return e?.id}function t7(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:i}=r,c=new Map;return e.forEach(u=>{var d,f=(d=u.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var m=Ij(u);f.forEach((p,g)=>{var b=i==null||s?g:String(da(p,i,null)),y=da(p,u.dataKey,0),N;c.has(b)?N=c.get(b):N={},Object.assign(N,{[m]:y}),c.set(b,N)})}}),Array.from(c.values())}function Gy(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Ky=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Vy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function see(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ua=e=>{var t=Fr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},im=e=>e.tooltip.settings.axisId;function iee(e){if(e in x0)return x0[e]();var t="scale".concat(ip(e));if(t in x0)return x0[t]()}function aE(e){var t=e.ticks,r=e.bandwidth,n=e.range(),s=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:(function(i){function c(){return i.apply(this,arguments)}return c.toString=function(){return i.toString()},c})(()=>s),rangeMin:()=>s[0],rangeMax:()=>s[1],isInRange(i){var c=s[0],u=s[1];return c<=u?i>=c&&i<=u:i>=u&&i<=c},bandwidth:r?()=>r.call(e):void 0,ticks:t?i=>t.call(e,i):void 0,map:(i,c)=>{var u=e(i);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var d=e.bandwidth();switch(c.position){case"middle":u+=d/2;break;case"end":u+=d;break}}return u}}}}function sE(e,t,r){if(typeof e=="function")return aE(e.copy().domain(t).range(r));if(e!=null){var n=iee(e);if(n!=null)return n.domain(t).range(r),aE(n)}}var oee=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Fc(t)){for(var r,n,s=0;s<t.length;s++){var i=t[s];Pr(i)&&((r===void 0||i<r)&&(r=i),(n===void 0||i>n)&&(n=i))}return r!==void 0&&n!==void 0?[r,n]:void 0}return t}default:return t}};function iE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iE(Object(r),!0).forEach(function(n){lee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lee(e,t,r){return(t=cee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cee(e){var t=uee(e,"string");return typeof t=="symbol"?t:t+""}function uee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R5=[0,"auto"],Ra={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},r7=(e,t)=>e.cartesianAxis.xAxis[t],Zc=(e,t)=>{var r=r7(e,t);return r??Ra},Da={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:R5,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cp},n7=(e,t)=>e.cartesianAxis.yAxis[t],Jc=(e,t)=>{var r=n7(e,t);return r??Da},dee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Mj=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??dee},Ts=(e,t,r)=>{switch(t){case"xAxis":return Zc(e,r);case"yAxis":return Jc(e,r);case"zAxis":return Mj(e,r);case"angleAxis":return Tj(e,r);case"radiusAxis":return Rj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},fee=(e,t,r)=>{switch(t){case"xAxis":return Zc(e,r);case"yAxis":return Jc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xp=(e,t,r)=>{switch(t){case"xAxis":return Zc(e,r);case"yAxis":return Jc(e,r);case"angleAxis":return Tj(e,r);case"radiusAxis":return Rj(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},a7=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function s7(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Wy=e=>e.graphicalItems.cartesianItems,hee=De([Fa,Hy],s7),i7=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),gp=De([Wy,Ts,hee],i7,{memoizeOptions:{resultEqualityCheck:Vy}}),o7=De([gp],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Gy)),l7=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),mee=De([gp],l7),c7=e=>e.map(t=>t.data).filter(Boolean).flat(1),pee=De([gp],c7,{memoizeOptions:{resultEqualityCheck:Vy}}),u7=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Bj=De([pee,Cj],u7),d7=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:da(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:da(s,n)}))):e.map(n=>({value:n})),Yy=De([Bj,Ts,gp],d7);function f7(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function pg(e){if(Hl(e)||e instanceof Date){var t=Number(e);if(Pr(t))return t}}function oE(e){if(Array.isArray(e)){var t=[pg(e[0]),pg(e[1])];return Fc(t)?t:void 0}var r=pg(e);if(r!=null)return[r,r]}function Uc(e){return e.map(pg).filter(Il)}function xee(e,t,r){return!r||typeof t!="number"||$l(t)?[]:r.length?Uc(r.flatMap(n=>{var s=da(e,n.dataKey),i,c;if(Array.isArray(s)?[i,c]=s:i=c=s,!(!Pr(i)||!Pr(c)))return[t-i,t+c]})):[]}var Ca=e=>{var t=Ua(e),r=im(e);return xp(e,t,r)},bp=De([Ca],e=>e?.dataKey),gee=De([o7,Cj,Ca],t7),h7=(e,t,r,n)=>{var s={},i=t.reduce((c,u)=>{if(u.stackId==null)return c;var d=c[u.stackId];return d==null&&(d=[]),d.push(u),c[u.stackId]=d,c},s);return Object.fromEntries(Object.entries(i).map(c=>{var[u,d]=c,f=n?[...d].reverse():d,m=f.map(Ij);return[u,{stackedData:qW(e,m,r),graphicalItems:f}]}))},D5=De([gee,o7,Fy,WT],h7),m7=(e,t,r,n)=>{var{dataStartIndex:s,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var c=VW(e,s,i);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},bee=De([Ts],e=>e.allowDataOverflow),zj=e=>{var t;if(e==null||!("domain"in e))return R5;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Uc(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:R5},p7=De([Ts],zj),x7=De([p7,bee],DT),yee=De([D5,Qc,Fa,x7],m7,{memoizeOptions:{resultEqualityCheck:Ky}}),Fj=e=>e.errorBars,vee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>f7(r,n)),Ob=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),c=Math.min(...i),u=Math.max(...i);return[c,u]}},g7=(e,t,r,n,s)=>{var i,c;if(r.length>0&&e.forEach(u=>{r.forEach(d=>{var f,m,p=(f=n[d.id])===null||f===void 0?void 0:f.filter(S=>f7(s,S)),g=da(u,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),b=xee(u,g,p);if(b.length>=2){var y=Math.min(...b),N=Math.max(...b);(i==null||y<i)&&(i=y),(c==null||N>c)&&(c=N)}var j=oE(g);j!=null&&(i=i==null?j[0]:Math.min(i,j[0]),c=c==null?j[1]:Math.max(c,j[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var d=oE(da(u,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),c=c==null?d[1]:Math.max(c,d[1]))}),Pr(i)&&Pr(c))return[i,c]},wee=De([Bj,Ts,mee,Fj,Fa],g7,{memoizeOptions:{resultEqualityCheck:Ky}});function Nee(e){var{value:t}=e;if(Hl(t)||t instanceof Date)return t}var jee=(e,t,r)=>{var n=e.map(Nee).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&BP(n))?eT(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},b7=e=>e.referenceElements.dots,om=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),See=De([b7,Fa,Hy],om),y7=e=>e.referenceElements.areas,Aee=De([y7,Fa,Hy],om),v7=e=>e.referenceElements.lines,_ee=De([v7,Fa,Hy],om),w7=(e,t)=>{if(e!=null){var r=Uc(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Cee=De(See,Fa,w7),N7=(e,t)=>{if(e!=null){var r=Uc(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Eee=De([Aee,Fa],N7);function kee(e){var t;if(e.x!=null)return Uc([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Uc(r)}function Oee(e){var t;if(e.y!=null)return Uc([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Uc(r)}var j7=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?kee(n):Oee(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Pee=De([_ee,Fa],j7),Lee=De(Cee,Pee,Eee,(e,t,r)=>Ob(e,r,t)),S7=(e,t,r,n,s,i,c,u)=>{if(r!=null)return r;var d=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",f=d?Ob(n,i,s):Ob(i,s);return HJ(t,f,e.allowDataOverflow)},Tee=De([Ts,p7,x7,yee,wee,Lee,Fr,Fa],S7,{memoizeOptions:{resultEqualityCheck:Ky}}),Ree=[0,1],A7=(e,t,r,n,s,i,c)=>{if(!((e==null||r==null||r.length===0)&&c===void 0)){var{dataKey:u,type:d}=e,f=Vc(t,i);if(f&&u==null){var m;return eT(0,(m=r?.length)!==null&&m!==void 0?m:0)}return d==="category"?jee(n,e,f):s==="expand"?Ree:c}},Uj=De([Ts,Fr,Bj,Yy,Fy,Fa,Tee],A7);function Dee(e){return e in x0}var _7=(e,t,r)=>{if(e!=null){var{scale:n,type:s}=e;if(n==="auto")return s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!t)?"point":s==="category"?"band":"linear";if(typeof n=="string"){var i="scale".concat(ip(n));return Dee(i)?i:"point"}}},lm=De([Ts,a7,Oj],_7);function qj(e,t,r,n){if(!(r==null||n==null))return typeof e.scale=="function"?sE(e.scale,r,n):sE(t,r,n)}var C7=(e,t,r)=>{var n=zj(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Fc(e))return YJ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Fc(e))return XJ(e,t.tickCount,t.allowDecimals)}},$j=De([Uj,xp,lm],C7),E7=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Fc(t)&&Array.isArray(r)&&r.length>0){var s,i,c=t[0],u=(s=r[0])!==null&&s!==void 0?s:0,d=t[1],f=(i=r[r.length-1])!==null&&i!==void 0?i:0;return[Math.min(c,u),Math.max(d,f)]}return t},Iee=De([Ts,Uj,$j,Fa],E7),Mee=De(Yy,Ts,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Uc(e.map(p=>p.value))).sort((p,g)=>p-g),s=n[0],i=n[n.length-1];if(s==null||i==null)return 1/0;var c=i-s;if(c===0)return 1/0;for(var u=0;u<n.length-1;u++){var d=n[u],f=n[u+1];if(!(d==null||f==null)){var m=f-d;r=Math.min(r,m)}}return r/c}}),k7=De(Mee,Fr,VT,Ba,(e,t,r,n,s)=>s,(e,t,r,n,s)=>{if(!Pr(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var c=Qo(r,e*i),u=e*i/2;return u-c-(u-c)/i*c}return 0}),Bee=(e,t,r)=>{var n=Zc(e,t);return n==null||typeof n.padding!="string"?0:k7(e,"xAxis",t,r,n.padding)},zee=(e,t,r)=>{var n=Jc(e,t);return n==null||typeof n.padding!="string"?0:k7(e,"yAxis",t,r,n.padding)},Fee=De(Zc,Bee,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),Uee=De(Jc,zee,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),qee=De([Ba,Fee,Ay,Sy,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),$ee=De([Ba,Fr,Uee,Ay,Sy,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:c}=s;return i?[n.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),yp=(e,t,r,n)=>{var s;switch(t){case"xAxis":return qee(e,r,n);case"yAxis":return $ee(e,r,n);case"zAxis":return(s=Mj(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return ZT(e);case"radiusAxis":return JT(e,r);default:return}},O7=De([Ts,yp],Uy),Hee=De([lm,Iee],oee),Xy=De([Ts,lm,Hee,O7],qj);De([gp,Fj,Fa],vee);function P7(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Qy=(e,t)=>t,Zy=(e,t,r)=>r,Gee=De(Ny,Qy,Zy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(P7)),Kee=De(jy,Qy,Zy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(P7)),L7=(e,t)=>({width:e.width,height:t.height}),Vee=(e,t)=>{var r=typeof t.width=="number"?t.width:cp;return{width:r,height:e.height}},T7=De(Ba,Zc,L7),Wee=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Yee=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Xee=De(Yc,Ba,Gee,Qy,Zy,(e,t,r,n,s)=>{var i={},c;return r.forEach(u=>{var d=L7(t,u);c==null&&(c=Wee(t,n,e));var f=n==="top"&&!s||n==="bottom"&&s;i[u.id]=c-Number(f)*d.height,c+=(f?-1:1)*d.height}),i}),Qee=De(Wc,Ba,Kee,Qy,Zy,(e,t,r,n,s)=>{var i={},c;return r.forEach(u=>{var d=Vee(t,u);c==null&&(c=Yee(t,n,e));var f=n==="left"&&!s||n==="right"&&s;i[u.id]=c-Number(f)*d.width,c+=(f?-1:1)*d.width}),i}),Zee=(e,t)=>{var r=Zc(e,t);if(r!=null)return Xee(e,r.orientation,r.mirror)},Jee=De([Ba,Zc,Zee,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r?.[n];return s==null?{x:e.left,y:0}:{x:e.left,y:s}}}),ete=(e,t)=>{var r=Jc(e,t);if(r!=null)return Qee(e,r.orientation,r.mirror)},tte=De([Ba,Jc,ete,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var s=r?.[n];return s==null?{x:0,y:e.top}:{x:s,y:e.top}}}),R7=De(Ba,Jc,(e,t)=>{var r=typeof t.width=="number"?t.width:cp;return{width:r,height:e.height}}),lE=(e,t,r)=>{switch(t){case"xAxis":return T7(e,r).width;case"yAxis":return R7(e,r).height;default:return}},D7=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:c}=r,u=Vc(e,n),d=t.map(f=>f.value);if(c&&u&&i==="category"&&s&&BP(d))return d}},Hj=De([Fr,Yy,Ts,Fa],D7),I7=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,c=Vc(e,n);if(c&&(s==="number"||i!=="auto"))return t.map(u=>u.value)}},Gj=De([Fr,Yy,xp,Fa],I7);De([Fr,fee,lm,Xy,Hj,Gj,yp,$j,Fa],(e,t,r,n,s,i,c,u,d)=>{if(t!=null){var f=Vc(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:s,isCategorical:f,niceTicks:u,range:c,realScaleType:r,scale:n}}});var rte=(e,t,r,n,s,i,c,u,d)=>{if(!(t==null||n==null)){var f=Vc(e,d),{type:m,ticks:p,tickCount:g}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=m==="category"&&n.bandwidth?n.bandwidth()/b:0;y=d==="angleAxis"&&i!=null&&i.length>=2?Ai(i[0]-i[1])*2*y:y;var N=p||s;return N?N.map((j,S)=>{var _=c?c.indexOf(j):j,E=n.map(_);return Pr(E)?{index:S,coordinate:E+y,value:j,offset:y}:null}).filter(Il):f&&u?u.map((j,S)=>{var _=n.map(j);return Pr(_)?{coordinate:_+y,value:j,index:S,offset:y}:null}).filter(Il):n.ticks?n.ticks(g).map((j,S)=>{var _=n.map(j);return Pr(_)?{coordinate:_+y,value:j,index:S,offset:y}:null}).filter(Il):n.domain().map((j,S)=>{var _=n.map(j);return Pr(_)?{coordinate:_+y,value:c?c[j]:j,index:S,offset:y}:null}).filter(Il)}},M7=De([Fr,xp,lm,Xy,$j,yp,Hj,Gj,Fa],rte),nte=(e,t,r,n,s,i,c)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var u=Vc(e,c),{tickCount:d}=t,f=0;return f=c==="angleAxis"&&n?.length>=2?Ai(n[0]-n[1])*2*f:f,u&&i?i.map((m,p)=>{var g=r.map(m);return Pr(g)?{coordinate:g+f,value:m,index:p,offset:f}:null}).filter(Il):r.ticks?r.ticks(d).map((m,p)=>{var g=r.map(m);return Pr(g)?{coordinate:g+f,value:m,index:p,offset:f}:null}).filter(Il):r.domain().map((m,p)=>{var g=r.map(m);return Pr(g)?{coordinate:g+f,value:s?s[m]:m,index:p,offset:f}:null}).filter(Il)}},Xu=De([Fr,xp,Xy,yp,Hj,Gj,Fa],nte),Qu=De(Ts,Xy,(e,t)=>{if(!(e==null||t==null))return kb(kb({},e),{},{scale:t})}),ate=De([Ts,lm,Uj,O7],qj);De((e,t,r)=>Mj(e,r),ate,(e,t)=>{if(!(e==null||t==null))return kb(kb({},e),{},{scale:t})});var ste=De([Fr,Ny,jy],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),B7=e=>e.options.defaultTooltipEventType,z7=e=>e.options.validateTooltipEventTypes;function F7(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Kj(e,t){var r=B7(e),n=z7(e);return F7(t,r,n)}function ite(e){return Bt(t=>Kj(t,e))}var U7=(e,t)=>{var r,n=Number(t);if(!($l(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},ote=e=>e.tooltip.settings,qu={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},lte={itemInteraction:{click:qu,hover:qu},axisInteraction:{click:qu,hover:qu},keyboardInteraction:qu,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},q7=si({name:"tooltip",initialState:lte,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:jn()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Yo(e).tooltipItemPayloads.indexOf(r);s>-1&&(e.tooltipItemPayloads[s]=n)},prepare:jn()},removeTooltipEntrySettings:{reducer(e,t){var r=Yo(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:jn()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:cte,replaceTooltipEntrySettings:ute,removeTooltipEntrySettings:dte,setTooltipSettingsState:fte,setActiveMouseOverItemIndex:$7,mouseLeaveItem:hte,mouseLeaveChart:H7,setActiveClickItemIndex:mte,setMouseOverAxisIndex:G7,setMouseClickAxisIndex:pte,setSyncInteraction:I5,setKeyboardInteraction:M5}=q7.actions,xte=q7.reducer;function cE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ix(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(r),!0).forEach(function(n){gte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gte(e,t,r){return(t=bte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bte(e){var t=yte(e,"string");return typeof t=="symbol"?t:t+""}function yte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function wte(e){return e.index!=null}var K7=(e,t,r,n)=>{if(t==null)return qu;var s=vte(e,t,r);if(s==null)return qu;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(wte(s)){if(i)return Ix(Ix({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Ix(Ix({},qu),{},{coordinate:s.coordinate})};function Nte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function jte(e,t){var r=Nte(e),n=t[0],s=t[1];if(r===void 0)return!1;var i=Math.min(n,s),c=Math.max(n,s);return r>=i&&r<=c}function Ste(e,t,r){if(r==null||t==null)return!0;var n=da(e,t);return n==null||!Fc(r)?!0:jte(n,r)}var Vj=(e,t,r,n)=>{var s=e?.index;if(s==null)return null;var i=Number(s);if(!Pr(i))return s;var c=0,u=1/0;t.length>0&&(u=t.length-1);var d=Math.max(c,Math.min(i,u)),f=t[d];return f==null||Ste(f,r,n)?String(d):null},V7=(e,t,r,n,s,i,c)=>{if(i!=null){var u=c[0],d=u?.getPosition(i);if(d!=null)return d;var f=s?.[Number(i)];if(f)return r==="horizontal"?{x:f.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:f.coordinate}}},W7=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;if(r==="hover"?s=e.itemInteraction.hover.graphicalItemId:s=e.itemInteraction.click.graphicalItemId,s==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===s})},Y7=e=>e.options.tooltipPayloadSearcher,cm=e=>e.tooltip;function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(n){Ate(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ate(e,t,r){return(t=_te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Cte(e,"string");return typeof t=="symbol"?t:t+""}function Cte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ete(e,t){return e??t}var X7=(e,t,r,n,s,i,c)=>{if(!(t==null||i==null)){var{chartData:u,computedData:d,dataStartIndex:f,dataEndIndex:m}=r,p=[];return e.reduce((g,b)=>{var y,{dataDefinedOnItem:N,settings:j}=b,S=Ete(N,u),_=Array.isArray(S)?OL(S,f,m):S,E=(y=j?.dataKey)!==null&&y!==void 0?y:n,k=j?.nameKey,T;if(n&&Array.isArray(_)&&!Array.isArray(_[0])&&c==="axis"?T=zP(_,n,s):T=i(_,t,d,k),Array.isArray(T))T.forEach(M=>{var R=dE(dE({},j),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});g.push(d_({tooltipEntrySettings:R,dataKey:M.dataKey,payload:M.payload,value:da(M.payload,M.dataKey),name:M.name}))});else{var D;g.push(d_({tooltipEntrySettings:j,dataKey:E,payload:T,value:da(T,E),name:(D=da(T,k))!==null&&D!==void 0?D:j?.name}))}return g},p)}},Wj=De([Ca,a7,Oj],_7),kte=De([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ote=De([Ua,im],s7),um=De([kte,Ca,Ote],i7,{memoizeOptions:{resultEqualityCheck:Vy}}),Pte=De([um],e=>e.filter(Gy)),Lte=De([um],c7,{memoizeOptions:{resultEqualityCheck:Vy}}),dm=De([Lte,Qc],u7),Tte=De([Pte,Qc,Ca],t7),Yj=De([dm,Ca,um],d7),Q7=De([Ca],zj),Rte=De([Ca],e=>e.allowDataOverflow),Z7=De([Q7,Rte],DT),Dte=De([um],e=>e.filter(Gy)),Ite=De([Tte,Dte,Fy,WT],h7),Mte=De([Ite,Qc,Ua,Z7],m7),Bte=De([um],l7),zte=De([dm,Ca,Bte,Fj,Ua],g7,{memoizeOptions:{resultEqualityCheck:Ky}}),Fte=De([b7,Ua,im],om),Ute=De([Fte,Ua],w7),qte=De([y7,Ua,im],om),$te=De([qte,Ua],N7),Hte=De([v7,Ua,im],om),Gte=De([Hte,Ua],j7),Kte=De([Ute,Gte,$te],Ob),Vte=De([Ca,Q7,Z7,Mte,zte,Kte,Fr,Ua],S7),vp=De([Ca,Fr,dm,Yj,Fy,Ua,Vte],A7),Wte=De([vp,Ca,Wj],C7),Yte=De([Ca,vp,Wte,Ua],E7),J7=e=>{var t=Ua(e),r=im(e),n=!1;return yp(e,t,r,n)},eR=De([Ca,J7],Uy),tR=De([Ca,Wj,Yte,eR],qj),Xte=De([Fr,Yj,Ca,Ua],D7),Qte=De([Fr,Yj,Ca,Ua],I7),Zte=(e,t,r,n,s,i,c,u)=>{if(t){var{type:d}=t,f=Vc(e,u);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return p=u==="angleAxis"&&s!=null&&s?.length>=2?Ai(s[0]-s[1])*2*p:p,f&&c?c.map((g,b)=>{var y=n.map(g);return Pr(y)?{coordinate:y+p,value:g,index:b,offset:p}:null}).filter(Il):n.domain().map((g,b)=>{var y=n.map(g);return Pr(y)?{coordinate:y+p,value:i?i[g]:g,index:b,offset:p}:null}).filter(Il)}}},eu=De([Fr,Ca,Wj,tR,J7,Xte,Qte,Ua],Zte),Xj=De([B7,z7,ote],(e,t,r)=>F7(r.shared,e,t)),rR=e=>e.tooltip.settings.trigger,Qj=e=>e.tooltip.settings.defaultIndex,wp=De([cm,Xj,rR,Qj],K7),ff=De([wp,dm,bp,vp],Vj),nR=De([eu,ff],U7),aR=De([wp],e=>{if(e)return e.dataKey});De([wp],e=>{if(e)return e.graphicalItemId});var sR=De([cm,Xj,rR,Qj],W7),Jte=De([Wc,Yc,Fr,Ba,eu,Qj,sR],V7),ere=De([wp,Jte],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),tre=De([wp],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),rre=De([sR,ff,Qc,bp,nR,Y7,Xj],X7),nre=De([rre],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(r),!0).forEach(function(n){are(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function are(e,t,r){return(t=sre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sre(e){var t=ire(e,"string");return typeof t=="symbol"?t:t+""}function ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ore=()=>Bt(Ca),lre=()=>{var e=ore(),t=Bt(eu),r=Bt(tR);return Kh(!e||!r?void 0:hE(hE({},e),{},{scale:r}),t)};function mE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(r),!0).forEach(function(n){cre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cre(e,t,r){return(t=ure(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ure(e){var t=dre(e,"string");return typeof t=="symbol"?t:t+""}function dre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fre=(e,t,r,n)=>{var s=t.find(i=>i&&i.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:s.coordinate}}return{x:0,y:0}},hre=(e,t,r,n)=>{var s=t.find(f=>f&&f.index===r);if(s){if(e==="centric"){var i=s.coordinate,{radius:c}=n;return bh(bh(bh({},n),rs(n.cx,n.cy,c,i)),{},{angle:i,radius:c})}var u=s.coordinate,{angle:d}=n;return bh(bh(bh({},n),rs(n.cx,n.cy,u,d)),{},{angle:d,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var iR=(e,t,r,n,s)=>{var i,c=(i=t?.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var u=0;u<c;u++){var d,f,m,p,g,b=u>0?(d=r[u-1])===null||d===void 0?void 0:d.coordinate:(f=r[c-1])===null||f===void 0?void 0:f.coordinate,y=(m=r[u])===null||m===void 0?void 0:m.coordinate,N=u>=c-1?(p=r[0])===null||p===void 0?void 0:p.coordinate:(g=r[u+1])===null||g===void 0?void 0:g.coordinate,j=void 0;if(!(b==null||y==null||N==null))if(Ai(y-b)!==Ai(N-y)){var S=[];if(Ai(N-y)===Ai(s[1]-s[0])){j=N;var _=y+s[1]-s[0];S[0]=Math.min(_,(_+b)/2),S[1]=Math.max(_,(_+b)/2)}else{j=b;var E=N+s[1]-s[0];S[0]=Math.min(y,(E+y)/2),S[1]=Math.max(y,(E+y)/2)}var k=[Math.min(y,(j+y)/2),Math.max(y,(j+y)/2)];if(e>k[0]&&e<=k[1]||e>=S[0]&&e<=S[1]){var T;return(T=r[u])===null||T===void 0?void 0:T.index}}else{var D=Math.min(b,N),M=Math.max(b,N);if(e>(D+y)/2&&e<=(M+y)/2){var R;return(R=r[u])===null||R===void 0?void 0:R.index}}}else if(t)for(var B=0;B<c;B++){var K=t[B];if(K!=null){var U=t[B+1],F=t[B-1];if(B===0&&U!=null&&e<=(K.coordinate+U.coordinate)/2||B===c-1&&F!=null&&e>(K.coordinate+F.coordinate)/2||B>0&&B<c-1&&F!=null&&U!=null&&e>(K.coordinate+F.coordinate)/2&&e<=(K.coordinate+U.coordinate)/2)return K.index}}return-1},pre=()=>Bt(Oj),Zj=(e,t)=>t,oR=(e,t,r)=>r,Jj=(e,t,r,n)=>n,xre=De(eu,e=>dy(e,t=>t.coordinate)),eS=De([cm,Zj,oR,Jj],K7),tS=De([eS,dm,bp,vp],Vj),gre=(e,t,r)=>{if(t!=null){var n=cm(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},lR=De([cm,Zj,oR,Jj],W7),Pb=De([Wc,Yc,Fr,Ba,eu,Jj,lR],V7),bre=De([eS,Pb],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),cR=De([eu,tS],U7),yre=De([lR,tS,Qc,bp,cR,Y7,Zj],X7),vre=De([eS,tS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wre=(e,t,r,n,s,i,c)=>{if(!(!e||!r||!n||!s)&&mre(e,c)){var u=WW(e,t),d=iR(u,i,s,r,n),f=fre(t,s,d,e);return{activeIndex:String(d),activeCoordinate:f}}},Nre=(e,t,r,n,s,i,c)=>{if(!(!e||!n||!s||!i||!r)){var u=sQ(e,r);if(u){var d=YW(u,t),f=iR(d,c,i,n,s),m=hre(t,i,f,u);return{activeIndex:String(f),activeCoordinate:m}}}},jre=(e,t,r,n,s,i,c,u)=>{if(!(!e||!t||!n||!s||!i))return t==="horizontal"||t==="vertical"?wre(e,t,n,s,i,c,u):Nre(e,t,r,n,s,i,c)},Sre=De(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Are=De(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(ns)),r=Array.from(new Set(t));return r.sort((n,s)=>n-s)},{memoizeOptions:{resultEqualityCheck:see}});function pE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pE(Object(r),!0).forEach(function(n){_re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _re(e,t,r){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cre(e){var t=Ere(e,"string");return typeof t=="symbol"?t:t+""}function Ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kre={},Ore={zIndexMap:Object.values(ns).reduce((e,t)=>xE(xE({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),kre)},Pre=new Set(Object.values(ns));function Lre(e){return Pre.has(e)}var uR=si({name:"zIndex",initialState:Ore,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:jn()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Lre(r)&&delete e.zIndexMap[r])},prepare:jn()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:s}=t.payload;e.zIndexMap[r]?s?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:s?void 0:n,panoramaElement:s?n:void 0}},prepare:jn()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:jn()}}}),{registerZIndexPortal:Tre,unregisterZIndexPortal:Rre,registerZIndexPortalElement:Dre,unregisterZIndexPortalElement:Ire}=uR.actions,Mre=uR.reducer;function al(e){var{zIndex:t,children:r}=e,n=OY(),s=n&&t!==void 0&&t!==0,i=Ls(),c=na();v.useLayoutEffect(()=>s?(c(Tre({zIndex:t})),()=>{c(Rre({zIndex:t}))}):xf,[c,t,s]);var u=Bt(d=>Sre(d,t,i));return s?u?Vu.createPortal(r,u):null:r}function B5(){return B5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B5.apply(null,arguments)}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){Bre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bre(e,t,r){return(t=zre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zre(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ure(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return v.isValidElement(t)?v.cloneElement(t,n):v.createElement(r,n)}function qre(e){var t,{coordinate:r,payload:n,index:s,offset:i,tooltipAxisBandSize:c,layout:u,cursor:d,tooltipEventType:f,chartName:m}=e,p=r,g=n,b=s;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var y,N,j;if(m==="ScatterChart")y=p,N=bX,j=ns.cursorLine;else if(m==="BarChart")y=yX(u,p,i,c),N=XL,j=ns.cursorRectangle;else if(u==="radial"&&qP(p)){var{cx:S,cy:_,radius:E,startAngle:k,endAngle:T}=QL(p);y={cx:S,cy:_,startAngle:k,endAngle:T,innerRadius:E,outerRadius:E},N=JL,j=ns.cursorLine}else y={points:cQ(u,p,i)},N=GL,j=ns.cursorLine;var D=typeof d=="object"&&"className"in d?d.className:void 0,M=Mx(Mx(Mx(Mx({stroke:"#ccc",pointerEvents:"none"},i),y),sp(d)),{},{payload:g,payloadIndex:b,className:Qr("recharts-tooltip-cursor",D)});return v.createElement(al,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:j},v.createElement(Ure,{cursor:d,cursorComp:N,cursorProps:M}))}function $re(e){var t=lre(),r=CY(),n=gf(),s=pre();return t==null||r==null||n==null||s==null?null:v.createElement(qre,B5({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var dR=v.createContext(null),Hre=()=>v.useContext(dR),X2={exports:{}},bE;function Gre(){return bE||(bE=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function i(d,f,m,p,g){if(typeof m!="function")throw new TypeError("The listener must be a function");var b=new s(m,p||d,g),y=r?r+f:f;return d._events[y]?d._events[y].fn?d._events[y]=[d._events[y],b]:d._events[y].push(b):(d._events[y]=b,d._eventsCount++),d}function c(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=r?r+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,b=p.length,y=new Array(b);g<b;g++)y[g]=p[g].fn;return y},u.prototype.listenerCount=function(f){var m=r?r+f:f,p=this._events[m];return p?p.fn?1:p.length:0},u.prototype.emit=function(f,m,p,g,b,y){var N=r?r+f:f;if(!this._events[N])return!1;var j=this._events[N],S=arguments.length,_,E;if(j.fn){switch(j.once&&this.removeListener(f,j.fn,void 0,!0),S){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,m),!0;case 3:return j.fn.call(j.context,m,p),!0;case 4:return j.fn.call(j.context,m,p,g),!0;case 5:return j.fn.call(j.context,m,p,g,b),!0;case 6:return j.fn.call(j.context,m,p,g,b,y),!0}for(E=1,_=new Array(S-1);E<S;E++)_[E-1]=arguments[E];j.fn.apply(j.context,_)}else{var k=j.length,T;for(E=0;E<k;E++)switch(j[E].once&&this.removeListener(f,j[E].fn,void 0,!0),S){case 1:j[E].fn.call(j[E].context);break;case 2:j[E].fn.call(j[E].context,m);break;case 3:j[E].fn.call(j[E].context,m,p);break;case 4:j[E].fn.call(j[E].context,m,p,g);break;default:if(!_)for(T=1,_=new Array(S-1);T<S;T++)_[T-1]=arguments[T];j[E].fn.apply(j[E].context,_)}}return!0},u.prototype.on=function(f,m,p){return i(this,f,m,p,!1)},u.prototype.once=function(f,m,p){return i(this,f,m,p,!0)},u.prototype.removeListener=function(f,m,p,g){var b=r?r+f:f;if(!this._events[b])return this;if(!m)return c(this,b),this;var y=this._events[b];if(y.fn)y.fn===m&&(!g||y.once)&&(!p||y.context===p)&&c(this,b);else{for(var N=0,j=[],S=y.length;N<S;N++)(y[N].fn!==m||g&&!y[N].once||p&&y[N].context!==p)&&j.push(y[N]);j.length?this._events[b]=j.length===1?j[0]:j:c(this,b)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&c(this,m)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(X2)),X2.exports}var Kre=Gre();const Vre=Kl(Kre);var $0=new Vre,z5="recharts.syncEvent.tooltip",yE="recharts.syncEvent.brush",fR=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!$l(r))return e[r]}},Wre={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},hR=si({name:"options",initialState:Wre,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yre=hR.reducer,{createEventEmitter:Xre}=hR.actions;function Qre(e){return e.tooltip.syncInteraction}var Zre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},mR=si({name:"chartData",initialState:Zre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:vE,setDataStartEndIndexes:Jre,setComputedData:w0e}=mR.actions,ene=mR.reducer,tne=["x","y"];function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){rne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rne(e,t,r){return(t=nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nne(e){var t=ane(e,"string");return typeof t=="symbol"?t:t+""}function ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sne(e,t){if(e==null)return{};var r,n,s=ine(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ine(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function one(){var e=Bt(Pj),t=Bt(Lj),r=na(),n=Bt(YT),s=Bt(eu),i=gf(),c=Cy(),u=Bt(d=>d.rootProps.className);v.useEffect(()=>{if(e==null)return xf;var d=(f,m,p)=>{if(t!==p&&e===f){if(n==="index"){var g;if(c&&m!==null&&m!==void 0&&(g=m.payload)!==null&&g!==void 0&&g.coordinate&&m.payload.sourceViewBox){var b=m.payload.coordinate,{x:y,y:N}=b,j=sne(b,tne),{x:S,y:_,width:E,height:k}=m.payload.sourceViewBox,T=yh(yh({},j),{},{x:c.x+(E?(y-S)/E:0)*c.width,y:c.y+(k?(N-_)/k:0)*c.height});r(yh(yh({},m),{},{payload:yh(yh({},m.payload),{},{coordinate:T})}))}else r(m);return}if(s!=null){var D;if(typeof n=="function"){var M={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},R=n(s,M);D=s[R]}else n==="value"&&(D=s.find(re=>String(re.value)===m.payload.label));var{coordinate:B}=m.payload;if(D==null||m.payload.active===!1||B==null||c==null){r(I5({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:U}=B,F=Math.min(K,c.x+c.width),X=Math.min(U,c.y+c.height),Q={x:i==="horizontal"?D.coordinate:F,y:i==="horizontal"?X:D.coordinate},pe=I5({active:m.payload.active,coordinate:Q,dataKey:m.payload.dataKey,index:String(D.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(pe)}}};return $0.on(z5,d),()=>{$0.off(z5,d)}},[u,r,t,e,n,s,i,c])}function lne(){var e=Bt(Pj),t=Bt(Lj),r=na();v.useEffect(()=>{if(e==null)return xf;var n=(s,i,c)=>{t!==c&&e===s&&r(Jre(i))};return $0.on(yE,n),()=>{$0.off(yE,n)}},[r,t,e])}function cne(){var e=na();v.useEffect(()=>{e(Xre())},[e]),one(),lne()}function une(e,t,r,n,s,i){var c=Bt(b=>gre(b,e,t)),u=Bt(Lj),d=Bt(Pj),f=Bt(YT),m=Bt(Qre),p=m?.active,g=Cy();v.useEffect(()=>{if(!p&&d!=null&&u!=null){var b=I5({active:i,coordinate:r,dataKey:c,index:s,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});$0.emit(z5,d,b,u)}},[p,r,c,s,n,u,d,f,i,g])}function NE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NE(Object(r),!0).forEach(function(n){dne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dne(e,t,r){return(t=fne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fne(e){var t=hne(e,"string");return typeof t=="symbol"?t:t+""}function hne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mne(e){return e.dataKey}function pne(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(QY,t)}var SE=[],xne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jy(e){var t,r,n=ai(e,xne),{active:s,allowEscapeViewBox:i,animationDuration:c,animationEasing:u,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:g,position:b,reverseDirection:y,useTranslate3d:N,wrapperStyle:j,cursor:S,shared:_,trigger:E,defaultIndex:k,portal:T,axisId:D}=n,M=na(),R=typeof k=="number"?String(k):k;v.useEffect(()=>{M(fte({shared:_,trigger:E,axisId:D,active:s,defaultIndex:R}))},[M,_,E,D,s,R]);var B=Cy(),K=HL(),U=ite(_),{activeIndex:F,isActive:X}=(t=Bt(be=>vre(be,U,E,R)))!==null&&t!==void 0?t:{},Q=Bt(be=>yre(be,U,E,R)),pe=Bt(be=>cR(be,U,E,R)),re=Bt(be=>bre(be,U,E,R)),ue=Q,V=Hre(),Z=(r=s??X)!==null&&r!==void 0?r:!1,[ge,G]=TV([ue,Z]),P=U==="axis"?pe:void 0;une(U,E,re,P,F,Z);var H=T??V;if(H==null||B==null||U==null)return null;var $=ue??SE;Z||($=SE),f&&$.length&&($=sV($.filter(be=>be.value!=null&&(be.hide!==!0||n.includeHidden)),g,mne));var ae=$.length>0,le=v.createElement(aX,{allowEscapeViewBox:i,animationDuration:c,animationEasing:u,isAnimationActive:m,active:Z,coordinate:re,hasPayload:ae,offset:p,position:b,reverseDirection:y,useTranslate3d:N,viewBox:B,wrapperStyle:j,lastBoundingBox:ge,innerRef:G,hasPortalFromProps:!!T},pne(d,jE(jE({},n),{},{payload:$,label:P,active:Z,activeIndex:F,coordinate:re,accessibilityLayer:K})));return v.createElement(v.Fragment,null,Vu.createPortal(le,H),Z&&v.createElement($re,{cursor:S,tooltipEventType:U,coordinate:re,payload:$,index:F}))}var ev=e=>null;ev.displayName="Cell";function gne(e,t,r){return(t=bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bne(e){var t=yne(e,"string");return typeof t=="symbol"?t:t+""}function yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vne{constructor(t){gne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function AE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(r),!0).forEach(function(n){Nne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nne(e,t,r){return(t=jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jne(e){var t=Sne(e,"string");return typeof t=="symbol"?t:t+""}function Sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ane={cacheSize:2e3,enableCache:!0},pR=wne({},Ane),_E=new vne(pR.cacheSize),_ne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CE="recharts_measurement_span";function Cne(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(c,"|").concat(u)}var EE=(e,t)=>{try{var r=document.getElementById(CE);r||(r=document.createElement("span"),r.setAttribute("id",CE),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,_ne,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},v0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Py.isSsr)return{width:0,height:0};if(!pR.enableCache)return EE(t,r);var n=Cne(t,r),s=_E.get(n);if(s)return s;var i=EE(t,r);return _E.set(n,i),i},xR;function Ene(e,t,r){return(t=kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kne(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Pne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Lne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Tne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rne=["cm","mm","pt","pc","in","Q","px"];function Dne(e){return Rne.includes(e)}var kh="NaN";function Ine(e,t){return e*Tne[t]}class ts{static parse(t){var r,[,n,s]=(r=Lne.exec(t))!==null&&r!==void 0?r:[];return n==null?ts.NaN:new ts(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,$l(t)&&(this.unit=""),r!==""&&!Pne.test(r)&&(this.num=NaN,this.unit=""),Dne(r)&&(this.num=Ine(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ts(NaN,""):new ts(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ts(NaN,""):new ts(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ts(NaN,""):new ts(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ts(NaN,""):new ts(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $l(this.num)}}xR=ts;Ene(ts,"NaN",new xR(NaN,""));function gR(e){if(e==null||e.includes(kh))return kh;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=kE.exec(t))!==null&&r!==void 0?r:[],c=ts.parse(n??""),u=ts.parse(i??""),d=s==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return kh;t=t.replace(kE,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,g]=(f=OE.exec(t))!==null&&f!==void 0?f:[],b=ts.parse(m??""),y=ts.parse(g??""),N=p==="+"?b.add(y):b.subtract(y);if(N.isNaN())return kh;t=t.replace(OE,N.toString())}return t}var PE=/\(([^()]*)\)/;function Mne(e){for(var t=e,r;(r=PE.exec(t))!=null;){var[,n]=r;t=t.replace(PE,gR(n))}return t}function Bne(e){var t=e.replace(/\s+/g,"");return t=Mne(t),t=gR(t),t}function zne(e){try{return Bne(e)}catch{return kh}}function Q2(e){var t=zne(e.slice(5,-1));return t===kh?"":t}var Fne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Une=["dx","dy","angle","className","breakAll"];function F5(){return F5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F5.apply(null,arguments)}function LE(e,t){if(e==null)return{};var r,n,s=qne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bR=/[ \f\n\r\t\v\u2028\u2029]+/,yR=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];Rn(t)||(r?s=t.toString().split(""):s=t.toString().split(bR));var i=s.map(u=>({word:u,width:v0(u,n).width})),c=r?0:v0("",n).width;return{wordsWithComputedWidth:i,spaceWidth:c}}catch{return null}};function $ne(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var vR=(e,t,r,n)=>e.reduce((s,i)=>{var{word:c,width:u}=i,d=s[s.length-1];if(d&&u!=null&&(t==null||n||d.width+u+r<Number(t)))d.words.push(c),d.width+=u+r;else{var f={words:[c],width:u};s.push(f)}return s},[]),wR=e=>e.reduce((t,r)=>t.width>r.width?t:r),Hne="",TE=(e,t,r,n,s,i,c,u)=>{var d=e.slice(0,t),f=yR({breakAll:r,style:n,children:d+Hne});if(!f)return[!1,[]];var m=vR(f.wordsWithComputedWidth,i,c,u),p=m.length>s||wR(m).width>Number(i);return[p,m]},Gne=(e,t,r,n,s)=>{var{maxLines:i,children:c,style:u,breakAll:d}=e,f=Lt(i),m=String(c),p=vR(t,n,r,s);if(!f||s)return p;var g=p.length>i||wR(p).width>Number(n);if(!g)return p;for(var b=0,y=m.length-1,N=0,j;b<=y&&N<=m.length-1;){var S=Math.floor((b+y)/2),_=S-1,[E,k]=TE(m,_,d,u,i,n,r,s),[T]=TE(m,S,d,u,i,n,r,s);if(!E&&!T&&(b=S+1),E&&T&&(y=S-1),!E&&T){j=k;break}N++}return j||p},RE=e=>{var t=Rn(e)?[]:e.toString().split(bR);return[{words:t,width:void 0}]},Kne=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:c}=e;if((t||r)&&!Py.isSsr){var u,d,f=yR({breakAll:i,children:n,style:s});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;u=m,d=p}else return RE(n);return Gne({breakAll:i,children:n,maxLines:c,style:s},u,d,t,!!r)}return RE(n)},NR="#808080",Vne={angle:0,breakAll:!1,capHeight:"0.71em",fill:NR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},rS=v.forwardRef((e,t)=>{var r=ai(e,Vne),{x:n,y:s,lineHeight:i,capHeight:c,fill:u,scaleToFit:d,textAnchor:f,verticalAnchor:m}=r,p=LE(r,Fne),g=v.useMemo(()=>Kne({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:b,dy:y,angle:N,className:j,breakAll:S}=p,_=LE(p,Une);if(!Hl(n)||!Hl(s)||g.length===0)return null;var E=Number(n)+(Lt(b)?b:0),k=Number(s)+(Lt(y)?y:0);if(!Pr(E)||!Pr(k))return null;var T;switch(m){case"start":T=Q2("calc(".concat(c,")"));break;case"middle":T=Q2("calc(".concat((g.length-1)/2," * -").concat(i," + (").concat(c," / 2))"));break;default:T=Q2("calc(".concat(g.length-1," * -").concat(i,")"));break}var D=[],M=g[0];if(d&&M!=null){var R=M.width,{width:B}=p;D.push("scale(".concat(Lt(B)&&Lt(R)?B/R:1,")"))}return N&&D.push("rotate(".concat(N,", ").concat(E,", ").concat(k,")")),D.length&&(_.transform=D.join(" ")),v.createElement("text",F5({},Os(_),{ref:t,x:E,y:k,className:Qr("recharts-text",j),textAnchor:f,fill:u.includes("url")?NR:u}),g.map((K,U)=>{var F=K.words.join(S?"":" ");return v.createElement("tspan",{x:E,dy:U===0?T:i,key:"".concat(F,"-").concat(U)},F)}))});rS.displayName="Text";function DE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DE(Object(r),!0).forEach(function(n){Wne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wne(e,t,r){return(t=Yne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yne(e){var t=Xne(e,"string");return typeof t=="symbol"?t:t+""}function Xne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qne=e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:s}=e,{x:i,y:c,height:u,upperWidth:d,lowerWidth:f}=tj(t),m=i,p=i+(d-f)/2,g=(m+p)/2,b=(d+f)/2,y=m+d/2,N=u>=0?1:-1,j=N*n,S=N>0?"end":"start",_=N>0?"start":"end",E=d>=0?1:-1,k=E*n,T=E>0?"end":"start",D=E>0?"start":"end",M=s;if(r==="top"){var R={x:m+d/2,y:c-j,horizontalAnchor:"middle",verticalAnchor:S};return M&&(R.height=Math.max(c-M.y,0),R.width=d),R}if(r==="bottom"){var B={x:p+f/2,y:c+u+j,horizontalAnchor:"middle",verticalAnchor:_};return M&&(B.height=Math.max(M.y+M.height-(c+u),0),B.width=f),B}if(r==="left"){var K={x:g-k,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"};return M&&(K.width=Math.max(K.x-M.x,0),K.height=u),K}if(r==="right"){var U={x:g+b+k,y:c+u/2,horizontalAnchor:D,verticalAnchor:"middle"};return M&&(U.width=Math.max(M.x+M.width-U.x,0),U.height=u),U}var F=M?{width:b,height:u}:{};return r==="insideLeft"?kl({x:g+k,y:c+u/2,horizontalAnchor:D,verticalAnchor:"middle"},F):r==="insideRight"?kl({x:g+b-k,y:c+u/2,horizontalAnchor:T,verticalAnchor:"middle"},F):r==="insideTop"?kl({x:m+d/2,y:c+j,horizontalAnchor:"middle",verticalAnchor:_},F):r==="insideBottom"?kl({x:p+f/2,y:c+u-j,horizontalAnchor:"middle",verticalAnchor:S},F):r==="insideTopLeft"?kl({x:m+k,y:c+j,horizontalAnchor:D,verticalAnchor:_},F):r==="insideTopRight"?kl({x:m+d-k,y:c+j,horizontalAnchor:T,verticalAnchor:_},F):r==="insideBottomLeft"?kl({x:p+k,y:c+u-j,horizontalAnchor:D,verticalAnchor:S},F):r==="insideBottomRight"?kl({x:p+f-k,y:c+u-j,horizontalAnchor:T,verticalAnchor:S},F):r&&typeof r=="object"&&(Lt(r.x)||of(r.x))&&(Lt(r.y)||of(r.y))?kl({x:i+Qo(r.x,b),y:c+Qo(r.y,u),horizontalAnchor:"end",verticalAnchor:"end"},F):kl({x:y,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},F)},Zne=["labelRef"],Jne=["content"];function IE(e,t){if(e==null)return{};var r,n,s=eae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function eae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ME(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function g0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ME(Object(r),!0).forEach(function(n){tae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ME(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tae(e,t,r){return(t=rae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rae(e){var t=nae(e,"string");return typeof t=="symbol"?t:t+""}function nae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(null,arguments)}var jR=v.createContext(null),aae=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:c,children:u}=e,d=v.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:s,width:i,height:c}),[t,r,n,s,i,c]);return v.createElement(jR.Provider,{value:d},u)},SR=()=>{var e=v.useContext(jR),t=Cy();return e||(t?tj(t):void 0)},sae=v.createContext(null),iae=()=>{var e=v.useContext(sae),t=Bt(e7);return e||t},oae=e=>{var{value:t,formatter:r}=e,n=Rn(e.children)?t:e.children;return typeof r=="function"?r(n):n},nS=e=>e!=null&&typeof e=="function",lae=(e,t)=>{var r=Ai(t-e),n=Math.min(Math.abs(t-e),360);return r*n},cae=(e,t,r,n,s)=>{var{offset:i,className:c}=e,{cx:u,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:g,clockWise:b}=s,y=(f+m)/2,N=lae(p,g),j=N>=0?1:-1,S,_;switch(t){case"insideStart":S=p+j*i,_=b;break;case"insideEnd":S=g-j*i,_=!b;break;case"end":S=g+j*i,_=b;break;default:throw new Error("Unsupported position ".concat(t))}_=N<=0?_:!_;var E=rs(u,d,y,S),k=rs(u,d,y,S+(_?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),D=Rn(e.id)?O0("recharts-radial-line-"):e.id;return v.createElement("text",Cc({},n,{dominantBaseline:"central",className:Qr("recharts-radial-bar-label",c)}),v.createElement("defs",null,v.createElement("path",{id:D,d:T})),v.createElement("textPath",{xlinkHref:"#".concat(D)},r))},uae=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:c,startAngle:u,endAngle:d}=e,f=(u+d)/2;if(r==="outside"){var{x:m,y:p}=rs(n,s,c+t,f);return{x:m,y:p,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var g=(i+c)/2,{x:b,y}=rs(n,s,g,f);return{x:b,y,textAnchor:"middle",verticalAnchor:"middle"}},xg=e=>e!=null&&"cx"in e&&Lt(e.cx),dae={angle:0,offset:5,zIndex:ns.label,position:"middle",textBreakAll:!1};function fae(e){if(!xg(e))return e;var{cx:t,cy:r,outerRadius:n}=e,s=n*2;return{x:t-n,y:r-n,width:s,upperWidth:s,lowerWidth:s,height:s}}function Fu(e){var t=ai(e,dae),{viewBox:r,parentViewBox:n,position:s,value:i,children:c,content:u,className:d="",textBreakAll:f,labelRef:m}=t,p=iae(),g=SR(),b=s==="center"?g:p??g,y,N,j;r==null?y=b:xg(r)?y=r:y=tj(r);var S=fae(y);if(!y||Rn(i)&&Rn(c)&&!v.isValidElement(u)&&typeof u!="function")return null;var _=g0(g0({},t),{},{viewBox:y});if(v.isValidElement(u)){var{labelRef:E}=_,k=IE(_,Zne);return v.cloneElement(u,k)}if(typeof u=="function"){var{content:T}=_,D=IE(_,Jne);if(N=v.createElement(u,D),v.isValidElement(N))return N}else N=oae(t);var M=Os(t);if(xg(y)){if(s==="insideStart"||s==="insideEnd"||s==="end")return cae(t,s,N,M,y);j=uae(y,t.offset,t.position)}else{if(!S)return null;var R=Qne({viewBox:S,position:s,offset:t.offset,parentViewBox:xg(n)?void 0:n});j=g0(g0({x:R.x,y:R.y,textAnchor:R.horizontalAnchor,verticalAnchor:R.verticalAnchor},R.width!==void 0?{width:R.width}:{}),R.height!==void 0?{height:R.height}:{})}return v.createElement(al,{zIndex:t.zIndex},v.createElement(rS,Cc({ref:m,className:Qr("recharts-label",d)},M,j,{textAnchor:$ne(M.textAnchor)?M.textAnchor:j.textAnchor,breakAll:f}),N))}Fu.displayName="Label";var hae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(Fu,Cc({key:"label-implicit"},n)):Hl(e)?v.createElement(Fu,Cc({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===Fu?v.cloneElement(e,g0({key:"label-implicit"},n)):v.createElement(Fu,Cc({key:"label-implicit",content:e},n)):nS(e)?v.createElement(Fu,Cc({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(Fu,Cc({},e,{key:"label-implicit"},n)):null};function mae(e){var{label:t,labelRef:r}=e,n=SR();return hae(t,n,r)||null}var Z2={},J2={},BE;function pae(){return BE||(BE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(J2)),J2}var ew={},zE;function xae(){return zE||(zE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(ew)),ew}var FE;function gae(){return FE||(FE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pae(),r=xae(),n=HN();function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(Z2)),Z2}var tw,UE;function bae(){return UE||(UE=1,tw=gae().last),tw}var yae=bae();const vae=Kl(yae);var wae=["valueAccessor"],Nae=["dataKey","clockWise","id","textBreakAll","zIndex"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(null,arguments)}function qE(e,t){if(e==null)return{};var r,n,s=jae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sae=e=>Array.isArray(e.value)?vae(e.value):e.value,AR=v.createContext(void 0),_R=AR.Provider,CR=v.createContext(void 0);CR.Provider;function Aae(){return v.useContext(AR)}function _ae(){return v.useContext(CR)}function w0(e){var{valueAccessor:t=Sae}=e,r=qE(e,wae),{dataKey:n,clockWise:s,id:i,textBreakAll:c,zIndex:u}=r,d=qE(r,Nae),f=Aae(),m=_ae(),p=f||m;return!p||!p.length?null:v.createElement(al,{zIndex:u??ns.label},v.createElement(ho,{className:"recharts-label-list"},p.map((g,b)=>{var y,N=Rn(n)?t(g,b):da(g.payload,n),j=Rn(i)?{}:{id:"".concat(i,"-").concat(b)};return v.createElement(Fu,Lb({key:"label-".concat(b)},Os(g),d,j,{fill:(y=r.fill)!==null&&y!==void 0?y:g.fill,parentViewBox:g.parentViewBox,value:N,textBreakAll:c,viewBox:g.viewBox,index:b,zIndex:0}))})))}w0.displayName="LabelList";function ER(e){var{label:t}=e;return t?t===!0?v.createElement(w0,{key:"labelList-implicit"}):v.isValidElement(t)||nS(t)?v.createElement(w0,{key:"labelList-implicit",content:t}):typeof t=="object"?v.createElement(w0,Lb({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function U5(){return U5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U5.apply(null,arguments)}var kR=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=Qr("recharts-dot",s);return Lt(t)&&Lt(r)&&Lt(n)?v.createElement("circle",U5({},ql(e),qN(e),{className:i,cx:t,cy:r,r:n})):null},Cae={radiusAxis:{},angleAxis:{}},OR=si({name:"polarAxis",initialState:Cae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:N0e,removeRadiusAxis:j0e,addAngleAxis:S0e,removeAngleAxis:A0e}=OR.actions,Eae=OR.reducer;function kae(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var rw={exports:{}},Yr={};var $E;function Oae(){if($E)return Yr;$E=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function y(N){if(typeof N=="object"&&N!==null){var j=N.$$typeof;switch(j){case e:switch(N=N.type,N){case r:case s:case n:case d:case f:case g:return N;default:switch(N=N&&N.$$typeof,N){case c:case u:case p:case m:return N;case i:return N;default:return j}}case t:return j}}}return Yr.ContextConsumer=i,Yr.ContextProvider=c,Yr.Element=e,Yr.ForwardRef=u,Yr.Fragment=r,Yr.Lazy=p,Yr.Memo=m,Yr.Portal=t,Yr.Profiler=s,Yr.StrictMode=n,Yr.Suspense=d,Yr.SuspenseList=f,Yr.isContextConsumer=function(N){return y(N)===i},Yr.isContextProvider=function(N){return y(N)===c},Yr.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},Yr.isForwardRef=function(N){return y(N)===u},Yr.isFragment=function(N){return y(N)===r},Yr.isLazy=function(N){return y(N)===p},Yr.isMemo=function(N){return y(N)===m},Yr.isPortal=function(N){return y(N)===t},Yr.isProfiler=function(N){return y(N)===s},Yr.isStrictMode=function(N){return y(N)===n},Yr.isSuspense=function(N){return y(N)===d},Yr.isSuspenseList=function(N){return y(N)===f},Yr.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===s||N===n||N===d||N===f||typeof N=="object"&&N!==null&&(N.$$typeof===p||N.$$typeof===m||N.$$typeof===c||N.$$typeof===i||N.$$typeof===u||N.$$typeof===b||N.getModuleId!==void 0)},Yr.typeOf=y,Yr}var HE;function Pae(){return HE||(HE=1,rw.exports=Oae()),rw.exports}var Lae=Pae(),GE=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",KE=null,nw=null,PR=e=>{if(e===KE&&Array.isArray(nw))return nw;var t=[];return v.Children.forEach(e,r=>{Rn(r)||(Lae.isFragment(r)?t=t.concat(PR(r.props.children)):t.push(r))}),nw=t,KE=e,t};function Tae(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>GE(s)):n=[GE(t)],PR(e).forEach(s=>{var i=Hh(s,"type.displayName")||Hh(s,"type.name");i&&n.indexOf(i)!==-1&&r.push(s)}),r}var LR=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,aw={},VE;function Rae(){return VE||(VE=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(aw)),aw}var sw,WE;function Dae(){return WE||(WE=1,sw=Rae().isPlainObject),sw}var Iae=Dae();const Mae=Kl(Iae);var YE,XE,QE,ZE,JE;function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(n){Bae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bae(e,t,r){return(t=zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zae(e){var t=Fae(e,"string");return typeof t=="symbol"?t:t+""}function Fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tb.apply(null,arguments)}function u0(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var rk=(e,t,r,n,s)=>{var i=r-n,c;return c=Kn(YE||(YE=u0(["M ",",",""])),e,t),c+=Kn(XE||(XE=u0(["L ",",",""])),e+r,t),c+=Kn(QE||(QE=u0(["L ",",",""])),e+r-i/2,t+s),c+=Kn(ZE||(ZE=u0(["L ",",",""])),e+r-i/2-n,t+s),c+=Kn(JE||(JE=u0(["L ",","," Z"])),e,t),c},Uae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qae=e=>{var t=ai(e,Uae),{x:r,y:n,upperWidth:s,lowerWidth:i,height:c,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=t,g=v.useRef(null),[b,y]=v.useState(-1),N=v.useRef(s),j=v.useRef(i),S=v.useRef(c),_=v.useRef(r),E=v.useRef(n),k=Ty(e,"trapezoid-");if(v.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var Q=g.current.getTotalLength();Q&&y(Q)}catch{}},[]),r!==+r||n!==+n||s!==+s||i!==+i||c!==+c||s===0&&i===0||c===0)return null;var T=Qr("recharts-trapezoid",u);if(!p)return v.createElement("g",null,v.createElement("path",Tb({},Os(t),{className:T,d:rk(r,n,s,i,c)})));var D=N.current,M=j.current,R=S.current,B=_.current,K=E.current,U="0px ".concat(b===-1?1:b,"px"),F="".concat(b,"px 0px"),X=KL(["strokeDasharray"],f,d);return v.createElement(Ly,{animationId:k,key:k,canBegin:b>0,duration:f,easing:d,isActive:p,begin:m},Q=>{var pe=Vn(D,s,Q),re=Vn(M,i,Q),ue=Vn(R,c,Q),V=Vn(B,r,Q),Z=Vn(K,n,Q);g.current&&(N.current=pe,j.current=re,S.current=ue,_.current=V,E.current=Z);var ge=Q>0?{transition:X,strokeDasharray:F}:{strokeDasharray:U};return v.createElement("path",Tb({},Os(t),{className:T,d:rk(V,Z,pe,re,ue),ref:g,style:tk(tk({},ge),t.style)}))})},$ae=["option","shapeType","activeClassName"];function Hae(e,t){if(e==null)return{};var r,n,s=Gae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Gae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nk(Object(r),!0).forEach(function(n){Kae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kae(e,t,r){return(t=Vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vae(e){var t=Wae(e,"string");return typeof t=="symbol"?t:t+""}function Wae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yae(e,t){return Rb(Rb({},t),e)}function Xae(e,t){return e==="symbols"}function ak(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(XL,r);case"trapezoid":return v.createElement(qae,r);case"sector":return v.createElement(JL,r);case"symbols":if(Xae(t))return v.createElement(UP,r);break;case"curve":return v.createElement(GL,r);default:return null}}function Qae(e){return v.isValidElement(e)?e.props:e}function TR(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,s=Hae(e,$ae),i;if(v.isValidElement(t))i=v.cloneElement(t,Rb(Rb({},s),Qae(t)));else if(typeof t=="function")i=t(s,s.index);else if(Mae(t)&&typeof t!="boolean"){var c=Yae(t,s);i=v.createElement(ak,{shapeType:r,elementProps:c})}else{var u=s;i=v.createElement(ak,{shapeType:r,elementProps:u})}return s.isActive?v.createElement(ho,{className:n},i):i}var RR=(e,t,r)=>{var n=na();return(s,i)=>c=>{e?.(s,i,c),n($7({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}},DR=e=>{var t=na();return(r,n)=>s=>{e?.(r,n,s),t(hte())}},IR=(e,t,r)=>{var n=na();return(s,i)=>c=>{e?.(s,i,c),n(mte({activeIndex:String(i),activeDataKey:t,activeCoordinate:s.tooltipPosition,activeGraphicalItemId:r}))}};function MR(e){var{tooltipEntrySettings:t}=e,r=na(),n=Ls(),s=v.useRef(null);return v.useLayoutEffect(()=>{n||(s.current===null?r(cte(t)):s.current!==t&&r(ute({prev:s.current,next:t})),s.current=t)},[t,r,n]),v.useLayoutEffect(()=>()=>{s.current&&(r(dte(s.current)),s.current=null)},[r]),null}function BR(e){var{legendPayload:t}=e,r=na(),n=Ls(),s=v.useRef(null);return v.useLayoutEffect(()=>{n||(s.current===null?r($Y(t)):s.current!==t&&r(HY({prev:s.current,next:t})),s.current=t)},[r,n,t]),v.useLayoutEffect(()=>()=>{s.current&&(r(GY(s.current)),s.current=null)},[r]),null}var iw,Zae=()=>{var[e]=v.useState(()=>O0("uid-"));return e},Jae=(iw=BM.useId)!==null&&iw!==void 0?iw:Zae;function ese(e,t){var r=Jae();return t||(e?"".concat(e,"-").concat(r):r)}var tse=v.createContext(void 0),zR=e=>{var{id:t,type:r,children:n}=e,s=ese("recharts-".concat(r),t);return v.createElement(tse.Provider,{value:s},n(s))},rse={cartesianItems:[],polarItems:[]},FR=si({name:"graphicalItems",initialState:rse,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:jn()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,s=Yo(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},prepare:jn()},removeCartesianGraphicalItem:{reducer(e,t){var r=Yo(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:jn()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:jn()},removePolarGraphicalItem:{reducer(e,t){var r=Yo(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:jn()}}}),{addCartesianGraphicalItem:nse,replaceCartesianGraphicalItem:ase,removeCartesianGraphicalItem:sse,addPolarGraphicalItem:_0e,removePolarGraphicalItem:C0e}=FR.actions,ise=FR.reducer,ose=e=>{var t=na(),r=v.useRef(null);return v.useLayoutEffect(()=>{r.current===null?t(nse(e)):r.current!==e&&t(ase({prev:r.current,next:e})),r.current=e},[t,e]),v.useLayoutEffect(()=>()=>{r.current&&(t(sse(r.current)),r.current=null)},[t]),null},UR=v.memo(ose),lse=["points"];function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ow(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(n){cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cse(e,t,r){return(t=use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function use(e){var t=dse(e,"string");return typeof t=="symbol"?t:t+""}function dse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Db(){return Db=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Db.apply(null,arguments)}function fse(e,t){if(e==null)return{};var r,n,s=hse(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function hse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mse(e){var{option:t,dotProps:r,className:n}=e;if(v.isValidElement(t))return v.cloneElement(t,r);if(typeof t=="function")return t(r);var s=Qr(n,typeof t!="boolean"?t.className:""),i=r??{},{points:c}=i,u=fse(i,lse);return v.createElement(kR,Db({},u,{className:s}))}function pse(e,t){return e==null?!1:t?!0:e.length===1}function xse(e){var{points:t,dot:r,className:n,dotClassName:s,dataKey:i,baseProps:c,needClip:u,clipPathId:d,zIndex:f=ns.scatter}=e;if(!pse(t,r))return null;var m=LR(r),p=PG(r),g=t.map((y,N)=>{var j,S,_=ow(ow(ow({r:3},c),p),{},{index:N,cx:(j=y.x)!==null&&j!==void 0?j:void 0,cy:(S=y.y)!==null&&S!==void 0?S:void 0,dataKey:i,value:y.value,payload:y.payload,points:t});return v.createElement(mse,{key:"dot-".concat(N),option:r,dotProps:_,className:s})}),b={};return u&&d!=null&&(b.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),v.createElement(al,{zIndex:f},v.createElement(ho,Db({className:n},b),g))}function ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ok(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(r),!0).forEach(function(n){gse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gse(e,t,r){return(t=bse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bse(e){var t=yse(e,"string");return typeof t=="symbol"?t:t+""}function yse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qR=0,vse={xAxis:{},yAxis:{},zAxis:{}},$R=si({name:"cartesianAxis",initialState:vse,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:jn()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:jn()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:jn()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:jn()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:jn()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:jn()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:jn()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:jn()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:jn()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,s=e.yAxis[r];if(s){var i,c=s.widthHistory||[];if(c.length===3&&c[0]===c[2]&&n===c[1]&&n!==s.width&&Math.abs(n-((i=c[0])!==null&&i!==void 0?i:0))<=1)return;var u=[...c,n].slice(-3);e.yAxis[r]=ok(ok({},s),{},{width:n,widthHistory:u})}}}}),{addXAxis:wse,replaceXAxis:Nse,removeXAxis:jse,addYAxis:Sse,replaceYAxis:Ase,removeYAxis:_se,addZAxis:E0e,replaceZAxis:k0e,removeZAxis:O0e,updateYAxisWidth:Cse}=$R.actions,Ese=$R.reducer,kse=De([Ba],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Ose=De([kse,Wc,Yc],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),aS=()=>Bt(Ose),Pse=()=>Bt(nre);function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(n){Lse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lse(e,t,r){return(t=Tse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tse(e){var t=Rse(e,"string");return typeof t=="symbol"?t:t+""}function Rse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dse=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i,clipPath:c}=e;if(s===!1||t.x==null||t.y==null)return null;var u={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=lw(lw(lw({},u),sp(s)),qN(s)),f;return v.isValidElement(s)?f=v.cloneElement(s,d):typeof s=="function"?f=s(d):f=v.createElement(kR,d),v.createElement(ho,{className:"recharts-active-dot",clipPath:c},f)};function Ise(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s,clipPath:i,zIndex:c=ns.activeDot}=e,u=Bt(ff),d=Pse();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return Rn(f)?null:v.createElement(al,{zIndex:c},v.createElement(Dse,{point:f,childIndex:Number(u),mainColor:r,dataKey:s,activeDot:n,clipPath:i}))}var ck=(e,t,r)=>{var n=r??e;if(!Rn(n))return Qo(n,t,0)},Mse=(e,t,r)=>{var n={},s=e.filter(Gy),i=e.filter(f=>f.stackId==null),c=s.reduce((f,m)=>{var p=f[m.stackId];return p==null&&(p=[]),p.push(m),f[m.stackId]=p,f},n),u=Object.entries(c).map(f=>{var m,[p,g]=f,b=g.map(N=>N.dataKey),y=ck(t,r,(m=g[0])===null||m===void 0?void 0:m.barSize);return{stackId:p,dataKeys:b,barSize:y}}),d=i.map(f=>{var m=[f.dataKey].filter(g=>g!=null),p=ck(t,r,f.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...u,...d]};function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){Bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bse(e,t,r){return(t=zse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zse(e){var t=Fse(e,"string");return typeof t=="symbol"?t:t+""}function Fse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Use(e,t,r,n,s){var i,c=n.length;if(!(c<1)){var u=Qo(e,r,0,!0),d,f=[];if(Pr((i=n[0])===null||i===void 0?void 0:i.barSize)){var m=!1,p=r/c,g=n.reduce((_,E)=>_+(E.barSize||0),0);g+=(c-1)*u,g>=r&&(g-=(c-1)*u,u=0),g>=r&&p>0&&(m=!0,p*=.9,g=c*p);var b=(r-g)/2>>0,y={offset:b-u,size:0};d=n.reduce((_,E)=>{var k,T={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:y.offset+y.size+u,size:m?p:(k=E.barSize)!==null&&k!==void 0?k:0}},D=[..._,T];return y=T.position,D},f)}else{var N=Qo(t,r,0,!0);r-2*N-(c-1)*u<=0&&(u=0);var j=(r-2*N-(c-1)*u)/c;j>1&&(j>>=0);var S=Pr(s)?Math.min(j,s):j;d=n.reduce((_,E,k)=>[..._,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:N+(j+u)*k+(j-S)/2,size:S}}],f)}return d}}var qse=(e,t,r,n,s,i,c)=>{var u=Rn(c)?t:c,d=Use(r,n,s!==i?s:i,e,u);return s!==i&&d!=null&&(d=d.map(f=>Bx(Bx({},f),{},{position:Bx(Bx({},f.position),{},{offset:f.position.offset-s/2})}))),d},$se=(e,t)=>{var r=Ij(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(c=>c.key===r)}}}},Hse=(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function Gse(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Pr(e.zIndex)?e.zIndex:t}var Kse=e=>{var{chartData:t}=e,r=na(),n=Ls();return v.useEffect(()=>n?()=>{}:(r(vE(t)),()=>{r(vE(void 0))}),[t,r,n]),null},dk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},HR=si({name:"brush",initialState:dk,reducers:{setBrushSettings(e,t){return t.payload==null?dk:t.payload}}}),{setBrushSettings:P0e}=HR.actions,Vse=HR.reducer;function Wse(e){return(e%180+180)%180}var Yse=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Wse(s),c=i*Math.PI/180,u=Math.atan(n/r),d=c>u&&c<Math.PI-u?n/Math.sin(c):r/Math.cos(c);return Math.abs(d)},Xse={dots:[],areas:[],lines:[]},GR=si({name:"referenceElements",initialState:Xse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Yo(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Yo(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Yo(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:L0e,removeDot:T0e,addArea:R0e,removeArea:D0e,addLine:I0e,removeLine:M0e}=GR.actions,Qse=GR.reducer,Zse=v.createContext(void 0),Jse=e=>{var{children:t}=e,[r]=v.useState("".concat(O0("recharts"),"-clip")),n=aS();if(n==null)return null;var{x:s,y:i,width:c,height:u}=n;return v.createElement(Zse.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:s,y:i,height:u,width:c}))),t)};function KR(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var s=e[n];s!==void 0&&r.push(s)}return r}function eie(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Yse(n,r)}function tie(e,t,r){var n=r==="width",{x:s,y:i,width:c,height:u}=e;return t===1?{start:n?s:i,end:n?s+c:i+u}:{start:n?s+c:i+u,end:n?s:i}}function H0(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function rie(e,t){return KR(e,t+1)}function nie(e,t,r,n,s){for(var i=(n||[]).slice(),{start:c,end:u}=t,d=0,f=1,m=c,p=function(){var y=n?.[d];if(y===void 0)return{v:KR(n,f)};var N=d,j,S=()=>(j===void 0&&(j=r(y,N)),j),_=y.coordinate,E=d===0||H0(e,_,S,m,u);E||(d=0,m=c,f+=1),E&&(m=_+e*(S()/2+s),d+=f)},g;f<=i.length;)if(g=p(),g)return g.v;return[]}function aie(e,t,r,n,s){var i=(n||[]).slice(),c=i.length;if(c===0)return[];for(var{start:u,end:d}=t,f=1;f<=c;f++){for(var m=(c-1)%f,p=u,g=!0,b=function(){var k=n[N];if(k==null)return 0;var T=N,D,M=()=>(D===void 0&&(D=r(k,T)),D),R=k.coordinate,B=N===m||H0(e,R,M,p,d);if(!B)return g=!1,1;B&&(p=R+e*(M()/2+s))},y,N=m;N<c&&(y=b(),!(y!==0&&y===1));N+=f);if(g){for(var j=[],S=m;S<c;S+=f){var _=n[S];_!=null&&j.push(_)}return j}}return[]}function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){sie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sie(e,t,r){return(t=iie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iie(e){var t=oie(e,"string");return typeof t=="symbol"?t:t+""}function oie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lie(e,t,r,n,s){for(var i=(n||[]).slice(),c=i.length,{start:u}=t,{end:d}=t,f=function(g){var b=i[g];if(b==null)return 1;var y=b,N,j=()=>(N===void 0&&(N=r(b,g)),N);if(g===c-1){var S=e*(y.coordinate+e*j()/2-d);i[g]=y=ps(ps({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else i[g]=y=ps(ps({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var _=H0(e,y.tickCoord,j,u,d);_&&(d=y.tickCoord-e*(j()/2+s),i[g]=ps(ps({},y),{},{isShow:!0}))}},m=c-1;m>=0;m--)f(m);return i}function cie(e,t,r,n,s,i){var c=(n||[]).slice(),u=c.length,{start:d,end:f}=t;if(i){var m=n[u-1];if(m!=null){var p=r(m,u-1),g=e*(m.coordinate+e*p/2-f);if(c[u-1]=m=ps(ps({},m),{},{tickCoord:g>0?m.coordinate-g*e:m.coordinate}),m.tickCoord!=null){var b=H0(e,m.tickCoord,()=>p,d,f);b&&(f=m.tickCoord-e*(p/2+s),c[u-1]=ps(ps({},m),{},{isShow:!0}))}}}for(var y=i?u-1:u,N=function(_){var E=c[_];if(E==null)return 1;var k=E,T,D=()=>(T===void 0&&(T=r(E,_)),T);if(_===0){var M=e*(k.coordinate-e*D()/2-d);c[_]=k=ps(ps({},k),{},{tickCoord:M<0?k.coordinate-M*e:k.coordinate})}else c[_]=k=ps(ps({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var R=H0(e,k.tickCoord,D,d,f);R&&(d=k.tickCoord+e*(D()/2+s),c[_]=ps(ps({},k),{},{isShow:!0}))}},j=0;j<y;j++)N(j);return c}function uie(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:c,orientation:u,interval:d,tickFormatter:f,unit:m,angle:p}=e;if(!s||!s.length||!n)return[];if(Lt(d)||Py.isSsr){var g;return(g=rie(s,Lt(d)?d:0))!==null&&g!==void 0?g:[]}var b=[],y=u==="top"||u==="bottom"?"width":"height",N=m&&y==="width"?v0(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=(T,D)=>{var M=typeof f=="function"?f(T.value,D):T.value;return y==="width"?eie(v0(M,{fontSize:t,letterSpacing:r}),N,p):v0(M,{fontSize:t,letterSpacing:r})[y]},S=s[0],_=s[1],E=s.length>=2&&S!=null&&_!=null?Ai(_.coordinate-S.coordinate):1,k=tie(i,E,y);return d==="equidistantPreserveStart"?nie(E,k,j,s,c):d==="equidistantPreserveEnd"?aie(E,k,j,s,c):(d==="preserveStart"||d==="preserveStartEnd"?b=cie(E,k,j,s,c,d==="preserveStartEnd"):b=lie(E,k,j,s,c),b.filter(T=>T.isShow))}var die=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,c=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>c&&(c=p.width)}});var u=r?r.getBoundingClientRect().width:0,d=s+i,f=c+d+u+(r?n:0);return Math.round(f)}return 0},fie=["axisLine","width","height","className","hide","ticks","axisType"];function hie(e,t){if(e==null)return{};var r,n,s=mie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hf.apply(null,arguments)}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){pie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pie(e,t,r){return(t=xie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xie(e){var t=gie(e,"string");return typeof t=="symbol"?t:t+""}function gie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ns.axis};function bie(e){var{x:t,y:r,width:n,height:s,orientation:i,mirror:c,axisLine:u,otherSvgProps:d}=e;if(!u)return null;var f=Gn(Gn(Gn({},d),ql(u)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!c||i==="bottom"&&c);f=Gn(Gn({},f),{},{x1:t,y1:r+m*s,x2:t+n,y2:r+m*s})}else{var p=+(i==="left"&&!c||i==="right"&&c);f=Gn(Gn({},f),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+s})}return v.createElement("line",hf({},f,{className:Qr("recharts-cartesian-axis-line",Hh(u,"className"))}))}function yie(e,t,r,n,s,i,c,u,d){var f,m,p,g,b,y,N=u?-1:1,j=e.tickSize||c,S=Lt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=m=e.coordinate,g=r+ +!u*s,p=g-N*j,y=p-N*d,b=S;break;case"left":p=g=e.coordinate,m=t+ +!u*n,f=m-N*j,b=f-N*d,y=S;break;case"right":p=g=e.coordinate,m=t+ +u*n,f=m+N*j,b=f+N*d,y=S;break;default:f=m=e.coordinate,g=r+ +u*s,p=g+N*j,y=p+N*d,b=S;break}return{line:{x1:f,y1:p,x2:m,y2:g},tick:{x:b,y}}}function vie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function wie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Nie(e){var{option:t,tickProps:r,value:n}=e,s,i=Qr(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))s=v.cloneElement(t,Gn(Gn({},r),{},{className:i}));else if(typeof t=="function")s=t(Gn(Gn({},r),{},{className:i}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=Qr(c,kae(t))),s=v.createElement(rS,hf({},r,{className:c}),n)}return s}var jie=v.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:s,stroke:i,tickFormatter:c,unit:u,padding:d,tickTextProps:f,orientation:m,mirror:p,x:g,y:b,width:y,height:N,tickSize:j,tickMargin:S,fontSize:_,letterSpacing:E,getTicksConfig:k,events:T,axisType:D}=e,M=uie(Gn(Gn({},k),{},{ticks:r}),_,E),R=vie(m,p),B=wie(m,p),K=ql(k),U=sp(n),F={};typeof s=="object"&&(F=s);var X=Gn(Gn({},K),{},{fill:"none"},F),Q=M.map(ue=>Gn({entry:ue},yie(ue,g,b,y,N,m,j,p,S))),pe=Q.map(ue=>{var{entry:V,line:Z}=ue;return v.createElement(ho,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},s&&v.createElement("line",hf({},X,Z,{className:Qr("recharts-cartesian-axis-tick-line",Hh(s,"className"))})))}),re=Q.map((ue,V)=>{var Z,ge,{entry:G,tick:P}=ue,H=Gn(Gn(Gn(Gn({verticalAnchor:B},K),{},{textAnchor:R,stroke:"none",fill:i},P),{},{index:V,payload:G,visibleTicksCount:M.length,tickFormatter:c,padding:d},f),{},{angle:(Z=(ge=f?.angle)!==null&&ge!==void 0?ge:K.angle)!==null&&Z!==void 0?Z:0}),$=Gn(Gn({},H),U);return v.createElement(ho,hf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},$N(T,G,V)),n&&v.createElement(Nie,{option:n,tickProps:$,value:"".concat(typeof c=="function"?c(G.value,V):G.value).concat(u||"")}))});return v.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},re.length>0&&v.createElement(al,{zIndex:ns.label},v.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},re)),pe.length>0&&v.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},pe))}),Sie=v.forwardRef((e,t)=>{var{axisLine:r,width:n,height:s,className:i,hide:c,ticks:u,axisType:d}=e,f=hie(e,fie),[m,p]=v.useState(""),[g,b]=v.useState(""),y=v.useRef(null);v.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var j;return die({ticks:y.current,label:(j=e.labelRef)===null||j===void 0?void 0:j.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var N=v.useCallback(j=>{if(j){var S=j.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=S;var _=S[0];if(_){var E=window.getComputedStyle(_),k=E.fontSize,T=E.letterSpacing;(k!==m||T!==g)&&(p(k),b(T))}}},[m,g]);return c||n!=null&&n<=0||s!=null&&s<=0?null:v.createElement(al,{zIndex:e.zIndex},v.createElement(ho,{className:Qr("recharts-cartesian-axis",i)},v.createElement(bie,{x:e.x,y:e.y,width:n,height:s,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:ql(e)}),v.createElement(jie,{ref:N,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:g,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),v.createElement(aae,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},v.createElement(mae,{label:e.label,labelRef:e.labelRef}),e.children)))}),sS=v.forwardRef((e,t)=>{var r=ai(e,Xd);return v.createElement(Sie,hf({},r,{ref:t}))});sS.displayName="CartesianAxis";var Aie={},VR=si({name:"errorBars",initialState:Aie,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?s:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:B0e,replaceErrorBar:z0e,removeErrorBar:F0e}=VR.actions,_ie=VR.reducer,Cie=["children"];function Eie(e,t){if(e==null)return{};var r,n,s=kie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Oie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pie=v.createContext(Oie);function WR(e){var{children:t}=e,r=Eie(e,Cie);return v.createElement(Pie.Provider,{value:r},t)}function iS(e,t){var r,n,s=Bt(f=>Zc(f,e)),i=Bt(f=>Jc(f,t)),c=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Ra.allowDataOverflow,u=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Da.allowDataOverflow,d=c||u;return{needClip:d,needClipX:c,needClipY:u}}function YR(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=aS(),{needClipX:i,needClipY:c,needClip:u}=iS(t,r);if(!u||!s)return null;var{x:d,y:f,width:m,height:p}=s;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:i?d:d-m/2,y:c?f:f-p/2,width:i?m:m*2,height:c?p:p*2}))}var XR=(e,t,r,n)=>Qu(e,"xAxis",t,n),QR=(e,t,r,n)=>Xu(e,"xAxis",t,n),ZR=(e,t,r,n)=>Qu(e,"yAxis",r,n),JR=(e,t,r,n)=>Xu(e,"yAxis",r,n),Lie=De([Fr,XR,ZR,QR,JR],(e,t,r,n,s)=>Vc(e,"xAxis")?Kh(t,n,!1):Kh(r,s,!1)),Tie=(e,t,r,n,s)=>s;function Rie(e){return e.type==="line"}var Die=De([Wy,Tie],(e,t)=>e.filter(Rie).find(r=>r.id===t)),Iie=De([Fr,XR,ZR,QR,JR,Die,Lie,Cj],(e,t,r,n,s,i,c,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=u;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:g}=i,b;if(g!=null&&g.length>0?b=g:b=d?.slice(f,m+1),b!=null)return joe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:p,bandSize:c,displayedData:b})}});function Mie(e){var t=sp(e),r=3,n=2;if(t!=null){var{r:s,strokeWidth:i}=t,c=Number(s),u=Number(i);return(Number.isNaN(c)||c<0)&&(c=r),(Number.isNaN(u)||u<0)&&(u=n),{r:c,strokeWidth:u}}return{r,strokeWidth:n}}var cw={exports:{}},uw={};var mk;function Bie(){if(mk)return uw;mk=1;var e=Qh();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,c=e.useMemo,u=e.useDebugValue;return uw.useSyncExternalStoreWithSelector=function(d,f,m,p,g){var b=s(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=c(function(){function j(T){if(!S){if(S=!0,_=T,T=p(T),g!==void 0&&y.hasValue){var D=y.value;if(g(D,T))return E=D}return E=T}if(D=E,r(_,T))return D;var M=p(T);return g!==void 0&&g(D,M)?(_=T,D):(_=T,E=M)}var S=!1,_,E,k=m===void 0?null:m;return[function(){return j(f())},k===null?void 0:function(){return j(k())}]},[f,m,p,g]);var N=n(d,b[0],b[1]);return i(function(){y.hasValue=!0,y.value=N},[N]),u(N),N},uw}var pk;function zie(){return pk||(pk=1,cw.exports=Bie()),cw.exports}zie();function Fie(e){e()}function Uie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Fie(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var xk={notify(){},get:()=>[]};function qie(e,t){let r,n=xk,s=0,i=!1;function c(N){m();const j=n.subscribe(N);let S=!1;return()=>{S||(S=!0,j(),p())}}function u(){n.notify()}function d(){y.onStateChange&&y.onStateChange()}function f(){return i}function m(){s++,r||(r=e.subscribe(d),n=Uie())}function p(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=xk)}function g(){i||(i=!0,m())}function b(){i&&(i=!1,p())}const y={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>n};return y}var $ie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Hie=$ie(),Gie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Kie=Gie(),Vie=()=>Hie||Kie?v.useLayoutEffect:v.useEffect,Wie=Vie();function gk(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Yie(e,t){if(gk(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!gk(e[r[s]],t[r[s]]))return!1;return!0}var Xie=Symbol.for("react-redux-context"),Qie=typeof globalThis<"u"?globalThis:{};function Zie(){if(!v.createContext)return{};const e=Qie[Xie]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var Jie=Zie();function eoe(e){const{children:t,context:r,serverState:n,store:s}=e,i=v.useMemo(()=>{const d=qie(s);return{store:s,subscription:d,getServerState:n?()=>n:void 0}},[s,n]),c=v.useMemo(()=>s.getState(),[s]);Wie(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,c]);const u=r||Jie;return v.createElement(u.Provider,{value:i},t)}var toe=eoe,roe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function noe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function tv(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(roe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Yie(e[n],t[n]))return!1}else if(!noe(e[n],t[n]))return!1;return!0}var aoe=["id"],soe=["type","layout","connectNulls","needClip","shape"],ioe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(null,arguments)}function bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(r),!0).forEach(function(n){ooe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ooe(e,t,r){return(t=loe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function loe(e){var t=coe(e,"string");return typeof t=="symbol"?t:t+""}function coe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oS(e,t){if(e==null)return{};var r,n,s=uoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var doe=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:wy(r,t),payload:e}]},foe=v.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:c,hide:u,unit:d,tooltipType:f,id:m}=e,p={dataDefinedOnItem:r,getPosition:xf,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:wy(c,t),hide:u,type:f,color:n,unit:d,graphicalItemId:m}};return v.createElement(MR,{tooltipEntrySettings:p})}),eD=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function hoe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var moe=(e,t,r)=>{var n=r.reduce((b,y)=>b+y);if(!n)return eD(t,e);for(var s=Math.floor(e/n),i=e%n,c=t-e,u=[],d=0,f=0;d<r.length;f+=(m=r[d])!==null&&m!==void 0?m:0,++d){var m,p=r[d];if(p!=null&&f+p>i){u=[...r.slice(0,d),i-f];break}}var g=u.length%2===0?[0,c]:[c];return[...hoe(r,s),...u,...g].map(b=>"".concat(b,"px")).join(", ")};function poe(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:c}=n,{id:u}=n,d=oS(n,aoe),f=ql(d);return v.createElement(xse,{points:r,dot:s,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:f,needClip:c,clipPathId:t})}function xoe(e){var{showLabels:t,children:r,points:n}=e,s=v.useMemo(()=>n?.map(i=>{var c,u,d={x:(c=i.x)!==null&&c!==void 0?c:0,y:(u=i.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ll(Ll({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return v.createElement(_R,{value:t?s:void 0},r)}function yk(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i}=e,{type:c,layout:u,connectNulls:d,needClip:f,shape:m}=i,p=oS(i,soe),g=Ll(Ll({},Os(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:c,layout:u,connectNulls:d,strokeDasharray:s??i.strokeDasharray});return v.createElement(v.Fragment,null,n?.length>1&&v.createElement(TR,G0({shapeType:"curve",option:m},g,{pathRef:r})),v.createElement(poe,{points:n,clipPathId:t,props:i}))}function goe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function boe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:c,strokeDasharray:u,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,animateNewValues:g,width:b,height:y,onAnimationEnd:N,onAnimationStart:j}=r,S=s.current,_=Ty(c,"recharts-line-"),E=v.useRef(_),[k,T]=v.useState(!1),D=!k,M=v.useCallback(()=>{typeof N=="function"&&N(),T(!1)},[N]),R=v.useCallback(()=>{typeof j=="function"&&j(),T(!0)},[j]),B=goe(n.current),K=v.useRef(0);E.current!==_&&(K.current=i.current,E.current=_);var U=K.current;return v.createElement(xoe,{points:c,showLabels:D},r.children,v.createElement(Ly,{animationId:_,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:M,onAnimationStart:R,key:_},F=>{var X=Vn(U,B+U,F),Q=Math.min(X,B),pe;if(d)if(u){var re="".concat(u).split(/[,\s]+/gim).map(Z=>parseFloat(Z));pe=moe(Q,B,re)}else pe=eD(B,Q);else pe=u==null?void 0:String(u);if(F>0&&B>0&&(s.current=c,i.current=Math.max(i.current,Q)),S){var ue=S.length/c.length,V=F===1?c:c.map((Z,ge)=>{var G=Math.floor(ge*ue);if(S[G]){var P=S[G];return Ll(Ll({},Z),{},{x:Vn(P.x,Z.x,F),y:Vn(P.y,Z.y,F)})}return g?Ll(Ll({},Z),{},{x:Vn(b*2,Z.x,F),y:Vn(y/2,Z.y,F)}):Ll(Ll({},Z),{},{x:Z.x,y:Z.y})});return s.current=V,v.createElement(yk,{props:r,points:V,clipPathId:t,pathRef:n,strokeDasharray:pe})}return v.createElement(yk,{props:r,points:c,clipPathId:t,pathRef:n,strokeDasharray:pe})}),v.createElement(ER,{label:r.label}))}function yoe(e){var{clipPathId:t,props:r}=e,n=v.useRef(null),s=v.useRef(0),i=v.useRef(null);return v.createElement(boe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:i})}var voe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:da(e.payload,t)}};class woe extends v.Component{render(){var{hide:t,dot:r,points:n,className:s,xAxisId:i,yAxisId:c,top:u,left:d,width:f,height:m,id:p,needClip:g,zIndex:b}=this.props;if(t)return null;var y=Qr("recharts-line",s),N=p,{r:j,strokeWidth:S}=Mie(r),_=LR(r),E=j*2+S,k=g?"url(#clipPath-".concat(_?"":"dots-").concat(N,")"):void 0;return v.createElement(al,{zIndex:b},v.createElement(ho,{className:y},g&&v.createElement("defs",null,v.createElement(YR,{clipPathId:N,xAxisId:i,yAxisId:c}),!_&&v.createElement("clipPath",{id:"clipPath-dots-".concat(N)},v.createElement("rect",{x:d-E/2,y:u-E/2,width:f+E,height:m+E}))),v.createElement(WR,{xAxisId:i,yAxisId:c,data:n,dataPointFormatter:voe,errorBarOffset:0},v.createElement(yoe,{props:this.props,clipPathId:N}))),v.createElement(Ise,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var tD={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ns.line,type:"linear"};function Noe(e){var t=ai(e,tD),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:c,connectNulls:u,dot:d,hide:f,isAnimationActive:m,label:p,legendType:g,xAxisId:b,yAxisId:y,id:N}=t,j=oS(t,ioe),{needClip:S}=iS(b,y),_=aS(),E=gf(),k=Ls(),T=Bt(K=>Iie(K,b,y,k,N));if(E!=="horizontal"&&E!=="vertical"||T==null||_==null)return null;var{height:D,width:M,x:R,y:B}=_;return v.createElement(woe,G0({},j,{id:N,connectNulls:u,dot:d,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:c,isAnimationActive:m,hide:f,label:p,legendType:g,xAxisId:b,yAxisId:y,points:T,layout:E,height:D,width:M,left:R,top:B,needClip:S}))}function joe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:c,bandSize:u,displayedData:d}=e;return d.map((f,m)=>{var p=da(f,c);if(t==="horizontal"){var g=o_({axis:r,ticks:s,bandSize:u,entry:f,index:m}),b=Rn(p)?null:n.scale.map(p);return{x:g,y:b??null,value:p,payload:f}}var y=Rn(p)?null:r.scale.map(p),N=o_({axis:n,ticks:i,bandSize:u,entry:f,index:m});return y==null||N==null?null:{x:y,y:N,value:p,payload:f}}).filter(Boolean)}function Soe(e){var t=ai(e,tD),r=Ls();return v.createElement(zR,{id:t.id,type:"line"},n=>v.createElement(v.Fragment,null,v.createElement(BR,{legendPayload:doe(t)}),v.createElement(foe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),v.createElement(UR,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),v.createElement(Noe,G0({},t,{id:n}))))}var lS=v.memo(Soe,tv);lS.displayName="Line";function vf(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:qR}function wf(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(s=>s.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:qR}var Aoe="Invariant failed";function _oe(e,t){throw new Error(Aoe)}function q5(){return q5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q5.apply(null,arguments)}function Ib(e){return v.createElement(TR,q5({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Coe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(Lt(t))return t;var i=Lt(n)||Rn(n);return i?t(n,s):(i||_oe(),r)}},Eoe=(e,t,r)=>r,koe=(e,t)=>t,Np=De([Wy,koe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Ooe=De([Np],e=>e?.maxBarSize),Poe=(e,t,r,n)=>n,Loe=De([Fr,Wy,vf,wf,Eoe],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Toe=(e,t,r)=>{var n=Fr(e),s=vf(e,t),i=wf(e,t);if(!(s==null||i==null))return n==="horizontal"?D5(e,"yAxis",i,r):D5(e,"xAxis",s,r)},Roe=(e,t)=>{var r=Fr(e),n=vf(e,t),s=wf(e,t);if(!(n==null||s==null))return r==="horizontal"?lE(e,"xAxis",n):lE(e,"yAxis",s)},Doe=De([Loe,ZJ,Roe],Mse),Ioe=(e,t,r)=>{var n,s,i=Np(e,t);if(i==null)return 0;var c=vf(e,t),u=wf(e,t);if(c==null||u==null)return 0;var d=Fr(e),f=KT(e),{maxBarSize:m}=i,p=Rn(m)?f:m,g,b;return d==="horizontal"?(g=Qu(e,"xAxis",c,r),b=Xu(e,"xAxis",c,r)):(g=Qu(e,"yAxis",u,r),b=Xu(e,"yAxis",u,r)),(n=(s=Kh(g,b,!0))!==null&&s!==void 0?s:p)!==null&&n!==void 0?n:0},rD=(e,t,r)=>{var n=Fr(e),s=vf(e,t),i=wf(e,t);if(!(s==null||i==null)){var c,u;return n==="horizontal"?(c=Qu(e,"xAxis",s,r),u=Xu(e,"xAxis",s,r)):(c=Qu(e,"yAxis",i,r),u=Xu(e,"yAxis",i,r)),Kh(c,u)}},Moe=De([Doe,KT,QJ,VT,Ioe,rD,Ooe],qse),Boe=(e,t,r)=>{var n=vf(e,t);if(n!=null)return Qu(e,"xAxis",n,r)},zoe=(e,t,r)=>{var n=wf(e,t);if(n!=null)return Qu(e,"yAxis",n,r)},Foe=(e,t,r)=>{var n=vf(e,t);if(n!=null)return Xu(e,"xAxis",n,r)},Uoe=(e,t,r)=>{var n=wf(e,t);if(n!=null)return Xu(e,"yAxis",n,r)},qoe=De([Moe,Np],Hse),$oe=De([Toe,Np],$se),Hoe=De([Ba,JN,Boe,zoe,Foe,Uoe,qoe,Fr,$J,rD,$oe,Np,Poe],(e,t,r,n,s,i,c,u,d,f,m,p,g)=>{var{chartData:b,dataStartIndex:y,dataEndIndex:N}=d;if(!(p==null||c==null||t==null||u!=="horizontal"&&u!=="vertical"||r==null||n==null||s==null||i==null||f==null)){var{data:j}=p,S;if(j!=null&&j.length>0?S=j:S=b?.slice(y,N+1),S!=null)return ble({layout:u,barSettings:p,pos:c,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,stackedData:m,displayedData:S,offset:e,cells:g,dataStartIndex:y})}}),Goe=["index"];function $5(){return $5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$5.apply(null,arguments)}function Koe(e,t){if(e==null)return{};var r,n,s=Voe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Voe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nD=v.createContext(void 0),Woe=e=>{var t=v.useContext(nD);if(t!=null)return t.stackId;if(e!=null)return $W(e)},Yoe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Xoe=e=>{var t=v.useContext(nD);if(t!=null){var{stackId:r}=t;return"url(#".concat(Yoe(r,e),")")}},aD=e=>{var{index:t}=e,r=Koe(e,Goe),n=Xoe(t);return v.createElement(ho,$5({className:"recharts-bar-stack-layer",clipPath:n},r))},Qoe=["onMouseEnter","onMouseLeave","onClick"],Zoe=["value","background","tooltipPosition"],Joe=["id"],ele=["onMouseEnter","onClick","onMouseLeave"];function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(null,arguments)}function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function As(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){tle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tle(e,t,r){return(t=rle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rle(e){var t=nle(e,"string");return typeof t=="symbol"?t:t+""}function nle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mb(e,t){if(e==null)return{};var r,n,s=ale(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ale(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sle=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:wy(r,t),payload:e}]},ile=v.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:c,unit:u,tooltipType:d,id:f}=e,m={dataDefinedOnItem:void 0,getPosition:xf,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:wy(i,t),hide:c,type:d,color:s,unit:u,graphicalItemId:f}};return v.createElement(MR,{tooltipEntrySettings:m})});function ole(e){var t=Bt(ff),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:c,onMouseLeave:u,onClick:d}=i,f=Mb(i,Qoe),m=RR(c,n,i.id),p=DR(u),g=IR(d,n,i.id);if(!s||r==null)return null;var b=sp(s);return v.createElement(al,{zIndex:Gse(s,ns.barBackground)},r.map((y,N)=>{var{value:j,background:S,tooltipPosition:_}=y,E=Mb(y,Zoe);if(!S)return null;var k=m(y,N),T=p(y,N),D=g(y,N),M=As(As(As(As(As({option:s,isActive:String(N)===t},E),{},{fill:"#eee"},S),b),$N(f,y,N)),{},{onMouseEnter:k,onMouseLeave:T,onClick:D,dataKey:n,index:N,className:"recharts-bar-background-rectangle"});return v.createElement(Ib,qc({key:"background-bar-".concat(N)},M))}))}function lle(e){var{showLabels:t,children:r,rects:n}=e,s=n?.map(i=>{var c={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return As(As({},c),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:c,fill:i.fill})});return v.createElement(_R,{value:t?s:void 0},r)}function cle(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:i,dataKey:c}=e,u=Bt(ff),d=Bt(aR),f=r&&String(i)===u&&(d==null||c===d),m=f?r:t;return f?v.createElement(al,{zIndex:ns.activeBar},v.createElement(aD,{index:i},v.createElement(Ib,qc({},n,{name:String(n.name)},s,{isActive:f,option:m,index:i,dataKey:c})))):v.createElement(Ib,qc({},n,{name:String(n.name)},s,{isActive:f,option:m,index:i,dataKey:c}))}function ule(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:i}=e;return v.createElement(Ib,qc({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:s,dataKey:i}))}function dle(e){var t,{data:r,props:n}=e,s=(t=ql(n))!==null&&t!==void 0?t:{},{id:i}=s,c=Mb(s,Joe),{shape:u,dataKey:d,activeBar:f}=n,{onMouseEnter:m,onClick:p,onMouseLeave:g}=n,b=Mb(n,ele),y=RR(m,d,i),N=DR(g),j=IR(p,d,i);return r?v.createElement(v.Fragment,null,r.map((S,_)=>v.createElement(aD,qc({index:_,key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(_),className:"recharts-bar-rectangle"},$N(b,S,_),{onMouseEnter:y(S,_),onMouseLeave:N(S,_),onClick:j(S,_)}),f?v.createElement(cle,{shape:u,activeBar:f,baseProps:c,entry:S,index:_,dataKey:d}):v.createElement(ule,{shape:u,baseProps:c,entry:S,index:_,dataKey:d})))):null}function fle(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:c,animationDuration:u,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=t,p=r.current,g=Ty(t,"recharts-bar-"),[b,y]=v.useState(!1),N=!b,j=v.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),S=v.useCallback(()=>{typeof m=="function"&&m(),y(!0)},[m]);return v.createElement(lle,{showLabels:N,rects:n},v.createElement(Ly,{animationId:g,begin:c,duration:u,isActive:i,easing:d,onAnimationEnd:j,onAnimationStart:S,key:g},_=>{var E=_===1?n:n?.map((k,T)=>{var D=p&&p[T];if(D)return As(As({},k),{},{x:Vn(D.x,k.x,_),y:Vn(D.y,k.y,_),width:Vn(D.width,k.width,_),height:Vn(D.height,k.height,_)});if(s==="horizontal"){var M=Vn(0,k.height,_),R=Vn(k.stackedBarStart,k.y,_);return As(As({},k),{},{y:R,height:M})}var B=Vn(0,k.width,_),K=Vn(k.stackedBarStart,k.x,_);return As(As({},k),{},{width:B,x:K})});return _>0&&(r.current=E??null),E==null?null:v.createElement(ho,null,v.createElement(dle,{props:t,data:E}))}),v.createElement(ER,{label:t.label}),t.children)}function hle(e){var t=v.useRef(null);return v.createElement(fle,{previousRectanglesRef:t,props:e})}var sD=0,mle=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:da(e,t)}};class ple extends v.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:c,needClip:u,background:d,id:f}=this.props;if(t||r==null)return null;var m=Qr("recharts-bar",s),p=f;return v.createElement(ho,{className:m,id:f},u&&v.createElement("defs",null,v.createElement(YR,{clipPathId:p,xAxisId:i,yAxisId:c})),v.createElement(ho,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(p,")"):void 0},v.createElement(ole,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),v.createElement(hle,this.props)))}}var xle={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:sD,xAxisId:0,yAxisId:0,zIndex:ns.bar};function gle(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:c,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:m}=e,{needClip:p}=iS(t,r),g=gf(),b=Ls(),y=Tae(e.children,ev),N=Bt(_=>Hoe(_,e.id,b,y));if(g!=="vertical"&&g!=="horizontal")return null;var j,S=N?.[0];return S==null||S.height==null||S.width==null?j=0:j=g==="vertical"?S.height/2:S.width/2,v.createElement(WR,{xAxisId:t,yAxisId:r,data:N,dataPointFormatter:mle,errorBarOffset:j},v.createElement(ple,qc({},e,{layout:g,needClip:p,data:N,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:c,animationBegin:u,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function ble(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:c,yAxis:u,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:p,offset:g,cells:b,parentViewBox:y,dataStartIndex:N}=e,j=t==="horizontal"?u:c,S=m?j.scale.domain():null,_=HW({numericAxis:j}),E=j.scale.map(_);return p.map((k,T)=>{var D,M,R,B,K,U;if(m){var F=m[T+N];if(F==null)return null;D=BW(F,S)}else D=da(k,r),Array.isArray(D)||(D=[_,D]);var X=Coe(n,sD)(D[1],T);if(t==="horizontal"){var Q,pe=u.scale.map(D[0]),re=u.scale.map(D[1]);if(pe==null||re==null)return null;M=l_({axis:c,ticks:d,bandSize:i,offset:s.offset,entry:k,index:T}),R=(Q=re??pe)!==null&&Q!==void 0?Q:void 0,B=s.size;var ue=pe-re;if(K=$l(ue)?0:ue,U={x:M,y:g.top,width:B,height:g.height},Math.abs(X)>0&&Math.abs(K)<Math.abs(X)){var V=Ai(K||X)*(Math.abs(X)-Math.abs(K));R-=V,K+=V}}else{var Z=c.scale.map(D[0]),ge=c.scale.map(D[1]);if(Z==null||ge==null)return null;if(M=Z,R=l_({axis:u,ticks:f,bandSize:i,offset:s.offset,entry:k,index:T}),B=ge-Z,K=s.size,U={x:g.left,y:R,width:g.width,height:K},Math.abs(X)>0&&Math.abs(B)<Math.abs(X)){var G=Ai(B||X)*(Math.abs(X)-Math.abs(B));B+=G}}if(M==null||R==null||B==null||K==null)return null;var P=As(As({},k),{},{stackedBarStart:E,x:M,y:R,width:B,height:K,value:m?D:D[1],payload:k,background:U,tooltipPosition:{x:M+B/2,y:R+K/2},parentViewBox:y},b&&b[T]&&b[T].props);return P}).filter(Boolean)}function yle(e){var t=ai(e,xle),r=Woe(t.stackId),n=Ls();return v.createElement(zR,{id:t.id,type:"bar"},s=>v.createElement(v.Fragment,null,v.createElement(BR,{legendPayload:sle(t)}),v.createElement(ile,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:s}),v.createElement(UR,{type:"bar",id:s,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),v.createElement(al,{zIndex:t.zIndex},v.createElement(gle,qc({},t,{id:s})))))}var cS=v.memo(yle,tv);cS.displayName="Bar";var vle=["domain","range"],wle=["domain","range"];function wk(e,t){if(e==null)return{};var r,n,s=Nle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Nle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nk(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function iD(e,t){if(e===t)return!0;var{domain:r,range:n}=e,s=wk(e,vle),{domain:i,range:c}=t,u=wk(t,wle);return!Nk(r,i)||!Nk(n,c)?!1:tv(s,u)}var jle=["type"],Sle=["dangerouslySetInnerHTML","ticks","scale"],Ale=["id","scale"];function H5(){return H5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H5.apply(null,arguments)}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){_le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _le(e,t,r){return(t=Cle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cle(e){var t=Ele(e,"string");return typeof t=="symbol"?t:t+""}function Ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G5(e,t){if(e==null)return{};var r,n,s=kle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ole(e){var t=na(),r=v.useRef(null),n=DL(),{type:s}=e,i=G5(e,jle),c=qy(n,"xAxis",s),u=v.useMemo(()=>{if(c!=null)return Sk(Sk({},i),{},{type:c})},[i,c]);return v.useLayoutEffect(()=>{u!=null&&(r.current===null?t(wse(u)):r.current!==u&&t(Nse({prev:r.current,next:u})),r.current=u)},[u,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(jse(r.current)),r.current=null)},[t]),null}var Ple=e=>{var{xAxisId:t,className:r}=e,n=Bt(JN),s=Ls(),i="xAxis",c=Bt(S=>M7(S,i,t,s)),u=Bt(S=>T7(S,t)),d=Bt(S=>Jee(S,t)),f=Bt(S=>r7(S,t));if(u==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:p,scale:g}=e,b=G5(e,Sle),{id:y,scale:N}=f,j=G5(f,Ale);return v.createElement(sS,H5({},b,j,{x:d.x,y:d.y,width:u.width,height:u.height,className:Qr("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:c,axisType:i}))},Lle={allowDataOverflow:Ra.allowDataOverflow,allowDecimals:Ra.allowDecimals,allowDuplicatedCategory:Ra.allowDuplicatedCategory,angle:Ra.angle,axisLine:Xd.axisLine,height:Ra.height,hide:!1,includeHidden:Ra.includeHidden,interval:Ra.interval,label:!1,minTickGap:Ra.minTickGap,mirror:Ra.mirror,orientation:Ra.orientation,padding:Ra.padding,reversed:Ra.reversed,scale:Ra.scale,tick:Ra.tick,tickCount:Ra.tickCount,tickLine:Xd.tickLine,tickSize:Xd.tickSize,type:Ra.type,xAxisId:0},Tle=e=>{var t=ai(e,Lle);return v.createElement(v.Fragment,null,v.createElement(Ole,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),v.createElement(Ple,t))},jp=v.memo(Tle,iD);jp.displayName="XAxis";var Rle=["type"],Dle=["dangerouslySetInnerHTML","ticks","scale"],Ile=["id","scale"];function K5(){return K5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K5.apply(null,arguments)}function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){Mle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mle(e,t,r){return(t=Ble(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ble(e){var t=zle(e,"string");return typeof t=="symbol"?t:t+""}function zle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V5(e,t){if(e==null)return{};var r,n,s=Fle(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Fle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ule(e){var t=na(),r=v.useRef(null),n=DL(),{type:s}=e,i=V5(e,Rle),c=qy(n,"yAxis",s),u=v.useMemo(()=>{if(c!=null)return _k(_k({},i),{},{type:c})},[c,i]);return v.useLayoutEffect(()=>{u!=null&&(r.current===null?t(Sse(u)):r.current!==u&&t(Ase({prev:r.current,next:u})),r.current=u)},[u,t]),v.useLayoutEffect(()=>()=>{r.current&&(t(_se(r.current)),r.current=null)},[t]),null}function qle(e){var{yAxisId:t,className:r,width:n,label:s}=e,i=v.useRef(null),c=v.useRef(null),u=Bt(JN),d=Ls(),f=na(),m="yAxis",p=Bt(D=>R7(D,t)),g=Bt(D=>tte(D,t)),b=Bt(D=>M7(D,m,t,d)),y=Bt(D=>n7(D,t));if(v.useLayoutEffect(()=>{if(!(n!=="auto"||!p||nS(s)||v.isValidElement(s)||y==null)){var D=i.current;if(D){var M=D.getCalculatedWidth();Math.round(p.width)!==Math.round(M)&&f(Cse({id:t,width:M}))}}},[b,p,f,s,t,n,y]),p==null||g==null||y==null)return null;var{dangerouslySetInnerHTML:N,ticks:j,scale:S}=e,_=V5(e,Dle),{id:E,scale:k}=y,T=V5(y,Ile);return v.createElement(sS,K5({},_,T,{ref:i,labelRef:c,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Qr("recharts-".concat(m," ").concat(m),r),viewBox:u,ticks:b,axisType:m}))}var $le={allowDataOverflow:Da.allowDataOverflow,allowDecimals:Da.allowDecimals,allowDuplicatedCategory:Da.allowDuplicatedCategory,angle:Da.angle,axisLine:Xd.axisLine,hide:!1,includeHidden:Da.includeHidden,interval:Da.interval,label:!1,minTickGap:Da.minTickGap,mirror:Da.mirror,orientation:Da.orientation,padding:Da.padding,reversed:Da.reversed,scale:Da.scale,tick:Da.tick,tickCount:Da.tickCount,tickLine:Xd.tickLine,tickSize:Xd.tickSize,type:Da.type,width:Da.width,yAxisId:0},Hle=e=>{var t=ai(e,$le);return v.createElement(v.Fragment,null,v.createElement(Ule,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),v.createElement(qle,t))},Sp=v.memo(Hle,iD);Sp.displayName="YAxis";var Gle=(e,t)=>t,uS=De([Gle,Fr,e7,Ua,eR,eu,xre,Ba],jre),dS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},oD=mo("mouseClick"),lD=lp();lD.startListening({actionCreator:oD,effect:(e,t)=>{var r=e.payload,n=uS(t.getState(),dS(r));n?.activeIndex!=null&&t.dispatch(pte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var W5=mo("mouseMove"),cD=lp(),zx=null;cD.startListening({actionCreator:W5,effect:(e,t)=>{var r=e.payload;zx!==null&&cancelAnimationFrame(zx);var n=dS(r);zx=requestAnimationFrame(()=>{var s=t.getState(),i=Kj(s,s.tooltip.settings.shared);if(i==="axis"){var c=uS(s,n);c?.activeIndex!=null?t.dispatch(G7({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(H7())}zx=null})}});function Kle(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var Ck={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},uD=si({name:"rootProps",initialState:Ck,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:Ck.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Vle=uD.reducer,{updateOptions:Wle}=uD.actions,Yle=null,Xle={updatePolarOptions:(e,t)=>t.payload},dD=si({name:"polarOptions",initialState:Yle,reducers:Xle}),{updatePolarOptions:U0e}=dD.actions,Qle=dD.reducer,fD=mo("keyDown"),hD=mo("focus"),fS=lp();fS.startListening({actionCreator:fD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var c=Vj(s,dm(r),bp(r),vp(r)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var d=eu(r);if(i==="Enter"){var f=Pb(r,"axis","hover",String(s.index));t.dispatch(M5({active:!s.active,activeIndex:s.index,activeCoordinate:f}));return}var m=ste(r),p=m==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,b=u+g*p;if(!(d==null||b>=d.length||b<0)){var y=Pb(r,"axis","hover",String(b));t.dispatch(M5({active:!0,activeIndex:b.toString(),activeCoordinate:y}))}}}}}});fS.startListening({actionCreator:hD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",c=Pb(r,"axis","hover",String(i));t.dispatch(M5({active:!0,activeIndex:i,activeCoordinate:c}))}}}});var ro=mo("externalEvent"),mD=lp(),dw=new Map;mD.startListening({actionCreator:ro,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var s=n.type,i=dw.get(s);i!==void 0&&cancelAnimationFrame(i);var c=requestAnimationFrame(()=>{try{var u=t.getState(),d={activeCoordinate:ere(u),activeDataKey:aR(u),activeIndex:ff(u),activeLabel:nR(u),activeTooltipIndex:ff(u),isTooltipActive:tre(u)};r(d,n)}finally{dw.delete(s)}});dw.set(s,c)}}});var Zle=De([cm],e=>e.tooltipItemPayloads),Jle=De([Zle,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(t!=null){var n=e.find(i=>i.settings.graphicalItemId===r);if(n!=null){var{getPosition:s}=n;if(s!=null)return s(t)}}}),pD=mo("touchMove"),xD=lp();xD.startListening({actionCreator:pD,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),s=Kj(n,n.tooltip.settings.shared);if(s==="axis"){var i=r.touches[0];if(i==null)return;var c=uS(n,dS({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));c?.activeIndex!=null&&t.dispatch(G7({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(s==="item"){var u,d=r.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(QW),p=(u=f.getAttribute(ZW))!==null&&u!==void 0?u:void 0,g=um(n).find(N=>N.id===p);if(m==null||g==null||p==null)return;var{dataKey:b}=g,y=Jle(n,m,p);t.dispatch($7({activeDataKey:b,activeIndex:m,activeCoordinate:y,activeGraphicalItemId:p}))}}}});var ece=rL({brush:Vse,cartesianAxis:Ese,chartData:ene,errorBars:_ie,graphicalItems:ise,layout:TW,legend:KY,options:Yre,polarAxis:Eae,polarOptions:Qle,referenceElements:Qse,rootProps:Vle,tooltip:xte,zIndex:Mre}),tce=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return aW({reducer:ece,preloadedState:t,middleware:n=>{var s;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((s="es6")!==null&&s!==void 0?s:"")}).concat([lD.middleware,cD.middleware,fS.middleware,mD.middleware,xD.middleware])},enhancers:n=>{var s=n;return typeof n=="function"&&(s=n()),s.concat(gL({type:"raf"}))},devTools:{serialize:{replacer:Kle},name:"recharts-".concat(r)}})};function rce(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=Ls(),i=v.useRef(null);if(s)return r;i.current==null&&(i.current=tce(t,n));var c=KN;return v.createElement(toe,{context:c,store:i.current},r)}function nce(e){var{layout:t,margin:r}=e,n=na(),s=Ls();return v.useEffect(()=>{s||(n(OW(t)),n(kW(r)))},[n,s,t,r]),null}var ace=v.memo(nce,tv);function sce(e){var t=na();return v.useEffect(()=>{t(Wle(e))},[t,e]),null}function Ek(e){var{zIndex:t,isPanorama:r}=e,n=v.useRef(null),s=na();return v.useLayoutEffect(()=>(n.current&&s(Dre({zIndex:t,element:n.current,isPanorama:r})),()=>{s(Ire({zIndex:t,isPanorama:r}))}),[s,t,r]),v.createElement("g",{tabIndex:-1,ref:n})}function kk(e){var{children:t,isPanorama:r}=e,n=Bt(Are);if(!n||n.length===0)return t;var s=n.filter(c=>c<0),i=n.filter(c=>c>0);return v.createElement(v.Fragment,null,s.map(c=>v.createElement(Ek,{key:c,zIndex:c,isPanorama:r})),t,i.map(c=>v.createElement(Ek,{key:c,zIndex:c,isPanorama:r})))}var ice=["children"];function oce(e,t){if(e==null)return{};var r,n,s=lce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}var cce={width:"100%",height:"100%",display:"block"},uce=v.forwardRef((e,t)=>{var r=EY(),n=kY(),s=HL();if(!Yu(r)||!Yu(n))return null;var{children:i,otherAttributes:c,title:u,desc:d}=e,f,m;return c!=null&&(typeof c.tabIndex=="number"?f=c.tabIndex:f=s?0:void 0,typeof c.role=="string"?m=c.role:m=s?"application":void 0),v.createElement(vP,Bb({},c,{title:u,desc:d,role:m,tabIndex:f,width:r,height:n,style:cce,ref:t}),i)}),dce=e=>{var{children:t}=e,r=Bt(Ay);if(!r)return null;var{width:n,height:s,y:i,x:c}=r;return v.createElement(vP,{width:n,height:s,x:c,y:i},t)},Ok=v.forwardRef((e,t)=>{var{children:r}=e,n=oce(e,ice),s=Ls();return s?v.createElement(dce,null,v.createElement(kk,{isPanorama:!0},r)):v.createElement(uce,Bb({ref:t},n),v.createElement(kk,{isPanorama:!1},r))});function fce(){var e=na(),[t,r]=v.useState(null),n=Bt(XW);return v.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;Pr(i)&&i!==n&&e(LW(i))}},[t,e,n]),r}function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){mce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mce(e,t,r){return(t=pce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pce(e){var t=xce(e,"string");return typeof t=="symbol"?t:t+""}function xce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ku.apply(null,arguments)}var gce=()=>(cne(),null);function zb(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var bce=v.forwardRef((e,t)=>{var r,n,s=v.useRef(null),[i,c]=v.useState({containerWidth:zb((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:zb((n=e.style)===null||n===void 0?void 0:n.height)}),u=v.useCallback((f,m)=>{c(p=>{var g=Math.round(f),b=Math.round(m);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),d=v.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();u(m,p);var g=y=>{var N=y[0];if(N!=null){var{width:j,height:S}=N.contentRect;u(j,S)}},b=new ResizeObserver(g);b.observe(f),s.current=b}},[t,u]);return v.useEffect(()=>()=>{var f=s.current;f?.disconnect()},[u]),v.createElement(v.Fragment,null,v.createElement(up,{width:i.containerWidth,height:i.containerHeight}),v.createElement("div",Ku({ref:d},e)))}),yce=v.forwardRef((e,t)=>{var{width:r,height:n}=e,[s,i]=v.useState({containerWidth:zb(r),containerHeight:zb(n)}),c=v.useCallback((d,f)=>{i(m=>{var p=Math.round(d),g=Math.round(f);return m.containerWidth===p&&m.containerHeight===g?m:{containerWidth:p,containerHeight:g}})},[]),u=v.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();c(f,m)}},[t,c]);return v.createElement(v.Fragment,null,v.createElement(up,{width:s.containerWidth,height:s.containerHeight}),v.createElement("div",Ku({ref:u},e)))}),vce=v.forwardRef((e,t)=>{var{width:r,height:n}=e;return v.createElement(v.Fragment,null,v.createElement(up,{width:r,height:n}),v.createElement("div",Ku({ref:t},e)))}),wce=v.forwardRef((e,t)=>{var{width:r,height:n}=e;return typeof r=="string"||typeof n=="string"?v.createElement(yce,Ku({},e,{ref:t})):typeof r=="number"&&typeof n=="number"?v.createElement(vce,Ku({},e,{width:r,height:n,ref:t})):v.createElement(v.Fragment,null,v.createElement(up,{width:r,height:n}),v.createElement("div",Ku({ref:t},e)))});function Nce(e){return e?bce:wce}var jce=v.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:c,onDoubleClick:u,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:g,onTouchEnd:b,onTouchMove:y,onTouchStart:N,style:j,width:S,responsive:_,dispatchTouchEvents:E=!0}=e,k=v.useRef(null),T=na(),[D,M]=v.useState(null),[R,B]=v.useState(null),K=fce(),U=ej(),F=U?.width>0?U.width:S,X=U?.height>0?U.height:s,Q=v.useCallback(oe=>{K(oe),typeof t=="function"&&t(oe),M(oe),B(oe),oe!=null&&(k.current=oe)},[K,t,M,B]),pe=v.useCallback(oe=>{T(oD(oe)),T(ro({handler:i,reactEvent:oe}))},[T,i]),re=v.useCallback(oe=>{T(W5(oe)),T(ro({handler:f,reactEvent:oe}))},[T,f]),ue=v.useCallback(oe=>{T(H7()),T(ro({handler:m,reactEvent:oe}))},[T,m]),V=v.useCallback(oe=>{T(W5(oe)),T(ro({handler:p,reactEvent:oe}))},[T,p]),Z=v.useCallback(()=>{T(hD())},[T]),ge=v.useCallback(oe=>{T(fD(oe.key))},[T]),G=v.useCallback(oe=>{T(ro({handler:c,reactEvent:oe}))},[T,c]),P=v.useCallback(oe=>{T(ro({handler:u,reactEvent:oe}))},[T,u]),H=v.useCallback(oe=>{T(ro({handler:d,reactEvent:oe}))},[T,d]),$=v.useCallback(oe=>{T(ro({handler:g,reactEvent:oe}))},[T,g]),ae=v.useCallback(oe=>{T(ro({handler:N,reactEvent:oe}))},[T,N]),le=v.useCallback(oe=>{E&&T(pD(oe)),T(ro({handler:y,reactEvent:oe}))},[T,E,y]),be=v.useCallback(oe=>{T(ro({handler:b,reactEvent:oe}))},[T,b]),ce=Nce(_);return v.createElement(dR.Provider,{value:D},v.createElement(BG.Provider,{value:R},v.createElement(ce,{width:F??j?.width,height:X??j?.height,className:Qr("recharts-wrapper",n),style:hce({position:"relative",cursor:"default",width:F,height:X},j),onClick:pe,onContextMenu:G,onDoubleClick:P,onFocus:Z,onKeyDown:ge,onMouseDown:H,onMouseEnter:re,onMouseLeave:ue,onMouseMove:V,onMouseUp:$,onTouchEnd:be,onTouchMove:le,onTouchStart:ae,ref:Q},v.createElement(gce,null),r)))}),Sce=["width","height","responsive","children","className","style","compact","title","desc"];function Ace(e,t){if(e==null)return{};var r,n,s=_ce(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _ce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cce=v.forwardRef((e,t)=>{var{width:r,height:n,responsive:s,children:i,className:c,style:u,compact:d,title:f,desc:m}=e,p=Ace(e,Sce),g=ql(p);return d?v.createElement(v.Fragment,null,v.createElement(up,{width:r,height:n}),v.createElement(Ok,{otherAttributes:g,title:f,desc:m},i)):v.createElement(jce,{className:c,style:u,width:r,height:n,responsive:s??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(Ok,{otherAttributes:g,title:f,desc:m,ref:t},v.createElement(Jse,null,i)))});function Y5(){return Y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y5.apply(null,arguments)}var Ece={top:5,right:5,bottom:5,left:5},kce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ece,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},gD=v.forwardRef(function(t,r){var n,s=ai(t.categoricalChartProps,kce),{chartName:i,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:i,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return v.createElement(rce,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},v.createElement(Kse,{chartData:f.data}),v.createElement(ace,{layout:s.layout,margin:s.margin}),v.createElement(sce,{baseValue:s.baseValue,accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className,reverseStackOrder:s.reverseStackOrder}),v.createElement(Cce,Y5({},s,{ref:r})))}),Oce=["axis"],bD=v.forwardRef((e,t)=>v.createElement(gD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Oce,tooltipPayloadSearcher:fR,categoricalChartProps:e,ref:t})),Pce=["axis","item"],yD=v.forwardRef((e,t)=>v.createElement(gD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pce,tooltipPayloadSearcher:fR,categoricalChartProps:e,ref:t}));const Lce=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function Tce({data:e=[]}){let t=[];Array.isArray(e)&&e.length>0?typeof e[0]=="number"?t=e:e[0]&&typeof e[0]=="object"&&(t=e.map(s=>typeof s=="number"?s:s.value||0)):e&&typeof e=="object"&&!Array.isArray(e)&&(typeof e.value=="number"?t=[e.value]:Array.isArray(e.data)&&(t=e.data)),t.length===0&&(t=[0,0,0,0,0,0,0]);const r=t.map((s,i)=>({day:Lce[i]||`D${i+1}`,sales:typeof s=="number"?s:0})),n=t.length>0&&t.some(s=>s!==0);return a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-5",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"font-bold",children:"Branch Weekly Sales"}),a.jsx("span",{className:"text-xs px-3 py-1 rounded-full bg-slate-100 border border-brand-border font-bold",children:" Sales"})]}),a.jsx("div",{style:{width:"100%",height:"288px",minHeight:"288px",minWidth:"0"},children:n?a.jsx(_y,{width:"100%",height:288,margin:0,children:a.jsxs(bD,{data:r,margin:{top:5,right:5,left:0,bottom:5},children:[a.jsx(jp,{dataKey:"day"}),a.jsx(Sp,{}),a.jsx(Jy,{}),a.jsx(lS,{type:"monotone",dataKey:"sales",stroke:"#2563EB",strokeWidth:3})]})}):a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},className:"text-brand-muted text-sm",children:"No sales data available"})})]})}function Rce(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{n(!0);const u=await hP(5);t(u||[]),i(null)}catch(u){console.error("Error fetching top selling products:",u),i("Failed to load products")}finally{n(!1)}})()},[]),a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-5 font-bold",children:"Top Selling Products (This Week)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3",children:"Product"}),a.jsx("th",{className:"text-left p-3",children:"Units"}),a.jsx("th",{className:"text-left p-3",children:"Revenue"})]})}),a.jsx("tbody",{children:r?a.jsx("tr",{children:a.jsx("td",{className:"p-6 text-center text-brand-muted",colSpan:3,children:"Loading products..."})}):s?a.jsx("tr",{children:a.jsx("td",{className:"p-6 text-center text-red-600",colSpan:3,children:s})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{className:"p-6 text-center text-brand-muted",colSpan:3,children:"No products available"})}):e.map((c,u)=>a.jsxs("tr",{className:"border-t hover:bg-slate-50",children:[a.jsx("td",{className:"p-3 font-bold",children:c.name}),a.jsx("td",{className:"p-3",children:c.units}),a.jsx("td",{className:"p-3",children:c.revenue})]},u))})]})})]})}const Dce={Success:"bg-brand-success",Active:"bg-brand-success",Available:"bg-brand-success",Warning:"bg-brand-warning",Critical:"bg-brand-danger",Failed:"bg-brand-danger",Blocked:"bg-brand-danger",Offline:"bg-slate-500",Sold:"bg-brand-secondary"};function fm({label:e}){const t=Dce[e]||"bg-slate-500";return a.jsx("span",{className:`text-xs px-3 py-1 rounded-full text-white font-bold ${t}`,children:e})}function Ice(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{n(!0);const u=await oG();t(u||[]),i(null)}catch(u){console.error("Error fetching stock alerts:",u),i("Failed to load stock alerts")}finally{n(!1)}})()},[]),a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-5",children:[a.jsx("div",{className:"font-bold mb-3",children:"Low Stock (Branch)"}),a.jsx("div",{className:"space-y-3",children:r?a.jsx("div",{className:"text-sm text-brand-muted",children:"Loading stock alerts..."}):s?a.jsx("div",{className:"text-sm text-red-600",children:s}):e.length===0?a.jsx("div",{className:"text-sm text-brand-muted",children:"No stock alerts"}):e.map((c,u)=>a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-3 last:border-b-0 last:pb-0",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold",children:c.item}),a.jsxs("div",{className:"text-xs text-brand-muted",children:["Only ",c.qty," left"]})]}),a.jsx(fm,{label:c.level})]},u))})]})}function Mce(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{n(!0);const u=await cG();t(u||[]),i(null)}catch(u){console.error("Error fetching alerts:",u),i("Failed to load alerts")}finally{n(!1)}})()},[]),a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-5",children:[a.jsx("div",{className:"font-bold mb-3",children:"Alerts"}),a.jsx("div",{className:"space-y-3",children:r?a.jsx("div",{className:"text-sm text-brand-muted",children:"Loading alerts..."}):s?a.jsx("div",{className:"text-sm text-red-600",children:s}):e.length===0?a.jsx("div",{className:"text-sm text-brand-muted",children:"No recent alerts"}):e.map((c,u)=>a.jsxs("div",{className:"flex items-start justify-between gap-3 border-b border-slate-100 pb-3 last:border-b-0 last:pb-0",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-semibold",children:c.message}),a.jsx("div",{className:"text-xs text-brand-muted",children:c.time})]}),a.jsx(fm,{label:c.type})]},u))})]})}function Bce(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{n(!0);const u=await lG();t(u||[]),i(null)}catch(u){console.error("Error fetching expiry alerts:",u),i("Failed to load expiry data")}finally{n(!1)}})()},[]),a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-5",children:[a.jsx("div",{className:"font-bold mb-3",children:"Expiry Alerts"}),a.jsx("div",{className:"space-y-3",children:r?a.jsx("div",{className:"text-sm text-brand-muted",children:"Loading expiry data..."}):s?a.jsx("div",{className:"text-sm text-red-600",children:s}):e.length===0?a.jsx("div",{className:"text-sm text-brand-muted",children:"No expiry alerts"}):e.map((c,u)=>a.jsxs("div",{className:"flex items-center justify-between gap-3 border-b border-slate-100 pb-3 last:border-b-0 last:pb-0",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-semibold",children:c.item}),a.jsxs("div",{className:"text-xs text-brand-muted",children:["Expires: ",c.expiresOn,"  Qty: ",c.qty]})]}),a.jsx(fm,{label:c.severity})]},u))})]})}function zce(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{n(!0);const u=await mP();t(u||[]),i(null)}catch(u){console.error("Error fetching staff summary:",u),i("Failed to load staff data")}finally{n(!1)}})()},[]),a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-5",children:[a.jsx("div",{className:"font-bold mb-3",children:"Staff Activity"}),a.jsx("div",{className:"space-y-3",children:r?a.jsx("div",{className:"text-sm text-brand-muted",children:"Loading staff data..."}):s?a.jsx("div",{className:"text-sm text-red-600",children:s}):e.length===0?a.jsx("div",{className:"text-sm text-brand-muted",children:"No staff members"}):e.slice(0,4).map(c=>a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-3 last:border-b-0 last:pb-0",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"font-bold",children:[c.name," ",a.jsxs("span",{className:"text-xs text-brand-muted",children:["(",c.role,")"]})]}),a.jsxs("div",{className:"text-xs text-brand-muted",children:["Last login: ",c.lastLogin]})]}),a.jsx(fm,{label:c.status})]},c.name))})]})}function Fce(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{n(!0);const u=await iG();t(u||[]),i(null)}catch(u){console.error("Error fetching pending GRNs:",u),i("Failed to load GRNs")}finally{n(!1)}})()},[]),a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-5",children:[a.jsx("div",{className:"font-bold mb-3",children:"Pending GRNs"}),a.jsx("div",{className:"space-y-3",children:r?a.jsx("div",{className:"text-sm text-brand-muted",children:"Loading GRNs..."}):s?a.jsx("div",{className:"text-sm text-red-600",children:s}):e.length===0?a.jsx("div",{className:"text-sm text-brand-muted",children:"No pending GRNs"}):e.map(c=>a.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 pb-3 last:border-b-0 last:pb-0",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-bold",children:c.id}),a.jsxs("div",{className:"text-xs text-brand-muted",children:[c.supplier,"  ",c.items," items"]})]}),a.jsx(fm,{label:c.eta==="Today"?"Warning":"Success"})]},c.id))})]})}const Uce=[{label:"Create GRN Request",to:"/manager/approvals"},{label:"View Alerts / Low Stock",to:"/manager"},{label:"Sales Reports",to:"/manager/sales-reports"},{label:"New Journal Entry",to:"/manager/journal-entry"}];function qce(){const e=Vl();return a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-5",children:[a.jsx("div",{className:"font-bold mb-3",children:"Quick Actions"}),a.jsx("div",{className:"space-y-3",children:Uce.map(t=>a.jsx("button",{type:"button",onClick:()=>e(t.to),className:"w-full py-2 rounded-xl bg-brand-primary hover:bg-brand-secondary text-white font-bold transition",children:t.label},t.label))})]})}function $ce(){const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(!0),[c,u]=v.useState(null);return v.useEffect(()=>{(async()=>{try{i(!0),u(null);const[f,m]=await Promise.all([fP(),rG("weekly")]);let p=[];Array.isArray(f)?p=f:f&&typeof f=="object"&&(p=[f]);let g=[];Array.isArray(m)?g=m:m&&typeof m=="object"&&(Array.isArray(m.data)?g=m.data:typeof m.value=="number"&&(g=[m.value])),t(p),n(g)}catch(f){console.error("Error loading dashboard data:",f),u("Failed to load dashboard data. Please try again.")}finally{i(!1)}})()},[]),c?a.jsxs("div",{className:"space-y-5",children:[a.jsx("h1",{className:"text-xl font-extrabold",children:"Manager Dashboard"}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:c})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-2",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-extrabold",children:"Manager Dashboard"}),a.jsx("p",{className:"text-sm text-brand-muted",children:"Branch-focused view: sales summary, approvals, and operational alerts."})]})}),a.jsx(CG,{}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 items-stretch",children:s?a.jsx("div",{className:"col-span-full text-center text-brand-muted",children:"Loading stats..."}):e.map((d,f)=>a.jsx(AG,{title:d.title,value:d.value,icon:d.icon,tone:d.tone},f))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Tce,{data:r})}),a.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[a.jsx(Fce,{}),a.jsx(qce,{})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Rce,{})}),a.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[a.jsx(Mce,{}),a.jsx(Bce,{}),a.jsx(Ice,{}),a.jsx(zce,{})]})]})]})}function Hce(){return a.jsx($ce,{})}const Gce="modulepreload",Kce=function(e){return"/"+e},Lk={},fw=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let d=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");s=d(r.map(f=>{if(f=Kce(f),f in Lk)return;Lk[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":Gce,m||(g.as="script"),g.crossOrigin="",g.href=f,u&&g.setAttribute("nonce",u),document.head.appendChild(g),m)return new Promise((b,y)=>{g.addEventListener("load",b),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return s.then(c=>{for(const u of c||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};function zr(e){"@babel/helpers - typeof";return zr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(e)}var Jo=Uint8Array,Ci=Uint16Array,hS=Int32Array,mS=new Jo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),pS=new Jo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Tk=new Jo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vD=function(e,t){for(var r=new Ci(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var s=new hS(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},wD=vD(mS,2),Vce=wD.b,X5=wD.r;Vce[28]=258,X5[258]=28;var Wce=vD(pS,0),Rk=Wce.r,Q5=new Ci(32768);for(var xn=0;xn<32768;++xn){var Iu=(xn&43690)>>1|(xn&21845)<<1;Iu=(Iu&52428)>>2|(Iu&13107)<<2,Iu=(Iu&61680)>>4|(Iu&3855)<<4,Q5[xn]=((Iu&65280)>>8|(Iu&255)<<8)>>1}var N0=(function(e,t,r){for(var n=e.length,s=0,i=new Ci(t);s<n;++s)e[s]&&++i[e[s]-1];var c=new Ci(t);for(s=1;s<t;++s)c[s]=c[s-1]+i[s-1]<<1;var u;if(r){u=new Ci(1<<t);var d=15-t;for(s=0;s<n;++s)if(e[s])for(var f=s<<4|e[s],m=t-e[s],p=c[e[s]-1]++<<m,g=p|(1<<m)-1;p<=g;++p)u[Q5[p]>>d]=f}else for(u=new Ci(n),s=0;s<n;++s)e[s]&&(u[s]=Q5[c[e[s]-1]++]>>15-e[s]);return u}),mf=new Jo(288);for(var xn=0;xn<144;++xn)mf[xn]=8;for(var xn=144;xn<256;++xn)mf[xn]=9;for(var xn=256;xn<280;++xn)mf[xn]=7;for(var xn=280;xn<288;++xn)mf[xn]=8;var Fb=new Jo(32);for(var xn=0;xn<32;++xn)Fb[xn]=5;var Yce=N0(mf,9,0),Xce=N0(Fb,5,0),ND=function(e){return(e+7)/8|0},Qce=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Jo(e.subarray(t,r))},jc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},d0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},hw=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,i=r.slice();if(!s)return{t:SD,l:0};if(s==1){var c=new Jo(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(T,D){return T.f-D.f}),r.push({s:-1,f:25001});var u=r[0],d=r[1],f=0,m=1,p=2;for(r[0]={s:-1,f:u.f+d.f,l:u,r:d};m!=s-1;)u=r[r[f].f<r[p].f?f++:p++],d=r[f!=m&&r[f].f<r[p].f?f++:p++],r[m++]={s:-1,f:u.f+d.f,l:u,r:d};for(var g=i[0].s,n=1;n<s;++n)i[n].s>g&&(g=i[n].s);var b=new Ci(g+1),y=Z5(r[m-1],b,0);if(y>t){var n=0,N=0,j=y-t,S=1<<j;for(i.sort(function(D,M){return b[M.s]-b[D.s]||D.f-M.f});n<s;++n){var _=i[n].s;if(b[_]>t)N+=S-(1<<y-b[_]),b[_]=t;else break}for(N>>=j;N>0;){var E=i[n].s;b[E]<t?N-=1<<t-b[E]++-1:++n}for(;n>=0&&N;--n){var k=i[n].s;b[k]==t&&(--b[k],++N)}y=t}return{t:new Jo(b),l:y}},Z5=function(e,t,r){return e.s==-1?Math.max(Z5(e.l,t,r+1),Z5(e.r,t,r+1)):t[e.s]=r},Dk=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ci(++t),n=0,s=e[0],i=1,c=function(d){r[n++]=d},u=1;u<=t;++u)if(e[u]==s&&u!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)c(32754);i>2&&(c(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(c(s),--i;i>6;i-=6)c(8304);i>2&&(c(i-3<<5|8208),i=0)}for(;i--;)c(s);i=1,s=e[u]}return{c:r.subarray(0,n),n:t}},f0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},jD=function(e,t,r){var n=r.length,s=ND(t+2);e[s]=n&255,e[s+1]=n>>8,e[s+2]=e[s]^255,e[s+3]=e[s+1]^255;for(var i=0;i<n;++i)e[s+i+4]=r[i];return(s+4+n)*8},Ik=function(e,t,r,n,s,i,c,u,d,f,m){jc(t,m++,r),++s[256];for(var p=hw(s,15),g=p.t,b=p.l,y=hw(i,15),N=y.t,j=y.l,S=Dk(g),_=S.c,E=S.n,k=Dk(N),T=k.c,D=k.n,M=new Ci(19),R=0;R<_.length;++R)++M[_[R]&31];for(var R=0;R<T.length;++R)++M[T[R]&31];for(var B=hw(M,7),K=B.t,U=B.l,F=19;F>4&&!K[Tk[F-1]];--F);var X=f+5<<3,Q=f0(s,mf)+f0(i,Fb)+c,pe=f0(s,g)+f0(i,N)+c+14+3*F+f0(M,K)+2*M[16]+3*M[17]+7*M[18];if(d>=0&&X<=Q&&X<=pe)return jD(t,m,e.subarray(d,d+f));var re,ue,V,Z;if(jc(t,m,1+(pe<Q)),m+=2,pe<Q){re=N0(g,b,0),ue=g,V=N0(N,j,0),Z=N;var ge=N0(K,U,0);jc(t,m,E-257),jc(t,m+5,D-1),jc(t,m+10,F-4),m+=14;for(var R=0;R<F;++R)jc(t,m+3*R,K[Tk[R]]);m+=3*F;for(var G=[_,T],P=0;P<2;++P)for(var H=G[P],R=0;R<H.length;++R){var $=H[R]&31;jc(t,m,ge[$]),m+=K[$],$>15&&(jc(t,m,H[R]>>5&127),m+=H[R]>>12)}}else re=Yce,ue=mf,V=Xce,Z=Fb;for(var R=0;R<u;++R){var ae=n[R];if(ae>255){var $=ae>>18&31;d0(t,m,re[$+257]),m+=ue[$+257],$>7&&(jc(t,m,ae>>23&31),m+=mS[$]);var le=ae&31;d0(t,m,V[le]),m+=Z[le],le>3&&(d0(t,m,ae>>5&8191),m+=pS[le])}else d0(t,m,re[ae]),m+=ue[ae]}return d0(t,m,re[256]),m+ue[256]},Zce=new hS([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),SD=new Jo(0),Jce=function(e,t,r,n,s,i){var c=i.z||e.length,u=new Jo(n+c+5*(1+Math.ceil(c/7e3))+s),d=u.subarray(n,u.length-s),f=i.l,m=(i.r||0)&7;if(t){m&&(d[0]=i.r>>3);for(var p=Zce[t-1],g=p>>13,b=p&8191,y=(1<<r)-1,N=i.p||new Ci(32768),j=i.h||new Ci(y+1),S=Math.ceil(r/3),_=2*S,E=function(Ve){return(e[Ve]^e[Ve+1]<<S^e[Ve+2]<<_)&y},k=new hS(25e3),T=new Ci(288),D=new Ci(32),M=0,R=0,B=i.i||0,K=0,U=i.w||0,F=0;B+2<c;++B){var X=E(B),Q=B&32767,pe=j[X];if(N[Q]=pe,j[X]=Q,U<=B){var re=c-B;if((M>7e3||K>24576)&&(re>423||!f)){m=Ik(e,d,0,k,T,D,R,K,F,B-F,m),K=M=R=0,F=B;for(var ue=0;ue<286;++ue)T[ue]=0;for(var ue=0;ue<30;++ue)D[ue]=0}var V=2,Z=0,ge=b,G=Q-pe&32767;if(re>2&&X==E(B-G))for(var P=Math.min(g,re)-1,H=Math.min(32767,B),$=Math.min(258,re);G<=H&&--ge&&Q!=pe;){if(e[B+V]==e[B+V-G]){for(var ae=0;ae<$&&e[B+ae]==e[B+ae-G];++ae);if(ae>V){if(V=ae,Z=G,ae>P)break;for(var le=Math.min(G,ae-2),be=0,ue=0;ue<le;++ue){var ce=B-G+ue&32767,oe=N[ce],me=ce-oe&32767;me>be&&(be=me,pe=ce)}}}Q=pe,pe=N[Q],G+=Q-pe&32767}if(Z){k[K++]=268435456|X5[V]<<18|Rk[Z];var Ae=X5[V]&31,xe=Rk[Z]&31;R+=mS[Ae]+pS[xe],++T[257+Ae],++D[xe],U=B+V,++M}else k[K++]=e[B],++T[e[B]]}}for(B=Math.max(B,U);B<c;++B)k[K++]=e[B],++T[e[B]];m=Ik(e,d,f,k,T,D,R,K,F,B-F,m),f||(i.r=m&7|d[m/8|0]<<3,m-=7,i.h=j,i.p=N,i.i=B,i.w=U)}else{for(var B=i.w||0;B<c+f;B+=65535){var Ie=B+65535;Ie>=c&&(d[m/8|0]=f,Ie=c),m=jD(d,m+1,e.subarray(B,Ie))}i.i=c}return Qce(u,0,n+ND(m)+s)},AD=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,i=r.length|0,c=0;c!=i;){for(var u=Math.min(c+2655,i);c<u;++c)s+=n+=r[c];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}e=n,t=s},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},eue=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),c=new Jo(i.length+e.length);c.set(i),c.set(e,i.length),e=c,s.w=i.length}return Jce(e,t.level==null?6:t.level,t.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,s)},_D=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},tue=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=AD();s.p(t.dictionary),_D(e,2,s.d())}};function J5(e,t){t||(t={});var r=AD();r.p(e);var n=eue(e,t,t.dictionary?6:2,4);return tue(n,t),_D(n,n.length-4,r.d()),n}var rue=typeof TextDecoder<"u"&&new TextDecoder,nue=0;try{rue.decode(SD,{stream:!0}),nue=1}catch{}function aue(e){if(Array.isArray(e))return e}function sue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,c,u=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);d=!0);}catch(m){f=!0,s=m}finally{try{if(!d&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(f)throw s}}return u}}function Mk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function iue(e,t){if(e){if(typeof e=="string")return Mk(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mk(e,t):void 0}}function oue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bk(e,t){return aue(e)||sue(e,t)||iue(e,t)||oue()}function zk(e,t="utf8"){return new TextDecoder(t).decode(e)}const lue=new TextEncoder;function cue(e){return lue.encode(e)}const uue=1024*8,due=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),mw={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class xS{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=uue,r={}){let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const s=r.offset?r.offset>>>0:0,i=t.byteLength-s;let c=s;(ArrayBuffer.isView(t)||t instanceof xS)&&(t.byteLength!==t.buffer.byteLength&&(c=t.byteOffset+s),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=mw[r].BYTES_PER_ELEMENT*t,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===due&&r!=="uint8"&&r!=="int8"){const u=new Uint8Array(this.buffer.slice(s,s+n));u.reverse();const d=new mw[r](u.buffer);return this.offset+=n,d.reverse(),d}const c=new mw[r](i);return this.offset+=n,c}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return zk(this.readBytes(t))}decodeText(t=1,r="utf8"){return zk(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(cue(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function hm(e){let t=e.length;for(;--t>=0;)e[t]=0}const fue=3,hue=258,CD=29,mue=256,pue=mue+1+CD,ED=30,xue=512,gue=new Array((pue+2)*2);hm(gue);const bue=new Array(ED*2);hm(bue);const yue=new Array(xue);hm(yue);const vue=new Array(hue-fue+1);hm(vue);const wue=new Array(CD);hm(wue);const Nue=new Array(ED);hm(Nue);const jue=(e,t,r,n)=>{let s=e&65535|0,i=e>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do s=s+t[n++]|0,i=i+s|0;while(--c);s%=65521,i%=65521}return s|i<<16|0};var eN=jue;const Sue=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Aue=new Uint32Array(Sue()),_ue=(e,t,r,n)=>{const s=Aue,i=n+r;e^=-1;for(let c=n;c<i;c++)e=e>>>8^s[(e^t[c])&255];return e^-1};var Ol=_ue,tN={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},kD={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Cue=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Eue=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Cue(r,n)&&(e[n]=r[n])}}return e},kue=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,i=e.length;n<i;n++){let c=e[n];r.set(c,s),s+=c.length}return r},OD={assign:Eue,flattenChunks:kue};let PD=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{PD=!1}const K0=new Uint8Array(256);for(let e=0;e<256;e++)K0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;K0[254]=K0[254]=1;var Oue=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,s,i,c=e.length,u=0;for(s=0;s<c;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<c&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(u),i=0,s=0;i<u;s++)r=e.charCodeAt(s),(r&64512)===55296&&s+1<c&&(n=e.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const Pue=(e,t)=>{if(t<65534&&e.subarray&&PD)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Lue=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let c=e[n++];if(c<128){i[s++]=c;continue}let u=K0[c];if(u>4){i[s++]=65533,n+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&n<r;)c=c<<6|e[n++]&63,u--;if(u>1){i[s++]=65533;continue}c<65536?i[s++]=c:(c-=65536,i[s++]=55296|c>>10&1023,i[s++]=56320|c&1023)}return Pue(i,s)},Tue=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+K0[e[r]]>t?r:t},rN={string2buf:Oue,buf2string:Lue,utf8border:Tue};function Rue(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Due=Rue;const Fx=16209,Iue=16191;var Mue=function(t,r){let n,s,i,c,u,d,f,m,p,g,b,y,N,j,S,_,E,k,T,D,M,R,B,K;const U=t.state;n=t.next_in,B=t.input,s=n+(t.avail_in-5),i=t.next_out,K=t.output,c=i-(r-t.avail_out),u=i+(t.avail_out-257),d=U.dmax,f=U.wsize,m=U.whave,p=U.wnext,g=U.window,b=U.hold,y=U.bits,N=U.lencode,j=U.distcode,S=(1<<U.lenbits)-1,_=(1<<U.distbits)-1;e:do{y<15&&(b+=B[n++]<<y,y+=8,b+=B[n++]<<y,y+=8),E=N[b&S];t:for(;;){if(k=E>>>24,b>>>=k,y-=k,k=E>>>16&255,k===0)K[i++]=E&65535;else if(k&16){T=E&65535,k&=15,k&&(y<k&&(b+=B[n++]<<y,y+=8),T+=b&(1<<k)-1,b>>>=k,y-=k),y<15&&(b+=B[n++]<<y,y+=8,b+=B[n++]<<y,y+=8),E=j[b&_];r:for(;;){if(k=E>>>24,b>>>=k,y-=k,k=E>>>16&255,k&16){if(D=E&65535,k&=15,y<k&&(b+=B[n++]<<y,y+=8,y<k&&(b+=B[n++]<<y,y+=8)),D+=b&(1<<k)-1,D>d){t.msg="invalid distance too far back",U.mode=Fx;break e}if(b>>>=k,y-=k,k=i-c,D>k){if(k=D-k,k>m&&U.sane){t.msg="invalid distance too far back",U.mode=Fx;break e}if(M=0,R=g,p===0){if(M+=f-k,k<T){T-=k;do K[i++]=g[M++];while(--k);M=i-D,R=K}}else if(p<k){if(M+=f+p-k,k-=p,k<T){T-=k;do K[i++]=g[M++];while(--k);if(M=0,p<T){k=p,T-=k;do K[i++]=g[M++];while(--k);M=i-D,R=K}}}else if(M+=p-k,k<T){T-=k;do K[i++]=g[M++];while(--k);M=i-D,R=K}for(;T>2;)K[i++]=R[M++],K[i++]=R[M++],K[i++]=R[M++],T-=3;T&&(K[i++]=R[M++],T>1&&(K[i++]=R[M++]))}else{M=i-D;do K[i++]=K[M++],K[i++]=K[M++],K[i++]=K[M++],T-=3;while(T>2);T&&(K[i++]=K[M++],T>1&&(K[i++]=K[M++]))}}else if((k&64)===0){E=j[(E&65535)+(b&(1<<k)-1)];continue r}else{t.msg="invalid distance code",U.mode=Fx;break e}break}}else if((k&64)===0){E=N[(E&65535)+(b&(1<<k)-1)];continue t}else if(k&32){U.mode=Iue;break e}else{t.msg="invalid literal/length code",U.mode=Fx;break e}break}}while(n<s&&i<u);T=y>>3,n-=T,y-=T<<3,b&=(1<<y)-1,t.next_in=n,t.next_out=i,t.avail_in=n<s?5+(s-n):5-(n-s),t.avail_out=i<u?257+(u-i):257-(i-u),U.hold=b,U.bits=y};const vh=15,Fk=852,Uk=592,qk=0,pw=1,$k=2,Bue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),zue=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Fue=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Uue=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),que=(e,t,r,n,s,i,c,u)=>{const d=u.bits;let f=0,m=0,p=0,g=0,b=0,y=0,N=0,j=0,S=0,_=0,E,k,T,D,M,R=null,B;const K=new Uint16Array(vh+1),U=new Uint16Array(vh+1);let F=null,X,Q,pe;for(f=0;f<=vh;f++)K[f]=0;for(m=0;m<n;m++)K[t[r+m]]++;for(b=d,g=vh;g>=1&&K[g]===0;g--);if(b>g&&(b=g),g===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,u.bits=1,0;for(p=1;p<g&&K[p]===0;p++);for(b<p&&(b=p),j=1,f=1;f<=vh;f++)if(j<<=1,j-=K[f],j<0)return-1;if(j>0&&(e===qk||g!==1))return-1;for(U[1]=0,f=1;f<vh;f++)U[f+1]=U[f]+K[f];for(m=0;m<n;m++)t[r+m]!==0&&(c[U[t[r+m]]++]=m);if(e===qk?(R=F=c,B=20):e===pw?(R=Bue,F=zue,B=257):(R=Fue,F=Uue,B=0),_=0,m=0,f=p,M=i,y=b,N=0,T=-1,S=1<<b,D=S-1,e===pw&&S>Fk||e===$k&&S>Uk)return 1;for(;;){X=f-N,c[m]+1<B?(Q=0,pe=c[m]):c[m]>=B?(Q=F[c[m]-B],pe=R[c[m]-B]):(Q=96,pe=0),E=1<<f-N,k=1<<y,p=k;do k-=E,s[M+(_>>N)+k]=X<<24|Q<<16|pe|0;while(k!==0);for(E=1<<f-1;_&E;)E>>=1;if(E!==0?(_&=E-1,_+=E):_=0,m++,--K[f]===0){if(f===g)break;f=t[r+c[m]]}if(f>b&&(_&D)!==T){for(N===0&&(N=b),M+=p,y=f-N,j=1<<y;y+N<g&&(j-=K[y+N],!(j<=0));)y++,j<<=1;if(S+=1<<y,e===pw&&S>Fk||e===$k&&S>Uk)return 1;T=_&D,s[T]=b<<24|y<<16|M-i|0}}return _!==0&&(s[M+_]=f-N<<24|64<<16|0),u.bits=b,0};var j0=que;const $ue=0,LD=1,TD=2,{Z_FINISH:Hk,Z_BLOCK:Hue,Z_TREES:Ux,Z_OK:pf,Z_STREAM_END:Gue,Z_NEED_DICT:Kue,Z_STREAM_ERROR:xo,Z_DATA_ERROR:RD,Z_MEM_ERROR:DD,Z_BUF_ERROR:Vue,Z_DEFLATED:Gk}=kD,rv=16180,Kk=16181,Vk=16182,Wk=16183,Yk=16184,Xk=16185,Qk=16186,Zk=16187,Jk=16188,eO=16189,Ub=16190,Sc=16191,xw=16192,tO=16193,gw=16194,rO=16195,nO=16196,aO=16197,sO=16198,qx=16199,$x=16200,iO=16201,oO=16202,lO=16203,cO=16204,uO=16205,bw=16206,dO=16207,fO=16208,Nn=16209,ID=16210,MD=16211,Wue=852,Yue=592,Xue=15,Que=Xue,hO=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function Zue(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Nf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<rv||t.mode>MD?1:0},BD=e=>{if(Nf(e))return xo;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=rv,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Wue),t.distcode=t.distdyn=new Int32Array(Yue),t.sane=1,t.back=-1,pf},zD=e=>{if(Nf(e))return xo;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,BD(e)},FD=(e,t)=>{let r;if(Nf(e))return xo;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?xo:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,zD(e))},UD=(e,t)=>{if(!e)return xo;const r=new Zue;e.state=r,r.strm=e,r.window=null,r.mode=rv;const n=FD(e,t);return n!==pf&&(e.state=null),n},Jue=e=>UD(e,Que);let mO=!0,yw,vw;const ede=e=>{if(mO){yw=new Int32Array(512),vw=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(j0(LD,e.lens,0,288,yw,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;j0(TD,e.lens,0,32,vw,0,e.work,{bits:5}),mO=!1}e.lencode=yw,e.lenbits=9,e.distcode=vw,e.distbits=5},qD=(e,t,r,n)=>{let s;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(t.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},tde=(e,t)=>{let r,n,s,i,c,u,d,f,m,p,g,b,y,N,j=0,S,_,E,k,T,D,M,R;const B=new Uint8Array(4);let K,U;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Nf(e)||!e.output||!e.input&&e.avail_in!==0)return xo;r=e.state,r.mode===Sc&&(r.mode=xw),c=e.next_out,s=e.output,d=e.avail_out,i=e.next_in,n=e.input,u=e.avail_in,f=r.hold,m=r.bits,p=u,g=d,R=pf;e:for(;;)switch(r.mode){case rv:if(r.wrap===0){r.mode=xw;break}for(;m<16;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,B[0]=f&255,B[1]=f>>>8&255,r.check=Ol(r.check,B,2,0),f=0,m=0,r.mode=Kk;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=Nn;break}if((f&15)!==Gk){e.msg="unknown compression method",r.mode=Nn;break}if(f>>>=4,m-=4,M=(f&15)+8,r.wbits===0&&(r.wbits=M),M>15||M>r.wbits){e.msg="invalid window size",r.mode=Nn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?eO:Sc,f=0,m=0;break;case Kk:for(;m<16;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}if(r.flags=f,(r.flags&255)!==Gk){e.msg="unknown compression method",r.mode=Nn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Nn;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=Ol(r.check,B,2,0)),f=0,m=0,r.mode=Vk;case Vk:for(;m<32;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,B[2]=f>>>16&255,B[3]=f>>>24&255,r.check=Ol(r.check,B,4,0)),f=0,m=0,r.mode=Wk;case Wk:for(;m<16;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=Ol(r.check,B,2,0)),f=0,m=0,r.mode=Yk;case Yk:if(r.flags&1024){for(;m<16;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,r.check=Ol(r.check,B,2,0)),f=0,m=0}else r.head&&(r.head.extra=null);r.mode=Xk;case Xk:if(r.flags&1024&&(b=r.length,b>u&&(b=u),b&&(r.head&&(M=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+b),M)),r.flags&512&&r.wrap&4&&(r.check=Ol(r.check,n,b,i)),u-=b,i+=b,r.length-=b),r.length))break e;r.length=0,r.mode=Qk;case Qk:if(r.flags&2048){if(u===0)break e;b=0;do M=n[i+b++],r.head&&M&&r.length<65536&&(r.head.name+=String.fromCharCode(M));while(M&&b<u);if(r.flags&512&&r.wrap&4&&(r.check=Ol(r.check,n,b,i)),u-=b,i+=b,M)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Zk;case Zk:if(r.flags&4096){if(u===0)break e;b=0;do M=n[i+b++],r.head&&M&&r.length<65536&&(r.head.comment+=String.fromCharCode(M));while(M&&b<u);if(r.flags&512&&r.wrap&4&&(r.check=Ol(r.check,n,b,i)),u-=b,i+=b,M)break e}else r.head&&(r.head.comment=null);r.mode=Jk;case Jk:if(r.flags&512){for(;m<16;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Nn;break}f=0,m=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Sc;break;case eO:for(;m<32;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}e.adler=r.check=hO(f),f=0,m=0,r.mode=Ub;case Ub:if(r.havedict===0)return e.next_out=c,e.avail_out=d,e.next_in=i,e.avail_in=u,r.hold=f,r.bits=m,Kue;e.adler=r.check=1,r.mode=Sc;case Sc:if(t===Hue||t===Ux)break e;case xw:if(r.last){f>>>=m&7,m-=m&7,r.mode=bw;break}for(;m<3;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}switch(r.last=f&1,f>>>=1,m-=1,f&3){case 0:r.mode=tO;break;case 1:if(ede(r),r.mode=qx,t===Ux){f>>>=2,m-=2;break e}break;case 2:r.mode=nO;break;case 3:e.msg="invalid block type",r.mode=Nn}f>>>=2,m-=2;break;case tO:for(f>>>=m&7,m-=m&7;m<32;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Nn;break}if(r.length=f&65535,f=0,m=0,r.mode=gw,t===Ux)break e;case gw:r.mode=rO;case rO:if(b=r.length,b){if(b>u&&(b=u),b>d&&(b=d),b===0)break e;s.set(n.subarray(i,i+b),c),u-=b,i+=b,d-=b,c+=b,r.length-=b;break}r.mode=Sc;break;case nO:for(;m<14;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}if(r.nlen=(f&31)+257,f>>>=5,m-=5,r.ndist=(f&31)+1,f>>>=5,m-=5,r.ncode=(f&15)+4,f>>>=4,m-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Nn;break}r.have=0,r.mode=aO;case aO:for(;r.have<r.ncode;){for(;m<3;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}r.lens[F[r.have++]]=f&7,f>>>=3,m-=3}for(;r.have<19;)r.lens[F[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,K={bits:r.lenbits},R=j0($ue,r.lens,0,19,r.lencode,0,r.work,K),r.lenbits=K.bits,R){e.msg="invalid code lengths set",r.mode=Nn;break}r.have=0,r.mode=sO;case sO:for(;r.have<r.nlen+r.ndist;){for(;j=r.lencode[f&(1<<r.lenbits)-1],S=j>>>24,_=j>>>16&255,E=j&65535,!(S<=m);){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}if(E<16)f>>>=S,m-=S,r.lens[r.have++]=E;else{if(E===16){for(U=S+2;m<U;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}if(f>>>=S,m-=S,r.have===0){e.msg="invalid bit length repeat",r.mode=Nn;break}M=r.lens[r.have-1],b=3+(f&3),f>>>=2,m-=2}else if(E===17){for(U=S+3;m<U;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}f>>>=S,m-=S,M=0,b=3+(f&7),f>>>=3,m-=3}else{for(U=S+7;m<U;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}f>>>=S,m-=S,M=0,b=11+(f&127),f>>>=7,m-=7}if(r.have+b>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Nn;break}for(;b--;)r.lens[r.have++]=M}}if(r.mode===Nn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Nn;break}if(r.lenbits=9,K={bits:r.lenbits},R=j0(LD,r.lens,0,r.nlen,r.lencode,0,r.work,K),r.lenbits=K.bits,R){e.msg="invalid literal/lengths set",r.mode=Nn;break}if(r.distbits=6,r.distcode=r.distdyn,K={bits:r.distbits},R=j0(TD,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,K),r.distbits=K.bits,R){e.msg="invalid distances set",r.mode=Nn;break}if(r.mode=qx,t===Ux)break e;case qx:r.mode=$x;case $x:if(u>=6&&d>=258){e.next_out=c,e.avail_out=d,e.next_in=i,e.avail_in=u,r.hold=f,r.bits=m,Mue(e,g),c=e.next_out,s=e.output,d=e.avail_out,i=e.next_in,n=e.input,u=e.avail_in,f=r.hold,m=r.bits,r.mode===Sc&&(r.back=-1);break}for(r.back=0;j=r.lencode[f&(1<<r.lenbits)-1],S=j>>>24,_=j>>>16&255,E=j&65535,!(S<=m);){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}if(_&&(_&240)===0){for(k=S,T=_,D=E;j=r.lencode[D+((f&(1<<k+T)-1)>>k)],S=j>>>24,_=j>>>16&255,E=j&65535,!(k+S<=m);){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}f>>>=k,m-=k,r.back+=k}if(f>>>=S,m-=S,r.back+=S,r.length=E,_===0){r.mode=uO;break}if(_&32){r.back=-1,r.mode=Sc;break}if(_&64){e.msg="invalid literal/length code",r.mode=Nn;break}r.extra=_&15,r.mode=iO;case iO:if(r.extra){for(U=r.extra;m<U;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,m-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=oO;case oO:for(;j=r.distcode[f&(1<<r.distbits)-1],S=j>>>24,_=j>>>16&255,E=j&65535,!(S<=m);){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}if((_&240)===0){for(k=S,T=_,D=E;j=r.distcode[D+((f&(1<<k+T)-1)>>k)],S=j>>>24,_=j>>>16&255,E=j&65535,!(k+S<=m);){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}f>>>=k,m-=k,r.back+=k}if(f>>>=S,m-=S,r.back+=S,_&64){e.msg="invalid distance code",r.mode=Nn;break}r.offset=E,r.extra=_&15,r.mode=lO;case lO:if(r.extra){for(U=r.extra;m<U;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,m-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Nn;break}r.mode=cO;case cO:if(d===0)break e;if(b=g-d,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Nn;break}b>r.wnext?(b-=r.wnext,y=r.wsize-b):y=r.wnext-b,b>r.length&&(b=r.length),N=r.window}else N=s,y=c-r.offset,b=r.length;b>d&&(b=d),d-=b,r.length-=b;do s[c++]=N[y++];while(--b);r.length===0&&(r.mode=$x);break;case uO:if(d===0)break e;s[c++]=r.length,d--,r.mode=$x;break;case bw:if(r.wrap){for(;m<32;){if(u===0)break e;u--,f|=n[i++]<<m,m+=8}if(g-=d,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?Ol(r.check,s,g,c-g):eN(r.check,s,g,c-g)),g=d,r.wrap&4&&(r.flags?f:hO(f))!==r.check){e.msg="incorrect data check",r.mode=Nn;break}f=0,m=0}r.mode=dO;case dO:if(r.wrap&&r.flags){for(;m<32;){if(u===0)break e;u--,f+=n[i++]<<m,m+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Nn;break}f=0,m=0}r.mode=fO;case fO:R=Gue;break e;case Nn:R=RD;break e;case ID:return DD;case MD:default:return xo}return e.next_out=c,e.avail_out=d,e.next_in=i,e.avail_in=u,r.hold=f,r.bits=m,(r.wsize||g!==e.avail_out&&r.mode<Nn&&(r.mode<bw||t!==Hk))&&qD(e,e.output,e.next_out,g-e.avail_out),p-=e.avail_in,g-=e.avail_out,e.total_in+=p,e.total_out+=g,r.total+=g,r.wrap&4&&g&&(e.adler=r.check=r.flags?Ol(r.check,s,g,e.next_out-g):eN(r.check,s,g,e.next_out-g)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Sc?128:0)+(r.mode===qx||r.mode===gw?256:0),(p===0&&g===0||t===Hk)&&R===pf&&(R=Vue),R},rde=e=>{if(Nf(e))return xo;let t=e.state;return t.window&&(t.window=null),e.state=null,pf},nde=(e,t)=>{if(Nf(e))return xo;const r=e.state;return(r.wrap&2)===0?xo:(r.head=t,t.done=!1,pf)},ade=(e,t)=>{const r=t.length;let n,s,i;return Nf(e)||(n=e.state,n.wrap!==0&&n.mode!==Ub)?xo:n.mode===Ub&&(s=1,s=eN(s,t,r,0),s!==n.check)?RD:(i=qD(e,t,r,r),i?(n.mode=ID,DD):(n.havedict=1,pf))};var sde=zD,ide=FD,ode=BD,lde=Jue,cde=UD,ude=tde,dde=rde,fde=nde,hde=ade,mde="pako inflate (from Nodeca project)",_c={inflateReset:sde,inflateReset2:ide,inflateResetKeep:ode,inflateInit:lde,inflateInit2:cde,inflate:ude,inflateEnd:dde,inflateGetHeader:fde,inflateSetDictionary:hde,inflateInfo:mde};function pde(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var xde=pde;const $D=Object.prototype.toString,{Z_NO_FLUSH:gde,Z_FINISH:bde,Z_OK:V0,Z_STREAM_END:ww,Z_NEED_DICT:Nw,Z_STREAM_ERROR:yde,Z_DATA_ERROR:pO,Z_MEM_ERROR:vde}=kD;function Ap(e){this.options=OD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Due,this.strm.avail_out=0;let r=_c.inflateInit2(this.strm,t.windowBits);if(r!==V0)throw new Error(tN[r]);if(this.header=new xde,_c.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=rN.string2buf(t.dictionary):$D.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=_c.inflateSetDictionary(this.strm,t.dictionary),r!==V0)))throw new Error(tN[r])}Ap.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,c,u;if(this.ended)return!1;for(t===~~t?c=t:c=t===!0?bde:gde,$D.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=_c.inflate(r,c),i===Nw&&s&&(i=_c.inflateSetDictionary(r,s),i===V0?i=_c.inflate(r,c):i===pO&&(i=Nw));r.avail_in>0&&i===ww&&r.state.wrap>0&&e[r.next_in]!==0;)_c.inflateReset(r),i=_c.inflate(r,c);switch(i){case yde:case pO:case Nw:case vde:return this.onEnd(i),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||i===ww))if(this.options.to==="string"){let d=rN.utf8border(r.output,r.next_out),f=r.next_out-d,m=rN.buf2string(r.output,d);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(d,d+f),0),this.onData(m)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===V0&&u===0)){if(i===ww)return i=_c.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Ap.prototype.onData=function(e){this.chunks.push(e)};Ap.prototype.onEnd=function(e){e===V0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=OD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function wde(e,t){const r=new Ap(t);if(r.push(e),r.err)throw r.msg||tN[r.err];return r.result}var Nde=Ap,jde=wde,Sde={Inflate:Nde,inflate:jde};const{Inflate:Ade,inflate:_de}=Sde;var xO=Ade,Cde=_de;const HD=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;HD[e]=t}const gO=4294967295;function Ede(e,t,r){let n=e;for(let s=0;s<r;s++)n=HD[(n^t[s])&255]^n>>>8;return n}function kde(e,t){return(Ede(gO,e,t)^gO)>>>0}function bO(e,t,r){const n=e.readUint32(),s=kde(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function GD(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function KD(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function VD(e,t,r,n){let s=0;if(r.length===0)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function WD(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-s]>>1)&255}else{for(;i<s;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-s]+r[i]>>1)&255}}function YD(e,t,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-s]&255}else{for(;i<s;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+Ode(t[i-s],r[i],r[i-s])&255}}function Ode(e,t,r){const n=e+t-r,s=Math.abs(n-e),i=Math.abs(n-t),c=Math.abs(n-r);return s<=i&&s<=c?e:i<=c?t:r}function Pde(e,t,r,n,s,i){switch(e){case 0:GD(t,r,s);break;case 1:KD(t,r,s,i);break;case 2:VD(t,r,n,s);break;case 3:WD(t,r,n,s,i);break;case 4:YD(t,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const Lde=new Uint16Array([255]),Tde=new Uint8Array(Lde.buffer),Rde=Tde[0]===255;function Dde(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(i/8)*s,d=new Uint8Array(n*r*u);let f=0;for(let m=0;m<7;m++){const p=c[m],g=Math.ceil((r-p.x)/p.xStep),b=Math.ceil((n-p.y)/p.yStep);if(g<=0||b<=0)continue;const y=g*u,N=new Uint8Array(y);for(let j=0;j<b;j++){const S=t[f++],_=t.subarray(f,f+y);f+=y;const E=new Uint8Array(y);Pde(S,_,E,N,y,u),N.set(E);for(let k=0;k<g;k++){const T=p.x+k*p.xStep,D=p.y+j*p.yStep;if(!(T>=r||D>=n))for(let M=0;M<u;M++)d[(D*r+T)*u+M]=E[k*u+M]}}}if(i===16){const m=new Uint16Array(d.buffer);if(Rde)for(let p=0;p<m.length;p++)m[p]=Ide(m[p]);return m}else return d}function Ide(e){return(e&255)<<8|e>>8&255}const Mde=new Uint16Array([255]),Bde=new Uint8Array(Mde.buffer),zde=Bde[0]===255,Fde=new Uint8Array(0);function yO(e){const{data:t,width:r,height:n,channels:s,depth:i}=e,c=Math.ceil(i/8)*s,u=Math.ceil(i/8*s*r),d=new Uint8Array(n*u);let f=Fde,m=0,p,g;for(let b=0;b<n;b++){switch(p=t.subarray(m+1,m+1+u),g=d.subarray(b*u,(b+1)*u),t[m]){case 0:GD(p,g,u);break;case 1:KD(p,g,u,c);break;case 2:VD(p,g,f,u);break;case 3:WD(p,g,f,u,c);break;case 4:YD(p,g,f,u,c);break;default:throw new Error(`Unsupported filter: ${t[m]}`)}f=g,m+=u+1}if(i===16){const b=new Uint16Array(d.buffer);if(zde)for(let y=0;y<b.length;y++)b[y]=Ude(b[y]);return b}else return d}function Ude(e){return(e&255)<<8|e>>8&255}const gg=Uint8Array.of(137,80,78,71,13,10,26,10);function vO(e){if(!qde(e.readBytes(gg.length)))throw new Error("wrong PNG signature")}function qde(e){if(e.length<gg.length)return!1;for(let t=0;t<gg.length;t++)if(e[t]!==gg[t])return!1;return!0}const $de="tEXt",Hde=0,XD=new TextDecoder("latin1");function Gde(e){if(Vde(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Kde=/^[\u0000-\u00FF]*$/;function Vde(e){if(!Kde.test(e))throw new Error("invalid latin1 text")}function Wde(e,t,r){const n=QD(t);e[n]=Yde(t,r-n.length-1)}function QD(e){for(e.mark();e.readByte()!==Hde;);const t=e.offset;e.reset();const r=XD.decode(e.readBytes(t-e.offset-1));return e.skip(1),Gde(r),r}function Yde(e,t){return XD.decode(e.readBytes(t))}const Ni={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},jw={UNKNOWN:-1,DEFLATE:0},wO={UNKNOWN:-1,ADAPTIVE:0},Sw={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Hx={NONE:0,BACKGROUND:1,PREVIOUS:2},Aw={SOURCE:0,OVER:1};class Xde extends xS{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,r={}){super(t);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new xO,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=jw.UNKNOWN,this._filterMethod=wO.UNKNOWN,this._interlaceMethod=Sw.UNKNOWN,this._colorType=Ni.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(vO(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(vO(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case $de:Wde(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?bO(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=n+t;break}if(this.offset-n!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?bO(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=Qde(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Ni.GREYSCALE:n=1;break;case Ni.TRUECOLOUR:n=3;break;case Ni.INDEXED_COLOUR:n=1;break;case Ni.GREYSCALE_ALPHA:n=2;break;case Ni.TRUECOLOUR_ALPHA:n=4;break;case Ni.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==jw.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const n=[];this._palette=n;for(let s=0;s<r;s++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Ni.GREYSCALE:case Ni.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Ni.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Ni.UNKNOWN:case Ni.GREYSCALE_ALPHA:case Ni.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=QD(this),n=this.readUint8();if(n!==jw.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const s=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Cde(s)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:t,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(t);if(n){if(n.data=yO({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(n,s,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,n){switch(t.disposeOp){case Hx.NONE:break;case Hx.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let i=0;i<this._png.width;i++){const c=(s*t.width+i)*this._png.channels;for(let u=0;u<this._png.channels;u++)n.data[c+u]=0}break;case Hx.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const n=1<<this._png.depth,s=(i,c)=>{const u=((i+r.yOffset)*this._png.width+r.xOffset+c)*this._png.channels,d=(i*r.width+c)*this._png.channels;return{index:u,frameIndex:d}};switch(r.blendOp){case Aw.SOURCE:for(let i=0;i<r.height;i++)for(let c=0;c<r.width;c++){const{index:u,frameIndex:d}=s(i,c);for(let f=0;f<this._png.channels;f++)t.data[u+f]=r.data[d+f]}break;case Aw.OVER:for(let i=0;i<r.height;i++)for(let c=0;c<r.width;c++){const{index:u,frameIndex:d}=s(i,c);for(let f=0;f<this._png.channels;f++){const m=r.data[d+this._png.channels-1]/n,p=f%(this._png.channels-1)===0?1:r.data[d+f],g=Math.floor(m*p+(1-m)*t.data[u+f]);t.data[u+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==wO.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Sw.NO_INTERLACE)this._png.data=yO({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Sw.ADAM7)this._png.data=Dde({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Hx.NONE,blendOp:Aw.SOURCE,data:t}),this._inflator=new xO,this._writingDataChunks=!1}}function Qde(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var NO;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(NO||(NO={}));function Zde(e,t){return new Xde(e,t).decode()}var Yt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function _w(){Yt.console&&typeof Yt.console.log=="function"&&Yt.console.log.apply(Yt.console,arguments)}var nn={log:_w,warn:function(e){Yt.console&&(typeof Yt.console.warn=="function"?Yt.console.warn.apply(Yt.console,arguments):_w.call(null,arguments))},error:function(e){Yt.console&&(typeof Yt.console.error=="function"?Yt.console.error.apply(Yt.console,arguments):_w(e))}};function Cw(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Bd(n.response,t,r)},n.onerror=function(){nn.error("could not download file")},n.send()}function jO(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Gx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Bd=Yt.saveAs||((typeof window>"u"?"undefined":zr(window))!=="object"||window!==Yt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Yt.URL||Yt.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener",typeof e=="string"?(s.href=e,s.origin!==location.origin?jO(s.href)?Cw(e,t,r):Gx(s,s.target="_blank"):Gx(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Gx(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(jO(e))Cw(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Gx(n)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:zr(i)!=="object"&&(nn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Cw(e,t,r);var s=e.type==="application/octet-stream",i=/constructor/i.test(Yt.HTMLElement)||Yt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&i)&&(typeof FileReader>"u"?"undefined":zr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var m=u.result;m=c?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=m:location=m,n=null},u.readAsDataURL(e)}else{var d=Yt.URL||Yt.webkitURL,f=d.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});function ZD(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,c=s.exec(e);c&&(t=i(c),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+u+d+f}}var bg=Yt.atob.bind(Yt),SO=Yt.btoa.bind(Yt);function Ew(e,t){var r=e[0],n=e[1],s=e[2],i=e[3];r=ds(r,n,s,i,t[0],7,-680876936),i=ds(i,r,n,s,t[1],12,-389564586),s=ds(s,i,r,n,t[2],17,606105819),n=ds(n,s,i,r,t[3],22,-1044525330),r=ds(r,n,s,i,t[4],7,-176418897),i=ds(i,r,n,s,t[5],12,1200080426),s=ds(s,i,r,n,t[6],17,-1473231341),n=ds(n,s,i,r,t[7],22,-45705983),r=ds(r,n,s,i,t[8],7,1770035416),i=ds(i,r,n,s,t[9],12,-1958414417),s=ds(s,i,r,n,t[10],17,-42063),n=ds(n,s,i,r,t[11],22,-1990404162),r=ds(r,n,s,i,t[12],7,1804603682),i=ds(i,r,n,s,t[13],12,-40341101),s=ds(s,i,r,n,t[14],17,-1502002290),r=fs(r,n=ds(n,s,i,r,t[15],22,1236535329),s,i,t[1],5,-165796510),i=fs(i,r,n,s,t[6],9,-1069501632),s=fs(s,i,r,n,t[11],14,643717713),n=fs(n,s,i,r,t[0],20,-373897302),r=fs(r,n,s,i,t[5],5,-701558691),i=fs(i,r,n,s,t[10],9,38016083),s=fs(s,i,r,n,t[15],14,-660478335),n=fs(n,s,i,r,t[4],20,-405537848),r=fs(r,n,s,i,t[9],5,568446438),i=fs(i,r,n,s,t[14],9,-1019803690),s=fs(s,i,r,n,t[3],14,-187363961),n=fs(n,s,i,r,t[8],20,1163531501),r=fs(r,n,s,i,t[13],5,-1444681467),i=fs(i,r,n,s,t[2],9,-51403784),s=fs(s,i,r,n,t[7],14,1735328473),r=hs(r,n=fs(n,s,i,r,t[12],20,-1926607734),s,i,t[5],4,-378558),i=hs(i,r,n,s,t[8],11,-2022574463),s=hs(s,i,r,n,t[11],16,1839030562),n=hs(n,s,i,r,t[14],23,-35309556),r=hs(r,n,s,i,t[1],4,-1530992060),i=hs(i,r,n,s,t[4],11,1272893353),s=hs(s,i,r,n,t[7],16,-155497632),n=hs(n,s,i,r,t[10],23,-1094730640),r=hs(r,n,s,i,t[13],4,681279174),i=hs(i,r,n,s,t[0],11,-358537222),s=hs(s,i,r,n,t[3],16,-722521979),n=hs(n,s,i,r,t[6],23,76029189),r=hs(r,n,s,i,t[9],4,-640364487),i=hs(i,r,n,s,t[12],11,-421815835),s=hs(s,i,r,n,t[15],16,530742520),r=ms(r,n=hs(n,s,i,r,t[2],23,-995338651),s,i,t[0],6,-198630844),i=ms(i,r,n,s,t[7],10,1126891415),s=ms(s,i,r,n,t[14],15,-1416354905),n=ms(n,s,i,r,t[5],21,-57434055),r=ms(r,n,s,i,t[12],6,1700485571),i=ms(i,r,n,s,t[3],10,-1894986606),s=ms(s,i,r,n,t[10],15,-1051523),n=ms(n,s,i,r,t[1],21,-2054922799),r=ms(r,n,s,i,t[8],6,1873313359),i=ms(i,r,n,s,t[15],10,-30611744),s=ms(s,i,r,n,t[6],15,-1560198380),n=ms(n,s,i,r,t[13],21,1309151649),r=ms(r,n,s,i,t[4],6,-145523070),i=ms(i,r,n,s,t[11],10,-1120210379),s=ms(s,i,r,n,t[2],15,718787259),n=ms(n,s,i,r,t[9],21,-343485551),e[0]=Hu(r,e[0]),e[1]=Hu(n,e[1]),e[2]=Hu(s,e[2]),e[3]=Hu(i,e[3])}function nv(e,t,r,n,s,i){return t=Hu(Hu(t,e),Hu(n,i)),Hu(t<<s|t>>>32-s,r)}function ds(e,t,r,n,s,i,c){return nv(t&r|~t&n,e,t,s,i,c)}function fs(e,t,r,n,s,i,c){return nv(t&n|r&~n,e,t,s,i,c)}function hs(e,t,r,n,s,i,c){return nv(t^r^n,e,t,s,i,c)}function ms(e,t,r,n,s,i,c){return nv(r^(t|~n),e,t,s,i,c)}function JD(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ew(n,Jde(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(Ew(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,Ew(n,s),n}function Jde(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var AO="0123456789abcdef".split("");function efe(e){for(var t="",r=0;r<4;r++)t+=AO[e>>8*r+4&15]+AO[e>>8*r&15];return t}function tfe(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function nN(e){return JD(e).map(tfe).join("")}var rfe=(function(e){for(var t=0;t<e.length;t++)e[t]=efe(e[t]);return e.join("")})(JD("hello"))!="5d41402abc4b2a76b9719d911017c592";function Hu(e,t){if(rfe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function aN(e,t){var r,n,s,i;if(e!==r){for(var c=(s=e,i=1+(256/e.length|0),new Array(i+1).join(s)),u=[],d=0;d<256;d++)u[d]=d;var f=0;for(d=0;d<256;d++){var m=u[d];f=(f+m+c.charCodeAt(d))%256,u[d]=u[f],u[f]=m}r=e,n=u}else u=n;var p=t.length,g=0,b=0,y="";for(d=0;d<p;d++)b=(b+(m=u[g=(g+1)%256]))%256,u[g]=u[b],u[b]=m,c=u[(u[g]+u[b])%256],y+=String.fromCharCode(t.charCodeAt(d)^c);return y}var _O={print:4,modify:8,copy:16,"annot-forms":32};function _h(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(u){if(_O.perm!==void 0)throw new Error("Invalid permission: "+u);s+=_O[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,c),this.P=-(1+(255^s)),this.encryptionKey=nN(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=aN(this.encryptionKey,this.padding)}function Ch(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function CO(e){if(zr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in t[r]){var c=t[r][i];try{c[0].apply(e,n)}catch(u){Yt.console&&nn.error("jsPDF PubSub Error",u.message,u)}c[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function qb(e){if(!(this instanceof qb))return new qb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function eI(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function zd(e,t,r,n,s){if(!(this instanceof zd))return new zd(e,t,r,n,s);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,eI.call(this,n,s)}function Oh(e,t,r,n,s){if(!(this instanceof Oh))return new Oh(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,eI.call(this,n,s)}function Pt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],c=[],u=1,d=16,f="S",m=null;zr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,s=e.format||s,i=e.compress||e.compressPdf||i,(m=e.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),f=e.defaultPathOperation||"S"),c=e.filters||(i===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=e.putOnlyUsedFonts||!1,g={},b={internal:{},__private__:{}};b.__private__.PubSub=CO;var y="1.3",N=b.__private__.getPdfVersion=function(){return y};b.__private__.setPdfVersion=function(L){y=L};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return j};var S=b.__private__.getPageFormat=function(L){return j[L]};s=s||"a4";var _="compat",E="advanced",k=_;function T(){this.saveGraphicsState(),se(new Ot(Ht,0,0,-Ht,0,_o()*Ht).toString()+" cm"),this.setFontSize(this.getFontSize()/Ht),f="n",k=E}function D(){this.restoreGraphicsState(),f="S",k=_}var M=b.__private__.combineFontStyleAndFontWeight=function(L,W){if(L=="bold"&&W=="normal"||L=="bold"&&W==400||L=="normal"&&W=="italic"||L=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(L=W==400||W==="normal"?L==="italic"?"italic":"normal":W!=700&&W!=="bold"||L!=="normal"?(W==700?"bold":W)+""+L:"bold"),L};b.advancedAPI=function(L){var W=k===_;return W&&T.call(this),typeof L!="function"||(L(this),W&&D.call(this)),this},b.compatAPI=function(L){var W=k===E;return W&&D.call(this),typeof L!="function"||(L(this),W&&T.call(this)),this},b.isAdvancedAPI=function(){return k===E};var R,B=function(L){if(k!==E)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=b.roundToPrecision=b.__private__.roundToPrecision=function(L,W){var he=t||W;if(isNaN(L)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(he).replace(/0+$/,"")};R=b.hpf=b.__private__.hpf=typeof d=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return K(L,d)}:d==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return K(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return K(L,16)};var U=b.f2=b.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return K(L,2)},F=b.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return K(L,3)},X=b.scale=b.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return k===_?L*Ht:k===E?L:void 0},Q=function(L){return X((function(W){return k===_?_o()-W:k===E?W:void 0})(L))};b.__private__.setPrecision=b.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var pe,re="00000000000000000000000000000000",ue=b.__private__.getFileId=function(){return re},V=b.__private__.setFileId=function(L){return re=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Yn=new _h(m.userPermissions,m.userPassword,m.ownerPassword,re)),re};b.setFileId=function(L){return V(L),this},b.getFileId=function(){return ue()};var Z=b.__private__.convertDateToPDFDate=function(L){var W=L.getTimezoneOffset(),he=W<0?"+":"-",ve=Math.floor(Math.abs(W/60)),_e=Math.abs(W%60),Ge=[he,$(ve),"'",$(_e),"'"].join("");return["D:",L.getFullYear(),$(L.getMonth()+1),$(L.getDate()),$(L.getHours()),$(L.getMinutes()),$(L.getSeconds()),Ge].join("")},ge=b.__private__.convertPDFDateToDate=function(L){var W=parseInt(L.substr(2,4),10),he=parseInt(L.substr(6,2),10)-1,ve=parseInt(L.substr(8,2),10),_e=parseInt(L.substr(10,2),10),Ge=parseInt(L.substr(12,2),10),rt=parseInt(L.substr(14,2),10);return new Date(W,he,ve,_e,Ge,rt,0)},G=b.__private__.setCreationDate=function(L){var W;if(L===void 0&&(L=new Date),L instanceof Date)W=Z(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=L}return pe=W},P=b.__private__.getCreationDate=function(L){var W=pe;return L==="jsDate"&&(W=ge(pe)),W};b.setCreationDate=function(L){return G(L),this},b.getCreationDate=function(L){return P(L)};var H,$=b.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},ae=b.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},le=0,be=[],ce=[],oe=0,me=[],Ae=[],xe=!1,Ie=ce;b.__private__.setCustomOutputDestination=function(L){xe=!0,Ie=L};var Ve=function(L){xe||(Ie=L)};b.__private__.resetCustomOutputDestination=function(){xe=!1,Ie=ce};var se=b.__private__.out=function(L){return L=L.toString(),oe+=L.length+1,Ie.push(L),Ie},at=b.__private__.write=function(L){return se(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Dt=b.__private__.getArrayBuffer=function(L){for(var W=L.length,he=new ArrayBuffer(W),ve=new Uint8Array(he);W--;)ve[W]=L.charCodeAt(W);return he},xt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return xt};var tt=e.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(L){return tt=k===E?L/Ht:L,this};var jt,ut=b.__private__.getFontSize=b.getFontSize=function(){return k===_?tt:tt*Ht},kt=e.R2L||!1;b.__private__.setR2L=b.setR2L=function(L){return kt=L,this},b.__private__.getR2L=b.getR2L=function(){return kt};var Ct,Gt=b.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))jt=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');jt=L}else jt=parseInt(L,10)};b.__private__.getZoomMode=function(){return jt};var nr,Ut=b.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Ct=L};b.__private__.getPageMode=function(){return Ct};var ar=b.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');nr=L};b.__private__.getLayoutMode=function(){return nr},b.__private__.setDisplayMode=b.setDisplayMode=function(L,W,he){return Gt(L),ar(W),Ut(he),this};var Kt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(L){if(Object.keys(Kt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Kt[L]},b.__private__.getDocumentProperties=function(){return Kt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(L){for(var W in Kt)Kt.hasOwnProperty(W)&&L[W]&&(Kt[W]=L[W]);return this},b.__private__.setDocumentProperty=function(L,W){if(Object.keys(Kt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Kt[L]=W};var ct,Ht,Se,qe,Fe,Je={},Xe={},et=[],nt={},Nt={},gt={},it={},Et=null,Tt=0,ht=[],Xt=new CO(b),Zr=e.hotfixes||[],Jr={},aa={},as=[],Ot=function L(W,he,ve,_e,Ge,rt){if(!(this instanceof L))return new L(W,he,ve,_e,Ge,rt);isNaN(W)&&(W=1),isNaN(he)&&(he=0),isNaN(ve)&&(ve=0),isNaN(_e)&&(_e=1),isNaN(Ge)&&(Ge=0),isNaN(rt)&&(rt=0),this._matrix=[W,he,ve,_e,Ge,rt]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(L)},Ot.prototype.multiply=function(L){var W=L.sx*this.sx+L.shy*this.shx,he=L.sx*this.shy+L.shy*this.sy,ve=L.shx*this.sx+L.sy*this.shx,_e=L.shx*this.shy+L.sy*this.sy,Ge=L.tx*this.sx+L.ty*this.shx+this.tx,rt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Ot(W,he,ve,_e,Ge,rt)},Ot.prototype.decompose=function(){var L=this.sx,W=this.shy,he=this.shx,ve=this.sy,_e=this.tx,Ge=this.ty,rt=Math.sqrt(L*L+W*W),bt=(L/=rt)*he+(W/=rt)*ve;he-=L*bt,ve-=W*bt;var At=Math.sqrt(he*he+ve*ve);return bt/=At,L*(ve/=At)<W*(he/=At)&&(L=-L,W=-W,bt=-bt,rt=-rt),{scale:new Ot(rt,0,0,At,0,0),translate:new Ot(1,0,0,1,_e,Ge),rotate:new Ot(L,W,-W,L,0,0),skew:new Ot(1,0,bt,1,0,0)}},Ot.prototype.toString=function(L){return this.join(" ")},Ot.prototype.inversed=function(){var L=this.sx,W=this.shy,he=this.shx,ve=this.sy,_e=this.tx,Ge=this.ty,rt=1/(L*ve-W*he),bt=ve*rt,At=-W*rt,$t=-he*rt,Zt=L*rt;return new Ot(bt,At,$t,Zt,-bt*_e-$t*Ge,-At*_e-Zt*Ge)},Ot.prototype.applyToPoint=function(L){var W=L.x*this.sx+L.y*this.shx+this.tx,he=L.x*this.shy+L.y*this.sy+this.ty;return new Ms(W,he)},Ot.prototype.applyToRectangle=function(L){var W=this.applyToPoint(L),he=this.applyToPoint(new Ms(L.x+L.w,L.y+L.h));return new wo(W.x,W.y,he.x-W.x,he.y-W.y)},Ot.prototype.clone=function(){var L=this.sx,W=this.shy,he=this.shx,ve=this.sy,_e=this.tx,Ge=this.ty;return new Ot(L,W,he,ve,_e,Ge)},b.Matrix=Ot;var oi=b.matrixMult=function(L,W){return W.multiply(L)},Rs=new Ot(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Rs;var qa=function(L,W){if(!Nt[L]){var he=(W instanceof zd?"Sh":"P")+(Object.keys(nt).length+1).toString(10);W.id=he,Nt[L]=he,nt[he]=W,Xt.publish("addPattern",W)}};b.ShadingPattern=zd,b.TilingPattern=Oh,b.addShadingPattern=function(L,W){return B("addShadingPattern()"),qa(L,W),this},b.beginTilingPattern=function(L){B("beginTilingPattern()"),tc(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},b.endTilingPattern=function(L,W){B("endTilingPattern()"),W.stream=Ae[H].join(`
`),qa(L,W),Xt.publish("endTilingPattern",W),as.pop().restore()};var $a,Ur=b.__private__.newObject=function(){var L=gn();return _n(L,!0),L},gn=b.__private__.newObjectDeferred=function(){return le++,be[le]=function(){return oe},le},_n=function(L,W){return W=typeof W=="boolean"&&W,be[L]=oe,W&&se(L+" 0 obj"),L},Ri=b.__private__.newAdditionalObject=function(){var L={objId:gn(),content:""};return me.push(L),L},ha=gn(),jr=gn(),qr=b.__private__.decodeColorString=function(L){var W=L.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length!==5||W[4]!=="k"&&W[4]!=="K"||(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var he=parseFloat(W[0]);W=[he,he,he,"r"]}for(var ve="#",_e=0;_e<3;_e++)ve+=("0"+Math.floor(255*parseFloat(W[_e])).toString(16)).slice(-2);return ve},sa=b.__private__.encodeColorString=function(L){var W;typeof L=="string"&&(L={ch1:L});var he=L.ch1,ve=L.ch2,_e=L.ch3,Ge=L.ch4,rt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var bt=new ZD(he);if(bt.ok)he=bt.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var At=parseInt(he.substr(1),16);he=At>>16&255,ve=At>>8&255,_e=255&At}if(ve===void 0||Ge===void 0&&he===ve&&ve===_e)W=typeof he=="string"?he+" "+rt[0]:L.precision===2?U(he/255)+" "+rt[0]:F(he/255)+" "+rt[0];else if(Ge===void 0||zr(Ge)==="object"){if(Ge&&!isNaN(Ge.a)&&Ge.a===0)return["1.","1.","1.",rt[1]].join(" ");W=typeof he=="string"?[he,ve,_e,rt[1]].join(" "):L.precision===2?[U(he/255),U(ve/255),U(_e/255),rt[1]].join(" "):[F(he/255),F(ve/255),F(_e/255),rt[1]].join(" ")}else W=typeof he=="string"?[he,ve,_e,Ge,rt[2]].join(" "):L.precision===2?[U(he),U(ve),U(_e),U(Ge),rt[2]].join(" "):[F(he),F(ve),F(_e),F(Ge),rt[2]].join(" ");return W},Ha=b.__private__.getFilters=function(){return c},ss=b.__private__.putStream=function(L){var W=(L=L||{}).data||"",he=L.filters||Ha(),ve=L.alreadyAppliedFilters||[],_e=L.addLength1||!1,Ge=W.length,rt=L.objectId,bt=function(Xn){return Xn};if(m!==null&&rt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(bt=Yn.encryptor(rt,0));var At={};he===!0&&(he=["FlateEncode"]);var $t=L.additionalKeyValues||[],Zt=(At=Pt.API.processDataByFilters!==void 0?Pt.API.processDataByFilters(W,he):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(At.data.length!==0&&($t.push({key:"Length",value:At.data.length}),_e===!0&&$t.push({key:"Length1",value:Ge})),Zt.length!=0)if(Zt.split("/").length-1==1)$t.push({key:"Filter",value:Zt});else{$t.push({key:"Filter",value:"["+Zt+"]"});for(var hr=0;hr<$t.length;hr+=1)if($t[hr].key==="DecodeParms"){for(var un=[],Cn=0;Cn<At.reverseChain.split("/").length-1;Cn+=1)un.push("null");un.push($t[hr].value),$t[hr].value="["+un.join(" ")+"]"}}se("<<");for(var $r=0;$r<$t.length;$r++)se("/"+$t[$r].key+" "+$t[$r].value);se(">>"),At.data.length!==0&&(se("stream"),se(bt(At.data)),se("endstream"))},bo=b.__private__.putPage=function(L){var W=L.number,he=L.data,ve=L.objId,_e=L.contentsObjId;_n(ve,!0),se("<</Type /Page"),se("/Parent "+L.rootDictionaryObjId+" 0 R"),se("/Resources "+L.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(R(L.mediaBox.bottomLeftX))+" "+parseFloat(R(L.mediaBox.bottomLeftY))+" "+R(L.mediaBox.topRightX)+" "+R(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&se("/CropBox ["+R(L.cropBox.bottomLeftX)+" "+R(L.cropBox.bottomLeftY)+" "+R(L.cropBox.topRightX)+" "+R(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&se("/BleedBox ["+R(L.bleedBox.bottomLeftX)+" "+R(L.bleedBox.bottomLeftY)+" "+R(L.bleedBox.topRightX)+" "+R(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&se("/TrimBox ["+R(L.trimBox.bottomLeftX)+" "+R(L.trimBox.bottomLeftY)+" "+R(L.trimBox.topRightX)+" "+R(L.trimBox.topRightY)+"]"),L.artBox!==null&&se("/ArtBox ["+R(L.artBox.bottomLeftX)+" "+R(L.artBox.bottomLeftY)+" "+R(L.artBox.topRightX)+" "+R(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&se("/UserUnit "+L.userUnit),Xt.publish("putPage",{objId:ve,pageContext:ht[W],pageNumber:W,page:he}),se("/Contents "+_e+" 0 R"),se(">>"),se("endobj");var Ge=he.join(`
`);return k===E&&(Ge+=`
Q`),_n(_e,!0),ss({data:Ge,filters:Ha(),objectId:_e}),se("endobj"),ve},gs=b.__private__.putPages=function(){var L,W,he=[];for(L=1;L<=Tt;L++)ht[L].objId=gn(),ht[L].contentsObjId=gn();for(L=1;L<=Tt;L++)he.push(bo({number:L,data:Ae[L],objId:ht[L].objId,contentsObjId:ht[L].contentsObjId,mediaBox:ht[L].mediaBox,cropBox:ht[L].cropBox,bleedBox:ht[L].bleedBox,trimBox:ht[L].trimBox,artBox:ht[L].artBox,userUnit:ht[L].userUnit,rootDictionaryObjId:ha,resourceDictionaryObjId:jr}));_n(ha,!0),se("<</Type /Pages");var ve="/Kids [";for(W=0;W<Tt;W++)ve+=he[W]+" 0 R ";se(ve+"]"),se("/Count "+Tt),se(">>"),se("endobj"),Xt.publish("postPutPages")},Pe=function(L){Xt.publish("putFont",{font:L,out:se,newObject:Ur,putStream:ss}),L.isAlreadyPutted!==!0&&(L.objectNumber=Ur(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Ch(L.postScriptName)),se("/Subtype /Type1"),typeof L.encoding=="string"&&se("/Encoding /"+L.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},lt=function(L){L.objectNumber=Ur();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[R(L.x),R(L.y),R(L.x+L.width),R(L.y+L.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var he=L.pages[1].join(`
`);ss({data:he,additionalKeyValues:W,objectId:L.objectNumber}),se("endobj")},St=function(L,W){W||(W=21);var he=Ur(),ve=(function(rt,bt){var At,$t=[],Zt=1/(bt-1);for(At=0;At<1;At+=Zt)$t.push(At);if($t.push(1),rt[0].offset!=0){var hr={offset:0,color:rt[0].color};rt.unshift(hr)}if(rt[rt.length-1].offset!=1){var un={offset:1,color:rt[rt.length-1].color};rt.push(un)}for(var Cn="",$r=0,Xn=0;Xn<$t.length;Xn++){for(At=$t[Xn];At>rt[$r+1].offset;)$r++;var Mn=rt[$r].offset,pa=(At-Mn)/(rt[$r+1].offset-Mn),Co=rt[$r].color,fi=rt[$r+1].color;Cn+=ae(Math.round((1-pa)*Co[0]+pa*fi[0]).toString(16))+ae(Math.round((1-pa)*Co[1]+pa*fi[1]).toString(16))+ae(Math.round((1-pa)*Co[2]+pa*fi[2]).toString(16))}return Cn.trim()})(L.colors,W),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+W+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ss({data:ve,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),se("endobj"),L.objectNumber=Ur(),se("<< /ShadingType "+L.type),se("/ColorSpace /DeviceRGB");var Ge="/Coords ["+R(parseFloat(L.coords[0]))+" "+R(parseFloat(L.coords[1]))+" ";L.type===2?Ge+=R(parseFloat(L.coords[2]))+" "+R(parseFloat(L.coords[3])):Ge+=R(parseFloat(L.coords[2]))+" "+R(parseFloat(L.coords[3]))+" "+R(parseFloat(L.coords[4]))+" "+R(parseFloat(L.coords[5])),se(Ge+="]"),L.matrix&&se("/Matrix ["+L.matrix.toString()+"]"),se("/Function "+he+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},on=function(L,W){var he=gn(),ve=Ur();W.push({resourcesOid:he,objectOid:ve}),L.objectNumber=ve;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+L.boundingBox.map(R).join(" ")+"]"}),_e.push({key:"XStep",value:R(L.xStep)}),_e.push({key:"YStep",value:R(L.yStep)}),_e.push({key:"Resources",value:he+" 0 R"}),L.matrix&&_e.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),ss({data:L.stream,additionalKeyValues:_e,objectId:L.objectNumber}),se("endobj")},Di=function(L){for(var W in L.objectNumber=Ur(),se("<<"),L)switch(W){case"opacity":se("/ca "+U(L[W]));break;case"stroke-opacity":se("/CA "+U(L[W]))}se(">>"),se("endobj")},Ds=function(L){_n(L.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var W in se("/Font <<"),Je)Je.hasOwnProperty(W)&&(p===!1||p===!0&&g.hasOwnProperty(W))&&se("/"+W+" "+Je[W].objectNumber+" 0 R");se(">>")})(),(function(){if(Object.keys(nt).length>0){for(var W in se("/Shading <<"),nt)nt.hasOwnProperty(W)&&nt[W]instanceof zd&&nt[W].objectNumber>=0&&se("/"+W+" "+nt[W].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),se(">>")}})(),(function(W){if(Object.keys(nt).length>0){for(var he in se("/Pattern <<"),nt)nt.hasOwnProperty(he)&&nt[he]instanceof b.TilingPattern&&nt[he].objectNumber>=0&&nt[he].objectNumber<W&&se("/"+he+" "+nt[he].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),se(">>")}})(L.objectOid),(function(){if(Object.keys(gt).length>0){var W;for(W in se("/ExtGState <<"),gt)gt.hasOwnProperty(W)&&gt[W].objectNumber>=0&&se("/"+W+" "+gt[W].objectNumber+" 0 R");Xt.publish("putGStateDict"),se(">>")}})(),(function(){for(var W in se("/XObject <<"),Jr)Jr.hasOwnProperty(W)&&Jr[W].objectNumber>=0&&se("/"+W+" "+Jr[W].objectNumber+" 0 R");Xt.publish("putXobjectDict"),se(">>")})(),se(">>"),se("endobj")},ln=function(L){Xe[L.fontName]=Xe[L.fontName]||{},Xe[L.fontName][L.fontStyle]=L.id},ol=function(L,W,he,ve,_e){var Ge={id:"F"+(Object.keys(Je).length+1).toString(10),postScriptName:L,fontName:W,fontStyle:he,encoding:ve,isStandardFont:_e||!1,metadata:{}};return Xt.publish("addFont",{font:Ge,instance:this}),Je[Ge.id]=Ge,ln(Ge),Ge.id},Ga=b.__private__.pdfEscape=b.pdfEscape=function(L,W){return(function(he,ve){var _e,Ge,rt,bt,At,$t,Zt,hr,un;if(rt=(ve=ve||{}).sourceEncoding||"Unicode",At=ve.outputEncoding,(ve.autoencode||At)&&Je[ct].metadata&&Je[ct].metadata[rt]&&Je[ct].metadata[rt].encoding&&(bt=Je[ct].metadata[rt].encoding,!At&&Je[ct].encoding&&(At=Je[ct].encoding),!At&&bt.codePages&&(At=bt.codePages[0]),typeof At=="string"&&(At=bt[At]),At)){for(Zt=!1,$t=[],_e=0,Ge=he.length;_e<Ge;_e++)(hr=At[he.charCodeAt(_e)])?$t.push(String.fromCharCode(hr)):$t.push(he[_e]),$t[_e].charCodeAt(0)>>8&&(Zt=!0);he=$t.join("")}for(_e=he.length;Zt===void 0&&_e!==0;)he.charCodeAt(_e-1)>>8&&(Zt=!0),_e--;if(!Zt)return he;for($t=ve.noBOM?[]:[254,255],_e=0,Ge=he.length;_e<Ge;_e++){if((un=(hr=he.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");$t.push(un),$t.push(hr-(un<<8))}return String.fromCharCode.apply(void 0,$t)})(L,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},is=b.__private__.beginPage=function(L){Ae[++Tt]=[],ht[Tt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},rd(Tt),Ve(Ae[H])},li=function(L,W){var he,ve,_e;switch(r=W||r,typeof L=="string"&&(he=S(L.toLowerCase()),Array.isArray(he)&&(ve=he[0],_e=he[1])),Array.isArray(L)&&(ve=L[0]*Ht,_e=L[1]*Ht),isNaN(ve)&&(ve=s[0],_e=s[1]),(ve>14400||_e>14400)&&(nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),_e=Math.min(14400,_e)),s=[ve,_e],r.substr(0,1)){case"l":_e>ve&&(s=[_e,ve]);break;case"p":ve>_e&&(s=[_e,ve])}is(s),zt(Zl),se(vs),nu!==0&&se(nu+" J"),ia!==0&&se(ia+" j"),Xt.publish("addPage",{pageNumber:Tt})},Wn=function(L){L>0&&L<=Tt&&(Ae.splice(L,1),ht.splice(L,1),Tt--,H>Tt&&(H=Tt),this.setPage(H))},rd=function(L){L>0&&L<=Tt&&(H=L)},nd=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ae.length-1},Sf=function(L,W,he){var ve,_e=void 0;return he=he||{},L=L!==void 0?L:Je[ct].fontName,W=W!==void 0?W:Je[ct].fontStyle,ve=L.toLowerCase(),Xe[ve]!==void 0&&Xe[ve][W]!==void 0?_e=Xe[ve][W]:Xe[L]!==void 0&&Xe[L][W]!==void 0?_e=Xe[L][W]:he.disableWarning===!1&&nn.warn("Unable to look up font label for font '"+L+"', '"+W+"'. Refer to getFontList() for available fonts."),_e||he.noFallback||(_e=Xe.times[W])==null&&(_e=Xe.times.normal),_e},bs=b.__private__.putInfo=function(){var L=Ur(),W=function(ve){return ve};for(var he in m!==null&&(W=Yn.encryptor(L,0)),se("<<"),se("/Producer ("+Ga(W("jsPDF "+Pt.version))+")"),Kt)Kt.hasOwnProperty(he)&&Kt[he]&&se("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Ga(W(Kt[he]))+")");se("/CreationDate ("+Ga(W(pe))+")"),se(">>"),se("endobj")},yo=b.__private__.putCatalog=function(L){var W=(L=L||{}).rootDictionaryObjId||ha;switch(Ur(),se("<<"),se("/Type /Catalog"),se("/Pages "+W+" 0 R"),jt||(jt="fullwidth"),jt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+jt;he.substr(he.length-1)==="%"&&(jt=parseInt(jt)/100),typeof jt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+U(jt)+"]")}switch(nr||(nr="continuous"),nr){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}Ct&&se("/PageMode /"+Ct),Xt.publish("putCatalog"),se(">>"),se("endobj")},ci=b.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(le+1)),se("/Root "+le+" 0 R"),se("/Info "+(le-1)+" 0 R"),m!==null&&se("/Encrypt "+Yn.oid+" 0 R"),se("/ID [ <"+re+"> <"+re+"> ]"),se(">>")},vr=b.__private__.putHeader=function(){se("%PDF-"+y),se("%")},ad=b.__private__.putXRef=function(){var L="0000000000";se("xref"),se("0 "+(le+1)),se("0000000000 65535 f ");for(var W=1;W<=le;W++)typeof be[W]=="function"?se((L+be[W]()).slice(-10)+" 00000 n "):be[W]!==void 0?se((L+be[W]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Ii=b.__private__.buildDocument=function(){var L;le=0,oe=0,ce=[],be=[],me=[],ha=gn(),jr=gn(),Ve(ce),Xt.publish("buildDocument"),vr(),gs(),(function(){Xt.publish("putAdditionalObjects");for(var he=0;he<me.length;he++){var ve=me[he];_n(ve.objId,!0),se(ve.content),se("endobj")}Xt.publish("postPutAdditionalObjects")})(),L=[],(function(){for(var he in Je)Je.hasOwnProperty(he)&&(p===!1||p===!0&&g.hasOwnProperty(he))&&Pe(Je[he])})(),(function(){var he;for(he in gt)gt.hasOwnProperty(he)&&Di(gt[he])})(),(function(){for(var he in Jr)Jr.hasOwnProperty(he)&&lt(Jr[he])})(),(function(he){var ve;for(ve in nt)nt.hasOwnProperty(ve)&&(nt[ve]instanceof zd?St(nt[ve]):nt[ve]instanceof Oh&&on(nt[ve],he))})(L),Xt.publish("putResources"),L.forEach(Ds),Ds({resourcesOid:jr,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources"),m!==null&&(Yn.oid=Ur(),se("<<"),se("/Filter /Standard"),se("/V "+Yn.v),se("/R "+Yn.r),se("/U <"+Yn.toHexString(Yn.U)+">"),se("/O <"+Yn.toHexString(Yn.O)+">"),se("/P "+Yn.P),se(">>"),se("endobj")),bs(),yo();var W=oe;return ad(),ci(),se("startxref"),se(""+W),se("%%EOF"),Ve(Ae[H]),ce.join(`
`)},ll=b.__private__.getBlob=function(L){return new Blob([Dt(L)],{type:"application/pdf"})},sd=b.output=b.__private__.output=($a=function(L,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",L){case void 0:return Ii();case"save":b.save(W.filename);break;case"arraybuffer":return Dt(Ii());case"blob":return ll(Ii());case"bloburi":case"bloburl":if(Yt.URL!==void 0&&typeof Yt.URL.createObjectURL=="function")return Yt.URL&&Yt.URL.createObjectURL(ll(Ii()))||void 0;nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",ve=Ii();try{he=SO(ve)}catch{he=SO(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+W.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(_e=W.pdfObjectUrl,Ge="");var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",bt=Yt.open();return bt!==null&&bt.document.write(rt),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Yt)==="[object Window]"){var At='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',$t=Yt.open();if($t!==null){$t.document.write(At);var Zt=this;$t.document.documentElement.querySelector("#pdfViewer").onload=function(){$t.document.title=W.filename,$t.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zt.output("bloburl"))}}return $t}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Yt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',un=Yt.open();if(un!==null&&(un.document.write(hr),un.document.title=W.filename),un||typeof safari>"u")return un;break;case"datauri":case"dataurl":return Yt.document.location.href=this.output("datauristring",W);default:return null}},$a.foo=function(){try{return $a.apply(this,arguments)}catch(he){var L=he.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var W="Error in function "+L.split(`
`)[0].split("<")[0]+": "+he.message;if(!Yt.console)throw new Error(W);Yt.console.error(W,he),Yt.alert&&alert(W)}},$a.foo.bar=$a,$a.foo),Ka=function(L){return Array.isArray(Zr)===!0&&Zr.indexOf(L)>-1};switch(n){case"pt":Ht=1;break;case"mm":Ht=72/25.4;break;case"cm":Ht=72/2.54;break;case"in":Ht=72;break;case"px":Ht=Ka("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ht=12;break;case"ex":Ht=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ht=n}var Yn=null;G(),V();var In=b.__private__.getPageInfo=b.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[L].objId,pageNumber:L,pageContext:ht[L]}},tu=b.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in ht)if(ht[W].objId===L)break;return In(W)},Af=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:ht[H].objId,pageNumber:H,pageContext:ht[H]}};b.addPage=function(){return li.apply(this,arguments),this},b.setPage=function(){return rd.apply(this,arguments),Ve.call(this,Ae[H]),this},b.insertPage=function(L){return this.addPage(),this.movePage(H,L),this},b.movePage=function(L,W){var he,ve;if(L>W){he=Ae[L],ve=ht[L];for(var _e=L;_e>W;_e--)Ae[_e]=Ae[_e-1],ht[_e]=ht[_e-1];Ae[W]=he,ht[W]=ve,this.setPage(W)}else if(L<W){he=Ae[L],ve=ht[L];for(var Ge=L;Ge<W;Ge++)Ae[Ge]=Ae[Ge+1],ht[Ge]=ht[Ge+1];Ae[W]=he,ht[W]=ve,this.setPage(W)}return this},b.deletePage=function(){return Wn.apply(this,arguments),this},b.__private__.text=b.text=function(L,W,he,ve,_e){var Ge,rt,bt,At,$t,Zt,hr,un,Cn,$r=(ve=ve||{}).scope||this;if(typeof L=="number"&&typeof W=="number"&&(typeof he=="string"||Array.isArray(he))){var Xn=he;he=W,W=L,L=Xn}if(arguments[3]instanceof Ot==0?(bt=arguments[4],At=arguments[5],zr(hr=arguments[3])==="object"&&hr!==null||(typeof bt=="string"&&(At=bt,bt=null),typeof hr=="string"&&(At=hr,hr=null),typeof hr=="number"&&(bt=hr,hr=null),ve={flags:hr,angle:bt,align:At})):(B("The transform parameter of text() with a Matrix value"),Cn=_e),isNaN(W)||isNaN(he)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return $r;var Mn,pa="",Co=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:vo,fi=$r.internal.scaleFactor;function Eo(wr){return wr=wr.split("	").join(Array(ve.TabLen||9).join(" ")),Ga(wr,hr)}function md(wr){for(var mr,Hr=wr.concat(),kn=[],Ki=Hr.length;Ki--;)typeof(mr=Hr.shift())=="string"?kn.push(mr):Array.isArray(wr)&&(mr.length===1||mr[1]===void 0&&mr[2]===void 0)?kn.push(mr[0]):kn.push([mr[0],mr[1],mr[2]]);return kn}function su(wr,mr){var Hr;if(typeof wr=="string")Hr=mr(wr)[0];else if(Array.isArray(wr)){for(var kn,Ki,xi=wr.concat(),sc=[],gd=xi.length;gd--;)typeof(kn=xi.shift())=="string"?sc.push(mr(kn)[0]):Array.isArray(kn)&&typeof kn[0]=="string"&&(Ki=mr(kn[0],kn[1],kn[2]),sc.push([Ki[0],Ki[1],Ki[2]]));Hr=sc}return Hr}var zi=!1,hi=!0;if(typeof L=="string")zi=!0;else if(Array.isArray(L)){var nc=L.concat();rt=[];for(var ko,oa=nc.length;oa--;)(typeof(ko=nc.shift())!="string"||Array.isArray(ko)&&typeof ko[0]!="string")&&(hi=!1);zi=hi}if(zi===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var ul=tt/$r.internal.scaleFactor,dl=ul*(Co-1);switch(ve.baseline){case"bottom":he-=dl;break;case"top":he+=ul-dl;break;case"hanging":he+=ul-2*dl;break;case"middle":he+=ul/2-dl}if((Zt=ve.maxWidth||0)>0&&(typeof L=="string"?L=$r.splitTextToSize(L,Zt):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(wr,mr){return wr.concat($r.splitTextToSize(mr,Zt))},[]))),Ge={text:L,x:W,y:he,options:ve,mutex:{pdfEscape:Ga,activeFontKey:ct,fonts:Je,activeFontSize:tt}},Xt.publish("preProcessText",Ge),L=Ge.text,bt=(ve=Ge.options).angle,Cn instanceof Ot==0&&bt&&typeof bt=="number"){bt*=Math.PI/180,ve.rotationDirection===0&&(bt=-bt),k===E&&(bt=-bt);var iu=Math.cos(bt),Fi=Math.sin(bt);Cn=new Ot(iu,Fi,-Fi,iu,0,0)}else bt&&bt instanceof Ot&&(Cn=bt);k!==E||Cn||(Cn=Rs),($t=ve.charSpace||Is)!==void 0&&(pa+=R(X($t))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(un=ve.horizontalScale)!==void 0&&(pa+=R(100*un)+` Tz
`),ve.lang;var Wa=-1,Oo=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,ou=$r.internal.getCurrentPageInfo().pageContext;switch(Oo){case 0:case!1:case"fill":Wa=0;break;case 1:case!0:case"stroke":Wa=1;break;case 2:case"fillThenStroke":Wa=2;break;case 3:case"invisible":Wa=3;break;case 4:case"fillAndAddForClipping":Wa=4;break;case 5:case"strokeAndAddPathForClipping":Wa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wa=6;break;case 7:case"addToPathForClipping":Wa=7}var pd=ou.usedRenderingMode!==void 0?ou.usedRenderingMode:-1;Wa!==-1?pa+=Wa+` Tr
`:pd!==-1&&(pa+=`0 Tr
`),Wa!==-1&&(ou.usedRenderingMode=Wa),At=ve.align||"left";var ws,mi=tt*Co,Po=$r.internal.pageSize.getWidth(),xd=Je[ct];$t=ve.charSpace||Is,Zt=ve.maxWidth||0,hr=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var pi=[],fl=function(wr){return $r.getStringUnitWidth(wr,{font:xd,charSpace:$t,fontSize:tt,doKerning:!1})*tt/fi};if(Object.prototype.toString.call(L)==="[object Array]"){var ls;rt=md(L),At!=="left"&&(ws=rt.map(fl));var Ya,Ui=0;if(At==="right"){W-=ws[0],L=[],oa=rt.length;for(var qi=0;qi<oa;qi++)qi===0?(Ya=ys(W),ls=ma(he)):(Ya=X(Ui-ws[qi]),ls=-mi),L.push([rt[qi],Ya,ls]),Ui=ws[qi]}else if(At==="center"){W-=ws[0]/2,L=[],oa=rt.length;for(var Lo=0;Lo<oa;Lo++)Lo===0?(Ya=ys(W),ls=ma(he)):(Ya=X((Ui-ws[Lo])/2),ls=-mi),L.push([rt[Lo],Ya,ls]),Ui=ws[Lo]}else if(At==="left"){L=[],oa=rt.length;for(var lu=0;lu<oa;lu++)L.push(rt[lu])}else if(At==="justify"&&xd.encoding==="Identity-H"){L=[],oa=rt.length,Zt=Zt!==0?Zt:Po;for(var cu=0,En=0;En<oa;En++)if(ls=En===0?ma(he):-mi,Ya=En===0?ys(W):cu,En<oa-1){var Rf=X((Zt-ws[En])/(rt[En].split(" ").length-1)),$i=rt[En].split(" ");L.push([$i[0]+" ",Ya,ls]),cu=0;for(var Hi=1;Hi<$i.length;Hi++){var xa=(fl($i[Hi-1]+" "+$i[Hi])-fl($i[Hi]))*fi+Rf;Hi==$i.length-1?L.push([$i[Hi],xa,0]):L.push([$i[Hi]+" ",xa,0]),cu-=xa}}else L.push([rt[En],Ya,ls]);L.push(["",cu,0])}else{if(At!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],oa=rt.length,Zt=Zt!==0?Zt:Po,En=0;En<oa;En++){ls=En===0?ma(he):-mi,Ya=En===0?ys(W):0;var To=rt[En].split(" ").length-1,uu=To>0?(Zt-ws[En])/To:0;En<oa-1?pi.push(R(X(uu))):pi.push(0),L.push([rt[En],Ya,ls])}}}(typeof ve.R2L=="boolean"?ve.R2L:kt)===!0&&(L=su(L,function(wr,mr,Hr){return[wr.split("").reverse().join(""),mr,Hr]})),Ge={text:L,x:W,y:he,options:ve,mutex:{pdfEscape:Ga,activeFontKey:ct,fonts:Je,activeFontSize:tt}},Xt.publish("postProcessText",Ge),L=Ge.text,Mn=Ge.mutex.isHex||!1;var du=Je[ct].encoding;du!=="WinAnsiEncoding"&&du!=="StandardEncoding"||(L=su(L,function(wr,mr,Hr){return[Eo(wr),mr,Hr]})),rt=md(L),L=[];for(var Ro,Do,Gi,ac=Array.isArray(rt[0])?1:0,Ns="",Io=function(wr,mr,Hr){var kn="";return Hr instanceof Ot?(Hr=typeof ve.angle=="number"?oi(Hr,new Ot(1,0,0,1,wr,mr)):oi(new Ot(1,0,0,1,wr,mr),Hr),k===E&&(Hr=oi(new Ot(1,0,0,-1,0,0),Hr)),kn=Hr.join(" ")+` Tm
`):kn=R(wr)+" "+R(mr)+` Td
`,kn},Ea=0;Ea<rt.length;Ea++){switch(Ns="",ac){case 1:Gi=(Mn?"<":"(")+rt[Ea][0]+(Mn?">":")"),Ro=parseFloat(rt[Ea][1]),Do=parseFloat(rt[Ea][2]);break;case 0:Gi=(Mn?"<":"(")+rt[Ea]+(Mn?">":")"),Ro=ys(W),Do=ma(he)}pi!==void 0&&pi[Ea]!==void 0&&(Ns=pi[Ea]+` Tw
`),Ea===0?L.push(Ns+Io(Ro,Do,Cn)+Gi):ac===0?L.push(Ns+Gi):ac===1&&L.push(Ns+Io(Ro,Do,Cn)+Gi)}L=ac===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Bs=`BT
/`;return Bs+=ct+" "+tt+` Tf
`,Bs+=R(tt*Co)+` TL
`,Bs+=Mi+`
`,Bs+=pa,Bs+=L,se(Bs+="ET"),g[ct]=!0,$r};var id=b.__private__.clip=b.clip=function(L){return se(L==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return id("evenodd")},b.__private__.discardPath=b.discardPath=function(){return se("n"),this};var Va=b.__private__.isValidStyle=function(L){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(W=!0),W};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(L){return Va(L)&&(f=L),this};var od=b.__private__.getStyle=b.getStyle=function(L){var W=f;switch(L){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=L}return W},ld=b.close=function(){return se("h"),this};b.stroke=function(){return se("S"),this},b.fill=function(L){return ui("f",L),this},b.fillEvenOdd=function(L){return ui("f*",L),this},b.fillStroke=function(L){return ui("B",L),this},b.fillStrokeEvenOdd=function(L){return ui("B*",L),this};var ui=function(L,W){zr(W)==="object"?Cf(W,L):se(L)},Ql=function(L){L===null||k===E&&L===void 0||(L=od(L),se(L))};function _f(L,W,he,ve,_e){var Ge=new Oh(W||this.boundingBox,he||this.xStep,ve||this.yStep,this.gState,_e||this.matrix);Ge.stream=this.stream;var rt=L+"$$"+this.cloneIndex+++"$$";return qa(rt,Ge),Ge}var Cf=function(L,W){var he=Nt[L.key],ve=nt[he];if(ve instanceof zd)se("q"),se(cd(W)),ve.gState&&b.setGState(ve.gState),se(L.matrix.toString()+" cm"),se("/"+he+" sh"),se("Q");else if(ve instanceof Oh){var _e=new Ot(1,0,0,-1,0,_o());L.matrix&&(_e=_e.multiply(L.matrix||Rs),he=_f.call(ve,L.key,L.boundingBox,L.xStep,L.yStep,_e).id),se("q"),se("/Pattern cs"),se("/"+he+" scn"),ve.gState&&b.setGState(ve.gState),se(W),se("Q")}},cd=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ud=b.moveTo=function(L,W){return se(R(X(L))+" "+R(Q(W))+" m"),this},Ef=b.lineTo=function(L,W){return se(R(X(L))+" "+R(Q(W))+" l"),this},os=b.curveTo=function(L,W,he,ve,_e,Ge){return se([R(X(L)),R(Q(W)),R(X(he)),R(Q(ve)),R(X(_e)),R(Q(Ge)),"c"].join(" ")),this};b.__private__.line=b.line=function(L,W,he,ve,_e){if(isNaN(L)||isNaN(W)||isNaN(he)||isNaN(ve)||!Va(_e))throw new Error("Invalid arguments passed to jsPDF.line");return k===_?this.lines([[he-L,ve-W]],L,W,[1,1],_e||"S"):this.lines([[he-L,ve-W]],L,W,[1,1]).stroke()},b.__private__.lines=b.lines=function(L,W,he,ve,_e,Ge){var rt,bt,At,$t,Zt,hr,un,Cn,$r,Xn,Mn,pa;if(typeof L=="number"&&(pa=he,he=W,W=L,L=pa),ve=ve||[1,1],Ge=Ge||!1,isNaN(W)||isNaN(he)||!Array.isArray(L)||!Array.isArray(ve)||!Va(_e)||typeof Ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ud(W,he),rt=ve[0],bt=ve[1],$t=L.length,Xn=W,Mn=he,At=0;At<$t;At++)(Zt=L[At]).length===2?(Xn=Zt[0]*rt+Xn,Mn=Zt[1]*bt+Mn,Ef(Xn,Mn)):(hr=Zt[0]*rt+Xn,un=Zt[1]*bt+Mn,Cn=Zt[2]*rt+Xn,$r=Zt[3]*bt+Mn,Xn=Zt[4]*rt+Xn,Mn=Zt[5]*bt+Mn,os(hr,un,Cn,$r,Xn,Mn));return Ge&&ld(),Ql(_e),this},b.path=function(L){for(var W=0;W<L.length;W++){var he=L[W],ve=he.c;switch(he.op){case"m":ud(ve[0],ve[1]);break;case"l":Ef(ve[0],ve[1]);break;case"c":os.apply(this,ve);break;case"h":ld()}}return this},b.__private__.rect=b.rect=function(L,W,he,ve,_e){if(isNaN(L)||isNaN(W)||isNaN(he)||isNaN(ve)||!Va(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return k===_&&(ve=-ve),se([R(X(L)),R(Q(W)),R(X(he)),R(X(ve)),"re"].join(" ")),Ql(_e),this},b.__private__.triangle=b.triangle=function(L,W,he,ve,_e,Ge,rt){if(isNaN(L)||isNaN(W)||isNaN(he)||isNaN(ve)||isNaN(_e)||isNaN(Ge)||!Va(rt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-L,ve-W],[_e-he,Ge-ve],[L-_e,W-Ge]],L,W,[1,1],rt,!0),this},b.__private__.roundedRect=b.roundedRect=function(L,W,he,ve,_e,Ge,rt){if(isNaN(L)||isNaN(W)||isNaN(he)||isNaN(ve)||isNaN(_e)||isNaN(Ge)||!Va(rt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*he),Ge=Math.min(Ge,.5*ve),this.lines([[he-2*_e,0],[_e*bt,0,_e,Ge-Ge*bt,_e,Ge],[0,ve-2*Ge],[0,Ge*bt,-_e*bt,Ge,-_e,Ge],[2*_e-he,0],[-_e*bt,0,-_e,-Ge*bt,-_e,-Ge],[0,2*Ge-ve],[0,-Ge*bt,_e*bt,-Ge,_e,-Ge]],L+_e,W,[1,1],rt,!0),this},b.__private__.ellipse=b.ellipse=function(L,W,he,ve,_e){if(isNaN(L)||isNaN(W)||isNaN(he)||isNaN(ve)||!Va(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ge=4/3*(Math.SQRT2-1)*he,rt=4/3*(Math.SQRT2-1)*ve;return ud(L+he,W),os(L+he,W-rt,L+Ge,W-ve,L,W-ve),os(L-Ge,W-ve,L-he,W-rt,L-he,W),os(L-he,W+rt,L-Ge,W+ve,L,W+ve),os(L+Ge,W+ve,L+he,W+rt,L+he,W),Ql(_e),this},b.__private__.circle=b.circle=function(L,W,he,ve){if(isNaN(L)||isNaN(W)||isNaN(he)||!Va(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,W,he,he,ve)},b.setFont=function(L,W,he){return he&&(W=M(W,he)),ct=Sf(L,W,{disableWarning:!1}),this};var di=b.__private__.getFont=b.getFont=function(){return Je[Sf.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var L,W,he={};for(L in Xe)if(Xe.hasOwnProperty(L))for(W in he[L]=[],Xe[L])Xe[L].hasOwnProperty(W)&&he[L].push(W);return he},b.addFont=function(L,W,he,ve,_e){var Ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ge.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Ge.indexOf(arguments[3])==-1&&(he=M(he,ve)),ol.call(this,L,W,he,_e=_e||"Identity-H")};var vo,Zl=e.lineWidth||.200025,cl=b.__private__.getLineWidth=b.getLineWidth=function(){return Zl},zt=b.__private__.setLineWidth=b.setLineWidth=function(L){return Zl=L,se(R(X(L))+" w"),this};b.__private__.setLineDash=Pt.API.setLineDash=Pt.API.setLineDashPattern=function(L,W){if(L=L||[],W=W||0,isNaN(W)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(he){return R(X(he))}).join(" "),W=R(X(W)),se("["+L+"] "+W+" d"),this};var kf=b.__private__.getLineHeight=b.getLineHeight=function(){return tt*vo};b.__private__.getLineHeight=b.getLineHeight=function(){return tt*vo};var dd=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(vo=L),this},Of=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return vo};dd(e.lineHeight);var ys=b.__private__.getHorizontalCoordinate=function(L){return X(L)},ma=b.__private__.getVerticalCoordinate=function(L){return k===E?L:ht[H].mediaBox.topRightY-ht[H].mediaBox.bottomLeftY-X(L)},fd=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(L){return R(ys(L))},Jl=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(L){return R(ma(L))},vs=e.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return qr(vs)},b.__private__.setStrokeColor=b.setDrawColor=function(L,W,he,ve){return vs=sa({ch1:L,ch2:W,ch3:he,ch4:ve,pdfColorType:"draw",precision:2}),se(vs),this};var ec=e.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return qr(ec)},b.__private__.setFillColor=b.setFillColor=function(L,W,he,ve){return ec=sa({ch1:L,ch2:W,ch3:he,ch4:ve,pdfColorType:"fill",precision:2}),se(ec),this};var Mi=e.textColor||"0 g",Pf=b.__private__.getTextColor=b.getTextColor=function(){return qr(Mi)};b.__private__.setTextColor=b.setTextColor=function(L,W,he,ve){return Mi=sa({ch1:L,ch2:W,ch3:he,ch4:ve,pdfColorType:"text",precision:3}),this};var Is=e.charSpace,ru=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Is||0)};b.__private__.setCharSpace=b.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Is=L,this};var nu=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(L){var W=b.CapJoinStyles[L];if(W===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nu=W,se(W+" J"),this};var ia=0;b.__private__.setLineJoin=b.setLineJoin=function(L){var W=b.CapJoinStyles[L];if(W===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ia=W,se(W+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(R(X(L))+" M"),this},b.GState=qb,b.setGState=function(L){(L=typeof L=="string"?gt[it[L]]:Bi(null,L)).equals(Et)||(se("/"+L.id+" gs"),Et=L)};var Bi=function(L,W){if(!L||!it[L]){var he=!1;for(var ve in gt)if(gt.hasOwnProperty(ve)&&gt[ve].equals(W)){he=!0;break}if(he)W=gt[ve];else{var _e="GS"+(Object.keys(gt).length+1).toString(10);gt[_e]=W,W.id=_e}return L&&(it[L]=W.id),Xt.publish("addGState",W),W}};b.addGState=function(L,W){return Bi(L,W),this},b.saveGraphicsState=function(){return se("q"),et.push({key:ct,size:tt,color:Mi}),this},b.restoreGraphicsState=function(){se("Q");var L=et.pop();return ct=L.key,tt=L.size,Mi=L.color,Et=null,this},b.setCurrentTransformationMatrix=function(L){return se(L.toString()+" cm"),this},b.comment=function(L){return se("#"+L),this};var Ms=function(L,W){var he=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Ge){isNaN(Ge)||(he=parseFloat(Ge))}});var ve=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Ge){isNaN(Ge)||(ve=parseFloat(Ge))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Ge){_e=Ge.toString()}}),this},wo=function(L,W,he,ve){Ms.call(this,L,W),this.type="rect";var _e=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(rt){isNaN(rt)||(_e=parseFloat(rt))}});var Ge=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ge},set:function(rt){isNaN(rt)||(Ge=parseFloat(rt))}}),this},au=function(){this.page=Tt,this.currentPage=H,this.pages=Ae.slice(0),this.pagesContext=ht.slice(0),this.x=Se,this.y=qe,this.matrix=Fe,this.width=jo(H),this.height=hd(H),this.outputDestination=Ie,this.id="",this.objectNumber=-1};au.prototype.restore=function(){Tt=this.page,H=this.currentPage,ht=this.pagesContext,Ae=this.pages,Se=this.x,qe=this.y,Fe=this.matrix,rc(H,this.width),So(H,this.height),Ie=this.outputDestination};var tc=function(L,W,he,ve,_e){as.push(new au),Tt=H=0,Ae=[],Se=L,qe=W,Fe=_e,is([he,ve])};for(var No in b.beginFormObject=function(L,W,he,ve,_e){return tc(L,W,he,ve,_e),this},b.endFormObject=function(L){return(function(W){if(aa[W])as.pop().restore();else{var he=new au,ve="Xo"+(Object.keys(Jr).length+1).toString(10);he.id=ve,aa[W]=ve,Jr[ve]=he,Xt.publish("addFormObject",he),as.pop().restore()}})(L),this},b.doFormObject=function(L,W){var he=Jr[aa[L]];return se("q"),se(W.toString()+" cm"),se("/"+he.id+" Do"),se("Q"),this},b.getFormObject=function(L){var W=Jr[aa[L]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},b.save=function(L,W){return L=L||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(Bd(ll(Ii()),L),typeof Bd.unload=="function"&&Yt.setTimeout&&setTimeout(Bd.unload,911),this):new Promise(function(he,ve){try{var _e=Bd(ll(Ii()),L);typeof Bd.unload=="function"&&Yt.setTimeout&&setTimeout(Bd.unload,911),he(_e)}catch(Ge){ve(Ge.message)}})},Pt.API)Pt.API.hasOwnProperty(No)&&(No==="events"&&Pt.API.events.length?(function(L,W){var he,ve,_e;for(_e=W.length-1;_e!==-1;_e--)he=W[_e][0],ve=W[_e][1],L.subscribe.apply(L,[he].concat(typeof ve=="function"?[ve]:ve))})(Xt,Pt.API.events):b[No]=Pt.API[No]);function jo(L){return ht[L].mediaBox.topRightX-ht[L].mediaBox.bottomLeftX}function rc(L,W){ht[L].mediaBox.topRightX=W+ht[L].mediaBox.bottomLeftX}function hd(L){return ht[L].mediaBox.topRightY-ht[L].mediaBox.bottomLeftY}function So(L,W){ht[L].mediaBox.topRightY=W+ht[L].mediaBox.bottomLeftY}var Ao=b.getPageWidth=function(L){return jo(L=L||H)/Ht},Lf=b.setPageWidth=function(L,W){rc(L,W*Ht)},_o=b.getPageHeight=function(L){return hd(L=L||H)/Ht},Tf=b.setPageHeight=function(L,W){So(L,W*Ht)};return b.internal={pdfEscape:Ga,getStyle:od,getFont:di,getFontSize:ut,getCharSpace:ru,getTextColor:Pf,getLineHeight:kf,getLineHeightFactor:Of,getLineWidth:cl,write:at,getHorizontalCoordinate:ys,getVerticalCoordinate:ma,getCoordinateString:fd,getVerticalCoordinateString:Jl,collections:{},newObject:Ur,newAdditionalObject:Ri,newObjectDeferred:gn,newObjectDeferredBegin:_n,getFilters:Ha,putStream:ss,events:Xt,scaleFactor:Ht,pageSize:{getWidth:function(){return Ao(H)},setWidth:function(L){Lf(H,L)},getHeight:function(){return _o(H)},setHeight:function(L){Tf(H,L)}},encryptionOptions:m,encryption:Yn,getEncryptor:function(L){return m!==null?Yn.encryptor(L,0):function(W){return W}},output:sd,getNumberOfPages:nd,get pages(){return Ae},out:se,f2:U,f3:F,getPageInfo:In,getPageInfoByObjId:tu,getCurrentPageInfo:Af,getPDFVersion:N,Point:Ms,Rectangle:wo,Matrix:Ot,hasHotfix:Ka},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ao(H)},set:function(L){Lf(H,L)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return _o(H)},set:function(L){Tf(H,L)},enumerable:!0,configurable:!0}),(function(L){for(var W=0,he=xt.length;W<he;W++){var ve=ol.call(this,L[W][0],L[W][1],L[W][2],xt[W][3],!0);p===!1&&(g[ve]=!0);var _e=L[W][0].split("-");ln({id:ve,fontName:_e[0],fontStyle:_e[1]||""})}Xt.publish("addFonts",{fonts:Je,dictionary:Xe})}).call(b,xt),ct="F1",li(s,r),Xt.publish("initialized"),b}_h.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},_h.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_h.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},_h.prototype.processOwnerPassword=function(e,t){return aN(nN(t).substr(0,5),e)},_h.prototype.encryptor=function(e,t){var r=nN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return aN(r,n)}},qb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||zr(e)!==zr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Pt.API={events:[]},Pt.version="4.1.0";var Hn=Pt.API,gS=1,jf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$b=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var r=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},tr=function(e){return e.toFixed(2)},Mu=function(e){return e.toFixed(5)};Hn.__acroform__={};var ii=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},EO=function(e){return e*gS},Pl=function(e){var t=new rI,r=wt.internal.getHeight(e)||0,n=wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(tr(n)),Number(tr(r))],t},nfe=Hn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},afe=Hn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},sfe=Hn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Jn=Hn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sfe(e,t-1)},ea=Hn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nfe(e,t-1)},ta=Hn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return afe(e,t-1)},ife=Hn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],i=e[1],c=e[2],u=e[3],d={};return d.lowerLeft_X=r(s)||0,d.lowerLeft_Y=n(i+u)||0,d.upperRight_X=r(s+c)||0,d.upperRight_Y=n(i)||0,[Number(tr(d.lowerLeft_X)),Number(tr(d.lowerLeft_Y)),Number(tr(d.upperRight_X)),Number(tr(d.upperRight_Y))]},ofe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=sN(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+tr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Pl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},sN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(U){return U.split(`
`)}):s.map(function(U){return[U]});var i=r,c=wt.internal.getHeight(e)||0;c=c<0?-c:c;var u=wt.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(U,F,X){if(U+1<s.length){var Q=F+" "+s[U+1][0];return Kx(Q,e,X).width<=u-4}return!1};i++;e:for(;i>0;){t="",i--;var f,m,p=Kx("3",e,i).height,g=e.multiline?c-i:(c-p)/2,b=g+=2,y=0,N=0,j=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Kx(t,e,i=12).width+", FieldWidth:"+u+`
`;break}for(var S="",_=0,E=0;E<s.length;E++)if(s.hasOwnProperty(E)){var k=!1;if(s[E].length!==1&&j!==s[E].length-1){if((p+2)*(_+2)+2>c)continue e;S+=s[E][j],k=!0,N=E,E--}else{S=(S+=s[E][j]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var T=parseInt(E),D=d(T,S,i),M=E>=s.length-1;if(D&&!M){S+=" ",j=0;continue}if(D||M){if(M)N=T;else if(e.multiline&&(p+2)*(_+2)+2>c)continue e}else{if(!e.multiline||(p+2)*(_+2)+2>c)continue e;N=T}}for(var R="",B=y;B<=N;B++){var K=s[B];if(e.multiline){if(B===N){R+=K[j]+" ",j=(j+1)%K.length;continue}if(B===y){R+=K[K.length-1]+" ";continue}}R+=K[0]+" "}switch(R=R.substr(R.length-1)==" "?R.substr(0,R.length-1):R,m=Kx(R,e,i).width,e.textAlign){case"right":f=u-m-2;break;case"center":f=(u-m)/2;break;default:f=2}t+=tr(f)+" "+tr(b)+` Td
`,t+="("+jf(R)+`) Tj
`,t+=-tr(f)+` 0 Td
`,b=-(i+2),m=0,y=k?N:N+1,_++,S=""}break}return n.text=t,n.fontSize=i,n},Kx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},lfe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},cfe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},ufe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(sl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(lfe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gS=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new nI,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&cfe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var c in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var u=n[c],d=[],f=u.Rect;if(u.Rect&&(u.Rect=ife(u.Rect,s)),s.internal.newObjectDeferredBegin(u.objId,!0),u.DA=wt.createDefaultAppearanceStream(u),zr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var m=ofe(u);d.push({key:"AP",value:"<</N "+m+">>"}),s.internal.acroformPlugin.xForms.push(m)}if(u.appearanceStreamContent){var p="";for(var g in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(g)){var b=u.appearanceStreamContent[g];if(p+="/"+g+" ",p+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var c in b)if(b.hasOwnProperty(c)){var y=b[c];typeof y=="function"&&(y=y.call(s,u)),p+="/"+c+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=b)=="function"&&(y=y.call(s,u)),p+="/"+c+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);p+=">>"}d.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:u.objId}),s.internal.out("endobj")}i&&(function(N,j){for(var S in N)if(N.hasOwnProperty(S)){var _=S,E=N[S];j.internal.newObjectDeferredBegin(E.objId,!0),zr(E)==="object"&&typeof E.putStream=="function"&&E.putStream(),delete N[_]}})(s.internal.acroformPlugin.xForms,s)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},tI=Hn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(c){return c};if(Array.isArray(e)){for(var s="[",i=0;i<e.length;i++)switch(i!==0&&(s+=" "),zr(e[i])){case"boolean":case"number":case"object":s+=e[i].toString();break;case"string":e[i].substr(0,1)==="/"?s+="/"+$b(e[i].substr(1)):(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),s+="("+jf(n(e[i].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kw=function(e,t,r){var n=function(s){return s};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+jf(n(e))+")"},zl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};zl.prototype.toString=function(){return this.objId+" 0 R"},zl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},zl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:tI(s,this.objId,this.scope)}):s instanceof zl?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&e.push({key:n,value:s}))}return e};var rI=function(){zl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ii(rI,zl);var nI=function(){zl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+jf(r(e))+")"}},set:function(r){e=r}})};ii(nI,zl);var sl=function e(){zl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');t=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jn(t,3)},set:function(S){S?this.F=ea(t,3):this.F=ta(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');r=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Hb)return;i="FieldObject"+e.FieldNum++}var S=function(_){return _};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+jf(S(i))+")"},set:function(S){i=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(S){i=S}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(S){c=S}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/gS:f},set:function(S){f=S}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(S){m=S}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Hb||this instanceof Qd))return kw(p,this.objId,this.scope)},set:function(S){S=S.toString(),p=S}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ma==0?kw(g,this.objId,this.scope):g},set:function(S){S=S.toString(),g=this instanceof Ma==0?S.substr(0,1)==="("?wh(S.substr(1,S.length-2)):wh(S):S}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ma==1?wh(g.substr(1,g.length-1)):g},set:function(S){S=S.toString(),g=this instanceof Ma==1?"/"+$b(S):S}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ma==0?kw(b,this.objId,this.scope):b},set:function(S){S=S.toString(),b=this instanceof Ma==0?S.substr(0,1)==="("?wh(S.substr(1,S.length-2)):wh(S):S}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ma==1?wh(b.substr(1,b.length-1)):b},set:function(S){S=S.toString(),b=this instanceof Ma==1?"/"+$b(S):S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(S){S=!!S,N=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(S){y=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,1)},set:function(S){S?this.Ff=ea(this.Ff,1):this.Ff=ta(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,2)},set:function(S){S?this.Ff=ea(this.Ff,2):this.Ff=ta(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,3)},set:function(S){S?this.Ff=ea(this.Ff,3):this.Ff=ta(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');j=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(j){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:j=2;break;case"center":case 1:j=1;break;default:j=0}}})};ii(sl,zl);var Th=function(){sl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tI(t,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(i,c,u){u||(u=1);for(var d,f=[];d=c.exec(i);)f.push(d[u]);return f})(n,/\((.*?)\)/g)),t=s}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,18)},set:function(r){r?this.Ff=ea(this.Ff,18):this.Ff=ta(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ea(this.Ff,19):this.Ff=ta(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,20)},set:function(r){r?(this.Ff=ea(this.Ff,20),t.sort()):this.Ff=ta(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,22)},set:function(r){r?this.Ff=ea(this.Ff,22):this.Ff=ta(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,23)},set:function(r){r?this.Ff=ea(this.Ff,23):this.Ff=ta(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,27)},set:function(r){r?this.Ff=ea(this.Ff,27):this.Ff=ta(this.Ff,27)}}),this.hasAppearanceStream=!1};ii(Th,sl);var Rh=function(){Th.call(this),this.fontName="helvetica",this.combo=!1};ii(Rh,Th);var Dh=function(){Rh.call(this),this.combo=!0};ii(Dh,Rh);var yg=function(){Dh.call(this),this.edit=!0};ii(yg,Dh);var Ma=function(){sl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,15)},set:function(r){r?this.Ff=ea(this.Ff,15):this.Ff=ta(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,16)},set:function(r){r?this.Ff=ea(this.Ff,16):this.Ff=ta(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,17)},set:function(r){r?this.Ff=ea(this.Ff,17):this.Ff=ta(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,26)},set:function(r){r?this.Ff=ea(this.Ff,26):this.Ff=ta(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,s=[];for(n in s.push("<<"),t)s.push("/"+n+" ("+jf(r(t[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){zr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+$b(r)}})};ii(Ma,sl);var vg=function(){Ma.call(this),this.pushButton=!0};ii(vg,Ma);var Ih=function(){Ma.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ii(Ih,Ma);var Hb=function(){var e,t;sl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(s){e=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(s){t=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(u){return u};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,c=[];for(i in c.push("<<"),n)c.push("/"+i+" ("+jf(s(n[i]))+")");return c.push(">>"),c.join(`
`)},set:function(s){zr(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ii(Hb,sl),Ih.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Ih.prototype.createOption=function(e){var t=new Hb;return t.Parent=this,t.optionName=e,this.Kids.push(t),dfe.call(this.scope,t),t};var wg=function(){Ma.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};ii(wg,Ma);var Qd=function(){sl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,13)},set:function(t){t?this.Ff=ea(this.Ff,13):this.Ff=ta(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,21)},set:function(t){t?this.Ff=ea(this.Ff,21):this.Ff=ta(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,23)},set:function(t){t?this.Ff=ea(this.Ff,23):this.Ff=ta(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,24)},set:function(t){t?this.Ff=ea(this.Ff,24):this.Ff=ta(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,25)},set:function(t){t?this.Ff=ea(this.Ff,25):this.Ff=ta(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,26)},set:function(t){t?this.Ff=ea(this.Ff,26):this.Ff=ta(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ii(Qd,sl);var Ng=function(){Qd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,14)},set:function(e){e?this.Ff=ea(this.Ff,14):this.Ff=ta(this.Ff,14)}}),this.password=!0};ii(Ng,Qd);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Pl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),i=sN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+tr(wt.internal.getWidth(e))+" "+tr(wt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+tr(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Pl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],i=wt.internal.getHeight(e),c=wt.internal.getWidth(e),u=sN(e,e.caption);return s.push("1 g"),s.push("0 0 "+tr(c)+" "+tr(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+tr(c-1)+" "+tr(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+tr(u.fontSize)+" Tf "+n),s.push(u.text),s.push("ET"),s.push("Q"),t.stream=s.join(`
`),t},OffPushDown:function(e){var t=Pl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+tr(wt.internal.getWidth(e))+" "+tr(wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=wt.RadioButton.Circle.YesNormal,t.D[e]=wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Pl(e);t.scope=e.scope;var r=[],n=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=wt.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Mu(wt.internal.getWidth(e)/2)+" "+Mu(wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Pl(e);t.scope=e.scope;var r=[],n=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*wt.internal.Bezier_C).toFixed(5)),c=Number((n*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Mu(wt.internal.getWidth(e)/2)+" "+Mu(wt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Mu(wt.internal.getWidth(e)/2)+" "+Mu(wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Pl(e);t.scope=e.scope;var r=[],n=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Mu(wt.internal.getWidth(e)/2)+" "+Mu(wt.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=wt.RadioButton.Cross.YesNormal,t.D[e]=wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Pl(e);t.scope=e.scope;var r=[],n=wt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+tr(wt.internal.getWidth(e)-2)+" "+tr(wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(tr(n.x1.x)+" "+tr(n.x1.y)+" m"),r.push(tr(n.x2.x)+" "+tr(n.x2.y)+" l"),r.push(tr(n.x4.x)+" "+tr(n.x4.y)+" m"),r.push(tr(n.x3.x)+" "+tr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Pl(e);t.scope=e.scope;var r=wt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+tr(wt.internal.getWidth(e))+" "+tr(wt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+tr(wt.internal.getWidth(e)-2)+" "+tr(wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(tr(r.x1.x)+" "+tr(r.x1.y)+" m"),n.push(tr(r.x2.x)+" "+tr(r.x2.y)+" l"),n.push(tr(r.x4.x)+" "+tr(r.x4.y)+" m"),n.push(tr(r.x3.x)+" "+tr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Pl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+tr(wt.internal.getWidth(e))+" "+tr(wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=wt.internal.getWidth(e),r=wt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},wt.internal.getWidth=function(e){var t=0;return zr(e)==="object"&&(t=EO(e.Rect[2])),t},wt.internal.getHeight=function(e){var t=0;return zr(e)==="object"&&(t=EO(e.Rect[3])),t};var dfe=Hn.addField=function(e){if(ufe(this,e),!(e instanceof sl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Hn.AcroFormChoiceField=Th,Hn.AcroFormListBox=Rh,Hn.AcroFormComboBox=Dh,Hn.AcroFormEditBox=yg,Hn.AcroFormButton=Ma,Hn.AcroFormPushButton=vg,Hn.AcroFormRadioButton=Ih,Hn.AcroFormCheckBox=wg,Hn.AcroFormTextField=Qd,Hn.AcroFormPasswordField=Ng,Hn.AcroFormAppearance=wt,Hn.AcroForm={ChoiceField:Th,ListBox:Rh,ComboBox:Dh,EditBox:yg,Button:Ma,PushButton:vg,RadioButton:Ih,CheckBox:wg,TextField:Qd,PasswordField:Ng,Appearance:wt},Pt.AcroForm={ChoiceField:Th,ListBox:Rh,ComboBox:Dh,EditBox:yg,Button:Ma,PushButton:vg,RadioButton:Ih,CheckBox:wg,TextField:Qd,PasswordField:Ng,Appearance:wt};Pt.AcroForm;function aI(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(U,F){var X,Q,pe,re,ue,V=r;if((F=F||r)==="RGBA"||U.data!==void 0&&U.data instanceof Uint8ClampedArray&&"height"in U&&"width"in U)return"RGBA";if(D(U))for(ue in n)for(pe=n[ue],X=0;X<pe.length;X+=1){for(re=!0,Q=0;Q<pe[X].length;Q+=1)if(pe[X][Q]!==void 0&&pe[X][Q]!==U[Q]){re=!1;break}if(re===!0){V=ue;break}}else for(ue in n)for(pe=n[ue],X=0;X<pe.length;X+=1){for(re=!0,Q=0;Q<pe[X].length;Q+=1)if(pe[X][Q]!==void 0&&pe[X][Q]!==U.charCodeAt(Q)){re=!1;break}if(re===!0){V=ue;break}}return V===r&&F!==r&&(V=F),V},i=function U(F){for(var X=this.internal.write,Q=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:F.width}),re.push({key:"Height",value:F.height}),F.colorSpace===S.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===S.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var ue="",V=0,Z=F.transparency.length;V<Z;V++)ue+=F.transparency[V]+" "+F.transparency[V]+" ";re.push({key:"Mask",value:"["+ue+"]"})}F.sMask!==void 0&&re.push({key:"SMask",value:F.objectId+1+" 0 R"});var ge=F.filter!==void 0?["/"+F.filter]:void 0;if(Q({data:F.data,additionalKeyValues:re,alreadyAppliedFilters:ge,objectId:F.objectId}),X("endobj"),"sMask"in F&&F.sMask!==void 0){var G,P=(G=F.sMaskBitsPerComponent)!==null&&G!==void 0?G:F.bitsPerComponent,H={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:F.sMask};"filter"in F&&(H.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(F.width),H.filter=F.filter),U.call(this,H)}if(F.colorSpace===S.INDEXED){var $=this.internal.newObject();Q({data:R(new Uint8Array(F.palette)),objectId:$}),X("endobj")}},c=function(){var U=this.internal.collections[t+"images"];for(var F in U)i.call(this,U[F])},u=function(){var U,F=this.internal.collections[t+"images"],X=this.internal.write;for(var Q in F)X("/I"+(U=F[Q]).index,U.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var U=this.internal.collections[t+"images"];return d.call(this),U},m=function(){return Object.keys(this.internal.collections[t+"images"]).length},p=function(U){return typeof e["process"+U.toUpperCase()]=="function"},g=function(U){return zr(U)==="object"&&U.nodeType===1},b=function(U,F){if(U.nodeName==="IMG"&&U.hasAttribute("src")){var X=""+U.getAttribute("src");if(X.indexOf("data:image/")===0)return bg(unescape(X).split("base64,").pop());var Q=e.loadFile(X,!0);if(Q!==void 0)return Q}if(U.nodeName==="CANVAS"){if(U.width===0||U.height===0)throw new Error("Given canvas must have data. Canvas width: "+U.width+", height: "+U.height);var pe;switch(F){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return bg(U.toDataURL(pe,1).split("base64,").pop())}},y=function(U){var F=this.internal.collections[t+"images"];if(F){for(var X in F)if(U===F[X].alias)return F[X]}},N=function(U,F,X){return U||F||(U=-96,F=-96),U<0&&(U=-1*X.width*72/U/this.internal.scaleFactor),F<0&&(F=-1*X.height*72/F/this.internal.scaleFactor),U===0&&(U=F*X.width/X.height),F===0&&(F=U*X.height/X.width),[U,F]},j=function(U,F,X,Q,pe,re){var ue=N.call(this,X,Q,pe),V=this.internal.getCoordinateString,Z=this.internal.getVerticalCoordinateString,ge=f.call(this);if(X=ue[0],Q=ue[1],ge[pe.index]=pe,re){re*=Math.PI/180;var G=Math.cos(re),P=Math.sin(re),H=function(ae){return ae.toFixed(4)},$=[H(G),H(P),H(-1*P),H(G),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,V(U),Z(F+Q),"cm"].join(" ")),this.internal.write($.join(" ")),this.internal.write([V(X),"0","0",V(Q),"0","0","cm"].join(" "))):this.internal.write([V(X),"0","0",V(Q),V(U),Z(F+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},S=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=e.__addimage__.sHashCode=function(U){var F,X,Q=0;if(typeof U=="string")for(X=U.length,F=0;F<X;F++)Q=(Q<<5)-Q+U.charCodeAt(F),Q|=0;else if(D(U))for(X=U.byteLength/2,F=0;F<X;F++)Q=(Q<<5)-Q+U[F],Q|=0;return Q},k=e.__addimage__.validateStringAsBase64=function(U){(U=U||"").toString().trim();var F=!0;return U.length===0&&(F=!1),U.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(U.substr(0,U.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(U.substr(-2))===!1&&(F=!1),F},T=e.__addimage__.extractImageFromDataUrl=function(U){if(U==null||!(U=U.trim()).startsWith("data:"))return null;var F=U.indexOf(",");return F<0?null:U.substring(0,F).trim().endsWith("base64")?U.substring(F+1):null};e.__addimage__.isArrayBuffer=function(U){return U instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(U){return U instanceof Int8Array||U instanceof Uint8Array||U instanceof Uint8ClampedArray||U instanceof Int16Array||U instanceof Uint16Array||U instanceof Int32Array||U instanceof Uint32Array||U instanceof Float32Array||U instanceof Float64Array},M=e.__addimage__.binaryStringToUint8Array=function(U){for(var F=U.length,X=new Uint8Array(F),Q=0;Q<F;Q++)X[Q]=U.charCodeAt(Q);return X},R=e.__addimage__.arrayBufferToBinaryString=function(U){for(var F="",X=D(U)?U:new Uint8Array(U),Q=0;Q<X.length;Q+=8192)F+=String.fromCharCode.apply(null,X.subarray(Q,Q+8192));return F};e.addImage=function(){var U,F,X,Q,pe,re,ue,V,Z;if(typeof arguments[1]=="number"?(F=r,X=arguments[1],Q=arguments[2],pe=arguments[3],re=arguments[4],ue=arguments[5],V=arguments[6],Z=arguments[7]):(F=arguments[1],X=arguments[2],Q=arguments[3],pe=arguments[4],re=arguments[5],ue=arguments[6],V=arguments[7],Z=arguments[8]),zr(U=arguments[0])==="object"&&!g(U)&&"imageData"in U){var ge=U;U=ge.imageData,F=ge.format||F||r,X=ge.x||X||0,Q=ge.y||Q||0,pe=ge.w||ge.width||pe,re=ge.h||ge.height||re,ue=ge.alias||ue,V=ge.compression||V,Z=ge.rotation||ge.angle||Z}var G=this.internal.getFilters();if(V===void 0&&G.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(X)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var P=B.call(this,U,F,ue,V);return j.call(this,X,Q,pe,re,P,Z),this};var B=function(U,F,X,Q){var pe,re,ue;if(typeof U=="string"&&s(U)===r){U=unescape(U);var V=K(U,!1);(V!==""||(V=e.loadFile(U,!0))!==void 0)&&(U=V)}if(g(U)&&(U=b(U,F)),F=s(U,F),!p(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((ue=X)==null||ue.length===0)&&(X=(function(Z){return typeof Z=="string"||D(Z)?E(Z):D(Z.data)?E(Z.data):null})(U)),(pe=y.call(this,X))||(U instanceof Uint8Array||F==="RGBA"||(re=U,U=M(U)),pe=this["process"+F.toUpperCase()](U,m.call(this),X,(function(Z){return Z&&typeof Z=="string"&&(Z=Z.toUpperCase()),Z in e.image_compression?Z:_.NONE})(Q),re)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},K=e.__addimage__.convertBase64ToBinaryString=function(U,F){F=typeof F!="boolean"||F;var X,Q="";if(typeof U=="string"){var pe;X=(pe=T(U))!==null&&pe!==void 0?pe:U;try{Q=bg(X)}catch(re){if(F)throw k(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Q};e.getImageProperties=function(U){var F,X,Q="";if(g(U)&&(U=b(U)),typeof U=="string"&&s(U)===r&&((Q=K(U,!1))===""&&(Q=e.loadFile(U)||""),U=Q),X=s(U),!p(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(U instanceof Uint8Array||(U=M(U)),!(F=this["process"+X.toUpperCase()](U)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=X,F}})(Pt.API),(function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Pt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,s,i,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,m=!1,p=0;p<f.length&&!m;p++)switch((n=f[p]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var g=0;g<f.length;g++){n=f[g];var b=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(N.objId),_=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+b(S(n.contents))+")",i+=" /Popup "+j.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+b(S(_))+") >>",N.content=i;var E=N.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+c(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+E,n.open&&(i+=" /Open true"),i+=" >>",j.content=i,this.internal.write(N.objId,"0 R",j.objId,"0 R");break;case"freetext":s="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(y(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var T=this.annotations._nameMap[n.options.name];n.options.pageNumber=T.page,n.options.top=T.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var D=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,s,i,c){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(r),y:f(n),w:d(r+s),h:f(n+i)},options:c,type:"link"})},e.textWithLink=function(r,n,s,i){var c,u,d=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var m=this.splitTextToSize(r,u).length;c=Math.ceil(f*m)}else u=d,c=f;return this.text(r,n,s,i),s+=.2*f,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,s-f,u,c,i),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Pt.API),(function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(N){return t[N.charCodeAt(0)]!==void 0},c=e.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},u=e.__arabicParser__.isArabicEndLetter=function(N){return c(N)&&i(N)&&t[N.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(N){return c(N)&&s.indexOf(N.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return c(N)&&i(N)&&t[N.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(N){return c(N)&&i(N)&&t[N.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(N){return c(N)&&i(N)&&t[N.charCodeAt(0)].length>=3};var m=e.__arabicParser__.arabicLetterHasMedialForm=function(N){return c(N)&&i(N)&&t[N.charCodeAt(0)].length==4},p=e.__arabicParser__.resolveLigatures=function(N){var j=0,S=r,_="",E=0;for(j=0;j<N.length;j+=1)S[N.charCodeAt(j)]!==void 0?(E++,typeof(S=S[N.charCodeAt(j)])=="number"&&(_+=String.fromCharCode(S),S=r,E=0),j===N.length-1&&(S=r,_+=N.charAt(j-(E-1)),j-=E-1,E=0)):(S=r,_+=N.charAt(j-E),j-=E,E=0);return _};e.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&n[N.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(N,j,S){return c(N)?i(N)===!1?-1:!f(N)||!c(j)&&!c(S)||!c(S)&&u(j)||u(N)&&!c(j)||u(N)&&d(j)||u(N)&&u(j)?0:m(N)&&c(j)&&!u(j)&&c(S)&&f(S)?3:u(N)||!c(S)?1:2:-1},b=function(N){var j=0,S=0,_=0,E="",k="",T="",D=(N=N||"").split("\\s+"),M=[];for(j=0;j<D.length;j+=1){for(M.push(""),S=0;S<D[j].length;S+=1)E=D[j][S],k=D[j][S-1],T=D[j][S+1],c(E)?(_=g(E,k,T),M[j]+=_!==-1?String.fromCharCode(t[E.charCodeAt(0)][_]):E):M[j]+=E;M[j]=p(M[j])}return M.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var N,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(j)){var _=0;for(S=[],_=0;_<j.length;_+=1)Array.isArray(j[_])?S.push([b(j[_][0]),j[_][1],j[_][2]]):S.push([b(j[_])]);N=S}else N=b(j);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};e.events.push(["preProcessText",y])})(Pt.API),Pt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},(function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(u){s=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])})(Pt.API),(function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(N){b=N}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(N){y=N}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,f){n.call(this);var m=(f=f||{}).fontSize||this.getFontSize(),p=f.font||this.getFont(),g=f.scaleFactor||this.internal.scaleFactor,b=0,y=0,N=0,j=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var S=f.maxWidth;S>0?typeof d=="string"?d=this.splitTextToSize(d,S):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(E,k){return E.concat(j.splitTextToSize(k,S))},[])):d=Array.isArray(d)?d:[d];for(var _=0;_<d.length;_++)b<(N=this.getStringUnitWidth(d[_],{font:p})*m)&&(b=N);return b!==0&&(y=d.length),{w:b/=g,h:Math.max((y*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=e.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var f=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,p=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=p.top,b&&g&&(this.printHeaderRow(d.lineNumber,!0),d.y+=g[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-m,d.y+m,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+m,{align:"center",baseline:"top",maxWidth:d.width-m-m}):this.text(d.text,d.x+m,d.y+m,{align:"left",baseline:"top",maxWidth:d.width-m-m})),this.internal.__cell__.lastCell=d,this};e.table=function(d,f,m,p,g){if(n.call(this),!m)throw new Error("No data for PDF table.");var b,y,N,j,S=[],_=[],E=[],k={},T={},D=[],M=[],R=(g=g||{}).autoSize||!1,B=g.printHeaders!==!1,K=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,U=g.margins||Object.assign({width:this.getPageWidth()},t),F=typeof g.padding=="number"?g.padding:3,X=g.headerBackgroundColor||"#c8c8c8",Q=g.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=U,this.internal.__cell__.table_font_size=K,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=Q,this.setFontSize(K),p==null)_=S=Object.keys(m[0]),E=S.map(function(){return"left"});else if(Array.isArray(p)&&zr(p[0])==="object")for(S=p.map(function(ge){return ge.name}),_=p.map(function(ge){return ge.prompt||ge.name||""}),E=p.map(function(ge){return ge.align||"left"}),b=0;b<p.length;b+=1)T[p[b].name]=.7499990551181103*p[b].width;else Array.isArray(p)&&typeof p[0]=="string"&&(_=S=p,E=S.map(function(){return"left"}));if(R||Array.isArray(p)&&typeof p[0]=="string")for(b=0;b<S.length;b+=1){for(k[j=S[b]]=m.map(function(ge){return ge[j]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(_[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=k[j],this.setFont(void 0,"normal"),N=0;N<y.length;N+=1)D.push(this.getTextDimensions(y[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);T[j]=Math.max.apply(null,D)+F+F,D=[]}if(B){var pe={};for(b=0;b<S.length;b+=1)pe[S[b]]={},pe[S[b]].text=_[b],pe[S[b]].align=E[b];var re=u.call(this,pe,T);M=S.map(function(ge){return new i(d,f,T[ge],re,pe[ge].text,void 0,pe[ge].align)}),this.setTableHeaderRow(M),this.printHeaderRow(1,!1)}var ue=p.reduce(function(ge,G){return ge[G.name]=G.align,ge},{});for(b=0;b<m.length;b+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:b,data:m[b]},this);var V=u.call(this,m[b],T);for(N=0;N<S.length;N+=1){var Z=m[b][S[N]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:b,col:N,data:Z},this),c.call(this,new i(d,f,T[S[N]],V,Z,b+2,ue[S[N]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var u=function(d,f){var m=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(d).map(function(b){var y=d[b];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,f[b]-m-m)},this).map(function(b){return this.getLineHeightFactor()*b.length*p/g+m+m},this).reduce(function(b,y){return Math.max(b,y)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){m=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(m.y=this.internal.__cell__.margins.top||0,g.push(m)),m.lineNumber=d;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,m),this.setTextColor(y)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(Pt.API);var sI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},iI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],iN=aI(iI),oI=[100,200,300,400,500,600,700,800,900],ffe=aI(oI);function Ow(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return sI[i=i||"normal"]?i:"normal"})(e.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(e.weight),s=(function(i){return typeof iN[i=i||"normal"]=="number"?i:"normal"})(e.stretch);return{family:t,style:r,weight:n,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,r,n].join(" ")}}}function kO(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var hfe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},OO={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function PO(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function LO(e){return e.trimLeft()}function mfe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function pfe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Nh,Vx,TO,RO,DO,Pw=["times"];function IO(e,t,r,n,s){var i=4,c=BO;switch(s){case Pt.API.image_compression.FAST:i=1,c=MO;break;case Pt.API.image_compression.MEDIUM:i=6,c=zO;break;case Pt.API.image_compression.SLOW:i=9,c=FO}e=(function(d,f,m,p){for(var g,b=d.length/f,y=new Uint8Array(d.length+b),N=[xfe,MO,BO,zO,FO],j=0;j<b;j+=1){var S=j*f,_=d.subarray(S,S+f);if(p)y.set(p(_,m,g),S+j);else{for(var E=N.length,k=[],T=0;T<E;T+=1)k[T]=N[T](_,m,g);var D=bfe(k.concat());y.set(k[D],S+j)}g=_}return y})(e,t,Math.ceil(r*n/8),c);var u=J5(e,{level:i});return Pt.API.__addimage__.arrayBufferToBinaryString(u)}function xfe(e){var t=Array.apply([],e);return t.unshift(0),t}function MO(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=e[s-t]||0;n[s+1]=e[s]-i+256&255}return n}function BO(e,t,r){var n=e.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var c=r&&r[i]||0;s[i+1]=e[i]-c+256&255}return s}function zO(e,t,r){var n=e.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var c=e[i-t]||0,u=r&&r[i]||0;s[i+1]=e[i]+256-(c+u>>>1)&255}return s}function FO(e,t,r){var n=e.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var c=gfe(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);s[i+1]=e[i]-c+256&255}return s}function gfe(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=s&&n<=i?e:s<=i?t:r}function bfe(e){var t=e.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return t.indexOf(Math.min.apply(null,t))}function Lw(e,t,r){var n=t*r,s=Math.floor(n/8),i=16-(n-8*s+r),c=(1<<r)-1;return lI(e,s)>>i&c}function UO(e,t,r,n){var s=r*n,i=Math.floor(s/8),c=16-(s-8*i+n),u=(1<<n)-1,d=(t&u)<<c;(function(f,m,p){if(m+1<f.byteLength)f.setUint16(m,p,!1);else{var g=p>>8&255;f.setUint8(m,g)}})(e,i,lI(e,i)&~(u<<c)&65535|d)}function lI(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function yfe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],i=s>>7,c=1<<1+(7&s);e[t++],e[t++];var u=null,d=null;i&&(u=t,d=c,t+=3*c);var f=!0,m=[],p=0,g=null,b=0,y=null;for(this.width=r,this.height=n;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var N=e[t++];p=e[t++]|e[t++]<<8,g=e[t++],1&N||(g=null),b=N>>2&7,t++;break;case 254:for(;;){if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var j=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,k=e[t++],T=k>>6&1,D=1<<1+(7&k),M=u,R=d,B=!1;k>>7&&(B=!0,M=t,R=D,t+=3*D);var K=t;for(t++;;){var U;if(!((U=e[t++])>=0))throw Error("Invalid block size");if(U===0)break;t+=U}m.push({x:j,y:S,width:_,height:E,has_local_palette:B,palette_offset:M,palette_size:R,data_offset:K,data_length:t-K,transparent_index:g,interlaced:!!T,delay:p,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return y},this.frameInfo=function(F){if(F<0||F>=m.length)throw new Error("Frame index out of range.");return m[F]},this.decodeAndBlitFrameBGRA=function(F,X){var Q=this.frameInfo(F),pe=Q.width*Q.height,re=new Uint8Array(pe);qO(e,Q.data_offset,re,pe);var ue=Q.palette_offset,V=Q.transparent_index;V===null&&(V=256);var Z=Q.width,ge=r-Z,G=Z,P=4*(Q.y*r+Q.x),H=4*((Q.y+Q.height)*r+Q.x),$=P,ae=4*ge;Q.interlaced===!0&&(ae+=4*r*7);for(var le=8,be=0,ce=re.length;be<ce;++be){var oe=re[be];if(G===0&&(G=Z,($+=ae)>=H&&(ae=4*ge+4*r*(le-1),$=P+(Z+ge)*(le<<1),le>>=1)),oe===V)$+=4;else{var me=e[ue+3*oe],Ae=e[ue+3*oe+1],xe=e[ue+3*oe+2];X[$++]=xe,X[$++]=Ae,X[$++]=me,X[$++]=255}--G}},this.decodeAndBlitFrameRGBA=function(F,X){var Q=this.frameInfo(F),pe=Q.width*Q.height,re=new Uint8Array(pe);qO(e,Q.data_offset,re,pe);var ue=Q.palette_offset,V=Q.transparent_index;V===null&&(V=256);var Z=Q.width,ge=r-Z,G=Z,P=4*(Q.y*r+Q.x),H=4*((Q.y+Q.height)*r+Q.x),$=P,ae=4*ge;Q.interlaced===!0&&(ae+=4*r*7);for(var le=8,be=0,ce=re.length;be<ce;++be){var oe=re[be];if(G===0&&(G=Z,($+=ae)>=H&&(ae=4*ge+4*r*(le-1),$=P+(Z+ge)*(le<<1),le>>=1)),oe===V)$+=4;else{var me=e[ue+3*oe],Ae=e[ue+3*oe+1],xe=e[ue+3*oe+2];X[$++]=me,X[$++]=Ae,X[$++]=xe,X[$++]=255}--G}}}function qO(e,t,r,n){for(var s=e[t++],i=1<<s,c=i+1,u=c+1,d=s+1,f=(1<<d)-1,m=0,p=0,g=0,b=e[t++],y=new Int32Array(4096),N=null;;){for(;m<16&&b!==0;)p|=e[t++]<<m,m+=8,b===1?b=e[t++]:--b;if(m<d)break;var j=p&f;if(p>>=d,m-=d,j!==i){if(j===c)break;for(var S=j<u?j:N,_=0,E=S;E>i;)E=y[E]>>8,++_;var k=E;if(g+_+(S!==j?1:0)>n)return void nn.log("Warning, gif stream longer than expected.");r[g++]=k;var T=g+=_;for(S!==j&&(r[g++]=k),E=S;_--;)E=y[E],r[--T]=255&E,E>>=8;N!==null&&u<4096&&(y[u++]=N<<8|k,u>=f+1&&d<12&&(++d,f=f<<1|1)),N=j}else u=c+1,f=(1<<(d=s+1))-1,N=null}return g!==n&&nn.log("Warning, gif stream shorter than expected."),r}function Tw(e){var t,r,n,s,i,c=Math.floor,u=new Array(64),d=new Array(64),f=new Array(64),m=new Array(64),p=new Array(65535),g=new Array(65535),b=new Array(64),y=new Array(64),N=[],j=0,S=7,_=new Array(64),E=new Array(64),k=new Array(64),T=new Array(256),D=new Array(2048),M=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],R=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],U=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(P,H){for(var $=0,ae=0,le=new Array,be=1;be<=16;be++){for(var ce=1;ce<=P[be];ce++)le[H[ae]]=[],le[H[ae]][0]=$,le[H[ae]][1]=be,ae++,$++;$*=2}return le}function ue(P){for(var H=P[0],$=P[1]-1;$>=0;)H&1<<$&&(j|=1<<S),$--,--S<0&&(j==255?(V(255),V(0)):V(j),S=7,j=0)}function V(P){N.push(P)}function Z(P){V(P>>8&255),V(255&P)}function ge(P,H,$,ae,le){for(var be,ce=le[0],oe=le[240],me=(function(tt,jt){var ut,kt,Ct,Gt,nr,Ut,ar,Kt,ct,Ht,Se=0;for(ct=0;ct<8;++ct){ut=tt[Se],kt=tt[Se+1],Ct=tt[Se+2],Gt=tt[Se+3],nr=tt[Se+4],Ut=tt[Se+5],ar=tt[Se+6];var qe=ut+(Kt=tt[Se+7]),Fe=ut-Kt,Je=kt+ar,Xe=kt-ar,et=Ct+Ut,nt=Ct-Ut,Nt=Gt+nr,gt=Gt-nr,it=qe+Nt,Et=qe-Nt,Tt=Je+et,ht=Je-et;tt[Se]=it+Tt,tt[Se+4]=it-Tt;var Xt=.707106781*(ht+Et);tt[Se+2]=Et+Xt,tt[Se+6]=Et-Xt;var Zr=.382683433*((it=gt+nt)-(ht=Xe+Fe)),Jr=.5411961*it+Zr,aa=1.306562965*ht+Zr,as=.707106781*(Tt=nt+Xe),Ot=Fe+as,oi=Fe-as;tt[Se+5]=oi+Jr,tt[Se+3]=oi-Jr,tt[Se+1]=Ot+aa,tt[Se+7]=Ot-aa,Se+=8}for(Se=0,ct=0;ct<8;++ct){ut=tt[Se],kt=tt[Se+8],Ct=tt[Se+16],Gt=tt[Se+24],nr=tt[Se+32],Ut=tt[Se+40],ar=tt[Se+48];var Rs=ut+(Kt=tt[Se+56]),qa=ut-Kt,$a=kt+ar,Ur=kt-ar,gn=Ct+Ut,_n=Ct-Ut,Ri=Gt+nr,ha=Gt-nr,jr=Rs+Ri,qr=Rs-Ri,sa=$a+gn,Ha=$a-gn;tt[Se]=jr+sa,tt[Se+32]=jr-sa;var ss=.707106781*(Ha+qr);tt[Se+16]=qr+ss,tt[Se+48]=qr-ss;var bo=.382683433*((jr=ha+_n)-(Ha=Ur+qa)),gs=.5411961*jr+bo,Pe=1.306562965*Ha+bo,lt=.707106781*(sa=_n+Ur),St=qa+lt,on=qa-lt;tt[Se+40]=on+gs,tt[Se+24]=on-gs,tt[Se+8]=St+Pe,tt[Se+56]=St-Pe,Se++}for(ct=0;ct<64;++ct)Ht=tt[ct]*jt[ct],b[ct]=Ht>0?Ht+.5|0:Ht-.5|0;return b})(P,H),Ae=0;Ae<64;++Ae)y[M[Ae]]=me[Ae];var xe=y[0]-$;$=y[0],xe==0?ue(ae[0]):(ue(ae[g[be=32767+xe]]),ue(p[be]));for(var Ie=63;Ie>0&&y[Ie]==0;)Ie--;if(Ie==0)return ue(ce),$;for(var Ve,se=1;se<=Ie;){for(var at=se;y[se]==0&&se<=Ie;)++se;var Dt=se-at;if(Dt>=16){Ve=Dt>>4;for(var xt=1;xt<=Ve;++xt)ue(oe);Dt&=15}be=32767+y[se],ue(le[(Dt<<4)+g[be]]),ue(p[be]),se++}return Ie!=63&&ue(ce),$}function G(P){P=Math.min(Math.max(P,1),100),i!=P&&((function(H){for(var $=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var le=c(($[ae]*H+50)/100);le=Math.min(Math.max(le,1),255),u[M[ae]]=le}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var oe=c((be[ce]*H+50)/100);oe=Math.min(Math.max(oe,1),255),d[M[ce]]=oe}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,xe=0;xe<8;xe++)for(var Ie=0;Ie<8;Ie++)f[Ae]=1/(u[M[Ae]]*me[xe]*me[Ie]*8),m[Ae]=1/(d[M[Ae]]*me[xe]*me[Ie]*8),Ae++})(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),i=P)}this.encode=function(P,H){H&&G(H),N=new Array,j=0,S=7,Z(65496),Z(65504),Z(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),Z(1),Z(1),V(0),V(0),(function(){Z(65499),Z(132),V(0);for(var kt=0;kt<64;kt++)V(u[kt]);V(1);for(var Ct=0;Ct<64;Ct++)V(d[Ct])})(),(function(kt,Ct){Z(65472),Z(17),V(8),Z(Ct),Z(kt),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)})(P.width,P.height),(function(){Z(65476),Z(418),V(0);for(var kt=0;kt<16;kt++)V(R[kt+1]);for(var Ct=0;Ct<=11;Ct++)V(B[Ct]);V(16);for(var Gt=0;Gt<16;Gt++)V(K[Gt+1]);for(var nr=0;nr<=161;nr++)V(U[nr]);V(1);for(var Ut=0;Ut<16;Ut++)V(F[Ut+1]);for(var ar=0;ar<=11;ar++)V(X[ar]);V(17);for(var Kt=0;Kt<16;Kt++)V(Q[Kt+1]);for(var ct=0;ct<=161;ct++)V(pe[ct])})(),Z(65498),Z(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var $=0,ae=0,le=0;j=0,S=7,this.encode.displayName="_encode_";for(var be,ce,oe,me,Ae,xe,Ie,Ve,se,at=P.data,Dt=P.width,xt=P.height,tt=4*Dt,jt=0;jt<xt;){for(be=0;be<tt;){for(Ae=tt*jt+be,Ie=-1,Ve=0,se=0;se<64;se++)xe=Ae+(Ve=se>>3)*tt+(Ie=4*(7&se)),jt+Ve>=xt&&(xe-=tt*(jt+1+Ve-xt)),be+Ie>=tt&&(xe-=be+Ie-tt+4),ce=at[xe++],oe=at[xe++],me=at[xe++],_[se]=(D[ce]+D[oe+256|0]+D[me+512|0]>>16)-128,E[se]=(D[ce+768|0]+D[oe+1024|0]+D[me+1280|0]>>16)-128,k[se]=(D[ce+1280|0]+D[oe+1536|0]+D[me+1792|0]>>16)-128;$=ge(_,f,$,t,n),ae=ge(E,m,ae,r,s),le=ge(k,m,le,r,s),be+=32}jt+=8}if(S>=0){var ut=[];ut[1]=S+1,ut[0]=(1<<S+1)-1,ue(ut)}return Z(65497),new Uint8Array(N)},e=e||50,(function(){for(var P=String.fromCharCode,H=0;H<256;H++)T[H]=P(H)})(),t=re(R,B),r=re(F,X),n=re(K,U),s=re(Q,pe),(function(){for(var P=1,H=2,$=1;$<=15;$++){for(var ae=P;ae<H;ae++)g[32767+ae]=$,p[32767+ae]=[],p[32767+ae][1]=$,p[32767+ae][0]=ae;for(var le=-(H-1);le<=-P;le++)g[32767+le]=$,p[32767+le]=[],p[32767+le][1]=$,p[32767+le][0]=H-1+le;P<<=1,H<<=1}})(),(function(){for(var P=0;P<256;P++)D[P]=19595*P,D[P+256|0]=38470*P,D[P+512|0]=7471*P+32768,D[P+768|0]=-11059*P,D[P+1024|0]=-21709*P,D[P+1280|0]=32768*P+8421375,D[P+1536|0]=-27439*P,D[P+1792|0]=-5329*P})(),G(e)}function Go(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function $O(e){function t(B){if(!B)throw Error("assert :P")}function r(B,K,U){for(var F=0;4>F;F++)if(B[K+F]!=U.charCodeAt(F))return!0;return!1}function n(B,K,U,F,X){for(var Q=0;Q<X;Q++)B[K+Q]=U[F+Q]}function s(B,K,U,F){for(var X=0;X<F;X++)B[K+X]=U}function i(B){return new Int32Array(B)}function c(B,K){for(var U=[],F=0;F<B;F++)U.push(new K);return U}function u(B,K){var U=[];return(function F(X,Q,pe){for(var re=pe[Q],ue=0;ue<re&&(X.push(pe.length>Q+1?[]:new K),!(pe.length<Q+1));ue++)F(X[ue],Q+1,pe)})(U,0,B),U}var d=function(){var B=this;function K(w,C){for(var I=1<<C-1>>>0;w&I;)I>>>=1;return I?(w&I-1)+I:w}function U(w,C,I,z,Y){t(!(z%I));do w[C+(z-=I)]=Y;while(0<z)}function F(w,C,I,z,Y){if(t(2328>=Y),512>=Y)var J=i(512);else if((J=i(Y))==null)return 0;return(function(ee,ne,ie,fe,we,Oe){var de,je,Ee=ne,Ue=1<<ie,ke=i(16),ze=i(16);for(t(we!=0),t(fe!=null),t(ee!=null),t(0<ie),je=0;je<we;++je){if(15<fe[je])return 0;++ke[fe[je]]}if(ke[0]==we)return 0;for(ze[1]=0,de=1;15>de;++de){if(ke[de]>1<<de)return 0;ze[de+1]=ze[de]+ke[de]}for(je=0;je<we;++je)de=fe[je],0<fe[je]&&(Oe[ze[de]++]=je);if(ze[15]==1)return(fe=new X).g=0,fe.value=Oe[0],U(ee,Ee,1,Ue,fe),Ue;var Ke,st=-1,Ze=Ue-1,vt=0,dt=1,Wt=1,mt=1<<ie;for(je=0,de=1,we=2;de<=ie;++de,we<<=1){if(dt+=Wt<<=1,0>(Wt-=ke[de]))return 0;for(;0<ke[de];--ke[de])(fe=new X).g=de,fe.value=Oe[je++],U(ee,Ee+vt,we,mt,fe),vt=K(vt,de)}for(de=ie+1,we=2;15>=de;++de,we<<=1){if(dt+=Wt<<=1,0>(Wt-=ke[de]))return 0;for(;0<ke[de];--ke[de]){if(fe=new X,(vt&Ze)!=st){for(Ee+=mt,Ke=1<<(st=de)-ie;15>st&&!(0>=(Ke-=ke[st]));)++st,Ke<<=1;Ue+=mt=1<<(Ke=st-ie),ee[ne+(st=vt&Ze)].g=Ke+ie,ee[ne+st].value=Ee-ne-st}fe.g=de-ie,fe.value=Oe[je++],U(ee,Ee+(vt>>ie),we,mt,fe),vt=K(vt,de)}}return dt!=2*ze[15]-1?0:Ue})(w,C,I,z,Y,J)}function X(){this.value=this.g=0}function Q(){this.value=this.g=0}function pe(){this.G=c(5,X),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(fl,Q)}function re(w,C,I,z){t(w!=null),t(C!=null),t(2147483648>z),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=C,w.pa=I,w.Jd=C,w.Yc=I+z,w.Zc=4<=z?I+z-4+1:I,ce(w)}function ue(w,C){for(var I=0;0<C--;)I|=me(w,128)<<C;return I}function V(w,C){var I=ue(w,C);return oe(w)?-I:I}function Z(w,C,I,z){var Y,J=0;for(t(w!=null),t(C!=null),t(4294967288>z),w.Sb=z,w.Ra=0,w.u=0,w.h=0,4<z&&(z=4),Y=0;Y<z;++Y)J+=C[I+Y]<<8*Y;w.Ra=J,w.bb=z,w.oa=C,w.pa=I}function ge(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Ui-8>>>0,++w.bb,w.u-=8;ae(w)&&(w.h=1,w.u=0)}function G(w,C){if(t(0<=C),!w.h&&C<=Ya){var I=$(w)&ls[C];return w.u+=C,ge(w),I}return w.h=1,w.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function H(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(w){return w.Ra>>>(w.u&Ui-1)>>>0}function ae(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Ui}function le(w,C){w.u=C,w.h=ae(w)}function be(w){w.u>=qi&&(t(w.u>=qi),ge(w))}function ce(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function oe(w){return ue(w,1)}function me(w,C){var I=w.Ca;0>w.b&&ce(w);var z=w.b,Y=I*C>>>8,J=(w.I>>>z>Y)+0;for(J?(I-=Y,w.I-=Y+1<<z>>>0):I=Y+1,z=I,Y=0;256<=z;)Y+=8,z>>=8;return z=7^Y+Lo[z],w.b-=z,w.Ca=(I<<z)-1,J}function Ae(w,C,I){w[C+0]=I>>24&255,w[C+1]=I>>16&255,w[C+2]=I>>8&255,w[C+3]=255&I}function xe(w,C){return w[C+0]|w[C+1]<<8}function Ie(w,C){return xe(w,C)|w[C+2]<<16}function Ve(w,C){return xe(w,C)|xe(w,C+2)<<16}function se(w,C){var I=1<<C;return t(w!=null),t(0<C),w.X=i(I),w.X==null?0:(w.Mb=32-C,w.Xa=C,1)}function at(w,C){t(w!=null),t(C!=null),t(w.Xa==C.Xa),n(C.X,0,w.X,0,1<<C.Xa)}function Dt(){this.X=[],this.Xa=this.Mb=0}function xt(w,C,I,z){t(I!=null),t(z!=null);var Y=I[0],J=z[0];return Y==0&&(Y=(w*J+C/2)/C),J==0&&(J=(C*Y+w/2)/w),0>=Y||0>=J?0:(I[0]=Y,z[0]=J,1)}function tt(w,C){return w+(1<<C)-1>>>C}function jt(w,C){return((4278255360&w)+(4278255360&C)>>>0&4278255360)+((16711935&w)+(16711935&C)>>>0&16711935)>>>0}function ut(w,C){B[C]=function(I,z,Y,J,ee,ne,ie){var fe;for(fe=0;fe<ee;++fe){var we=B[w](ne[ie+fe-1],Y,J+fe);ne[ie+fe]=jt(I[z+fe],we)}}}function kt(){this.ud=this.hd=this.jd=0}function Ct(w,C){return((4278124286&(w^C))>>>1)+(w&C)>>>0}function Gt(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function nr(w,C){return Gt(w+(w-C+.5>>1))}function Ut(w,C,I){return Math.abs(C-I)-Math.abs(w-I)}function ar(w,C,I,z,Y,J,ee){for(z=J[ee-1],I=0;I<Y;++I)J[ee+I]=z=jt(w[C+I],z)}function Kt(w,C,I,z,Y){var J;for(J=0;J<I;++J){var ee=w[C+J],ne=ee>>8&255,ie=16711935&(ie=(ie=16711935&ee)+((ne<<16)+ne));z[Y+J]=(4278255360&ee)+ie>>>0}}function ct(w,C){C.jd=255&w,C.hd=w>>8&255,C.ud=w>>16&255}function Ht(w,C,I,z,Y,J){var ee;for(ee=0;ee<z;++ee){var ne=C[I+ee],ie=ne>>>8,fe=ne,we=255&(we=(we=ne>>>16)+((w.jd<<24>>24)*(ie<<24>>24)>>>5));fe=255&(fe=(fe+=(w.hd<<24>>24)*(ie<<24>>24)>>>5)+((w.ud<<24>>24)*(we<<24>>24)>>>5)),Y[J+ee]=(4278255360&ne)+(we<<16)+fe}}function Se(w,C,I,z,Y){B[C]=function(J,ee,ne,ie,fe,we,Oe,de,je){for(ie=Oe;ie<de;++ie)for(Oe=0;Oe<je;++Oe)fe[we++]=Y(ne[z(J[ee++])])},B[w]=function(J,ee,ne,ie,fe,we,Oe){var de=8>>J.b,je=J.Ea,Ee=J.K[0],Ue=J.w;if(8>de)for(J=(1<<J.b)-1,Ue=(1<<de)-1;ee<ne;++ee){var ke,ze=0;for(ke=0;ke<je;++ke)ke&J||(ze=z(ie[fe++])),we[Oe++]=Y(Ee[ze&Ue]),ze>>=de}else B["VP8LMapColor"+I](ie,fe,Ee,Ue,we,Oe,ee,ne,je)}}function qe(w,C,I,z,Y){for(I=C+I;C<I;){var J=w[C++];z[Y++]=J>>16&255,z[Y++]=J>>8&255,z[Y++]=255&J}}function Fe(w,C,I,z,Y){for(I=C+I;C<I;){var J=w[C++];z[Y++]=J>>16&255,z[Y++]=J>>8&255,z[Y++]=255&J,z[Y++]=J>>24&255}}function Je(w,C,I,z,Y){for(I=C+I;C<I;){var J=(ee=w[C++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;z[Y++]=J,z[Y++]=ee}}function Xe(w,C,I,z,Y){for(I=C+I;C<I;){var J=(ee=w[C++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;z[Y++]=J,z[Y++]=ee}}function et(w,C,I,z,Y){for(I=C+I;C<I;){var J=w[C++];z[Y++]=255&J,z[Y++]=J>>8&255,z[Y++]=J>>16&255}}function nt(w,C,I,z,Y,J){if(J==0)for(I=C+I;C<I;)Ae(z,((J=w[C++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),Y+=32;else n(z,Y,w,C,I)}function Nt(w,C){B[C][0]=B[w+"0"],B[C][1]=B[w+"1"],B[C][2]=B[w+"2"],B[C][3]=B[w+"3"],B[C][4]=B[w+"4"],B[C][5]=B[w+"5"],B[C][6]=B[w+"6"],B[C][7]=B[w+"7"],B[C][8]=B[w+"8"],B[C][9]=B[w+"9"],B[C][10]=B[w+"10"],B[C][11]=B[w+"11"],B[C][12]=B[w+"12"],B[C][13]=B[w+"13"],B[C][14]=B[w+"0"],B[C][15]=B[w+"0"]}function gt(w){return w==jd||w==zf||w==hu||w==Ff}function it(){this.eb=[],this.size=this.A=this.fb=0}function Et(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it,this.f.kb=new Et,this.sd=null}function ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Zr(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Jr(w,C){var I=w.T,z=C.ba.f.RGBA,Y=z.eb,J=z.fb+w.ka*z.A,ee=ya[C.ba.S],ne=w.y,ie=w.O,fe=w.f,we=w.N,Oe=w.ea,de=w.W,je=C.cc,Ee=C.dc,Ue=C.Mc,ke=C.Nc,ze=w.ka,Ke=w.ka+w.T,st=w.U,Ze=st+1>>1;for(ze==0?ee(ne,ie,null,null,fe,we,Oe,de,fe,we,Oe,de,Y,J,null,null,st):(ee(C.ec,C.fc,ne,ie,je,Ee,Ue,ke,fe,we,Oe,de,Y,J-z.A,Y,J,st),++I);ze+2<Ke;ze+=2)je=fe,Ee=we,Ue=Oe,ke=de,we+=w.Rc,de+=w.Rc,J+=2*z.A,ee(ne,(ie+=2*w.fa)-w.fa,ne,ie,je,Ee,Ue,ke,fe,we,Oe,de,Y,J-z.A,Y,J,st);return ie+=w.fa,w.j+Ke<w.o?(n(C.ec,C.fc,ne,ie,st),n(C.cc,C.dc,fe,we,Ze),n(C.Mc,C.Nc,Oe,de,Ze),I--):1&Ke||ee(ne,ie,null,null,fe,we,Oe,de,fe,we,Oe,de,Y,J+z.A,null,null,st),I}function aa(w,C,I){var z=w.F,Y=[w.J];if(z!=null){var J=w.U,ee=C.ba.S,ne=ee==Nd||ee==hu;C=C.ba.f.RGBA;var ie=[0],fe=w.ka;ie[0]=w.T,w.Kb&&(fe==0?--ie[0]:(--fe,Y[0]-=w.width),w.j+w.ka+w.T==w.o&&(ie[0]=w.o-w.j-fe));var we=C.eb;fe=C.fb+fe*C.A,w=bd(z,Y[0],w.width,J,ie,we,fe+(ne?0:3),C.A),t(I==ie),w&&gt(ee)&&ic(we,fe,ne,J,ie,C.A)}return 0}function as(w){var C=w.ma,I=C.ba.S,z=11>I,Y=I==Oa||I==Fs||I==Nd||I==fu||I==12||gt(I);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Po(C.Oa,w,Y?11:12))return 0;if(Y&&gt(I)&&md(),w.da)alert("todo:use_scaling");else{if(z){if(C.Ib=Zr,w.Kb){if(I=w.U+1>>1,C.memory=i(w.U+2*I),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+w.U,C.Mc=C.cc,C.Nc=C.dc+I,C.Ib=Jr,md()}}else alert("todo:EmitYUV");Y&&(C.Jb=aa,z&&fi())}if(z&&!yl){for(w=0;256>w;++w)va[w]=89858*(w-128)+xu>>Ks,sv[w]=-22014*(w-128)+xu,Pp[w]=-45773*(w-128),Gf[w]=113618*(w-128)+xu>>Ks;for(w=uc;w<bl;++w)C=76283*(w-16)+xu>>Ks,iv[w-uc]=bs(C,255),ov[w-uc]=bs(C+8>>4,15);yl=1}return 1}function Ot(w){var C=w.ma,I=w.U,z=w.T;return t(!(1&w.ka)),0>=I||0>=z?0:(I=C.Ib(w,C),C.Jb!=null&&C.Jb(w,C,I),C.Dc+=I,1)}function oi(w){w.ma.memory=null}function Rs(w,C,I,z){return G(w,8)!=47?0:(C[0]=G(w,14)+1,I[0]=G(w,14)+1,z[0]=G(w,1),G(w,3)!=0?0:!w.h)}function qa(w,C){if(4>w)return w+1;var I=w-2>>1;return(2+(1&w)<<I)+G(C,I)+1}function $a(w,C){return 120<C?C-120:1<=(I=((I=qs[C-1])>>4)*w+(8-(15&I)))?I:1;var I}function Ur(w,C,I){var z=$(I),Y=w[C+=255&z].g-8;return 0<Y&&(le(I,I.u+8),z=$(I),C+=w[C].value,C+=z&(1<<Y)-1),le(I,I.u+w[C].g),w[C].value}function gn(w,C,I){return I.g+=w.g,I.value+=w.value<<C>>>0,t(8>=I.g),w.g}function _n(w,C,I){var z=w.xc;return t((C=z==0?0:w.vc[w.md*(I>>z)+(C>>z)])<w.Wb),w.Ya[C]}function Ri(w,C,I,z){var Y=w.ab,J=w.c*C,ee=w.C;C=ee+C;var ne=I,ie=z;for(z=w.Ta,I=w.Ua;0<Y--;){var fe=w.gc[Y],we=ee,Oe=C,de=ne,je=ie,Ee=(ie=z,ne=I,fe.Ea);switch(t(we<Oe),t(Oe<=fe.nc),fe.hc){case 2:En(de,je,(Oe-we)*Ee,ie,ne);break;case 0:var Ue=we,ke=Oe,ze=ie,Ke=ne,st=(mt=fe).Ea;Ue==0&&(lu(de,je,null,null,1,ze,Ke),ar(de,je+1,0,0,st-1,ze,Ke+1),je+=st,Ke+=st,++Ue);for(var Ze=1<<mt.b,vt=Ze-1,dt=tt(st,mt.b),Wt=mt.K,mt=mt.w+(Ue>>mt.b)*dt;Ue<ke;){var or=Wt,tn=mt,Jt=1;for(cu(de,je,ze,Ke-st,1,ze,Ke);Jt<st;){var ft=(Jt&~vt)+Ze;ft>st&&(ft=st),(0,To[or[tn++]>>8&15])(de,je+ +Jt,ze,Ke+Jt-st,ft-Jt,ze,Ke+Jt),Jt=ft}je+=st,Ke+=st,++Ue&vt||(mt+=dt)}Oe!=fe.nc&&n(ie,ne-Ee,ie,ne+(Oe-we-1)*Ee,Ee);break;case 1:for(Ee=de,ke=je,st=(de=fe.Ea)-(Ke=de&~(ze=(je=1<<fe.b)-1)),Ue=tt(de,fe.b),Ze=fe.K,fe=fe.w+(we>>fe.b)*Ue;we<Oe;){for(vt=Ze,dt=fe,Wt=new kt,mt=ke+Ke,or=ke+de;ke<mt;)ct(vt[dt++],Wt),uu(Wt,Ee,ke,je,ie,ne),ke+=je,ne+=je;ke<or&&(ct(vt[dt++],Wt),uu(Wt,Ee,ke,st,ie,ne),ke+=st,ne+=st),++we&ze||(fe+=Ue)}break;case 3:if(de==ie&&je==ne&&0<fe.b){for(ke=ie,de=Ee=ne+(Oe-we)*Ee-(Ke=(Oe-we)*tt(fe.Ea,fe.b)),je=ie,ze=ne,Ue=[],Ke=(st=Ke)-1;0<=Ke;--Ke)Ue[Ke]=je[ze+Ke];for(Ke=st-1;0<=Ke;--Ke)ke[de+Ke]=Ue[Ke];Rf(fe,we,Oe,ie,Ee,ie,ne)}else Rf(fe,we,Oe,de,je,ie,ne)}ne=z,ie=I}ie!=I&&n(z,I,ne,ie,J)}function ha(w,C){var I=w.V,z=w.Ba+w.c*w.C,Y=C-w.C;if(t(C<=w.l.o),t(16>=Y),0<Y){var J=w.l,ee=w.Ta,ne=w.Ua,ie=J.width;if(Ri(w,Y,I,z),Y=ne=[ne],t((I=w.C)<(z=C)),t(J.v<J.va),z>J.o&&(z=J.o),I<J.j){var fe=J.j-I;I=J.j,Y[0]+=fe*ie}if(I>=z?I=0:(Y[0]+=4*J.v,J.ka=I-J.j,J.U=J.va-J.v,J.T=z-I,I=1),I){if(ne=ne[0],11>(I=w.ca).S){var we=I.f.RGBA,Oe=(z=I.S,Y=J.U,J=J.T,fe=we.eb,we.A),de=J;for(we=we.fb+w.Ma*we.A;0<de--;){var je=ee,Ee=ne,Ue=Y,ke=fe,ze=we;switch(z){case Mf:du(je,Ee,Ue,ke,ze);break;case Oa:Ro(je,Ee,Ue,ke,ze);break;case jd:Ro(je,Ee,Ue,ke,ze),ic(ke,ze,0,Ue,1,0);break;case Bf:ac(je,Ee,Ue,ke,ze);break;case Fs:nt(je,Ee,Ue,ke,ze,1);break;case zf:nt(je,Ee,Ue,ke,ze,1),ic(ke,ze,0,Ue,1,0);break;case Nd:nt(je,Ee,Ue,ke,ze,0);break;case hu:nt(je,Ee,Ue,ke,ze,0),ic(ke,ze,1,Ue,1,0);break;case fu:Do(je,Ee,Ue,ke,ze);break;case Ff:Do(je,Ee,Ue,ke,ze),zs(ke,ze,Ue,1,0);break;case hl:Gi(je,Ee,Ue,ke,ze);break;default:t(0)}ne+=ie,we+=Oe}w.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=I.height)}}w.C=C,t(w.C<=w.i)}function jr(w){var C;if(0<w.ua)return 0;for(C=0;C<w.Wb;++C){var I=w.Ya[C].G,z=w.Ya[C].H;if(0<I[1][z[1]+0].g||0<I[2][z[2]+0].g||0<I[3][z[3]+0].g)return 0}return 1}function qr(w,C,I,z,Y,J){if(w.Z!=0){var ee=w.qd,ne=w.rd;for(t(Bo[w.Z]!=null);C<I;++C)Bo[w.Z](ee,ne,z,Y,z,Y,J),ee=z,ne=Y,Y+=J;w.qd=ee,w.rd=ne}}function sa(w,C){var I=w.l.ma,z=I.Z==0||I.Z==1?w.l.j:w.C;if(z=w.C<z?z:w.C,t(C<=w.l.o),C>z){var Y=w.l.width,J=I.ca,ee=I.tb+Y*z,ne=w.V,ie=w.Ba+w.c*z,fe=w.gc;t(w.ab==1),t(fe[0].hc==3),Hi(fe[0],z,C,ne,ie,J,ee),qr(I,z,C,J,ee,Y)}w.C=w.Ma=C}function Ha(w,C,I,z,Y,J,ee){var ne=w.$/z,ie=w.$%z,fe=w.m,we=w.s,Oe=I+w.$,de=Oe;Y=I+z*Y;var je=I+z*J,Ee=280+we.ua,Ue=w.Pb?ne:16777216,ke=0<we.ua?we.Wa:null,ze=we.wc,Ke=Oe<je?_n(we,ie,ne):null;t(w.C<J),t(je<=Y);var st=!1;e:for(;;){for(;st||Oe<je;){var Ze=0;if(ne>=Ue){var vt=Oe-I;t((Ue=w).Pb),Ue.wd=Ue.m,Ue.xd=vt,0<Ue.s.ua&&at(Ue.s.Wa,Ue.s.vb),Ue=ne+ml}if(ie&ze||(Ke=_n(we,ie,ne)),t(Ke!=null),Ke.Qb&&(C[Oe]=Ke.qb,st=!0),!st)if(be(fe),Ke.jc){Ze=fe,vt=C;var dt=Oe,Wt=Ke.pd[$(Ze)&fl-1];t(Ke.jc),256>Wt.g?(le(Ze,Ze.u+Wt.g),vt[dt]=Wt.value,Ze=0):(le(Ze,Ze.u+Wt.g-256),t(256<=Wt.value),Ze=Wt.value),Ze==0&&(st=!0)}else Ze=Ur(Ke.G[0],Ke.H[0],fe);if(fe.h)break;if(st||256>Ze){if(!st)if(Ke.nd)C[Oe]=(Ke.qb|Ze<<8)>>>0;else{if(be(fe),st=Ur(Ke.G[1],Ke.H[1],fe),be(fe),vt=Ur(Ke.G[2],Ke.H[2],fe),dt=Ur(Ke.G[3],Ke.H[3],fe),fe.h)break;C[Oe]=(dt<<24|st<<16|Ze<<8|vt)>>>0}if(st=!1,++Oe,++ie>=z&&(ie=0,++ne,ee!=null&&ne<=J&&!(ne%16)&&ee(w,ne),ke!=null))for(;de<Oe;)Ze=C[de++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze}else if(280>Ze){if(Ze=qa(Ze-256,fe),vt=Ur(Ke.G[4],Ke.H[4],fe),be(fe),vt=$a(z,vt=qa(vt,fe)),fe.h)break;if(Oe-I<vt||Y-Oe<Ze)break e;for(dt=0;dt<Ze;++dt)C[Oe+dt]=C[Oe+dt-vt];for(Oe+=Ze,ie+=Ze;ie>=z;)ie-=z,++ne,ee!=null&&ne<=J&&!(ne%16)&&ee(w,ne);if(t(Oe<=Y),ie&ze&&(Ke=_n(we,ie,ne)),ke!=null)for(;de<Oe;)Ze=C[de++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze}else{if(!(Ze<Ee))break e;for(st=Ze-280,t(ke!=null);de<Oe;)Ze=C[de++],ke.X[(506832829*Ze&4294967295)>>>ke.Mb]=Ze;Ze=Oe,t(!(st>>>(vt=ke).Xa)),C[Ze]=vt.X[st],st=!0}st||t(fe.h==ae(fe))}if(w.Pb&&fe.h&&Oe<Y)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&at(w.s.vb,w.s.Wa);else{if(fe.h)break e;ee?.(w,ne>J?J:ne),w.a=0,w.$=Oe-I}return 1}return w.a=3,0}function ss(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var C=w.Wa;C!=null&&(C.X=null),w.vb=null,t(w!=null)}function bo(){var w=new $t;return w==null?null:(w.a=0,w.xb=bm,Nt("Predictor","VP8LPredictors"),Nt("Predictor","VP8LPredictors_C"),Nt("PredictorAdd","VP8LPredictorsAdd"),Nt("PredictorAdd","VP8LPredictorsAdd_C"),En=Kt,uu=Ht,du=qe,Ro=Fe,Do=Je,Gi=Xe,ac=et,B.VP8LMapColor32b=$i,B.VP8LMapColor8b=xa,w)}function gs(w,C,I,z,Y){var J=1,ee=[w],ne=[C],ie=z.m,fe=z.s,we=null,Oe=0;e:for(;;){if(I)for(;J&&G(ie,1);){var de=ee,je=ne,Ee=z,Ue=1,ke=Ee.m,ze=Ee.gc[Ee.ab],Ke=G(ke,2);if(Ee.Oc&1<<Ke)J=0;else{switch(Ee.Oc|=1<<Ke,ze.hc=Ke,ze.Ea=de[0],ze.nc=je[0],ze.K=[null],++Ee.ab,t(4>=Ee.ab),Ke){case 0:case 1:ze.b=G(ke,3)+2,Ue=gs(tt(ze.Ea,ze.b),tt(ze.nc,ze.b),0,Ee,ze.K),ze.K=ze.K[0];break;case 3:var st,Ze=G(ke,8)+1,vt=16<Ze?0:4<Ze?1:2<Ze?2:3;if(de[0]=tt(ze.Ea,vt),ze.b=vt,st=Ue=gs(Ze,1,0,Ee,ze.K)){var dt,Wt=Ze,mt=ze,or=1<<(8>>mt.b),tn=i(or);if(tn==null)st=0;else{var Jt=mt.K[0],ft=mt.w;for(tn[0]=mt.K[0][0],dt=1;dt<1*Wt;++dt)tn[dt]=jt(Jt[ft+dt],tn[dt-1]);for(;dt<4*or;++dt)tn[dt]=0;mt.K[0]=null,mt.K[0]=tn,st=1}}Ue=st;break;case 2:break;default:t(0)}J=Ue}}if(ee=ee[0],ne=ne[0],J&&G(ie,1)&&!(J=1<=(Oe=G(ie,4))&&11>=Oe)){z.a=3;break e}var ot;if(ot=J)t:{var dn,Ft,rr,Er=z,Qn=ee,wa=ne,Gr=Oe,Bn=I,Pa=Er.m,zn=Er.s,ir=[null],gr=1,fn=0,Nr=$s[Gr];r:for(;;){if(Bn&&G(Pa,1)){var Zn=G(Pa,3)+2,hn=tt(Qn,Zn),br=tt(wa,Zn),Pn=hn*br;if(!gs(hn,br,0,Er,ir))break r;for(ir=ir[0],zn.xc=Zn,dn=0;dn<Pn;++dn){var kr=ir[dn]>>8&65535;ir[dn]=kr,kr>=gr&&(gr=kr+1)}}if(Pa.h)break r;for(Ft=0;5>Ft;++Ft){var Fn=lc[Ft];!Ft&&0<Gr&&(Fn+=1<<Gr),fn<Fn&&(fn=Fn)}var Un=c(gr*Nr,X),Tr=gr,pr=c(Tr,pe);if(pr==null)var La=null;else t(65536>=Tr),La=pr;var yn=i(fn);if(La==null||yn==null||Un==null){Er.a=1;break r}var Rt=Un;for(dn=rr=0;dn<gr;++dn){var It=La[dn],yr=It.G,cs=It.H,Vs=0,Qa=1,qn=0;for(Ft=0;5>Ft;++Ft){Fn=lc[Ft],yr[Ft]=Rt,cs[Ft]=rr,!Ft&&0<Gr&&(Fn+=1<<Gr);a:{var vl,wl=Fn,Vf=Er,Kr=yn,vm=Rt,wm=rr,Wf=0,zo=Vf.m,lv=G(zo,1);if(s(Kr,0,0,wl),lv){var Nm=G(zo,1)+1,jm=G(zo,1),Yf=G(zo,jm==0?1:8);Kr[Yf]=1,Nm==2&&(Kr[Yf=G(zo,8)]=1);var la=1}else{var vn=i(19),Cd=G(zo,4)+4;if(19<Cd){Vf.a=3;var Nl=0;break a}for(vl=0;vl<Cd;++vl)vn[Sd[vl]]=G(zo,3);var bu=void 0,dc=void 0,Wi=Vf,Xf=vn,yu=wl,Qf=Kr,Zf=0,Fo=Wi.m,Sm=8,Am=c(128,X);n:for(;F(Am,0,7,Xf,19);){if(G(Fo,1)){var Lp=2+2*G(Fo,3);if((bu=2+G(Fo,Lp))>yu)break n}else bu=yu;for(dc=0;dc<yu&&bu--;){be(Fo);var _m=Am[0+(127&$(Fo))];le(Fo,Fo.u+_m.g);var jl=_m.value;if(16>jl)Qf[dc++]=jl,jl!=0&&(Sm=jl);else{var Tp=jl==16,Rp=jl-16,Dp=mu[Rp],Cm=G(Fo,Us[Rp])+Dp;if(dc+Cm>yu)break n;for(var Ip=Tp?Sm:0;0<Cm--;)Qf[dc++]=Ip}}Zf=1;break n}Zf||(Wi.a=3),la=Zf}(la=la&&!zo.h)&&(Wf=F(vm,wm,8,Kr,wl)),la&&Wf!=0?Nl=Wf:(Vf.a=3,Nl=0)}if(Nl==0)break r;if(Qa&&Uf[Ft]==1&&(Qa=Rt[rr].g==0),Vs+=Rt[rr].g,rr+=Nl,3>=Ft){var fc,Jf=yn[0];for(fc=1;fc<Fn;++fc)yn[fc]>Jf&&(Jf=yn[fc]);qn+=Jf}}if(It.nd=Qa,It.Qb=0,Qa&&(It.qb=(yr[3][cs[3]+0].value<<24|yr[1][cs[1]+0].value<<16|yr[2][cs[2]+0].value)>>>0,Vs==0&&256>yr[0][cs[0]+0].value&&(It.Qb=1,It.qb+=yr[0][cs[0]+0].value<<8)),It.jc=!It.Qb&&6>qn,It.jc){var Ed,Yi=It;for(Ed=0;Ed<fl;++Ed){var Uo=Ed,qo=Yi.pd[Uo],eh=Yi.G[0][Yi.H[0]+Uo];256<=eh.value?(qo.g=eh.g+256,qo.value=eh.value):(qo.g=0,qo.value=0,Uo>>=gn(eh,8,qo),Uo>>=gn(Yi.G[1][Yi.H[1]+Uo],16,qo),Uo>>=gn(Yi.G[2][Yi.H[2]+Uo],0,qo),gn(Yi.G[3][Yi.H[3]+Uo],24,qo))}}}zn.vc=ir,zn.Wb=gr,zn.Ya=La,zn.yc=Un,ot=1;break t}ot=0}if(!(J=ot)){z.a=3;break e}if(0<Oe){if(fe.ua=1<<Oe,!se(fe.Wa,Oe)){z.a=1,J=0;break e}}else fe.ua=0;var th=z,hc=ee,Mp=ne,vu=th.s,wu=vu.xc;if(th.c=hc,th.i=Mp,vu.md=tt(hc,wu),vu.wc=wu==0?-1:(1<<wu)-1,I){z.xb=pl;break e}if((we=i(ee*ne))==null){z.a=1,J=0;break e}J=(J=Ha(z,we,0,ee,ne,ne,null))&&!ie.h;break e}return J?(Y!=null?Y[0]=we:(t(we==null),t(I)),z.$=0,I||ss(fe)):ss(fe),J}function Pe(w,C){var I=w.c*w.i,z=I+C+16*C;return t(w.c<=C),w.V=i(z),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+I+C,1)}function lt(w,C){var I=w.C,z=C-I,Y=w.V,J=w.Ba+w.c*I;for(t(C<=w.l.o);0<z;){var ee=16<z?16:z,ne=w.l.ma,ie=w.l.width,fe=ie*ee,we=ne.ca,Oe=ne.tb+ie*I,de=w.Ta,je=w.Ua;Ri(w,ee,Y,J),js(de,je,we,Oe,fe),qr(ne,I,I+ee,we,Oe,ie),z-=ee,Y+=ee*w.c,I+=ee}t(I==C),w.C=w.Ma=C}function St(){this.ub=this.yd=this.td=this.Rb=0}function on(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Di(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ds(){this.Yb=(function(){var w=[];return(function C(I,z,Y){for(var J=Y[z],ee=0;ee<J&&(I.push(Y.length>z+1?[]:0),!(Y.length<z+1));ee++)C(I[ee],z+1,Y)})(w,0,[3,11]),w})()}function ln(){this.jb=i(3),this.Wc=u([4,8],Ds),this.Xc=u([4,17],Ds)}function ol(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Ga(){this.ld=this.La=this.dd=this.tc=0}function is(){this.Na=this.la=0}function li(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Wn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rd(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ga),this.Y=0,this.ya=Array(new Wn),this.aa=0,this.l=new yo}function nd(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Sf(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new St,this.Kc=new on,this.ed=new ol,this.Qa=new Di,this.Ic=this.$c=this.Aa=0,this.D=new rd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,P),this.ia=0,this.pb=c(4,li),this.Pa=new ln,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new nd),this.Hd=0,this.rb=Array(new is),this.sb=0,this.wa=Array(new Ga),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Wn),this.L=this.aa=0,this.gd=u([4,2],Ga),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bs(w,C){return 0>w?0:w>C?C:w}function yo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ci(){var w=new Sf;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Ss||(Ss=ll)),w}function vr(w,C,I){return w.a==0&&(w.a=C,w.sc=I,w.cb=0),0}function ad(w,C,I){return 3<=I&&w[C+0]==157&&w[C+1]==1&&w[C+2]==42}function Ii(w,C){if(w==null)return 0;if(w.a=0,w.sc="OK",C==null)return vr(w,2,"null VP8Io passed to VP8GetHeaders()");var I=C.data,z=C.w,Y=C.ha;if(4>Y)return vr(w,7,"Truncated header.");var J=I[z+0]|I[z+1]<<8|I[z+2]<<16,ee=w.Od;if(ee.Rb=!(1&J),ee.td=J>>1&7,ee.yd=J>>4&1,ee.ub=J>>5,3<ee.td)return vr(w,3,"Incorrect keyframe parameters.");if(!ee.yd)return vr(w,4,"Frame not displayable.");z+=3,Y-=3;var ne=w.Kc;if(ee.Rb){if(7>Y)return vr(w,7,"cannot parse picture header");if(!ad(I,z,Y))return vr(w,3,"Bad code word");ne.c=16383&(I[z+4]<<8|I[z+3]),ne.Td=I[z+4]>>6,ne.i=16383&(I[z+6]<<8|I[z+5]),ne.Ud=I[z+6]>>6,z+=7,Y-=7,w.za=ne.c+15>>4,w.Ub=ne.i+15>>4,C.width=ne.c,C.height=ne.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,s((J=w.Pa).jb,0,255,J.jb.length),t((J=w.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,s(J.Zb,0,0,J.Zb.length),s(J.Lb,0,0,J.Lb)}if(ee.ub>Y)return vr(w,7,"bad partition length");re(J=w.m,I,z,ee.ub),z+=ee.ub,Y-=ee.ub,ee.Rb&&(ne.Ld=oe(J),ne.Kd=oe(J)),ne=w.Qa;var ie,fe=w.Pa;if(t(J!=null),t(ne!=null),ne.Cb=oe(J),ne.Cb){if(ne.Bb=oe(J),oe(J)){for(ne.Fb=oe(J),ie=0;4>ie;++ie)ne.Zb[ie]=oe(J)?V(J,7):0;for(ie=0;4>ie;++ie)ne.Lb[ie]=oe(J)?V(J,6):0}if(ne.Bb)for(ie=0;3>ie;++ie)fe.jb[ie]=oe(J)?ue(J,8):255}else ne.Bb=0;if(J.Ka)return vr(w,3,"cannot parse segment header");if((ne=w.ed).zd=oe(J),ne.Tb=ue(J,6),ne.wb=ue(J,3),ne.Pc=oe(J),ne.Pc&&oe(J)){for(fe=0;4>fe;++fe)oe(J)&&(ne.vd[fe]=V(J,6));for(fe=0;4>fe;++fe)oe(J)&&(ne.od[fe]=V(J,6))}if(w.L=ne.Tb==0?0:ne.zd?1:2,J.Ka)return vr(w,3,"cannot parse filter header");var we=Y;if(Y=ie=z,z=ie+we,ne=we,w.Xb=(1<<ue(w.m,2))-1,we<3*(fe=w.Xb))I=7;else{for(ie+=3*fe,ne-=3*fe,we=0;we<fe;++we){var Oe=I[Y+0]|I[Y+1]<<8|I[Y+2]<<16;Oe>ne&&(Oe=ne),re(w.Jc[+we],I,ie,Oe),ie+=Oe,ne-=Oe,Y+=3}re(w.Jc[+fe],I,ie,ne),I=ie<z?0:5}if(I!=0)return vr(w,I,"cannot parse partitions");for(I=ue(ie=w.m,7),Y=oe(ie)?V(ie,4):0,z=oe(ie)?V(ie,4):0,ne=oe(ie)?V(ie,4):0,fe=oe(ie)?V(ie,4):0,ie=oe(ie)?V(ie,4):0,we=w.Qa,Oe=0;4>Oe;++Oe){if(we.Cb){var de=we.Zb[Oe];we.Fb||(de+=I)}else{if(0<Oe){w.pb[Oe]=w.pb[0];continue}de=I}var je=w.pb[Oe];je.Sc[0]=Hs[bs(de+Y,127)],je.Sc[1]=Gs[bs(de+0,127)],je.Eb[0]=2*Hs[bs(de+z,127)],je.Eb[1]=101581*Gs[bs(de+ne,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=Hs[bs(de+fe,117)],je.Qc[1]=Gs[bs(de+ie,127)],je.lc=de+ie}if(!ee.Rb)return vr(w,4,"Not a key frame.");for(oe(J),ee=w.Pa,I=0;4>I;++I){for(Y=0;8>Y;++Y)for(z=0;3>z;++z)for(ne=0;11>ne;++ne)fe=me(J,en[I][Y][z][ne])?ue(J,8):Op[I][Y][z][ne],ee.Wc[I][Y].Yb[z][ne]=fe;for(Y=0;17>Y;++Y)ee.Xc[I][Y]=ee.Wc[I][lr[Y]]}return w.kc=oe(J),w.kc&&(w.Bd=ue(J,8)),w.cb=1}function ll(w,C,I,z,Y,J,ee){var ne=C[Y].Yb[I];for(I=0;16>Y;++Y){if(!me(w,ne[I+0]))return Y;for(;!me(w,ne[I+1]);)if(ne=C[++Y].Yb[0],I=0,Y==16)return 16;var ie=C[Y+1].Yb;if(me(w,ne[I+2])){var fe=w,we=0;if(me(fe,(de=ne)[(Oe=I)+3]))if(me(fe,de[Oe+6])){for(ne=0,Oe=2*(we=me(fe,de[Oe+8]))+(de=me(fe,de[Oe+9+we])),we=0,de=kp[Oe];de[ne];++ne)we+=we+me(fe,de[ne]);we+=3+(8<<Oe)}else me(fe,de[Oe+7])?(we=7+2*me(fe,165),we+=me(fe,145)):we=5+me(fe,159);else we=me(fe,de[Oe+4])?3+me(fe,de[Oe+5]):2;ne=ie[2]}else we=1,ne=ie[1];ie=ee+gm[Y],0>(fe=w).b&&ce(fe);var Oe,de=fe.b,je=(Oe=fe.Ca>>1)-(fe.I>>de)>>31;--fe.b,fe.Ca+=je,fe.Ca|=1,fe.I-=(Oe+1&je)<<de,J[ie]=((we^je)-je)*z[(0<Y)+0]}return 16}function sd(w){var C=w.rb[w.sb-1];C.la=0,C.Na=0,s(w.zc,0,0,w.zc.length),w.ja=0}function Ka(w,C,I,z,Y){Y=w[C+I+32*z]+(Y>>3),w[C+I+32*z]=-256&Y?0>Y?0:255:Y}function Yn(w,C,I,z,Y,J){Ka(w,C,0,I,z+Y),Ka(w,C,1,I,z+J),Ka(w,C,2,I,z-J),Ka(w,C,3,I,z-Y)}function In(w){return(20091*w>>16)+w}function tu(w,C,I,z){var Y,J=0,ee=i(16);for(Y=0;4>Y;++Y){var ne=w[C+0]+w[C+8],ie=w[C+0]-w[C+8],fe=(35468*w[C+4]>>16)-In(w[C+12]),we=In(w[C+4])+(35468*w[C+12]>>16);ee[J+0]=ne+we,ee[J+1]=ie+fe,ee[J+2]=ie-fe,ee[J+3]=ne-we,J+=4,C++}for(Y=J=0;4>Y;++Y)ne=(w=ee[J+0]+4)+ee[J+8],ie=w-ee[J+8],fe=(35468*ee[J+4]>>16)-In(ee[J+12]),Ka(I,z,0,0,ne+(we=In(ee[J+4])+(35468*ee[J+12]>>16))),Ka(I,z,1,0,ie+fe),Ka(I,z,2,0,ie-fe),Ka(I,z,3,0,ne-we),J++,z+=32}function Af(w,C,I,z){var Y=w[C+0]+4,J=35468*w[C+4]>>16,ee=In(w[C+4]),ne=35468*w[C+1]>>16;Yn(I,z,0,Y+ee,w=In(w[C+1]),ne),Yn(I,z,1,Y+J,w,ne),Yn(I,z,2,Y-J,w,ne),Yn(I,z,3,Y-ee,w,ne)}function id(w,C,I,z,Y){tu(w,C,I,z),Y&&tu(w,C+16,I,z+4)}function Va(w,C,I,z){Io(w,C+0,I,z,1),Io(w,C+32,I,z+128,1)}function od(w,C,I,z){var Y;for(w=w[C+0]+4,Y=0;4>Y;++Y)for(C=0;4>C;++C)Ka(I,z,C,Y,w)}function ld(w,C,I,z){w[C+0]&&wr(w,C+0,I,z),w[C+16]&&wr(w,C+16,I,z+4),w[C+32]&&wr(w,C+32,I,z+128),w[C+48]&&wr(w,C+48,I,z+128+4)}function ui(w,C,I,z){var Y,J=i(16);for(Y=0;4>Y;++Y){var ee=w[C+0+Y]+w[C+12+Y],ne=w[C+4+Y]+w[C+8+Y],ie=w[C+4+Y]-w[C+8+Y],fe=w[C+0+Y]-w[C+12+Y];J[0+Y]=ee+ne,J[8+Y]=ee-ne,J[4+Y]=fe+ie,J[12+Y]=fe-ie}for(Y=0;4>Y;++Y)ee=(w=J[0+4*Y]+3)+J[3+4*Y],ne=J[1+4*Y]+J[2+4*Y],ie=J[1+4*Y]-J[2+4*Y],fe=w-J[3+4*Y],I[z+0]=ee+ne>>3,I[z+16]=fe+ie>>3,I[z+32]=ee-ne>>3,I[z+48]=fe-ie>>3,z+=64}function Ql(w,C,I){var z,Y=C-32,J=ka,ee=255-w[Y-1];for(z=0;z<I;++z){var ne,ie=J,fe=ee+w[C-1];for(ne=0;ne<I;++ne)w[C+ne]=ie[fe+w[Y+ne]];C+=32}}function _f(w,C){Ql(w,C,4)}function Cf(w,C){Ql(w,C,8)}function cd(w,C){Ql(w,C,16)}function ud(w,C){var I;for(I=0;16>I;++I)n(w,C+32*I,w,C-32,16)}function Ef(w,C){var I;for(I=16;0<I;--I)s(w,C,w[C-1],16),C+=32}function os(w,C,I){var z;for(z=0;16>z;++z)s(C,I+32*z,w,16)}function di(w,C){var I,z=16;for(I=0;16>I;++I)z+=w[C-1+32*I]+w[C+I-32];os(z>>5,w,C)}function vo(w,C){var I,z=8;for(I=0;16>I;++I)z+=w[C-1+32*I];os(z>>4,w,C)}function Zl(w,C){var I,z=8;for(I=0;16>I;++I)z+=w[C+I-32];os(z>>4,w,C)}function cl(w,C){os(128,w,C)}function zt(w,C,I){return w+2*C+I+2>>2}function kf(w,C){var I,z=C-32;for(z=new Uint8Array([zt(w[z-1],w[z+0],w[z+1]),zt(w[z+0],w[z+1],w[z+2]),zt(w[z+1],w[z+2],w[z+3]),zt(w[z+2],w[z+3],w[z+4])]),I=0;4>I;++I)n(w,C+32*I,z,0,z.length)}function dd(w,C){var I=w[C-1],z=w[C-1+32],Y=w[C-1+64],J=w[C-1+96];Ae(w,C+0,16843009*zt(w[C-1-32],I,z)),Ae(w,C+32,16843009*zt(I,z,Y)),Ae(w,C+64,16843009*zt(z,Y,J)),Ae(w,C+96,16843009*zt(Y,J,J))}function Of(w,C){var I,z=4;for(I=0;4>I;++I)z+=w[C+I-32]+w[C-1+32*I];for(z>>=3,I=0;4>I;++I)s(w,C+32*I,z,4)}function ys(w,C){var I=w[C-1+0],z=w[C-1+32],Y=w[C-1+64],J=w[C-1-32],ee=w[C+0-32],ne=w[C+1-32],ie=w[C+2-32],fe=w[C+3-32];w[C+0+96]=zt(z,Y,w[C-1+96]),w[C+1+96]=w[C+0+64]=zt(I,z,Y),w[C+2+96]=w[C+1+64]=w[C+0+32]=zt(J,I,z),w[C+3+96]=w[C+2+64]=w[C+1+32]=w[C+0+0]=zt(ee,J,I),w[C+3+64]=w[C+2+32]=w[C+1+0]=zt(ne,ee,J),w[C+3+32]=w[C+2+0]=zt(ie,ne,ee),w[C+3+0]=zt(fe,ie,ne)}function ma(w,C){var I=w[C+1-32],z=w[C+2-32],Y=w[C+3-32],J=w[C+4-32],ee=w[C+5-32],ne=w[C+6-32],ie=w[C+7-32];w[C+0+0]=zt(w[C+0-32],I,z),w[C+1+0]=w[C+0+32]=zt(I,z,Y),w[C+2+0]=w[C+1+32]=w[C+0+64]=zt(z,Y,J),w[C+3+0]=w[C+2+32]=w[C+1+64]=w[C+0+96]=zt(Y,J,ee),w[C+3+32]=w[C+2+64]=w[C+1+96]=zt(J,ee,ne),w[C+3+64]=w[C+2+96]=zt(ee,ne,ie),w[C+3+96]=zt(ne,ie,ie)}function fd(w,C){var I=w[C-1+0],z=w[C-1+32],Y=w[C-1+64],J=w[C-1-32],ee=w[C+0-32],ne=w[C+1-32],ie=w[C+2-32],fe=w[C+3-32];w[C+0+0]=w[C+1+64]=J+ee+1>>1,w[C+1+0]=w[C+2+64]=ee+ne+1>>1,w[C+2+0]=w[C+3+64]=ne+ie+1>>1,w[C+3+0]=ie+fe+1>>1,w[C+0+96]=zt(Y,z,I),w[C+0+64]=zt(z,I,J),w[C+0+32]=w[C+1+96]=zt(I,J,ee),w[C+1+32]=w[C+2+96]=zt(J,ee,ne),w[C+2+32]=w[C+3+96]=zt(ee,ne,ie),w[C+3+32]=zt(ne,ie,fe)}function Jl(w,C){var I=w[C+0-32],z=w[C+1-32],Y=w[C+2-32],J=w[C+3-32],ee=w[C+4-32],ne=w[C+5-32],ie=w[C+6-32],fe=w[C+7-32];w[C+0+0]=I+z+1>>1,w[C+1+0]=w[C+0+64]=z+Y+1>>1,w[C+2+0]=w[C+1+64]=Y+J+1>>1,w[C+3+0]=w[C+2+64]=J+ee+1>>1,w[C+0+32]=zt(I,z,Y),w[C+1+32]=w[C+0+96]=zt(z,Y,J),w[C+2+32]=w[C+1+96]=zt(Y,J,ee),w[C+3+32]=w[C+2+96]=zt(J,ee,ne),w[C+3+64]=zt(ee,ne,ie),w[C+3+96]=zt(ne,ie,fe)}function vs(w,C){var I=w[C-1+0],z=w[C-1+32],Y=w[C-1+64],J=w[C-1+96];w[C+0+0]=I+z+1>>1,w[C+2+0]=w[C+0+32]=z+Y+1>>1,w[C+2+32]=w[C+0+64]=Y+J+1>>1,w[C+1+0]=zt(I,z,Y),w[C+3+0]=w[C+1+32]=zt(z,Y,J),w[C+3+32]=w[C+1+64]=zt(Y,J,J),w[C+3+64]=w[C+2+64]=w[C+0+96]=w[C+1+96]=w[C+2+96]=w[C+3+96]=J}function ec(w,C){var I=w[C-1+0],z=w[C-1+32],Y=w[C-1+64],J=w[C-1+96],ee=w[C-1-32],ne=w[C+0-32],ie=w[C+1-32],fe=w[C+2-32];w[C+0+0]=w[C+2+32]=I+ee+1>>1,w[C+0+32]=w[C+2+64]=z+I+1>>1,w[C+0+64]=w[C+2+96]=Y+z+1>>1,w[C+0+96]=J+Y+1>>1,w[C+3+0]=zt(ne,ie,fe),w[C+2+0]=zt(ee,ne,ie),w[C+1+0]=w[C+3+32]=zt(I,ee,ne),w[C+1+32]=w[C+3+64]=zt(z,I,ee),w[C+1+64]=w[C+3+96]=zt(Y,z,I),w[C+1+96]=zt(J,Y,z)}function Mi(w,C){var I;for(I=0;8>I;++I)n(w,C+32*I,w,C-32,8)}function Pf(w,C){var I;for(I=0;8>I;++I)s(w,C,w[C-1],8),C+=32}function Is(w,C,I){var z;for(z=0;8>z;++z)s(C,I+32*z,w,8)}function ru(w,C){var I,z=8;for(I=0;8>I;++I)z+=w[C+I-32]+w[C-1+32*I];Is(z>>4,w,C)}function nu(w,C){var I,z=4;for(I=0;8>I;++I)z+=w[C+I-32];Is(z>>3,w,C)}function ia(w,C){var I,z=4;for(I=0;8>I;++I)z+=w[C-1+32*I];Is(z>>3,w,C)}function Bi(w,C){Is(128,w,C)}function Ms(w,C,I){var z=w[C-I],Y=w[C+0],J=3*(Y-z)+Mo[1020+w[C-2*I]-w[C+I]],ee=wd[112+(J+4>>3)];w[C-I]=ka[255+z+wd[112+(J+3>>3)]],w[C+0]=ka[255+Y-ee]}function wo(w,C,I,z){var Y=w[C+0],J=w[C+I];return ga[255+w[C-2*I]-w[C-I]]>z||ga[255+J-Y]>z}function au(w,C,I,z){return 4*ga[255+w[C-I]-w[C+0]]+ga[255+w[C-2*I]-w[C+I]]<=z}function tc(w,C,I,z,Y){var J=w[C-3*I],ee=w[C-2*I],ne=w[C-I],ie=w[C+0],fe=w[C+I],we=w[C+2*I],Oe=w[C+3*I];return 4*ga[255+ne-ie]+ga[255+ee-fe]>z?0:ga[255+w[C-4*I]-J]<=Y&&ga[255+J-ee]<=Y&&ga[255+ee-ne]<=Y&&ga[255+Oe-we]<=Y&&ga[255+we-fe]<=Y&&ga[255+fe-ie]<=Y}function No(w,C,I,z){var Y=2*z+1;for(z=0;16>z;++z)au(w,C+z,I,Y)&&Ms(w,C+z,I)}function jo(w,C,I,z){var Y=2*z+1;for(z=0;16>z;++z)au(w,C+z*I,1,Y)&&Ms(w,C+z*I,1)}function rc(w,C,I,z){var Y;for(Y=3;0<Y;--Y)No(w,C+=4*I,I,z)}function hd(w,C,I,z){var Y;for(Y=3;0<Y;--Y)jo(w,C+=4,I,z)}function So(w,C,I,z,Y,J,ee,ne){for(J=2*J+1;0<Y--;){if(tc(w,C,I,J,ee))if(wo(w,C,I,ne))Ms(w,C,I);else{var ie=w,fe=C,we=I,Oe=ie[fe-2*we],de=ie[fe-we],je=ie[fe+0],Ee=ie[fe+we],Ue=ie[fe+2*we],ke=27*(Ke=Mo[1020+3*(je-de)+Mo[1020+Oe-Ee]])+63>>7,ze=18*Ke+63>>7,Ke=9*Ke+63>>7;ie[fe-3*we]=ka[255+ie[fe-3*we]+Ke],ie[fe-2*we]=ka[255+Oe+ze],ie[fe-we]=ka[255+de+ke],ie[fe+0]=ka[255+je-ke],ie[fe+we]=ka[255+Ee-ze],ie[fe+2*we]=ka[255+Ue-Ke]}C+=z}}function Ao(w,C,I,z,Y,J,ee,ne){for(J=2*J+1;0<Y--;){if(tc(w,C,I,J,ee))if(wo(w,C,I,ne))Ms(w,C,I);else{var ie=w,fe=C,we=I,Oe=ie[fe-we],de=ie[fe+0],je=ie[fe+we],Ee=wd[112+(4+(Ue=3*(de-Oe))>>3)],Ue=wd[112+(Ue+3>>3)],ke=Ee+1>>1;ie[fe-2*we]=ka[255+ie[fe-2*we]+ke],ie[fe-we]=ka[255+Oe+Ue],ie[fe+0]=ka[255+de-Ee],ie[fe+we]=ka[255+je-ke]}C+=z}}function Lf(w,C,I,z,Y,J){So(w,C,I,1,16,z,Y,J)}function _o(w,C,I,z,Y,J){So(w,C,1,I,16,z,Y,J)}function Tf(w,C,I,z,Y,J){var ee;for(ee=3;0<ee;--ee)Ao(w,C+=4*I,I,1,16,z,Y,J)}function L(w,C,I,z,Y,J){var ee;for(ee=3;0<ee;--ee)Ao(w,C+=4,1,I,16,z,Y,J)}function W(w,C,I,z,Y,J,ee,ne){So(w,C,Y,1,8,J,ee,ne),So(I,z,Y,1,8,J,ee,ne)}function he(w,C,I,z,Y,J,ee,ne){So(w,C,1,Y,8,J,ee,ne),So(I,z,1,Y,8,J,ee,ne)}function ve(w,C,I,z,Y,J,ee,ne){Ao(w,C+4*Y,Y,1,8,J,ee,ne),Ao(I,z+4*Y,Y,1,8,J,ee,ne)}function _e(w,C,I,z,Y,J,ee,ne){Ao(w,C+4,1,Y,8,J,ee,ne),Ao(I,z+4,1,Y,8,J,ee,ne)}function Ge(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function At(){this.ua=0,this.Wa=new Dt,this.vb=new Dt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new X}function $t(){this.xb=this.a=0,this.l=new yo,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new H,this.Pb=0,this.wd=new H,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new At,this.ab=0,this.gc=c(4,bt),this.Oc=0}function Zt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hr(w,C,I,z,Y,J,ee){for(w=w==null?0:w[C+0],C=0;C<ee;++C)Y[J+C]=w+I[z+C]&255,w=Y[J+C]}function un(w,C,I,z,Y,J,ee){var ne;if(w==null)hr(null,null,I,z,Y,J,ee);else for(ne=0;ne<ee;++ne)Y[J+ne]=w[C+ne]+I[z+ne]&255}function Cn(w,C,I,z,Y,J,ee){if(w==null)hr(null,null,I,z,Y,J,ee);else{var ne,ie=w[C+0],fe=ie,we=ie;for(ne=0;ne<ee;++ne)fe=we+(ie=w[C+ne])-fe,we=I[z+ne]+(-256&fe?0>fe?0:255:fe)&255,fe=ie,Y[J+ne]=we}}function $r(w,C,I,z){var Y=C.width,J=C.o;if(t(w!=null&&C!=null),0>I||0>=z||I+z>J)return null;if(!w.Cc){if(w.ga==null){var ee;if(w.ga=new Zt,(ee=w.ga==null)||(ee=C.width*C.o,t(w.Gb.length==0),w.Gb=i(ee),w.Uc=0,w.Gb==null?ee=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,ee=1),ee=!ee),!ee){ee=w.ga;var ne=w.Fa,ie=w.P,fe=w.qc,we=w.mb,Oe=w.nb,de=ie+1,je=fe-1,Ee=ee.l;if(t(ne!=null&&we!=null&&C!=null),Bo[0]=null,Bo[1]=hr,Bo[2]=un,Bo[3]=Cn,ee.ca=we,ee.tb=Oe,ee.c=C.width,ee.i=C.height,t(0<ee.c&&0<ee.i),1>=fe)C=0;else if(ee.$a=3&ne[ie+0],ee.Z=ne[ie+0]>>2&3,ee.Lc=ne[ie+0]>>4&3,ie=ne[ie+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||ie)C=0;else if(Ee.put=Ot,Ee.ac=as,Ee.bc=oi,Ee.ma=ee,Ee.width=C.width,Ee.height=C.height,Ee.Da=C.Da,Ee.v=C.v,Ee.va=C.va,Ee.j=C.j,Ee.o=C.o,ee.$a)e:{t(ee.$a==1),C=bo();t:for(;;){if(C==null){C=0;break e}if(t(ee!=null),ee.mc=C,C.c=ee.c,C.i=ee.i,C.l=ee.l,C.l.ma=ee,C.l.width=ee.c,C.l.height=ee.i,C.a=0,Z(C.m,ne,de,je),!gs(ee.c,ee.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&jr(C.s)?(ee.ic=1,ne=C.c*C.i,C.Ta=null,C.Ua=0,C.V=i(ne),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(ee.ic=0,C=Pe(C,ee.c)),!C))break t;C=1;break e}ee.mc=null,C=0}else C=je>=ee.c*ee.i;ee=!C}if(ee)return null;w.ga.Lc!=1?w.Ga=0:z=J-I}t(w.ga!=null),t(I+z<=J);e:{if(C=(ne=w.ga).c,J=ne.l.o,ne.$a==0){if(de=w.rc,je=w.Vc,Ee=w.Fa,ie=w.P+1+I*C,fe=w.mb,we=w.nb+I*C,t(ie<=w.P+w.qc),ne.Z!=0)for(t(Bo[ne.Z]!=null),ee=0;ee<z;++ee)Bo[ne.Z](de,je,Ee,ie,fe,we,C),de=fe,je=we,we+=C,ie+=C;else for(ee=0;ee<z;++ee)n(fe,we,Ee,ie,C),de=fe,je=we,we+=C,ie+=C;w.rc=de,w.Vc=je}else{if(t(ne.mc!=null),C=I+z,t((ee=ne.mc)!=null),t(C<=ee.i),ee.C>=C)C=1;else if(ne.ic||fi(),ne.ic){ne=ee.V,de=ee.Ba,je=ee.c;var Ue=ee.i,ke=(Ee=1,ie=ee.$/je,fe=ee.$%je,we=ee.m,Oe=ee.s,ee.$),ze=je*Ue,Ke=je*C,st=Oe.wc,Ze=ke<Ke?_n(Oe,fe,ie):null;t(ke<=ze),t(C<=Ue),t(jr(Oe));t:for(;;){for(;!we.h&&ke<Ke;){if(fe&st||(Ze=_n(Oe,fe,ie)),t(Ze!=null),be(we),256>(Ue=Ur(Ze.G[0],Ze.H[0],we)))ne[de+ke]=Ue,++ke,++fe>=je&&(fe=0,++ie<=C&&!(ie%16)&&sa(ee,ie));else{if(!(280>Ue)){Ee=0;break t}Ue=qa(Ue-256,we);var vt,dt=Ur(Ze.G[4],Ze.H[4],we);if(be(we),!(ke>=(dt=$a(je,dt=qa(dt,we)))&&ze-ke>=Ue)){Ee=0;break t}for(vt=0;vt<Ue;++vt)ne[de+ke+vt]=ne[de+ke+vt-dt];for(ke+=Ue,fe+=Ue;fe>=je;)fe-=je,++ie<=C&&!(ie%16)&&sa(ee,ie);ke<Ke&&fe&st&&(Ze=_n(Oe,fe,ie))}t(we.h==ae(we))}sa(ee,ie>C?C:ie);break t}!Ee||we.h&&ke<ze?(Ee=0,ee.a=we.h?5:3):ee.$=ke,C=Ee}else C=Ha(ee,ee.V,ee.Ba,ee.c,ee.i,C,lt);if(!C){z=0;break e}}I+z>=J&&(w.Cc=1),z=1}if(!z)return null;if(w.Cc&&((z=w.ga)!=null&&(z.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+I*Y}function Xn(w,C,I,z,Y,J){for(;0<Y--;){var ee,ne=w,ie=C+(I?1:0),fe=w,we=C+(I?0:3);for(ee=0;ee<z;++ee){var Oe=fe[we+4*ee];Oe!=255&&(Oe*=32897,ne[ie+4*ee+0]=ne[ie+4*ee+0]*Oe>>23,ne[ie+4*ee+1]=ne[ie+4*ee+1]*Oe>>23,ne[ie+4*ee+2]=ne[ie+4*ee+2]*Oe>>23)}C+=J}}function Mn(w,C,I,z,Y){for(;0<z--;){var J;for(J=0;J<I;++J){var ee=w[C+2*J+0],ne=15&(fe=w[C+2*J+1]),ie=4369*ne,fe=(240&fe|fe>>4)*ie>>16;w[C+2*J+0]=(240&ee|ee>>4)*ie>>16&240|(15&ee|ee<<4)*ie>>16>>4&15,w[C+2*J+1]=240&fe|ne}C+=Y}}function pa(w,C,I,z,Y,J,ee,ne){var ie,fe,we=255;for(fe=0;fe<Y;++fe){for(ie=0;ie<z;++ie){var Oe=w[C+ie];J[ee+4*ie]=Oe,we&=Oe}C+=I,ee+=ne}return we!=255}function Co(w,C,I,z,Y){var J;for(J=0;J<Y;++J)I[z+J]=w[C+J]>>8}function fi(){ic=Xn,zs=Mn,bd=pa,js=Co}function Eo(w,C,I){B[w]=function(z,Y,J,ee,ne,ie,fe,we,Oe,de,je,Ee,Ue,ke,ze,Ke,st){var Ze,vt=st-1>>1,dt=ne[ie+0]|fe[we+0]<<16,Wt=Oe[de+0]|je[Ee+0]<<16;t(z!=null);var mt=3*dt+Wt+131074>>2;for(C(z[Y+0],255&mt,mt>>16,Ue,ke),J!=null&&(mt=3*Wt+dt+131074>>2,C(J[ee+0],255&mt,mt>>16,ze,Ke)),Ze=1;Ze<=vt;++Ze){var or=ne[ie+Ze]|fe[we+Ze]<<16,tn=Oe[de+Ze]|je[Ee+Ze]<<16,Jt=dt+or+Wt+tn+524296,ft=Jt+2*(or+Wt)>>3;mt=ft+dt>>1,dt=(Jt=Jt+2*(dt+tn)>>3)+or>>1,C(z[Y+2*Ze-1],255&mt,mt>>16,Ue,ke+(2*Ze-1)*I),C(z[Y+2*Ze-0],255&dt,dt>>16,Ue,ke+(2*Ze-0)*I),J!=null&&(mt=Jt+Wt>>1,dt=ft+tn>>1,C(J[ee+2*Ze-1],255&mt,mt>>16,ze,Ke+(2*Ze-1)*I),C(J[ee+2*Ze+0],255&dt,dt>>16,ze,Ke+(2*Ze+0)*I)),dt=or,Wt=tn}1&st||(mt=3*dt+Wt+131074>>2,C(z[Y+st-1],255&mt,mt>>16,Ue,ke+(st-1)*I),J!=null&&(mt=3*Wt+dt+131074>>2,C(J[ee+st-1],255&mt,mt>>16,ze,Ke+(st-1)*I)))}}function md(){ya[Mf]=cc,ya[Oa]=pu,ya[Bf]=ym,ya[Fs]=$f,ya[Nd]=xl,ya[fu]=Vi,ya[hl]=gl,ya[jd]=pu,ya[zf]=$f,ya[hu]=xl,ya[Ff]=Vi}function su(w){return w&-16384?0>w?0:255:w>>Hf}function zi(w,C){return su((19077*w>>8)+(26149*C>>8)-14234)}function hi(w,C,I){return su((19077*w>>8)-(6419*C>>8)-(13320*I>>8)+8708)}function nc(w,C){return su((19077*w>>8)+(33050*C>>8)-17685)}function ko(w,C,I,z,Y){z[Y+0]=zi(w,I),z[Y+1]=hi(w,C,I),z[Y+2]=nc(w,C)}function oa(w,C,I,z,Y){z[Y+0]=nc(w,C),z[Y+1]=hi(w,C,I),z[Y+2]=zi(w,I)}function ul(w,C,I,z,Y){var J=hi(w,C,I);C=J<<3&224|nc(w,C)>>3,z[Y+0]=248&zi(w,I)|J>>5,z[Y+1]=C}function dl(w,C,I,z,Y){var J=240&nc(w,C)|15;z[Y+0]=240&zi(w,I)|hi(w,C,I)>>4,z[Y+1]=J}function iu(w,C,I,z,Y){z[Y+0]=255,ko(w,C,I,z,Y+1)}function Fi(w,C,I,z,Y){oa(w,C,I,z,Y),z[Y+3]=255}function Wa(w,C,I,z,Y){ko(w,C,I,z,Y),z[Y+3]=255}function Oo(w,C,I){B[w]=function(z,Y,J,ee,ne,ie,fe,we,Oe){for(var de=we+(-2&Oe)*I;we!=de;)C(z[Y+0],J[ee+0],ne[ie+0],fe,we),C(z[Y+1],J[ee+0],ne[ie+0],fe,we+I),Y+=2,++ee,++ie,we+=2*I;1&Oe&&C(z[Y+0],J[ee+0],ne[ie+0],fe,we)}}function ou(w,C,I){return I==0?w==0?C==0?6:5:C==0?4:0:I}function pd(w,C,I,z,Y){switch(w>>>30){case 3:Io(C,I,z,Y,0);break;case 2:Ea(C,I,z,Y);break;case 1:wr(C,I,z,Y)}}function ws(w,C){var I,z,Y=C.M,J=C.Nb,ee=w.oc,ne=w.pc+40,ie=w.oc,fe=w.pc+584,we=w.oc,Oe=w.pc+600;for(I=0;16>I;++I)ee[ne+32*I-1]=129;for(I=0;8>I;++I)ie[fe+32*I-1]=129,we[Oe+32*I-1]=129;for(0<Y?ee[ne-1-32]=ie[fe-1-32]=we[Oe-1-32]=129:(s(ee,ne-32-1,127,21),s(ie,fe-32-1,127,9),s(we,Oe-32-1,127,9)),z=0;z<w.za;++z){var de=C.ya[C.aa+z];if(0<z){for(I=-1;16>I;++I)n(ee,ne+32*I-4,ee,ne+32*I+12,4);for(I=-1;8>I;++I)n(ie,fe+32*I-4,ie,fe+32*I+4,4),n(we,Oe+32*I-4,we,Oe+32*I+4,4)}var je=w.Gd,Ee=w.Hd+z,Ue=de.ad,ke=de.Hc;if(0<Y&&(n(ee,ne-32,je[Ee].y,0,16),n(ie,fe-32,je[Ee].f,0,8),n(we,Oe-32,je[Ee].ea,0,8)),de.Za){var ze=ee,Ke=ne-32+16;for(0<Y&&(z>=w.za-1?s(ze,Ke,je[Ee].y[15],4):n(ze,Ke,je[Ee+1].y,0,4)),I=0;4>I;I++)ze[Ke+128+I]=ze[Ke+256+I]=ze[Ke+384+I]=ze[Ke+0+I];for(I=0;16>I;++I,ke<<=2)ze=ee,Ke=ne+On[I],bn[de.Ob[I]](ze,Ke),pd(ke,Ue,16*+I,ze,Ke)}else if(ze=ou(z,Y,de.Ob[0]),Xa[ze](ee,ne),ke!=0)for(I=0;16>I;++I,ke<<=2)pd(ke,Ue,16*+I,ee,ne+On[I]);for(I=de.Gc,ze=ou(z,Y,de.Dd),gi[ze](ie,fe),gi[ze](we,Oe),ke=Ue,ze=ie,Ke=fe,255&(de=0|I)&&(170&de?Bs(ke,256,ze,Ke):mr(ke,256,ze,Ke)),de=we,ke=Oe,255&(I>>=8)&&(170&I?Bs(Ue,320,de,ke):mr(Ue,320,de,ke)),Y<w.Ub-1&&(n(je[Ee].y,0,ee,ne+480,16),n(je[Ee].f,0,ie,fe+224,8),n(je[Ee].ea,0,we,Oe+224,8)),I=8*J*w.B,je=w.sa,Ee=w.ta+16*z+16*J*w.R,Ue=w.qa,de=w.ra+8*z+I,ke=w.Ha,ze=w.Ia+8*z+I,I=0;16>I;++I)n(je,Ee+I*w.R,ee,ne+32*I,16);for(I=0;8>I;++I)n(Ue,de+I*w.B,ie,fe+32*I,8),n(ke,ze+I*w.B,we,Oe+32*I,8)}}function mi(w,C,I,z,Y,J,ee,ne,ie){var fe=[0],we=[0],Oe=0,de=ie!=null?ie.kd:0,je=ie??new rt;if(w==null||12>I)return 7;je.data=w,je.w=C,je.ha=I,C=[C],I=[I],je.gb=[je.gb];e:{var Ee=C,Ue=I,ke=je.gb;if(t(w!=null),t(Ue!=null),t(ke!=null),ke[0]=0,12<=Ue[0]&&!r(w,Ee[0],"RIFF")){if(r(w,Ee[0]+8,"WEBP")){ke=3;break e}var ze=Ve(w,Ee[0]+4);if(12>ze||4294967286<ze){ke=3;break e}if(de&&ze>Ue[0]-8){ke=7;break e}ke[0]=ze,Ee[0]+=12,Ue[0]-=12}ke=0}if(ke!=0)return ke;for(ze=0<je.gb[0],I=I[0];;){e:{var Ke=w;Ue=C,ke=I;var st=fe,Ze=we,vt=Ee=[0];if((mt=Oe=[Oe])[0]=0,8>ke[0])ke=7;else{if(!r(Ke,Ue[0],"VP8X")){if(Ve(Ke,Ue[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var dt=Ve(Ke,Ue[0]+8),Wt=1+Ie(Ke,Ue[0]+12);if(2147483648<=Wt*(Ke=1+Ie(Ke,Ue[0]+15))){ke=3;break e}vt!=null&&(vt[0]=dt),st!=null&&(st[0]=Wt),Ze!=null&&(Ze[0]=Ke),Ue[0]+=18,ke[0]-=18,mt[0]=1}ke=0}}if(Oe=Oe[0],Ee=Ee[0],ke!=0)return ke;if(Ue=!!(2&Ee),!ze&&Oe)return 3;if(J!=null&&(J[0]=!!(16&Ee)),ee!=null&&(ee[0]=Ue),ne!=null&&(ne[0]=0),ee=fe[0],Ee=we[0],Oe&&Ue&&ie==null){ke=0;break}if(4>I){ke=7;break}if(ze&&Oe||!ze&&!Oe&&!r(w,C[0],"ALPH")){I=[I],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{dt=w,ke=C,ze=I;var mt=je.gb;st=je.na,Ze=je.P,vt=je.Sa,Wt=22,t(dt!=null),t(ze!=null),Ke=ke[0];var or=ze[0];for(t(st!=null),t(vt!=null),st[0]=null,Ze[0]=null,vt[0]=0;;){if(ke[0]=Ke,ze[0]=or,8>or){ke=7;break e}var tn=Ve(dt,Ke+4);if(4294967286<tn){ke=3;break e}var Jt=8+tn+1&-2;if(Wt+=Jt,0<mt&&Wt>mt){ke=3;break e}if(!r(dt,Ke,"VP8 ")||!r(dt,Ke,"VP8L")){ke=0;break e}if(or[0]<Jt){ke=7;break e}r(dt,Ke,"ALPH")||(st[0]=dt,Ze[0]=Ke+8,vt[0]=tn),Ke+=Jt,or-=Jt}}if(I=I[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],ke!=0)break}I=[I],je.Ja=[je.Ja],je.xa=[je.xa];e:if(mt=w,ke=C,ze=I,st=je.gb[0],Ze=je.Ja,vt=je.xa,dt=ke[0],Ke=!r(mt,dt,"VP8 "),Wt=!r(mt,dt,"VP8L"),t(mt!=null),t(ze!=null),t(Ze!=null),t(vt!=null),8>ze[0])ke=7;else{if(Ke||Wt){if(mt=Ve(mt,dt+4),12<=st&&mt>st-12){ke=3;break e}if(de&&mt>ze[0]-8){ke=7;break e}Ze[0]=mt,ke[0]+=8,ze[0]-=8,vt[0]=Wt}else vt[0]=5<=ze[0]&&mt[dt+0]==47&&!(mt[dt+4]>>5),Ze[0]=ze[0];ke=0}if(I=I[0],je.Ja=je.Ja[0],je.xa=je.xa[0],C=C[0],ke!=0)break;if(4294967286<je.Ja)return 3;if(ne==null||Ue||(ne[0]=je.xa?2:1),ee=[ee],Ee=[Ee],je.xa){if(5>I){ke=7;break}ne=ee,de=Ee,Ue=J,w==null||5>I?w=0:5<=I&&w[C+0]==47&&!(w[C+4]>>5)?(ze=[0],mt=[0],st=[0],Z(Ze=new H,w,C,I),Rs(Ze,ze,mt,st)?(ne!=null&&(ne[0]=ze[0]),de!=null&&(de[0]=mt[0]),Ue!=null&&(Ue[0]=st[0]),w=1):w=0):w=0}else{if(10>I){ke=7;break}ne=Ee,w==null||10>I||!ad(w,C+3,I-3)?w=0:(de=w[C+0]|w[C+1]<<8|w[C+2]<<16,Ue=16383&(w[C+7]<<8|w[C+6]),w=16383&(w[C+9]<<8|w[C+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=je.Ja||!Ue||!w?w=0:(ee&&(ee[0]=Ue),ne&&(ne[0]=w),w=1))}if(!w||(ee=ee[0],Ee=Ee[0],Oe&&(fe[0]!=ee||we[0]!=Ee)))return 3;ie!=null&&(ie[0]=je,ie.offset=C-ie.w,t(4294967286>C-ie.w),t(ie.offset==ie.ha-I));break}return ke==0||ke==7&&Oe&&ie==null?(J!=null&&(J[0]|=je.na!=null&&0<je.na.length),z!=null&&(z[0]=ee),Y!=null&&(Y[0]=Ee),0):ke}function Po(w,C,I){var z=C.width,Y=C.height,J=0,ee=0,ne=z,ie=Y;if(C.Da=w!=null&&0<w.Da,C.Da&&(ne=w.cd,ie=w.bd,J=w.v,ee=w.j,11>I||(J&=-2,ee&=-2),0>J||0>ee||0>=ne||0>=ie||J+ne>z||ee+ie>Y))return 0;if(C.v=J,C.j=ee,C.va=J+ne,C.o=ee+ie,C.U=ne,C.T=ie,C.da=w!=null&&0<w.da,C.da){if(!xt(ne,ie,I=[w.ib],J=[w.hb]))return 0;C.ib=I[0],C.hb=J[0]}return C.ob=w!=null&&w.ob,C.Kb=w==null||!w.Sd,C.da&&(C.ob=C.ib<3*z/4&&C.hb<3*Y/4,C.Kb=0),1}function xd(w){if(w==null)return 2;if(11>w.S){var C=w.f.RGBA;C.fb+=(w.height-1)*C.A,C.A=-C.A}else C=w.f.kb,w=w.height,C.O+=(w-1)*C.fa,C.fa=-C.fa,C.N+=(w-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(w-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(w-1)*C.lb,C.lb=-C.lb);return 0}function pi(w,C,I,z){if(z==null||0>=w||0>=C)return 2;if(I!=null){if(I.Da){var Y=I.cd,J=I.bd,ee=-2&I.v,ne=-2&I.j;if(0>ee||0>ne||0>=Y||0>=J||ee+Y>w||ne+J>C)return 2;w=Y,C=J}if(I.da){if(!xt(w,C,Y=[I.ib],J=[I.hb]))return 2;w=Y[0],C=J[0]}}z.width=w,z.height=C;e:{var ie=z.width,fe=z.height;if(w=z.S,0>=ie||0>=fe||!(w>=Mf&&13>w))w=2;else{if(0>=z.Rd&&z.sd==null){ee=J=Y=C=0;var we=(ne=ie*Kf[w])*fe;if(11>w||(J=(fe+1)/2*(C=(ie+1)/2),w==12&&(ee=(Y=ie)*fe)),(fe=i(we+2*J+ee))==null){w=1;break e}z.sd=fe,11>w?((ie=z.f.RGBA).eb=fe,ie.fb=0,ie.A=ne,ie.size=we):((ie=z.f.kb).y=fe,ie.O=0,ie.fa=ne,ie.Fd=we,ie.f=fe,ie.N=0+we,ie.Ab=C,ie.Cd=J,ie.ea=fe,ie.W=0+we+J,ie.Db=C,ie.Ed=J,w==12&&(ie.F=fe,ie.J=0+we+2*J),ie.Tc=ee,ie.lb=Y)}if(C=1,Y=z.S,J=z.width,ee=z.height,Y>=Mf&&13>Y)if(11>Y)w=z.f.RGBA,C&=(ne=Math.abs(w.A))*(ee-1)+J<=w.size,C&=ne>=J*Kf[Y],C&=w.eb!=null;else{w=z.f.kb,ne=(J+1)/2,we=(ee+1)/2,ie=Math.abs(w.fa),fe=Math.abs(w.Ab);var Oe=Math.abs(w.Db),de=Math.abs(w.lb),je=de*(ee-1)+J;C&=ie*(ee-1)+J<=w.Fd,C&=fe*(we-1)+ne<=w.Cd,C=(C&=Oe*(we-1)+ne<=w.Ed)&ie>=J&fe>=ne&Oe>=ne,C&=w.y!=null,C&=w.f!=null,C&=w.ea!=null,Y==12&&(C&=de>=J,C&=je<=w.Tc,C&=w.F!=null)}else C=0;w=C?0:2}}return w!=0||I!=null&&I.fd&&(w=xd(z)),w}var fl=64,ls=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ya=24,Ui=32,qi=8,Lo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ut("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(w){return w},B.Predictor2=function(w,C,I){return C[I+0]},B.Predictor3=function(w,C,I){return C[I+1]},B.Predictor4=function(w,C,I){return C[I-1]},B.Predictor5=function(w,C,I){return Ct(Ct(w,C[I+1]),C[I+0])},B.Predictor6=function(w,C,I){return Ct(w,C[I-1])},B.Predictor7=function(w,C,I){return Ct(w,C[I+0])},B.Predictor8=function(w,C,I){return Ct(C[I-1],C[I+0])},B.Predictor9=function(w,C,I){return Ct(C[I+0],C[I+1])},B.Predictor10=function(w,C,I){return Ct(Ct(w,C[I-1]),Ct(C[I+0],C[I+1]))},B.Predictor11=function(w,C,I){var z=C[I+0];return 0>=Ut(z>>24&255,w>>24&255,(C=C[I-1])>>24&255)+Ut(z>>16&255,w>>16&255,C>>16&255)+Ut(z>>8&255,w>>8&255,C>>8&255)+Ut(255&z,255&w,255&C)?z:w},B.Predictor12=function(w,C,I){var z=C[I+0];return(Gt((w>>24&255)+(z>>24&255)-((C=C[I-1])>>24&255))<<24|Gt((w>>16&255)+(z>>16&255)-(C>>16&255))<<16|Gt((w>>8&255)+(z>>8&255)-(C>>8&255))<<8|Gt((255&w)+(255&z)-(255&C)))>>>0},B.Predictor13=function(w,C,I){var z=C[I-1];return(nr((w=Ct(w,C[I+0]))>>24&255,z>>24&255)<<24|nr(w>>16&255,z>>16&255)<<16|nr(w>>8&255,z>>8&255)<<8|nr(255&w,255&z))>>>0};var lu=B.PredictorAdd0;B.PredictorAdd1=ar,ut("Predictor2","PredictorAdd2"),ut("Predictor3","PredictorAdd3"),ut("Predictor4","PredictorAdd4"),ut("Predictor5","PredictorAdd5"),ut("Predictor6","PredictorAdd6"),ut("Predictor7","PredictorAdd7"),ut("Predictor8","PredictorAdd8"),ut("Predictor9","PredictorAdd9"),ut("Predictor10","PredictorAdd10"),ut("Predictor11","PredictorAdd11"),ut("Predictor12","PredictorAdd12"),ut("Predictor13","PredictorAdd13");var cu=B.PredictorAdd2;Se("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),Se("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var En,Rf=B.ColorIndexInverseTransform,$i=B.MapARGB,Hi=B.VP8LColorIndexInverseTransformAlpha,xa=B.MapAlpha,To=B.VP8LPredictorsAdd=[];To.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var uu,du,Ro,Do,Gi,ac,Ns,Io,Ea,Bs,wr,mr,Hr,kn,Ki,xi,sc,gd,mm,_p,Cp,Ep,pm,xm,ic,zs,bd,js,oc=i(511),Df=i(2041),yd=i(225),vd=i(767),If=0,Mo=Df,wd=yd,ka=vd,ga=oc,Mf=0,Oa=1,Bf=2,Fs=3,Nd=4,fu=5,hl=6,jd=7,zf=8,hu=9,Ff=10,Us=[2,3,7],mu=[3,3,11],lc=[280,256,256,256,40],Uf=[0,1,1,1,0],Sd=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qs=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$s=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ml=8,Hs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Gs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ss=null,kp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gm=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Op=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ba=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],en=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],lr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xa=[],bn=[],gi=[],pl=1,bm=2,Bo=[],ya=[];Eo("UpsampleRgbLinePair",ko,3),Eo("UpsampleBgrLinePair",oa,3),Eo("UpsampleRgbaLinePair",Wa,4),Eo("UpsampleBgraLinePair",Fi,4),Eo("UpsampleArgbLinePair",iu,4),Eo("UpsampleRgba4444LinePair",dl,2),Eo("UpsampleRgb565LinePair",ul,2);var cc=B.UpsampleRgbLinePair,ym=B.UpsampleBgrLinePair,pu=B.UpsampleRgbaLinePair,$f=B.UpsampleBgraLinePair,xl=B.UpsampleArgbLinePair,Vi=B.UpsampleRgba4444LinePair,gl=B.UpsampleRgb565LinePair,Ks=16,xu=1<<Ks-1,uc=-227,bl=482,Hf=6,yl=0,va=i(256),Gf=i(256),Pp=i(256),sv=i(256),iv=i(bl-uc),ov=i(bl-uc);Oo("YuvToRgbRow",ko,3),Oo("YuvToBgrRow",oa,3),Oo("YuvToRgbaRow",Wa,4),Oo("YuvToBgraRow",Fi,4),Oo("YuvToArgbRow",iu,4),Oo("YuvToRgba4444Row",dl,2),Oo("YuvToRgb565Row",ul,2);var On=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gu=[0,2,8],Ad=[8,7,6,4,4,2,2,2,1,1,1,1],_d=1;this.WebPDecodeRGBA=function(w,C,I,z,Y){var J=Oa,ee=new Ge,ne=new Tt;ee.ba=ne,ne.S=J,ne.width=[ne.width],ne.height=[ne.height];var ie=ne.width,fe=ne.height,we=new ht;if(we==null||w==null)var Oe=2;else t(we!=null),Oe=mi(w,C,I,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Oe!=0?ie=0:(ie!=null&&(ie[0]=we.width[0]),fe!=null&&(fe[0]=we.height[0]),ie=1),ie){ne.width=ne.width[0],ne.height=ne.height[0],z!=null&&(z[0]=ne.width),Y!=null&&(Y[0]=ne.height);e:{if(z=new yo,(Y=new rt).data=w,Y.w=C,Y.ha=I,Y.kd=1,C=[0],t(Y!=null),((w=mi(Y.data,Y.w,Y.ha,null,null,null,C,null,Y))==0||w==7)&&C[0]&&(w=4),(C=w)==0){if(t(ee!=null),z.data=Y.data,z.w=Y.w+Y.offset,z.ha=Y.ha-Y.offset,z.put=Ot,z.ac=as,z.bc=oi,z.ma=ee,Y.xa){if((w=bo())==null){ee=1;break e}if((function(de,je){var Ee=[0],Ue=[0],ke=[0];t:for(;;){if(de==null)return 0;if(je==null)return de.a=2,0;if(de.l=je,de.a=0,Z(de.m,je.data,je.w,je.ha),!Rs(de.m,Ee,Ue,ke)){de.a=3;break t}if(de.xb=bm,je.width=Ee[0],je.height=Ue[0],!gs(Ee[0],Ue[0],1,de,null))break t;return 1}return t(de.a!=0),0})(w,z)){if(z=(C=pi(z.width,z.height,ee.Oa,ee.ba))==0){t:{z=w;r:for(;;){if(z==null){z=0;break t}if(t(z.s.yc!=null),t(z.s.Ya!=null),t(0<z.s.Wb),t((I=z.l)!=null),t((Y=I.ma)!=null),z.xb!=0){if(z.ca=Y.ba,z.tb=Y.tb,t(z.ca!=null),!Po(Y.Oa,I,Fs)){z.a=2;break r}if(!Pe(z,I.width)||I.da)break r;if((I.da||gt(z.ca.S))&&fi(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&fi()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!se(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!Ha(z,z.V,z.Ba,z.c,z.i,I.o,ha))break r;Y.Dc=z.Ma,z=1;break t}t(z.a!=0),z=0}z=!z}z&&(C=w.a)}else C=w.a}else{if((w=new ci)==null){ee=1;break e}if(w.Fa=Y.na,w.P=Y.P,w.qc=Y.Sa,Ii(w,z)){if((C=pi(z.width,z.height,ee.Oa,ee.ba))==0){if(w.Aa=0,I=ee.Oa,t((Y=w)!=null),I!=null){if(0<(ie=0>(ie=I.Md)?0:100<ie?255:255*ie/100)){for(fe=we=0;4>fe;++fe)12>(Oe=Y.pb[fe]).lc&&(Oe.ia=ie*Ad[0>Oe.lc?0:Oe.lc]>>3),we|=Oe.ia;we&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=I.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}(function(de,je){if(de==null)return 0;if(je==null)return vr(de,2,"NULL VP8Io parameter in VP8Decode().");if(!de.cb&&!Ii(de,je))return 0;if(t(de.cb),je.ac==null||je.ac(je)){je.ob&&(de.L=0);var Ee=gu[de.L];if(de.L==2?(de.yb=0,de.zb=0):(de.yb=je.v-Ee>>4,de.zb=je.j-Ee>>4,0>de.yb&&(de.yb=0),0>de.zb&&(de.zb=0)),de.Va=je.o+15+Ee>>4,de.Hb=je.va+15+Ee>>4,de.Hb>de.za&&(de.Hb=de.za),de.Va>de.Ub&&(de.Va=de.Ub),0<de.L){var Ue=de.ed;for(Ee=0;4>Ee;++Ee){var ke;if(de.Qa.Cb){var ze=de.Qa.Lb[Ee];de.Qa.Fb||(ze+=Ue.Tb)}else ze=Ue.Tb;for(ke=0;1>=ke;++ke){var Ke=de.gd[Ee][ke],st=ze;if(Ue.Pc&&(st+=Ue.vd[0],ke&&(st+=Ue.od[0])),0<(st=0>st?0:63<st?63:st)){var Ze=st;0<Ue.wb&&(Ze=4<Ue.wb?Ze>>2:Ze>>1)>9-Ue.wb&&(Ze=9-Ue.wb),1>Ze&&(Ze=1),Ke.dd=Ze,Ke.tc=2*st+Ze,Ke.ld=40<=st?2:15<=st?1:0}else Ke.tc=0;Ke.La=ke}}}Ee=0}else vr(de,6,"Frame setup failed"),Ee=de.a;if(Ee=Ee==0){if(Ee){de.$c=0,0<de.Aa||(de.Ic=_d);t:{Ee=de.Ic,Ue=4*(Ze=de.za);var vt=32*Ze,dt=Ze+1,Wt=0<de.L?Ze*(0<de.Aa?2:1):0,mt=(de.Aa==2?2:1)*Ze;if((Ke=Ue+832+(ke=3*(16*Ee+gu[de.L])/2*vt)+(ze=de.Fa!=null&&0<de.Fa.length?de.Kc.c*de.Kc.i:0))!=Ke)Ee=0;else{if(Ke>de.Vb){if(de.Vb=0,de.Ec=i(Ke),de.Fc=0,de.Ec==null){Ee=vr(de,1,"no memory during frame initialization.");break t}de.Vb=Ke}Ke=de.Ec,st=de.Fc,de.Ac=Ke,de.Bc=st,st+=Ue,de.Gd=c(vt,nd),de.Hd=0,de.rb=c(dt+1,is),de.sb=1,de.wa=Wt?c(Wt,Ga):null,de.Y=0,de.D.Nb=0,de.D.wa=de.wa,de.D.Y=de.Y,0<de.Aa&&(de.D.Y+=Ze),t(!0),de.oc=Ke,de.pc=st,st+=832,de.ya=c(mt,Wn),de.aa=0,de.D.ya=de.ya,de.D.aa=de.aa,de.Aa==2&&(de.D.aa+=Ze),de.R=16*Ze,de.B=8*Ze,Ze=(vt=gu[de.L])*de.R,vt=vt/2*de.B,de.sa=Ke,de.ta=st+Ze,de.qa=de.sa,de.ra=de.ta+16*Ee*de.R+vt,de.Ha=de.qa,de.Ia=de.ra+8*Ee*de.B+vt,de.$c=0,st+=ke,de.mb=ze?Ke:null,de.nb=ze?st:null,t(st+ze<=de.Fc+de.Vb),sd(de),s(de.Ac,de.Bc,0,Ue),Ee=1}}if(Ee){if(je.ka=0,je.y=de.sa,je.O=de.ta,je.f=de.qa,je.N=de.ra,je.ea=de.Ha,je.Vd=de.Ia,je.fa=de.R,je.Rc=de.B,je.F=null,je.J=0,!If){for(Ee=-255;255>=Ee;++Ee)oc[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)Df[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)yd[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)vd[255+Ee]=0>Ee?0:255<Ee?255:Ee;If=1}Ns=ui,Io=id,Bs=Va,wr=od,mr=ld,Ea=Af,Hr=Lf,kn=_o,Ki=W,xi=he,sc=Tf,gd=L,mm=ve,_p=_e,Cp=No,Ep=jo,pm=rc,xm=hd,bn[0]=Of,bn[1]=_f,bn[2]=kf,bn[3]=dd,bn[4]=ys,bn[5]=fd,bn[6]=ma,bn[7]=Jl,bn[8]=ec,bn[9]=vs,Xa[0]=di,Xa[1]=cd,Xa[2]=ud,Xa[3]=Ef,Xa[4]=vo,Xa[5]=Zl,Xa[6]=cl,gi[0]=ru,gi[1]=Cf,gi[2]=Mi,gi[3]=Pf,gi[4]=ia,gi[5]=nu,gi[6]=Bi,Ee=1}else Ee=0}Ee&&(Ee=(function(or,tn){for(or.M=0;or.M<or.Va;++or.M){var Jt,ft=or.Jc[or.M&or.Xb],ot=or.m,dn=or;for(Jt=0;Jt<dn.za;++Jt){var Ft=ot,rr=dn,Er=rr.Ac,Qn=rr.Bc+4*Jt,wa=rr.zc,Gr=rr.ya[rr.aa+Jt];if(rr.Qa.Bb?Gr.$b=me(Ft,rr.Pa.jb[0])?2+me(Ft,rr.Pa.jb[2]):me(Ft,rr.Pa.jb[1]):Gr.$b=0,rr.kc&&(Gr.Ad=me(Ft,rr.Bd)),Gr.Za=!me(Ft,145)+0,Gr.Za){var Bn=Gr.Ob,Pa=0;for(rr=0;4>rr;++rr){var zn,ir=wa[0+rr];for(zn=0;4>zn;++zn){ir=ba[Er[Qn+zn]][ir];for(var gr=qf[me(Ft,ir[0])];0<gr;)gr=qf[2*gr+me(Ft,ir[gr])];ir=-gr,Er[Qn+zn]=ir}n(Bn,Pa,Er,Qn,4),Pa+=4,wa[0+rr]=ir}}else ir=me(Ft,156)?me(Ft,128)?1:3:me(Ft,163)?2:0,Gr.Ob[0]=ir,s(Er,Qn,ir,4),s(wa,0,ir,4);Gr.Dd=me(Ft,142)?me(Ft,114)?me(Ft,183)?1:3:2:0}if(dn.m.Ka)return vr(or,7,"Premature end-of-partition0 encountered.");for(;or.ja<or.za;++or.ja){if(dn=ft,Ft=(ot=or).rb[ot.sb-1],Er=ot.rb[ot.sb+ot.ja],Jt=ot.ya[ot.aa+ot.ja],Qn=ot.kc?Jt.Ad:0)Ft.la=Er.la=0,Jt.Za||(Ft.Na=Er.Na=0),Jt.Hc=0,Jt.Gc=0,Jt.ia=0;else{var fn,Nr;if(Ft=Er,Er=dn,Qn=ot.Pa.Xc,wa=ot.ya[ot.aa+ot.ja],Gr=ot.pb[wa.$b],rr=wa.ad,Bn=0,Pa=ot.rb[ot.sb-1],ir=zn=0,s(rr,Bn,0,384),wa.Za)var Zn=0,hn=Qn[3];else{gr=i(16);var br=Ft.Na+Pa.Na;if(br=Ss(Er,Qn[1],br,Gr.Eb,0,gr,0),Ft.Na=Pa.Na=(0<br)+0,1<br)Ns(gr,0,rr,Bn);else{var Pn=gr[0]+3>>3;for(gr=0;256>gr;gr+=16)rr[Bn+gr]=Pn}Zn=1,hn=Qn[0]}var kr=15&Ft.la,Fn=15&Pa.la;for(gr=0;4>gr;++gr){var Un=1&Fn;for(Pn=Nr=0;4>Pn;++Pn)kr=kr>>1|(Un=(br=Ss(Er,hn,br=Un+(1&kr),Gr.Sc,Zn,rr,Bn))>Zn)<<7,Nr=Nr<<2|(3<br?3:1<br?2:rr[Bn+0]!=0),Bn+=16;kr>>=4,Fn=Fn>>1|Un<<7,zn=(zn<<8|Nr)>>>0}for(hn=kr,Zn=Fn>>4,fn=0;4>fn;fn+=2){for(Nr=0,kr=Ft.la>>4+fn,Fn=Pa.la>>4+fn,gr=0;2>gr;++gr){for(Un=1&Fn,Pn=0;2>Pn;++Pn)br=Un+(1&kr),kr=kr>>1|(Un=0<(br=Ss(Er,Qn[2],br,Gr.Qc,0,rr,Bn)))<<3,Nr=Nr<<2|(3<br?3:1<br?2:rr[Bn+0]!=0),Bn+=16;kr>>=2,Fn=Fn>>1|Un<<5}ir|=Nr<<4*fn,hn|=kr<<4<<fn,Zn|=(240&Fn)<<fn}Ft.la=hn,Pa.la=Zn,wa.Hc=zn,wa.Gc=ir,wa.ia=43690&ir?0:Gr.ia,Qn=!(zn|ir)}if(0<ot.L&&(ot.wa[ot.Y+ot.ja]=ot.gd[Jt.$b][Jt.Za],ot.wa[ot.Y+ot.ja].La|=!Qn),dn.Ka)return vr(or,7,"Premature end-of-file encountered.")}if(sd(or),ot=tn,dn=1,Jt=(ft=or).D,Ft=0<ft.L&&ft.M>=ft.zb&&ft.M<=ft.Va,ft.Aa==0)t:{if(Jt.M=ft.M,Jt.uc=Ft,ws(ft,Jt),dn=1,Jt=(Nr=ft.D).Nb,Ft=(ir=gu[ft.L])*ft.R,Er=ir/2*ft.B,gr=16*Jt*ft.R,Pn=8*Jt*ft.B,Qn=ft.sa,wa=ft.ta-Ft+gr,Gr=ft.qa,rr=ft.ra-Er+Pn,Bn=ft.Ha,Pa=ft.Ia-Er+Pn,Fn=(kr=Nr.M)==0,zn=kr>=ft.Va-1,ft.Aa==2&&ws(ft,Nr),Nr.uc)for(Un=(br=ft).D.M,t(br.D.uc),Nr=br.yb;Nr<br.Hb;++Nr){Zn=Nr,hn=Un;var Tr=(pr=(qn=br).D).Nb;fn=qn.R;var pr=pr.wa[pr.Y+Zn],La=qn.sa,yn=qn.ta+16*Tr*fn+16*Zn,Rt=pr.dd,It=pr.tc;if(It!=0)if(t(3<=It),qn.L==1)0<Zn&&Ep(La,yn,fn,It+4),pr.La&&xm(La,yn,fn,It),0<hn&&Cp(La,yn,fn,It+4),pr.La&&pm(La,yn,fn,It);else{var yr=qn.B,cs=qn.qa,Vs=qn.ra+8*Tr*yr+8*Zn,Qa=qn.Ha,qn=qn.Ia+8*Tr*yr+8*Zn;Tr=pr.ld,0<Zn&&(kn(La,yn,fn,It+4,Rt,Tr),xi(cs,Vs,Qa,qn,yr,It+4,Rt,Tr)),pr.La&&(gd(La,yn,fn,It,Rt,Tr),_p(cs,Vs,Qa,qn,yr,It,Rt,Tr)),0<hn&&(Hr(La,yn,fn,It+4,Rt,Tr),Ki(cs,Vs,Qa,qn,yr,It+4,Rt,Tr)),pr.La&&(sc(La,yn,fn,It,Rt,Tr),mm(cs,Vs,Qa,qn,yr,It,Rt,Tr))}}if(ft.ia&&alert("todo:DitherRow"),ot.put!=null){if(Nr=16*kr,kr=16*(kr+1),Fn?(ot.y=ft.sa,ot.O=ft.ta+gr,ot.f=ft.qa,ot.N=ft.ra+Pn,ot.ea=ft.Ha,ot.W=ft.Ia+Pn):(Nr-=ir,ot.y=Qn,ot.O=wa,ot.f=Gr,ot.N=rr,ot.ea=Bn,ot.W=Pa),zn||(kr-=ir),kr>ot.o&&(kr=ot.o),ot.F=null,ot.J=null,ft.Fa!=null&&0<ft.Fa.length&&Nr<kr&&(ot.J=$r(ft,ot,Nr,kr-Nr),ot.F=ft.mb,ot.F==null&&ot.F.length==0)){dn=vr(ft,3,"Could not decode alpha data.");break t}Nr<ot.j&&(ir=ot.j-Nr,Nr=ot.j,t(!(1&ir)),ot.O+=ft.R*ir,ot.N+=ft.B*(ir>>1),ot.W+=ft.B*(ir>>1),ot.F!=null&&(ot.J+=ot.width*ir)),Nr<kr&&(ot.O+=ot.v,ot.N+=ot.v>>1,ot.W+=ot.v>>1,ot.F!=null&&(ot.J+=ot.v),ot.ka=Nr-ot.j,ot.U=ot.va-ot.v,ot.T=kr-Nr,dn=ot.put(ot))}Jt+1!=ft.Ic||zn||(n(ft.sa,ft.ta-Ft,Qn,wa+16*ft.R,Ft),n(ft.qa,ft.ra-Er,Gr,rr+8*ft.B,Er),n(ft.Ha,ft.Ia-Er,Bn,Pa+8*ft.B,Er))}if(!dn)return vr(or,6,"Output aborted.")}return 1})(de,je)),je.bc!=null&&je.bc(je),Ee&=1}return Ee?(de.cb=0,Ee):0})(w,z)||(C=w.a)}}else C=w.a}C==0&&ee.Oa!=null&&ee.Oa.fd&&(C=xd(ee.ba))}ee=C}J=ee!=0?null:11>J?ne.f.RGBA.eb:ne.f.kb.y}else J=null;return J};var Kf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(B,K){for(var U="",F=0;F<4;F++)U+=String.fromCharCode(B[K++]);return U}function m(B,K){return B[K+0]|B[K+1]<<8}function p(B,K){return(B[K+0]|B[K+1]<<8|B[K+2]<<16)>>>0}function g(B,K){return(B[K+0]|B[K+1]<<8|B[K+2]<<16|B[K+3]<<24)>>>0}new d;var b=[0],y=[0],N=[],j=new d,S=e,_=(function(B,K){var U={},F=0,X=!1,Q=0,pe=0;if(U.frames=[],!(function(P,H){for(var $=0;$<4;$++)if(P[H+$]!="RIFF".charCodeAt($))return!0;return!1})(B,K)){for(g(B,K+=4),K+=8;K<B.length;){var re=f(B,K),ue=g(B,K+=4);K+=4;var V=ue+(1&ue);switch(re){case"VP8 ":case"VP8L":U.frames[F]===void 0&&(U.frames[F]={}),(G=U.frames[F]).src_off=X?pe:K-8,G.src_size=Q+ue+8,F++,X&&(X=!1,Q=0,pe=0);break;case"VP8X":(G=U.header={}).feature_flags=B[K];var Z=K+4;G.canvas_width=1+p(B,Z),Z+=3,G.canvas_height=1+p(B,Z),Z+=3;break;case"ALPH":X=!0,Q=V+8,pe=K-8;break;case"ANIM":(G=U.header).bgcolor=g(B,K),Z=K+4,G.loop_count=m(B,Z),Z+=2;break;case"ANMF":var ge,G;(G=U.frames[F]={}).offset_x=2*p(B,K),K+=3,G.offset_y=2*p(B,K),K+=3,G.width=1+p(B,K),K+=3,G.height=1+p(B,K),K+=3,G.duration=p(B,K),K+=3,ge=B[K++],G.dispose=1&ge,G.blend=ge>>1&1}re!="ANMF"&&(K+=V)}return U}})(S,0);_.response=S,_.rgbaoutput=!0,_.dataurl=!1;var E=_.header?_.header:null,k=_.frames?_.frames:null;if(E){E.loop_counter=E.loop_count,b=[E.canvas_height],y=[E.canvas_width];for(var T=0;T<k.length&&k[T].blend!=0;T++);}var D=k[0],M=j.WebPDecodeRGBA(S,D.src_off,D.src_size,y,b);D.rgba=M,D.imgwidth=y[0],D.imgheight=b[0];for(var R=0;R<y[0]*b[0]*4;R++)N[R]=M[R];return this.width=y,this.height=b,this.data=N,this}function vfe(){var e,t=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function wfe(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,r,n,s,i,c,u,d,f,m=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new d,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new c,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new c,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new p(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,f=new m}]);var p=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=P;Object.defineProperty(this,"pdf",{get:function(){return H}});var $=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $},set:function(se){$=!!se}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(se){ae=!!se}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(se){isNaN(se)||(le=se)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(se){isNaN(se)||(be=se)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(se){var at;typeof se=="number"?at=[se,se,se,se]:((at=new Array(4))[0]=se[0],at[1]=se.length>=2?se[1]:at[0],at[2]=se.length>=3?se[2]:at[0],at[3]=se.length>=4?se[3]:at[1]),f.margin=at}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(se){ce=se}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(se){oe=se}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(se){me=se}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(se){se instanceof m&&(f=se)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(se){f.path=se}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(se){Ae=se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(se){var at;at=g(se),this.ctx.fillStyle=at.style,this.ctx.isFillTransparent=at.a===0,this.ctx.fillOpacity=at.a,this.pdf.setFillColor(at.r,at.g,at.b,{a:at.a}),this.pdf.setTextColor(at.r,at.g,at.b,{a:at.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(se){var at=g(se);this.ctx.strokeStyle=at.style,this.ctx.isStrokeTransparent=at.a===0,this.ctx.strokeOpacity=at.a,at.a===0?this.pdf.setDrawColor(255,255,255):(at.a,this.pdf.setDrawColor(at.r,at.g,at.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(se){["butt","round","square"].indexOf(se)!==-1&&(this.ctx.lineCap=se,this.pdf.setLineCap(se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(se){isNaN(se)||(this.ctx.lineWidth=se,this.pdf.setLineWidth(se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(se){["bevel","round","miter"].indexOf(se)!==-1&&(this.ctx.lineJoin=se,this.pdf.setLineJoin(se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(se){isNaN(se)||(this.ctx.miterLimit=se,this.pdf.setMiterLimit(se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(se){this.ctx.textBaseline=se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(se){["right","end","center","left","start"].indexOf(se)!==-1&&(this.ctx.textAlign=se)}});var xe=null,Ie=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(se){xe=null,Ie=null,Ve=se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(se){var at;if(this.ctx.font=se,(at=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(se))!==null){var Dt=at[1];at[2];var xt=at[3],tt=at[4];at[5];var jt=at[6],ut=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tt)[2];tt=Math.floor(ut==="px"?parseFloat(tt)*this.pdf.internal.scaleFactor:ut==="em"?parseFloat(tt)*this.pdf.getFontSize():parseFloat(tt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tt);var kt=(function(Se){var qe,Fe,Je=[],Xe=Se.trim();if(Xe==="")return Pw;if(Xe in OO)return[OO[Xe]];for(;Xe!=="";){switch(Fe=null,qe=(Xe=LO(Xe)).charAt(0)){case'"':case"'":Fe=mfe(Xe.substring(1),qe);break;default:Fe=pfe(Xe)}if(Fe===null||(Je.push(Fe[0]),(Xe=LO(Fe[1]))!==""&&Xe.charAt(0)!==","))return Pw;Xe=Xe.replace(/^,/,"")}return Je})(jt);if(this.fontFaces){var Ct=(function(Se,qe){var Fe=Se.getFontList(),Je=JSON.stringify(Fe);if(xe===null||Ie!==Je){var Xe=(function(et){var nt=[];return Object.keys(et).forEach(function(Nt){et[Nt].forEach(function(gt){var it=null;switch(gt){case"bold":it={family:Nt,weight:"bold"};break;case"italic":it={family:Nt,style:"italic"};break;case"bolditalic":it={family:Nt,weight:"bold",style:"italic"};break;case"":case"normal":it={family:Nt}}it!==null&&(it.ref={name:Nt,style:gt},nt.push(it))})}),nt})(Fe);xe=(function(et){for(var nt={},Nt=0;Nt<et.length;++Nt){var gt=Ow(et[Nt]),it=gt.family,Et=gt.stretch,Tt=gt.style,ht=gt.weight;nt[it]=nt[it]||{},nt[it][Et]=nt[it][Et]||{},nt[it][Et][Tt]=nt[it][Et][Tt]||{},nt[it][Et][Tt][ht]=gt}return nt})(Xe.concat(qe)),Ie=Je}return xe})(this.pdf,this.fontFaces),Gt=kt.map(function(Se){return{family:Se,stretch:"normal",weight:xt,style:Dt}}),nr=(function(Se,qe,Fe){for(var Je=(Fe=Fe||{}).defaultFontFamily||"times",Xe=Object.assign({},hfe,Fe.genericFontFamilies||{}),et=null,nt=null,Nt=0;Nt<qe.length;++Nt)if(Xe[(et=Ow(qe[Nt])).family]&&(et.family=Xe[et.family]),Se.hasOwnProperty(et.family)){nt=Se[et.family];break}if(!(nt=nt||Se[Je]))throw new Error("Could not find a font-family for the rule '"+PO(et)+"' and default family '"+Je+"'.");if(nt=(function(gt,it){if(it[gt])return it[gt];var Et=iN[gt],Tt=Et<=iN.normal?-1:1,ht=kO(it,iI,Et,Tt);if(!ht)throw new Error("Could not find a matching font-stretch value for "+gt);return ht})(et.stretch,nt),nt=(function(gt,it){if(it[gt])return it[gt];for(var Et=sI[gt],Tt=0;Tt<Et.length;++Tt)if(it[Et[Tt]])return it[Et[Tt]];throw new Error("Could not find a matching font-style for "+gt)})(et.style,nt),!(nt=(function(gt,it){if(it[gt])return it[gt];if(gt===400&&it[500])return it[500];if(gt===500&&it[400])return it[400];var Et=ffe[gt],Tt=kO(it,oI,Et,gt<400?-1:1);if(!Tt)throw new Error("Could not find a matching font-weight for value "+gt);return Tt})(et.weight,nt)))throw new Error("Failed to resolve a font for the rule '"+PO(et)+"'.");return nt})(Ct,Gt);this.pdf.setFont(nr.ref.name,nr.ref.style)}else{var Ut="";(xt==="bold"||parseInt(xt,10)>=700||Dt==="bold")&&(Ut="bold"),Dt==="italic"&&(Ut+="italic"),Ut.length===0&&(Ut="normal");for(var ar="",Kt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<kt.length;ct++){if(this.pdf.internal.getFont(kt[ct],Ut,{noFallback:!0,disableWarning:!0})!==void 0){ar=kt[ct];break}if(Ut==="bolditalic"&&this.pdf.internal.getFont(kt[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ar=kt[ct],Ut="bold";else if(this.pdf.internal.getFont(kt[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ar=kt[ct],Ut="normal";break}}if(ar===""){for(var Ht=0;Ht<kt.length;Ht++)if(Kt[kt[Ht]]){ar=Kt[kt[Ht]];break}}ar=ar===""?"Times":ar,this.pdf.setFont(ar,Ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(se){this.ctx.globalCompositeOperation=se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(se){this.ctx.globalAlpha=se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(se){this.ctx.lineDashOffset=se,G.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(se){this.ctx.lineDash=se,G.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(se){this.ctx.ignoreClearRect=!!se}})};p.prototype.setLineDash=function(P){this.lineDash=P},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){k.call(this,"fill",!1)},p.prototype.stroke=function(){k.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(P,H){if(isNaN(P)||isNaN(H))throw nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var $=this.ctx.transform.applyToPoint(new c(P,H));this.path.push({type:"mt",x:$.x,y:$.y}),this.ctx.lastPoint=new c(P,H)},p.prototype.closePath=function(){var P=new c(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&zr(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){P=new c(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(P.x,P.y)},p.prototype.lineTo=function(P,H){if(isNaN(P)||isNaN(H))throw nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var $=this.ctx.transform.applyToPoint(new c(P,H));this.path.push({type:"lt",x:$.x,y:$.y}),this.ctx.lastPoint=new c($.x,$.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},p.prototype.quadraticCurveTo=function(P,H,$,ae){if(isNaN($)||isNaN(ae)||isNaN(P)||isNaN(H))throw nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new c($,ae)),be=this.ctx.transform.applyToPoint(new c(P,H));this.path.push({type:"qct",x1:be.x,y1:be.y,x:le.x,y:le.y}),this.ctx.lastPoint=new c(le.x,le.y)},p.prototype.bezierCurveTo=function(P,H,$,ae,le,be){if(isNaN(le)||isNaN(be)||isNaN(P)||isNaN(H)||isNaN($)||isNaN(ae))throw nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new c(le,be)),oe=this.ctx.transform.applyToPoint(new c(P,H)),me=this.ctx.transform.applyToPoint(new c($,ae));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:me.x,y2:me.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new c(ce.x,ce.y)},p.prototype.arc=function(P,H,$,ae,le,be){if(isNaN(P)||isNaN(H)||isNaN($)||isNaN(ae)||isNaN(le))throw nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new c(P,H));P=ce.x,H=ce.y;var oe=this.ctx.transform.applyToPoint(new c(0,$)),me=this.ctx.transform.applyToPoint(new c(0,0));$=Math.sqrt(Math.pow(oe.x-me.x,2)+Math.pow(oe.y-me.y,2))}Math.abs(le-ae)>=2*Math.PI&&(ae=0,le=2*Math.PI),this.path.push({type:"arc",x:P,y:H,radius:$,startAngle:ae,endAngle:le,counterclockwise:be})},p.prototype.arcTo=function(P,H,$,ae,le){throw new Error("arcTo not implemented.")},p.prototype.rect=function(P,H,$,ae){if(isNaN(P)||isNaN(H)||isNaN($)||isNaN(ae))throw nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,H),this.lineTo(P+$,H),this.lineTo(P+$,H+ae),this.lineTo(P,H+ae),this.lineTo(P,H),this.lineTo(P+$,H),this.lineTo(P,H)},p.prototype.fillRect=function(P,H,$,ae){if(isNaN(P)||isNaN(H)||isNaN($)||isNaN(ae))throw nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,H,$,ae),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},p.prototype.strokeRect=function(P,H,$,ae){if(isNaN(P)||isNaN(H)||isNaN($)||isNaN(ae))throw nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(P,H,$,ae),this.stroke())},p.prototype.clearRect=function(P,H,$,ae){if(isNaN(P)||isNaN(H)||isNaN($)||isNaN(ae))throw nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,H,$,ae))},p.prototype.save=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},p.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,$=0;$<this.pdf.internal.getNumberOfPages();$++)this.pdf.setPage($+1),this.pdf.internal.out("Q");this.pdf.setPage(H),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(P){var H,$,ae,le;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))H=0,$=0,ae=0,le=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(be!==null)H=parseInt(be[1]),$=parseInt(be[2]),ae=parseInt(be[3]),le=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)H=parseInt(be[1]),$=parseInt(be[2]),ae=parseInt(be[3]),le=parseFloat(be[4]);else{if(le=1,typeof P=="string"&&P.charAt(0)!=="#"){var ce=new ZD(P);P=ce.ok?ce.toHex():"#000000"}P.length===4?(H=P.substring(1,2),H+=H,$=P.substring(2,3),$+=$,ae=P.substring(3,4),ae+=ae):(H=P.substring(1,3),$=P.substring(3,5),ae=P.substring(5,7)),H=parseInt(H,16),$=parseInt($,16),ae=parseInt(ae,16)}}return{r:H,g:$,b:ae,a:le,style:P}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(P,H,$,ae){if(isNaN(H)||isNaN($)||typeof P!="string")throw nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!b.call(this)){var le=V(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;F.call(this,{text:P,x:H,y:$,scale:be,angle:le,align:this.textAlign,maxWidth:ae})}},p.prototype.strokeText=function(P,H,$,ae){if(isNaN(H)||isNaN($)||typeof P!="string")throw nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){ae=isNaN(ae)?void 0:ae;var le=V(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;F.call(this,{text:P,x:H,y:$,scale:be,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:ae})}},p.prototype.measureText=function(P){if(typeof P!="string")throw nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,$=this.pdf.internal.scaleFactor,ae=H.internal.getFontSize(),le=H.getStringUnitWidth(P)*ae/H.internal.scaleFactor;return new function(be){var ce=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:le*=Math.round(96*$/72*1e4)/1e4})},p.prototype.scale=function(P,H){if(isNaN(P)||isNaN(H))throw nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var $=new d(P,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply($)},p.prototype.rotate=function(P){if(isNaN(P))throw nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new d(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},p.prototype.translate=function(P,H){if(isNaN(P)||isNaN(H))throw nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var $=new d(1,0,0,1,P,H);this.ctx.transform=this.ctx.transform.multiply($)},p.prototype.transform=function(P,H,$,ae,le,be){if(isNaN(P)||isNaN(H)||isNaN($)||isNaN(ae)||isNaN(le)||isNaN(be))throw nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new d(P,H,$,ae,le,be);this.ctx.transform=this.ctx.transform.multiply(ce)},p.prototype.setTransform=function(P,H,$,ae,le,be){P=isNaN(P)?1:P,H=isNaN(H)?0:H,$=isNaN($)?0:$,ae=isNaN(ae)?1:ae,le=isNaN(le)?0:le,be=isNaN(be)?0:be,this.ctx.transform=new d(P,H,$,ae,le,be)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(P,H,$,ae,le,be,ce,oe,me){var Ae=this.pdf.getImageProperties(P),xe=1,Ie=1,Ve=1,se=1;ae!==void 0&&oe!==void 0&&(Ve=oe/ae,se=me/le,xe=Ae.width/ae*oe/ae,Ie=Ae.height/le*me/le),be===void 0&&(be=H,ce=$,H=0,$=0),ae!==void 0&&oe===void 0&&(oe=ae,me=le),ae===void 0&&oe===void 0&&(oe=Ae.width,me=Ae.height);var at=this.ctx.transform.decompose(),Dt=V(at.rotate.shx),xt=new d,tt=(xt=(xt=(xt=xt.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new u(be-H*Ve,ce-$*se,ae*xe,le*Ie));if(this.autoPaging){for(var jt,ut=j.call(this,tt),kt=[],Ct=0;Ct<ut.length;Ct+=1)kt.indexOf(ut[Ct])===-1&&kt.push(ut[Ct]);E(kt);for(var Gt=kt[0],nr=kt[kt.length-1],Ut=Gt;Ut<nr+1;Ut++){this.pdf.setPage(Ut);var ar=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Kt=Ut===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Se=Ut===1?0:ct+(Ut-2)*Ht;if(this.ctx.clip_path.length!==0){var qe=this.path;jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(jt,this.posX+this.margin[3],-Se+Kt+this.ctx.prevPageLastElemOffset),T.call(this,"fill",!0),this.path=qe}var Fe=JSON.parse(JSON.stringify(tt));Fe=_([Fe],this.posX+this.margin[3],-Se+Kt+this.ctx.prevPageLastElemOffset)[0];var Je=(Ut>Gt||Ut<nr)&&N.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ar,Ht,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Dt),Je&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,Dt)};var j=function(P,H,$){var ae=[];H=H||this.pdf.internal.pageSize.width,$=$||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ae.push(Math.floor((P.y+le)/$)+1);break;case"arc":ae.push(Math.floor((P.y+le-P.radius)/$)+1),ae.push(Math.floor((P.y+le+P.radius)/$)+1);break;case"qct":var be=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ae.push(Math.floor((be.y+le)/$)+1),ae.push(Math.floor((be.y+be.h+le)/$)+1);break;case"bct":var ce=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ae.push(Math.floor((ce.y+le)/$)+1),ae.push(Math.floor((ce.y+ce.h+le)/$)+1);break;case"rect":ae.push(Math.floor((P.y+le)/$)+1),ae.push(Math.floor((P.y+P.h+le)/$)+1)}for(var oe=0;oe<ae.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<ae[oe];)S.call(this);return ae},S=function(){var P=this.fillStyle,H=this.strokeStyle,$=this.font,ae=this.lineCap,le=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=H,this.font=$,this.lineCap=ae,this.lineWidth=le,this.lineJoin=be},_=function(P,H,$){for(var ae=0;ae<P.length;ae++)switch(P[ae].type){case"bct":P[ae].x2+=H,P[ae].y2+=$;case"qct":P[ae].x1+=H,P[ae].y1+=$;default:P[ae].x+=H,P[ae].y+=$}return P},E=function(P){return P.sort(function(H,$){return H-$})},k=function(P,H){var $=this.fillStyle,ae=this.strokeStyle,le=this.lineCap,be=this.lineWidth,ce=Math.abs(be*this.ctx.transform.scaleX),oe=this.lineJoin;if(this.autoPaging){for(var me,Ae,xe=JSON.parse(JSON.stringify(this.path)),Ie=JSON.parse(JSON.stringify(this.path)),Ve=[],se=0;se<Ie.length;se++)if(Ie[se].x!==void 0)for(var at=j.call(this,Ie[se]),Dt=0;Dt<at.length;Dt+=1)Ve.indexOf(at[Dt])===-1&&Ve.push(at[Dt]);for(var xt=0;xt<Ve.length;xt++)for(;this.pdf.internal.getNumberOfPages()<Ve[xt];)S.call(this);E(Ve);for(var tt=Ve[0],jt=Ve[Ve.length-1],ut=tt;ut<jt+1;ut++){this.pdf.setPage(ut),this.fillStyle=$,this.strokeStyle=ae,this.lineCap=le,this.lineWidth=ce,this.lineJoin=oe;var kt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=ut===1?this.posY+this.margin[0]:this.margin[0],Gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ut=ut===1?0:Gt+(ut-2)*nr;if(this.ctx.clip_path.length!==0){var ar=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(me,this.posX+this.margin[3],-Ut+Ct+this.ctx.prevPageLastElemOffset),T.call(this,P,!0),this.path=ar}if(Ae=JSON.parse(JSON.stringify(xe)),this.path=_(Ae,this.posX+this.margin[3],-Ut+Ct+this.ctx.prevPageLastElemOffset),H===!1||ut===0){var Kt=(ut>tt||ut<jt)&&N.call(this);Kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kt,nr,null).clip().discardPath()),T.call(this,P,H),Kt&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=xe}else this.lineWidth=ce,T.call(this,P,H),this.lineWidth=be},T=function(P,H){if((P!=="stroke"||H||!y.call(this))&&(P==="stroke"||H||!b.call(this))){for(var $,ae,le=[],be=this.path,ce=0;ce<be.length;ce++){var oe=be[ce];switch(oe.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:oe,deltas:[],abs:[]});break;case"lt":var me=le.length;if(be[ce-1]&&!isNaN(be[ce-1].x)&&($=[oe.x-be[ce-1].x,oe.y-be[ce-1].y],me>0)){for(;me>=0;me--)if(le[me-1].close!==!0&&le[me-1].begin!==!0){le[me-1].deltas.push($),le[me-1].abs.push(oe);break}}break;case"bct":$=[oe.x1-be[ce-1].x,oe.y1-be[ce-1].y,oe.x2-be[ce-1].x,oe.y2-be[ce-1].y,oe.x-be[ce-1].x,oe.y-be[ce-1].y],le[le.length-1].deltas.push($);break;case"qct":var Ae=be[ce-1].x+2/3*(oe.x1-be[ce-1].x),xe=be[ce-1].y+2/3*(oe.y1-be[ce-1].y),Ie=oe.x+2/3*(oe.x1-oe.x),Ve=oe.y+2/3*(oe.y1-oe.y),se=oe.x,at=oe.y;$=[Ae-be[ce-1].x,xe-be[ce-1].y,Ie-be[ce-1].x,Ve-be[ce-1].y,se-be[ce-1].x,at-be[ce-1].y],le[le.length-1].deltas.push($);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(oe)}}ae=H?null:P==="stroke"?"stroke":"fill";for(var Dt=!1,xt=0;xt<le.length;xt++)if(le[xt].arc)for(var tt=le[xt].abs,jt=0;jt<tt.length;jt++){var ut=tt[jt];ut.type==="arc"?R.call(this,ut.x,ut.y,ut.radius,ut.startAngle,ut.endAngle,ut.counterclockwise,void 0,H,!Dt):X.call(this,ut.x,ut.y),Dt=!0}else if(le[xt].close===!0)this.pdf.internal.out("h"),Dt=!1;else if(le[xt].begin!==!0){var kt=le[xt].start.x,Ct=le[xt].start.y;Q.call(this,le[xt].deltas,kt,Ct),Dt=!0}ae&&B.call(this,ae),H&&K.call(this)}},D=function(P){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-$;case"top":return P+H-$;case"hanging":return P+H-2*$;case"middle":return P+H/2-$;default:return P}},M=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(H,$){this.colorStops.push([H,$])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var R=function(P,H,$,ae,le,be,ce,oe,me){for(var Ae=re.call(this,$,ae,le,be),xe=0;xe<Ae.length;xe++){var Ie=Ae[xe];xe===0&&(me?U.call(this,Ie.x1+P,Ie.y1+H):X.call(this,Ie.x1+P,Ie.y1+H)),pe.call(this,P,H,Ie.x2,Ie.y2,Ie.x3,Ie.y3,Ie.x4,Ie.y4)}oe?K.call(this):B.call(this,ce)},B=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},K=function(){this.pdf.clip(),this.pdf.discardPath()},U=function(P,H){this.pdf.internal.out(r(P)+" "+n(H)+" m")},F=function(P){var H;switch(P.align){case"right":case"end":H="right";break;case"center":H="center";break;default:H="left"}var $,ae,le,be=this.pdf.getTextDimensions(P.text),ce=D.call(this,P.y),oe=M.call(this,ce)-be.h,me=this.ctx.transform.applyToPoint(new c(P.x,ce));if(this.autoPaging){var Ae=this.ctx.transform.decompose(),xe=new d;xe=(xe=(xe=xe.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var Ie=this.ctx.transform.applyToRectangle(new u(P.x,ce,be.w,be.h)),Ve=xe.applyToRectangle(new u(P.x,oe,be.w,be.h)),se=j.call(this,Ve),at=[],Dt=0;Dt<se.length;Dt+=1)at.indexOf(se[Dt])===-1&&at.push(se[Dt]);E(at);for(var xt=at[0],tt=at[at.length-1],jt=xt;jt<tt+1;jt++){this.pdf.setPage(jt);var ut=jt===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[2],Gt=Ct-this.margin[0],nr=this.pdf.internal.pageSize.width-this.margin[1],Ut=nr-this.margin[3],ar=jt===1?0:kt+(jt-2)*Gt;if(this.ctx.clip_path.length!==0){var Kt=this.path;$=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_($,this.posX+this.margin[3],-1*ar+ut),T.call(this,"fill",!0),this.path=Kt}var ct=_([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-ar+ut+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*P.scale),le=this.lineWidth,this.lineWidth=le*P.scale);var Ht=this.autoPaging!=="text";if(Ht||ct.y+ct.h<=Ct){if(Ht||ct.y>=ut&&ct.x<=nr){var Se=Ht?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||nr-ct.x)[0],qe=_([JSON.parse(JSON.stringify(Ie))],this.posX+this.margin[3],-ar+ut+this.ctx.prevPageLastElemOffset)[0],Fe=Ht&&(jt>xt||jt<tt)&&N.call(this);Fe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ut,Gt,null).clip().discardPath()),this.pdf.text(Se,qe.x,qe.y,{angle:P.angle,align:H,renderingMode:P.renderingMode}),Fe&&this.pdf.restoreGraphicsState()}}else ct.y<Ct&&(this.ctx.prevPageLastElemOffset+=Ct-ct.y);P.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=le)}}else P.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*P.scale),le=this.lineWidth,this.lineWidth=le*P.scale),this.pdf.text(P.text,me.x+this.posX,me.y+this.posY,{angle:P.angle,align:H,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=le)},X=function(P,H,$,ae){$=$||0,ae=ae||0,this.pdf.internal.out(r(P+$)+" "+n(H+ae)+" l")},Q=function(P,H,$){return this.pdf.lines(P,H,$,null,null)},pe=function(P,H,$,ae,le,be,ce,oe){this.pdf.internal.out([t(s($+P)),t(i(ae+H)),t(s(le+P)),t(i(be+H)),t(s(ce+P)),t(i(oe+H)),"c"].join(" "))},re=function(P,H,$,ae){for(var le=2*Math.PI,be=Math.PI/2;H>$;)H-=le;var ce=Math.abs($-H);ce<le&&ae&&(ce=le-ce);for(var oe=[],me=ae?-1:1,Ae=H;ce>1e-5;){var xe=Ae+me*Math.min(ce,be);oe.push(ue.call(this,P,Ae,xe)),ce-=Math.abs(xe-Ae),Ae=xe}return oe},ue=function(P,H,$){var ae=($-H)/2,le=P*Math.cos(ae),be=P*Math.sin(ae),ce=le,oe=-be,me=ce*ce+oe*oe,Ae=me+ce*le+oe*be,xe=4/3*(Math.sqrt(2*me*Ae)-Ae)/(ce*be-oe*le),Ie=ce-xe*oe,Ve=oe+xe*ce,se=Ie,at=-Ve,Dt=ae+H,xt=Math.cos(Dt),tt=Math.sin(Dt);return{x1:P*Math.cos(H),y1:P*Math.sin(H),x2:Ie*xt-Ve*tt,y2:Ie*tt+Ve*xt,x3:se*xt-at*tt,y3:se*tt+at*xt,x4:P*Math.cos($),y4:P*Math.sin($)}},V=function(P){return 180*P/Math.PI},Z=function(P,H,$,ae,le,be){var ce=P+.5*($-P),oe=H+.5*(ae-H),me=le+.5*($-le),Ae=be+.5*(ae-be),xe=Math.min(P,le,ce,me),Ie=Math.max(P,le,ce,me),Ve=Math.min(H,be,oe,Ae),se=Math.max(H,be,oe,Ae);return new u(xe,Ve,Ie-xe,se-Ve)},ge=function(P,H,$,ae,le,be,ce,oe){var me,Ae,xe,Ie,Ve,se,at,Dt,xt,tt,jt,ut,kt,Ct,Gt=$-P,nr=ae-H,Ut=le-$,ar=be-ae,Kt=ce-le,ct=oe-be;for(Ae=0;Ae<41;Ae++)xt=(at=(xe=P+(me=Ae/40)*Gt)+me*((Ve=$+me*Ut)-xe))+me*(Ve+me*(le+me*Kt-Ve)-at),tt=(Dt=(Ie=H+me*nr)+me*((se=ae+me*ar)-Ie))+me*(se+me*(be+me*ct-se)-Dt),Ae==0?(jt=xt,ut=tt,kt=xt,Ct=tt):(jt=Math.min(jt,xt),ut=Math.min(ut,tt),kt=Math.max(kt,xt),Ct=Math.max(Ct,tt));return new u(Math.round(jt),Math.round(ut),Math.round(kt-jt),Math.round(Ct-ut))},G=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,H,$=(P=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:H}));this.prevLineDash!==$&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$)}}})(Pt.API),(function(e){var t=function(c){var u,d,f,m,p,g,b,y,N,j;for(d=[],f=0,m=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;m>f;f+=4)(p=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(g=(p=((p=((p=((p=(p-(j=p%85))/85)-(N=p%85))/85)-(y=p%85))/85)-(b=p%85))/85)%85,d.push(g+33,b+33,y+33,N+33,j+33)):d.push(122);return(function(S,_){for(var E=_;E>0;E--)S.pop()})(d,u.length),String.fromCharCode.apply(String,d)+"~>"},r=function(c){var u,d,f,m,p,g=String,b="length",y=255,N="charCodeAt",j="slice",S="replace";for(c[j](-2),c=c[j](0,-2)[S](/\s/g,"")[S]("z","!!!!!"),f=[],m=0,p=(c+=u="uuuuu"[j](c[b]%5||5))[b];p>m;m+=5)d=52200625*(c[N](m)-33)+614125*(c[N](m+1)-33)+7225*(c[N](m+2)-33)+85*(c[N](m+3)-33)+(c[N](m+4)-33),f.push(y&d>>24,y&d>>16,y&d>>8,y&d);return(function(_,E){for(var k=E;k>0;k--)_.pop()})(f,u[b]),g.fromCharCode.apply(g,f)},n=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var d="",f=0;f<c.length;f+=2)d+=String.fromCharCode("0x"+(c[f]+c[f+1]));return d},i=function(c){for(var u=new Uint8Array(c.length),d=c.length;d--;)u[d]=c.charCodeAt(d);return(u=J5(u)).reduce(function(f,m){return f+String.fromCharCode(m)},"")};e.processDataByFilters=function(c,u){var d=0,f=c||"",m=[];for(typeof(u=u||[])=="string"&&(u=[u]),d=0;d<u.length;d+=1)switch(u[d]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),m.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=t(f),m.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=s(f),m.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),m.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=i(f),m.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[d]+'" is not implemented')}return{data:f,reverseChain:m.reverse().join(" ")}}})(Pt.API),(function(e){e.loadFile=function(t,r,n){return(function(s,i,c){i=i!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=(function(d,f,m){var p=new XMLHttpRequest,g=0,b=function(y){var N=y.length,j=[],S=String.fromCharCode;for(g=0;g<N;g+=1)j.push(S(255&y.charCodeAt(g)));return j.join("")};if(p.open("GET",d,!f),p.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(p.onload=function(){p.status===200?m(b(this.responseText)):m(void 0)}),p.send(null),f&&p.status===200)return b(p.responseText)})(s,i,c)}catch{}return u})(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile})(Pt.API),(function(e){function t(){return(Yt.html2canvas?Promise.resolve(Yt.html2canvas):fw(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(Yt.DOMPurify?Promise.resolve(Yt.DOMPurify):fw(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var d=zr(u);return d==="undefined"?"undefined":d==="string"||u instanceof String?"string":d==="number"||u instanceof Number?"number":d==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(u,d){var f=document.createElement(u);for(var m in d.className&&(f.className=d.className),d.innerHTML&&d.dompurify&&(f.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)f.style[m]=d.style[m];return f},i=function u(d,f){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),p=d.firstChild;p;p=p.nextSibling)f!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||m.appendChild(u(p,f));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m},c=function u(d){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),m=u.convert(Promise.resolve(),f);return(m=m.setProgress(1,u,1,[u])).set(d)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,d){return u.__proto__=d||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,d){return this.then(function(){switch(d=d||(function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(u),d){case"string":return this.then(r).then(function(f){return this.set({src:s("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,d(this.prop.container,f)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(t).then(function(d){var f=this.opt.jsPDF,m=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=m,m)for(var b=0;b<m.length;++b){var y=m[b],N=y.src.find(function(j){return j.format==="truetype"});N&&f.addFont(N.url,y.ref.name,y.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,f.context2d.save(!0),d(this.prop.container,g)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,d,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,d):this.outputPdf(u,d)},c.prototype.outputPdf=function(u,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,d)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(n(u)!=="object")return this;var d=Object.keys(u||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(d)})},c.prototype.get=function(u,d){return this.then(function(){var f=u in c.template.prop?this.prop[u]:this.opt[u];return d?d(f):f})},c.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function d(f,m){return Math.floor(f*m/72*96)}return this.then(function(){(u=u||Pt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:d(u.inner.width,u.k),height:d(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,d,f,m){return u!=null&&(this.progress.val=u),d!=null&&(this.progress.state=d),f!=null&&(this.progress.n=f),m!=null&&(this.progress.stack=m),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,d,f,m){return this.setProgress(u?this.progress.val+u:null,d||null,f?this.progress.n+f:null,m?this.progress.stack.concat(m):null)},c.prototype.then=function(u,d){var f=this;return this.thenCore(u,d,function(m,p){return f.updateProgress(null,null,1,[m]),Promise.prototype.then.call(this,function(g){return f.updateProgress(null,m),g}).then(m,p).then(function(g){return f.updateProgress(1),g})})},c.prototype.thenCore=function(u,d,f){f=f||Promise.prototype.then;var m=this;u&&(u=u.bind(m)),d&&(d=d.bind(m));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?m:c.convert(Object.assign({},m),Promise.prototype),g=f.call(p,u,d);return c.convert(g,m.__proto__)},c.prototype.thenExternal=function(u,d){return Promise.prototype.then.call(this,u,d)},c.prototype.thenList=function(u){var d=this;return u.forEach(function(f){d=d.thenCore(f)}),d},c.prototype.catch=function(u){u&&(u=u.bind(this));var d=Promise.prototype.catch.call(this,u);return c.convert(d,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Pt.getPageSize=function(u,d,f){if(zr(u)==="object"){var m=u;u=m.orientation,d=m.unit||d,f=m.format||f}d=d||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var p,g=(""+f).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+d}var y,N=0,j=0;if(b.hasOwnProperty(g))N=b[g][1]/p,j=b[g][0]/p;else try{N=f[1],j=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",j>N&&(y=j,j=N,N=y);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",N>j&&(y=j,j=N,N=y)}return{width:j,height:N,unit:d,k:p,orientation:u}},e.html=function(u,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Ow):null;var f=new c(d);return d.worker?f:f.from(u).doCallback()}})(Pt.API),Pt.API.addJS=function(e){var t,r,n=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},(function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var c=s[i],u=n.exec(c);if(u!=null){var d=u[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,m=[];for(i=0;i<f;i++){var p=r.internal.newObject();m.push(p);var g=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var b=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<m.length;i++)r.internal.write("(page_"+(i+1)+")"+m[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+b+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var c={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var c=n.children[i];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var d=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])})(Pt.API),(function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,s,i,c,u){var d,f=this.decode.DCT_DECODE,m=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(p){for(var g,b=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,N={width:0,height:0,numcomponents:1},j=4;j<y;j+=2){if(j+=b,t.indexOf(p.charCodeAt(j+1))!==-1){g=256*p.charCodeAt(j+5)+p.charCodeAt(j+6),N={width:256*p.charCodeAt(j+7)+p.charCodeAt(j+8),height:g,numcomponents:p.charCodeAt(j+9)};break}b=256*p.charCodeAt(j+2)+p.charCodeAt(j+3)}return N})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}m={data:r,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:f,index:n,alias:s}}return m}})(Pt.API),Pt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,i=Zde(e,{checkCrc:!0}),c=i.width,u=i.height,d=i.channels,f=i.palette,m=i.depth;s=f&&d===1?(function(R){for(var B=R.width,K=R.height,U=R.data,F=R.palette,X=R.depth,Q=!1,pe=[],re=[],ue=void 0,V=!1,Z=0,ge=0;ge<F.length;ge++){var G=Bk(F[ge],4),P=G[0],H=G[1],$=G[2],ae=G[3];pe.push(P,H,$),ae!=null&&(ae===0?(Z++,re.length<1&&re.push(ge)):ae<255&&(V=!0))}if(V||Z>1){Q=!0,re=void 0;var le=B*K;ue=new Uint8Array(le);for(var be=new DataView(U.buffer),ce=0;ce<le;ce++){var oe=Lw(be,ce,X),me=Bk(F[oe],4)[3];ue[ce]=me}}else Z===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Q?8:void 0,colorBytes:U,alphaBytes:ue,needSMask:Q,palette:pe,mask:re}})(i):d===2||d===4?(function(R){for(var B=R.data,K=R.width,U=R.height,F=R.channels,X=R.depth,Q=F===2?"DeviceGray":"DeviceRGB",pe=F-1,re=K*U,ue=pe,V=re*ue,Z=1*re,ge=Math.ceil(V*X/8),G=Math.ceil(Z*X/8),P=new Uint8Array(ge),H=new Uint8Array(G),$=new DataView(B.buffer),ae=new DataView(P.buffer),le=new DataView(H.buffer),be=!1,ce=0;ce<re;ce++){for(var oe=ce*F,me=0;me<ue;me++)UO(ae,Lw($,oe+me,X),ce*ue+me,X);var Ae=Lw($,oe+ue,X);Ae<(1<<X)-1&&(be=!0),UO(le,Ae,1*ce,X)}return{colorSpace:Q,colorsPerPixel:pe,sMaskBitsPerComponent:be?X:void 0,colorBytes:P,alphaBytes:H,needSMask:be}})(i):(function(R){var B=R.data,K=R.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:K,colorsPerPixel:K==="DeviceGray"?1:3,colorBytes:B instanceof Uint16Array?(function(U){for(var F=U.length,X=new Uint8Array(2*F),Q=new DataView(X.buffer,X.byteOffset,X.byteLength),pe=0;pe<F;pe++)Q.setUint16(2*pe,U[pe],!1);return X})(B):B,needSMask:!1}})(i);var p,g,b,y=s,N=y.colorSpace,j=y.colorsPerPixel,S=y.sMaskBitsPerComponent,_=y.colorBytes,E=y.alphaBytes,k=y.needSMask,T=y.palette,D=y.mask,M=null;return n!==Pt.API.image_compression.NONE&&typeof J5=="function"?(M=(function(R){var B;switch(R){case Pt.API.image_compression.FAST:B=11;break;case Pt.API.image_compression.MEDIUM:B=13;break;case Pt.API.image_compression.SLOW:B=14;break;default:B=12}return B})(n),p=this.decode.FLATE_DECODE,g="/Predictor ".concat(M," /Colors ").concat(j," /BitsPerComponent ").concat(m," /Columns ").concat(c),e=IO(_,Math.ceil(c*j*m/8),j,m,n),k&&(b=IO(E,Math.ceil(c*S/8),1,S,n))):(p=void 0,g=void 0,e=_,k&&(b=E)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:r,data:e,index:t,filter:p,decodeParameters:g,transparency:D,palette:T,sMask:b,predictor:M,width:c,height:u,bitsPerComponent:m,sMaskBitsPerComponent:S,colorSpace:N}}},(function(e){e.processGIF89A=function(t,r,n,s){var i=new yfe(t),c=i.width,u=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:c,height:u},m=new Tw(100).encode(f,100);return e.processJPEG.call(this,m,r,n,s)},e.processGIF87A=e.processGIF89A})(Pt.API),Go.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Go.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(r){nn.log("bit decode error:"+r)}},Go.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var i=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*s*4,u=0;u<8&&8*s+u<this.width;u++){var d=this.palette[i>>7-u&1];this.data[c+4*u]=d.blue,this.data[c+4*u+1]=d.green,this.data[c+4*u+2]=d.red,this.data[c+4*u+3]=255}r!==0&&(this.pos+=4-r)}},Go.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var i=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*s*4,u=i>>4,d=15&i,f=this.palette[u];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*s+1>=this.width)break;f=this.palette[d],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}t!==0&&(this.pos+=4-t)}},Go.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var c=this.palette[s];this.data[i]=c.red,this.data[i+1]=c.green,this.data[i+2]=c.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Go.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(i&t)/t*255|0,u=(i>>5&t)/t*255|0,d=(i>>10&t)/t*255|0,f=i>>15?255:0,m=n*this.width*4+4*s;this.data[m]=d,this.data[m+1]=u,this.data[m+2]=c,this.data[m+3]=f}this.pos+=e}},Go.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&t)/t*255|0,d=(c>>5&r)/r*255|0,f=(c>>11)/t*255|0,m=s*this.width*4+4*i;this.data[m]=f,this.data[m+1]=d,this.data[m+2]=u,this.data[m+3]=255}this.pos+=e}},Go.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=i,this.data[c+1]=s,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},Go.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*r;this.data[u]=i,this.data[u+1]=s,this.data[u+2]=n,this.data[u+3]=c}},Go.prototype.getData=function(){return this.data},(function(e){e.processBMP=function(t,r,n,s){var i=new Go(t,!1),c=i.width,u=i.height,d={data:i.getData(),width:c,height:u},f=new Tw(100).encode(d,100);return e.processJPEG.call(this,f,r,n,s)}})(Pt.API),$O.prototype.getData=function(){return this.data},(function(e){e.processWEBP=function(t,r,n,s){var i=new $O(t),c=i.width,u=i.height,d={data:i.getData(),width:c,height:u},f=new Tw(100).encode(d,100);return e.processJPEG.call(this,f,r,n,s)}})(Pt.API),Pt.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,i=new Uint8Array(s/4*3),c=new Uint8Array(s/4),u=0,d=0,f=0;f<s;f+=4){var m=n[f],p=n[f+1],g=n[f+2],b=n[f+3];i[u++]=m,i[u++]=p,i[u++]=g,c[d++]=b}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Pt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Nh=Pt.API,Vx=Nh.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),c=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:s.metadata.Unicode.widths,d=u.fof?u.fof:1,f=t.kerning?t.kerning:s.metadata.Unicode.kerning,m=f.fof?f.fof:1,p=t.doKerning!==!1,g=0,b=e.length,y=0,N=u[0]||d,j=[];for(r=0;r<b;r++)n=e.charCodeAt(r),typeof s.metadata.widthOfString=="function"?j.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+c*(1e3/i)||0)/1e3):(g=p&&zr(f[n])==="object"&&!isNaN(parseInt(f[n][y],10))?f[n][y]/m:0,j.push((u[n]||N)/d+g)),y=n;return j},TO=Nh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Nh.processArabic&&(e=Nh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,s)/r:Vx.apply(this,arguments).reduce(function(i,c){return i+c},0)},RO=function(e,t,r,n){for(var s=[],i=0,c=e.length,u=0;i!==c&&u+t[i]<r;)u+=t[i],i++;s.push(e.slice(0,i));var d=i;for(u=0;i!==c;)u+t[i]>n&&(s.push(e.slice(d,i)),u=0,d=i),u+=t[i],i++;return d!==i&&s.push(e.slice(d,i)),s},DO=function(e,t,r){r||(r={});var n,s,i,c,u,d,f,m=[],p=[m],g=r.textIndent||0,b=0,y=0,N=e.split(" "),j=Vx.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?N[0].length+2:r.lineIndent||0){var S=Array(d).join(" "),_=[];N.map(function(k){(k=k.split(/\s*\n/)).length>1?_=_.concat(k.map(function(T,D){return(D&&T.length?`
`:"")+T})):_.push(k[0])}),N=_,d=TO.apply(this,[S,r])}for(i=0,c=N.length;i<c;i++){var E=0;if(n=N[i],d&&n[0]==`
`&&(n=n.substr(1),E=1),g+b+(y=(s=Vx.apply(this,[n,r])).reduce(function(k,T){return k+T},0))>t||E){if(y>t){for(u=RO.apply(this,[n,s,t-(g+b),t]),m.push(u.shift()),m=[u.pop()];u.length;)p.push([u.shift()]);y=s.slice(n.length-(m[0]?m[0].length:0)).reduce(function(k,T){return k+T},0)}else m=[n];p.push(m),g=y+d,b=j}else m.push(n),g+=b+y,b=j}return f=d?function(k,T){return(T?S:"")+k.join(" ")}:function(k){return k.join(" ")},p.map(f)},Nh.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var p=this.internal.getFont(m.fontName,m.fontStyle),g="Unicode";return p.metadata[g]?{widths:p.metadata[g].widths||{0:1},kerning:p.metadata[g].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var c=1*this.internal.scaleFactor*t/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var u,d,f=[];for(u=0,d=n.length;u<d;u++)f=f.concat(DO.apply(this,[n[u],c,i]));return f},(function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=t[i],s[t[i]]=r[i];var c=function(g){return"0x"+parseInt(g,10).toString(16)},u=e.__fontmetrics__.compress=function(g){var b,y,N,j,S=["{"];for(var _ in g){if(b=g[_],isNaN(parseInt(_,10))?y="'"+_+"'":(_=parseInt(_,10),y=(y=c(_).slice(2)).slice(0,-1)+s[y.slice(-1)]),typeof b=="number")b<0?(N=c(b).slice(3),j="-"):(N=c(b).slice(2),j=""),N=j+N.slice(0,-1)+s[N.slice(-1)];else{if(zr(b)!=="object")throw new Error("Don't know what to do with value type "+zr(b)+".");N=u(b)}S.push(y+N)}return S.push("}"),S.join("")},d=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,y,N,j,S={},_=1,E=S,k=[],T="",D="",M=g.length-1,R=1;R<M;R+=1)(j=g[R])=="'"?b?(N=b.join(""),b=void 0):b=[]:b?b.push(j):j=="{"?(k.push([E,N]),E={},N=void 0):j=="}"?((y=k.pop())[0][y[1]]=E,N=void 0,E=y[0]):j=="-"?_=-1:N===void 0?n.hasOwnProperty(j)?(T+=n[j],N=parseInt(T,16)*_,_=1,T=""):T+=j:n.hasOwnProperty(j)?(D+=n[j],E[N]=parseInt(D,16)*_,_=1,N=void 0,D=""):D+=j;return S},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},m={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},p={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var b=g.font,y=p.Unicode[b.postScriptName];y&&(b.metadata.Unicode={},b.metadata.Unicode.widths=y.widths,b.metadata.Unicode.kerning=y.kerning);var N=m.Unicode[b.postScriptName];N&&(b.metadata.Unicode.encoding=N,b.encoding=N.codePages[0])}])})(Pt.API),(function(e){var t=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};e.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(bg(u)),c.metadata=e.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(s,n)}}])})(Pt),Pt.API.addSvgAsImage=function(e,t,r,n,s,i,c,u){if(isNaN(t)||isNaN(r))throw nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=s;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(Yt.canvg?Promise.resolve(Yt.canvg):fw(()=>import("./index.es-D_pjtJGQ.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(f,e,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(m)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),t,r,n,s,c,u)})},Pt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},Pt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,i,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),d=[],f=0,m=0,p=0;function g(y,N){var j,S=!1;for(j=0;j<y.length;j+=1)y[j]===N&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var b=u.length;for(p=0;p<b;p+=1)r[u[p]].value=r[u[p]].defaultValue,r[u[p]].explicitSet=!1}if(zr(e)==="object"){for(s in e)if(i=e[s],g(u,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&g(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(f=0;f<i.length;f+=1)if(n=!0,i[f].length===1&&typeof i[f][0]=="number")d.push(String(i[f]-1));else if(i[f].length>1){for(m=0;m<i[f].length;m+=1)typeof i[f][m]!="number"&&(n=!1);n===!0&&d.push([i[f][0]-1,i[f][1]-1].join(" "))}r[s].value="["+d.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,N=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?N.push("/"+y+" /"+r[y].value):N.push("/"+y+" "+r[y].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Pt.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",wfe),this.internal.events.subscribe("postPutResources",vfe)),this},(function(e){var t=e.API,r=t.pdfEscape16=function(i,c){for(var u,d=c.metadata.Unicode.widths,f=["","0","00","000","0000"],m=[""],p=0,g=i.length;p<g;++p){if(u=c.metadata.characterToGlyph(i.charCodeAt(p)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=i.charCodeAt(p),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return m.join("");u=u.toString(16),m.push(f[4-u.length],u)}return m.join("")},n=function(i){var c,u,d,f,m,p,g;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],p=0,g=(u=Object.keys(i).sort(function(b,y){return b-y})).length;p<g;p++)c=u[p],d.length>=100&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[c]!==void 0&&i[c]!==null&&typeof i[c].toString=="function"&&(f=("0000"+i[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),d.push("<"+c+"><"+f+">"));return d.length&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),m+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(c){var u=c.font,d=c.out,f=c.newObject,m=c.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var p=u.metadata.Unicode.widths,g=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),b="",y=0;y<g.length;y++)b+=String.fromCharCode(g[y]);var N=f();m({data:b,addLength1:!0,objectId:N}),d("endobj");var j=f();m({data:n(u.metadata.toUnicode),addLength1:!0,objectId:j}),d("endobj");var S=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Ch(u.fontName)),d("/FontFile2 "+N+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var _=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+Ch(u.fontName)),d("/FontDescriptor "+S+" 0 R"),d("/W "+e.API.PDFObject.convert(p)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+j+" 0 R"),d("/BaseFont /"+Ch(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+_+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(c){var u=c.font,d=c.out,f=c.newObject,m=c.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var p=u.metadata.rawData,g="",b=0;b<p.length;b++)g+=String.fromCharCode(p[b]);var y=f();m({data:g,addLength1:!0,objectId:y}),d("endobj");var N=f();m({data:n(u.metadata.toUnicode),addLength1:!0,objectId:N}),d("endobj");var j=f();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+y+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+Ch(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=f();for(var S=0;S<u.metadata.hmtx.widths.length;S++)u.metadata.hmtx.widths[S]=parseInt(u.metadata.hmtx.widths[S]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+Ch(u.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(i)}]);var s=function(i){var c,u=i.text||"",d=i.x,f=i.y,m=i.options||{},p=i.mutex||{},g=p.pdfEscape,b=p.activeFontKey,y=p.fonts,N=b,j="",S=0,_="",E=y[N].encoding;if(y[N].encoding!=="Identity-H")return{text:u,x:d,y:f,options:m,mutex:p};for(_=u,N=b,Array.isArray(u)&&(_=u[0]),S=0;S<_.length;S+=1)y[N].metadata.hasOwnProperty("cmap")&&(c=y[N].metadata.cmap.unicode.codeMap[_[S].charCodeAt(0)]),c||_[S].charCodeAt(0)<256&&y[N].metadata.hasOwnProperty("Unicode")?j+=_[S]:j+="";var k="";return parseInt(N.slice(1))<14||E==="WinAnsiEncoding"?k=g(j,N).split("").map(function(T){return T.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(k=r(j,y[N])),p.isHex=!0,{text:k,x:d,y:f,options:m,mutex:p}};t.events.push(["postProcessText",function(i){var c=i.text||"",u=[],d={text:c,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?u.push([s(Object.assign({},d,{text:c[f][0]})).text,c[f][1],c[f][2]]):u.push(s(Object.assign({},d,{text:c[f]})).text);i.text=u}else i.text=s(Object.assign({},d,{text:c})).text}])})(Pt),(function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Pt.API),(function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var s,i,c,u,d,f,m,p=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,E=0;this.__bidiEngine__={};var k=function(U){var F=U.charCodeAt(),X=F>>8,Q=N[X];return Q!==void 0?p[256*Q+(255&F)]:X===252||X===253?"AL":S.test(X)?"L":X===8?"R":"N"},T=function(U){for(var F,X=0;X<U.length;X++){if((F=k(U.charAt(X)))==="L")return!1;if(F==="R")return!0}return!1},D=function(U,F,X,Q){var pe,re,ue,V,Z=F[Q];switch(Z){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(Z="AN");break;case"AL":_=!0,Z="R";break;case"WS":case"BN":Z="N";break;case"CS":Q<1||Q+1>=F.length||(pe=X[Q-1])!=="EN"&&pe!=="AN"||(re=F[Q+1])!=="EN"&&re!=="AN"?Z="N":_&&(re="AN"),Z=re===pe?re:"N";break;case"ES":Z=(pe=Q>0?X[Q-1]:"B")==="EN"&&Q+1<F.length&&F[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&X[Q-1]==="EN"){Z="EN";break}if(_){Z="N";break}for(ue=Q+1,V=F.length;ue<V&&F[ue]==="ET";)ue++;Z=ue<V&&F[ue]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(V=F.length,ue=Q+1;ue<V&&F[ue]==="NSM";)ue++;if(ue<V){var ge=U[Q],G=ge>=1425&&ge<=2303||ge===64286;if(pe=F[ue],G&&(pe==="R"||pe==="AL")){Z="R";break}}}Z=Q<1||(pe=F[Q-1])==="B"?"N":X[Q-1];break;case"B":_=!1,s=!0,Z=E;break;case"S":i=!0,Z="N"}return Z},M=function(U,F,X){var Q=U.split("");return X&&R(Q,X,{hiLevel:E}),Q.reverse(),F&&F.reverse(),Q.join("")},R=function(U,F,X){var Q,pe,re,ue,V,Z=-1,ge=U.length,G=0,P=[],H=E?b:g,$=[];for(_=!1,s=!1,i=!1,pe=0;pe<ge;pe++)$[pe]=k(U[pe]);for(re=0;re<ge;re++){if(V=G,P[re]=D(U,$,P,re),Q=240&(G=H[V][y[P[re]]]),G&=15,F[re]=ue=H[G][5],Q>0)if(Q===16){for(pe=Z;pe<re;pe++)F[pe]=1;Z=-1}else Z=-1;if(H[G][6])Z===-1&&(Z=re);else if(Z>-1){for(pe=Z;pe<re;pe++)F[pe]=ue;Z=-1}$[re]==="B"&&(F[re]=0),X.hiLevel|=ue}i&&(function(ae,le,be){for(var ce=0;ce<be;ce++)if(ae[ce]==="S"){le[ce]=E;for(var oe=ce-1;oe>=0&&ae[oe]==="WS";oe--)le[oe]=E}})($,F,ge)},B=function(U,F,X,Q,pe){if(!(pe.hiLevel<U)){if(U===1&&E===1&&!s)return F.reverse(),void(X&&X.reverse());for(var re,ue,V,Z,ge=F.length,G=0;G<ge;){if(Q[G]>=U){for(V=G+1;V<ge&&Q[V]>=U;)V++;for(Z=G,ue=V-1;Z<ue;Z++,ue--)re=F[Z],F[Z]=F[ue],F[ue]=re,X&&(re=X[Z],X[Z]=X[ue],X[ue]=re);G=V}G++}}},K=function(U,F,X){var Q=U.split(""),pe={hiLevel:E};return X||(X=[]),R(Q,X,pe),(function(re,ue,V){if(V.hiLevel!==0&&m)for(var Z,ge=0;ge<re.length;ge++)ue[ge]===1&&(Z=j.indexOf(re[ge]))>=0&&(re[ge]=j[Z+1])})(Q,X,pe),B(2,Q,F,X,pe),B(1,Q,F,X,pe),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(U,F,X){if((function(pe,re){if(re)for(var ue=0;ue<pe.length;ue++)re[ue]=ue;u===void 0&&(u=T(pe)),f===void 0&&(f=T(pe))})(U,F),c||!d||f)if(c&&d&&u^f)E=u?1:0,U=M(U,F,X);else if(!c&&d&&f)E=u?1:0,U=K(U,F,X),U=M(U,F);else if(!c||u||d||f){if(c&&!d&&u^f)U=M(U,F),u?(E=0,U=K(U,F,X)):(E=1,U=K(U,F,X),U=M(U,F));else if(c&&u&&!d&&f)E=1,U=K(U,F,X),U=M(U,F);else if(!c&&!d&&u^f){var Q=m;u?(E=1,U=K(U,F,X),E=0,m=!1,U=K(U,F,X),m=Q):(E=0,U=K(U,F,X),U=M(U,F),E=1,m=!1,U=K(U,F,X),m=Q,U=M(U,F))}}else E=0,U=K(U,F,X);else E=u?1:0,U=K(U,F,X);return U},this.__bidiEngine__.setOptions=function(U){U&&(c=U.isInputVisual,d=U.isOutputVisual,u=U.isInputRtl,f=U.isOutputRtl,m=U.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var c=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var u=0;for(c=[],u=0;u<s.length;u+=1)Object.prototype.toString.call(s[u])==="[object Array]"?c.push([r.doBidiReorder(s[u][0]),s[u][1],s[u][2]]):c.push([r.doBidiReorder(s[u])]);n.text=c}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Pt),Pt.API.TTFFont=(function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Zu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Ife(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Nfe(this.contents),this.head=new Sfe(this),this.name=new kfe(this),this.cmap=new cI(this),this.toUnicode={},this.hhea=new Afe(this),this.maxp=new Ofe(this),this.hmtx=new Pfe(this),this.post=new Cfe(this),this.os2=new _fe(this),this.loca=new Dfe(this),this.glyf=new Lfe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,d,f;for(f=[],c=0,u=(d=this.bbox).length;c<u;c++)t=d[c],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var s,i,c,u;for(c=0,i=0,u=(t=""+t).length;0<=u?i<u:i>u;i=0<=u?++i:--i)s=t.charCodeAt(i),c+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return c*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e})();var il,Zu=(function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,s;for(s=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(t.charCodeAt(r)));return s},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,s,i,c,u,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),c=this.readByte(),u=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^c)+256*(255^u)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*c+256*u+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,s,i;for(i=[],n=0,s=t.length;n<s;n++)r=t[n],i.push(this.writeByte(r));return i},e})(),Nfe=(function(){var e;function t(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,s,i,c,u,d,f,m,p,g,b,y,N;for(N in b=Object.keys(r).length,d=Math.log(2),p=16*Math.floor(Math.log(b)/d),c=Math.floor(p/d),m=16*b-p,(s=new Zu).writeInt(this.scalarType),s.writeShort(b),s.writeShort(p),s.writeShort(c),s.writeShort(m),i=16*b,f=s.pos+i,u=null,y=[],r)for(g=r[N],s.writeString(N),s.writeInt(e(g)),s.writeInt(f),s.writeInt(g.length),y=y.concat(g),N==="head"&&(u=f),f+=g.length;f%4;)y.push(0),f++;return s.write(y),n=2981146554-e(s.data),s.pos=u+8,s.writeUInt32(n),s.data},e=function(r){var n,s,i,c;for(r=uI.call(r);r.length%4;)r.push(0);for(i=new Zu(r),s=0,n=0,c=r.length;n<c;n=n+=4)s+=i.readUInt32();return 4294967295&s},t})(),jfe={}.hasOwnProperty,Xl=function(e,t){for(var r in t)jfe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};il=(function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e})();var Sfe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xl(e,il),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Zu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e})(),HO=(function(){function e(t,r){var n,s,i,c,u,d,f,m,p,g,b,y,N,j,S,_,E;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),p=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(b=t.readUInt16(),g=b/2,t.pos+=6,i=(function(){var k,T;for(T=[],d=k=0;0<=g?k<g:k>g;d=0<=g?++k:--k)T.push(t.readUInt16());return T})(),t.pos+=2,N=(function(){var k,T;for(T=[],d=k=0;0<=g?k<g:k>g;d=0<=g?++k:--k)T.push(t.readUInt16());return T})(),f=(function(){var k,T;for(T=[],d=k=0;0<=g?k<g:k>g;d=0<=g?++k:--k)T.push(t.readUInt16());return T})(),m=(function(){var k,T;for(T=[],d=k=0;0<=g?k<g:k>g;d=0<=g?++k:--k)T.push(t.readUInt16());return T})(),s=(this.length-t.pos+this.offset)/2,u=(function(){var k,T;for(T=[],d=k=0;0<=s?k<s:k>s;d=0<=s?++k:--k)T.push(t.readUInt16());return T})(),d=S=0,E=i.length;S<E;d=++S)for(j=i[d],n=_=y=N[d];y<=j?_<=j:_>=j;n=y<=j?++_:--_)m[d]===0?c=n+f[d]:(c=u[m[d]/2+(n-y)-(g-d)]||0)!==0&&(c+=f[d]),this.codeMap[n]=65535&c}t.pos=p}return e.encode=function(t,r){var n,s,i,c,u,d,f,m,p,g,b,y,N,j,S,_,E,k,T,D,M,R,B,K,U,F,X,Q,pe,re,ue,V,Z,ge,G,P,H,$,ae,le,be,ce,oe,me,Ae,xe;switch(Q=new Zu,c=Object.keys(t).sort(function(Ie,Ve){return Ie-Ve}),r){case"macroman":for(N=0,j=(function(){var Ie=[];for(y=0;y<256;++y)Ie.push(0);return Ie})(),_={0:0},i={},pe=0,Z=c.length;pe<Z;pe++)_[oe=t[s=c[pe]]]==null&&(_[oe]=++N),i[s]={old:t[s],new:_[t[s]]},j[s]=_[t[s]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(j),{charMap:i,subtable:Q.data,maxGlyphID:N+1};case"unicode":for(F=[],p=[],E=0,_={},n={},S=f=null,re=0,ge=c.length;re<ge;re++)_[T=t[s=c[re]]]==null&&(_[T]=++E),n[s]={old:T,new:_[T]},u=_[T]-s,S!=null&&u===f||(S&&p.push(S),F.push(s),f=u),S=s;for(S&&p.push(S),p.push(65535),F.push(65535),K=2*(B=F.length),R=2*Math.pow(Math.log(B)/Math.LN2,2),g=Math.log(R/2)/Math.LN2,M=2*B-R,d=[],D=[],b=[],y=ue=0,G=F.length;ue<G;y=++ue){if(U=F[y],m=p[y],U===65535){d.push(0),D.push(0);break}if(U-(X=n[U].new)>=32768)for(d.push(0),D.push(2*(b.length+B-y)),s=V=U;U<=m?V<=m:V>=m;s=U<=m?++V:--V)b.push(n[s].new);else d.push(X-U),D.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*B+2*b.length),Q.writeUInt16(0),Q.writeUInt16(K),Q.writeUInt16(R),Q.writeUInt16(g),Q.writeUInt16(M),be=0,P=p.length;be<P;be++)s=p[be],Q.writeUInt16(s);for(Q.writeUInt16(0),ce=0,H=F.length;ce<H;ce++)s=F[ce],Q.writeUInt16(s);for(me=0,$=d.length;me<$;me++)u=d[me],Q.writeUInt16(u);for(Ae=0,ae=D.length;Ae<ae;Ae++)k=D[Ae],Q.writeUInt16(k);for(xe=0,le=b.length;xe<le;xe++)N=b[xe],Q.writeUInt16(N);return{charMap:n,subtable:Q.data,maxGlyphID:E+1}}},e})(),cI=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xl(e,il),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new HO(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,s;return r==null&&(r="macroman"),n=HO.encode(t,r),(s=new Zu).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},e})(),Afe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xl(e,il),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e})(),_fe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xl(e,il),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n})(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n})(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e})(),Cfe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xl(e,il),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)r=t.readByte(),s.push(this.names.push(t.readString(r)));return s;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var c,u,d;for(d=[],i=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;i=0<=u?++c:--c)d.push(t.readUInt32());return d}).call(this)}},e})(),Efe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},kfe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xl(e,il),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,s,i,c,u,d,f,m,p,g;for(t.pos=this.offset,t.readShort(),r=t.readShort(),u=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+u+t.readShort()});for(d={},i=m=0,p=n.length;m<p;i=++m)s=n[i],t.pos=s.offset,f=t.readString(s.length),c=new Efe(f,s),d[g=s.nameID]==null&&(d[g]=[]),d[s.nameID].push(c);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e})(),Ofe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xl(e,il),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e})(),Pfe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xl(e,il),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,s,i,c,u,d;for(t.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,m;for(m=[],r=f=0;0<=s?f<s:f>s;r=0<=s?++f:--f)m.push(t.readInt16());return m})(),this.widths=(function(){var f,m,p,g;for(g=[],f=0,m=(p=this.metrics).length;f<m;f++)i=p[f],g.push(i.advance);return g}).call(this),n=this.widths[this.widths.length-1],d=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)d.push(this.widths.push(n));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e})(),uI=[].slice,Lfe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xl(e,il),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,s,i,c,u,d,f,m,p;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(s=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,c=(u=new Zu(r.read(s))).readShort(),f=u.readShort(),p=u.readShort(),d=u.readShort(),m=u.readShort(),this.cache[t]=c===-1?new Rfe(u,f,p,d,m):new Tfe(u,c,f,p,d,m),this.cache[t]))},e.prototype.encode=function(t,r,n){var s,i,c,u,d;for(c=[],i=[],u=0,d=r.length;u<d;u++)s=t[r[u]],i.push(c.length),s&&(c=c.concat(s.encode(n)));return i.push(c.length),{table:c,offsets:i}},e})(),Tfe=(function(){function e(t,r,n,s,i,c){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=c,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e})(),Rfe=(function(){function e(t,r,n,s,i){var c,u;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Zu(uI.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e})(),Dfe=(function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Xl(e,il),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,c=0;c<n.length;++c)if(n[c]=s,i<r.length&&r[i]==c){++i,n[c]=s;var u=this.offsets[c],d=this.offsets[c+1]-u;d>0&&(s+=d)}for(var f=new Array(4*n.length),m=0;m<n.length;++m)f[4*m+3]=255&n[m],f[4*m+2]=(65280&n[m])>>8,f[4*m+1]=(16711680&n[m])>>16,f[4*m]=(4278190080&n[m])>>24;return f},e})(),Ife=(function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=s[n];return t},e.prototype.glyphsFor=function(t){var r,n,s,i,c,u,d;for(s={},c=0,u=t.length;c<u;c++)s[i=t[c]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in d=this.glyphsFor(r))n=d[i],s[i]=n;return s},e.prototype.encode=function(t,r){var n,s,i,c,u,d,f,m,p,g,b,y,N,j,S;for(s in n=cI.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(t),b={0:0},S=n.charMap)b[(d=S[s]).old]=d.new;for(y in g=n.maxGlyphID,c)y in b||(b[y]=g++);return m=(function(_){var E,k;for(E in k={},_)k[_[E]]=E;return k})(b),p=Object.keys(m).sort(function(_,E){return _-E}),N=(function(){var _,E,k;for(k=[],_=0,E=p.length;_<E;_++)u=p[_],k.push(m[u]);return k})(),i=this.font.glyf.encode(c,N,b),f=this.font.loca.encode(i.offsets,N),j={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},e})();Pt.API.PDFObject=(function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,s,i,c;if(Array.isArray(r))return"["+(function(){var u,d,f;for(f=[],u=0,d=r.length;u<d;u++)n=r[u],f.push(t.convert(n));return f})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)c=r[s],i.push("/"+s+" "+t.convert(c));return i.push(">>"),i.join(`
`)}return""+r},t})();function dI(e,t,r,n,s){n=n||{};var i=1.15,c=s.internal.scaleFactor,u=s.internal.getFontSize()/c,d=s.getLineHeightFactor?s.getLineHeightFactor():i,f=u*d,m=/\r\n|\r|\n/g,p="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof e=="string"?e.split(m):e,g=p.length||1),r+=u*(2-i),n.valign==="middle"?r-=g/2*f:n.valign==="bottom"&&(r-=g*f),n.halign==="center"||n.halign==="right"){var b=u;if(n.halign==="center"&&(b*=.5),p&&g>=1){for(var y=0;y<p.length;y++)s.text(p[y],t-s.getStringUnitWidth(p[y])*b,r),r+=f;return s}t-=s.getStringUnitWidth(e)*b}return n.halign==="justify"?s.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(e,t,r),s}var GO={},Mh=(function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:GO=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,s,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var c=this.jsPDFDocument.internal.getFont(),u=c.fontStyle,d=c.fontName;if(t.font&&(d=t.font),t.fontStyle){u=t.fontStyle;var f=this.getFontList()[d];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(d,u),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var m=e.unifyColor(t.fillColor);m&&(n=this.jsPDFDocument).setFillColor.apply(n,m),m=e.unifyColor(t.textColor),m&&(s=this.jsPDFDocument).setTextColor.apply(s,m),m=e.unifyColor(t.lineColor),m&&(i=this.jsPDFDocument).setDrawColor.apply(i,m),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,s,i){return this.jsPDFDocument.rect(t,r,n,s,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return GO||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e})(),oN=function(e,t){return oN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},oN(e,t)};function fI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");oN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var hI=(function(e){fI(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t})(Array);function Mfe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Bfe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Gb(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],s=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,c){return Math.max(i,c)},0);return s}function mI(e,t,r,n){var s=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:i});var c=pI(s,!1);c&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,c)}function pI(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function av(e,t){var r,n,s,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(s=e.right)!==null&&s!==void 0?s:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function xI(e,t){var r=av(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function zfe(e,t,r,n,s){var i={},c=1.3333333333333333,u=Rw(t,function(E){return s.getComputedStyle(E).backgroundColor});u!=null&&(i.fillColor=u);var d=Rw(t,function(E){return s.getComputedStyle(E).color});d!=null&&(i.textColor=d);var f=Ufe(n,r);f&&(i.cellPadding=f);var m="borderTopColor",p=c*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var b=(parseFloat(g)||0)/p;b&&(i.lineWidth=b)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},i.lineWidth.top||(i.lineWidth.right?m="borderRightColor":i.lineWidth.bottom?m="borderBottomColor":i.lineWidth.left&&(m="borderLeftColor"));var y=Rw(t,function(E){return s.getComputedStyle(E)[m]});y!=null&&(i.lineColor=y);var N=["left","right","center","justify"];N.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),N=["middle","bottom","top"],N.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var j=parseInt(n.fontSize||"");isNaN(j)||(i.fontSize=j/c);var S=Ffe(n);S&&(i.fontStyle=S);var _=(n.fontFamily||"").toLowerCase();return e.indexOf(_)!==-1&&(i.font=_),i}function Ffe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Rw(e,t){var r=gI(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function gI(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:gI(e.parentElement,t):r}function Ufe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(u){return parseInt(u||"0")/n}),c=av(i,0);return s>c.top&&(c.top=s),s>c.bottom&&(c.bottom=s),c}function bI(e,t,r,n,s){var i,c;n===void 0&&(n=!1),s===void 0&&(s=!1);var u;typeof t=="string"?u=r.document.querySelector(t):u=t;var d=Object.keys(e.getFontList()),f=e.scaleFactor(),m=[],p=[],g=[];if(!u)return console.error("Html table could not be found with input: ",t),{head:m,body:p,foot:g};for(var b=0;b<u.rows.length;b++){var y=u.rows[b],N=(c=(i=y?.parentElement)===null||i===void 0?void 0:i.tagName)===null||c===void 0?void 0:c.toLowerCase(),j=qfe(d,f,r,y,n,s);j&&(N==="thead"?m.push(j):N==="tfoot"?g.push(j):p.push(j))}return{head:m,body:p,foot:g}}function qfe(e,t,r,n,s,i){for(var c=new hI(n),u=0;u<n.cells.length;u++){var d=n.cells[u],f=r.getComputedStyle(d);if(s||f.display!=="none"){var m=void 0;i&&(m=zfe(e,d,t,f,r)),c.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:m,_element:d,content:$fe(d)})}}var p=r.getComputedStyle(n);if(c.length>0&&(s||p.display!=="none"))return c}function $fe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Hfe(e,t,r){for(var n=0,s=[e,t,r];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Pc(e,t,r,n,s){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),c=1;c<arguments.length;c++){var u=arguments[c];if(u!=null)for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&(i[d]=u[d])}return i}function yI(e,t){var r=new Mh(e),n=r.getDocumentOptions(),s=r.getGlobalOptions();Hfe(s,n,t);var i=Pc({},s,n,t),c;typeof window<"u"&&(c=window);var u=Gfe(s,n,t),d=Kfe(s,n,t),f=Vfe(r,i),m=Yfe(r,i,c);return{id:t.tableId,content:m,hooks:d,styles:u,settings:f}}function Gfe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(d){if(d==="columnStyles"){var f=e[d],m=t[d],p=r[d];n.columnStyles=Pc({},f,m,p)}else{var g=[e,t,r],b=g.map(function(y){return y[d]||{}});n[d]=Pc({},b[0],b[1],b[2])}},i=0,c=Object.keys(n);i<c.length;i++){var u=c[i];s(u)}return n}function Kfe(e,t,r){for(var n=[e,t,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,c=n;i<c.length;i++){var u=c[i];u.didParseCell&&s.didParseCell.push(u.didParseCell),u.willDrawCell&&s.willDrawCell.push(u.willDrawCell),u.didDrawCell&&s.didDrawCell.push(u.didDrawCell),u.willDrawPage&&s.willDrawPage.push(u.willDrawPage),u.didDrawPage&&s.didDrawPage.push(u.didDrawPage)}return s}function Vfe(e,t){var r,n,s,i,c,u,d,f,m,p,g,b,y=av(t.margin,40/e.scaleFactor()),N=(r=Wfe(e,t.startY))!==null&&r!==void 0?r:y.top,j;t.showFoot===!0?j="everyPage":t.showFoot===!1?j="never":j=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var S;t.showHead===!0?S="everyPage":t.showHead===!1?S="never":S=(s=t.showHead)!==null&&s!==void 0?s:"everyPage";var _=(i=t.useCss)!==null&&i!==void 0?i:!1,E=t.theme||(_?"plain":"striped"),k=!!t.horizontalPageBreak,T=(c=t.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(u=t.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:_,theme:E,startY:N,margin:y,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(f=t.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(m=t.tableWidth)!==null&&m!==void 0?m:"auto",showHead:S,showFoot:j,tableLineWidth:(p=t.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(g=t.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:k,horizontalPageBreakRepeat:T,horizontalPageBreakBehaviour:(b=t.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function Wfe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),s=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var c=r.startPageNumber+r.pageNumber-1;i=c===s}return typeof t=="number"?t:(t==null||t===!1)&&i&&r?.finalY!=null?r.finalY+20/n:null}function Yfe(e,t,r){var n=t.head||[],s=t.body||[],i=t.foot||[];if(t.html){var c=t.includeHiddenHtml;if(r){var u=bI(e,t.html,r,c,t.useCss)||{};n=u.head||n,s=u.body||n,i=u.foot||n}else console.error("Cannot parse html in non browser environment")}var d=t.columns||Xfe(n,s,i);return{columns:d,head:n,body:s,foot:i}}function Xfe(e,t,r){var n=e[0]||t[0]||r[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var c=1,u;Array.isArray(n)?u=n[parseInt(i)]:u=n[i],typeof u=="object"&&!Array.isArray(u)&&(c=u?.colSpan||1);for(var d=0;d<c;d++){var f=void 0;Array.isArray(n)?f=s.length:f=i+(d>0?"_".concat(d):"");var m={dataKey:f};s.push(m)}}),s}var lN=(function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e})(),Qfe=(function(e){fI(t,e);function t(r,n,s,i,c,u){var d=e.call(this,r,n,u)||this;return d.cell=s,d.row=i,d.column=c,d.section=i.section,d}return t})(lN),Zfe=(function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,s,i,c){for(var u=0,d=r;u<d.length;u++){var f=d[u],m=new Qfe(t,this,n,s,i,c),p=f(m)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new lN(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new lN(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e})(),vI=(function(){function e(t,r,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof hI&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,s){var i;return Math.max(n,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(s,i){var c=n.cells[i.index];if(!c)return 0;var u=r.getLineHeight(c.styles.fontSize),d=c.padding("vertical"),f=d+u;return f>s?f:s},0)},e})(),wI=(function(){function e(t,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(s=t.content)!==null&&s!==void 0?s:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var c=i!=null?""+i:"",u=/\r\n|\r|\n/g;this.text=c.split(u)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/t*r,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=av(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e})(),Jfe=(function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,s=t.allRows();n<s.length;n++){var i=s[n],c=i.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(r=Math.max(r,c.styles.cellWidth))}return r},e})();function ehe(e,t){the(e,t);var r=[],n=0;t.columns.forEach(function(i){var c=i.getMaxCustomCellWidth(t);c?i.width=c:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var s=t.getWidth(e.pageSize().width)-n;s&&(s=cN(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=cN(r,s,function(i){return i.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s),console.log("Of the table content, ".concat(s," units width could not fit page"))),nhe(t),ahe(t,e),rhe(t)}function the(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,s=xI(e,t);t.allRows().forEach(function(i){for(var c=0,u=t.columns;c<u.length;c++){var d=u[c],f=i.cells[d.index];if(f){var m=t.hooks.didParseCell;t.callCellHooks(e,m,f,i,d,null);var p=f.padding("horizontal");f.contentWidth=Gb(f.text,f.styles,e)+p;var g=Gb(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,e);if(f.minReadableWidth=g+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>s?(f.minWidth=s,f.wrappedWidth=s):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var b=10/r;f.minWidth=f.styles.minCellWidth||b,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),t.allRows().forEach(function(i){for(var c=0,u=t.columns;c<u.length;c++){var d=u[c],f=i.cells[d.index];if(f&&f.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,f.wrappedWidth),d.minWidth=Math.max(d.minWidth,f.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,f.minReadableWidth);else{var m=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},p=m.cellWidth||m.minCellWidth;p&&typeof p=="number"&&(d.minWidth=p,d.wrappedWidth=p)}f&&(f.colSpan>1&&!d.minWidth&&(d.minWidth=f.minWidth),f.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=f.minWidth))}})}function cN(e,t,r){for(var n=t,s=e.reduce(function(b,y){return b+y.wrappedWidth},0),i=0;i<e.length;i++){var c=e[i],u=c.wrappedWidth/s,d=n*u,f=c.width+d,m=r(c),p=f<m?m:f;t-=p-c.width,c.width=p}if(t=Math.round(t*1e10)/1e10,t){var g=e.filter(function(b){return t<0?b.width>r(b):!0});g.length&&(t=cN(g,t,r))}return t}function rhe(e){for(var t={},r=1,n=e.allRows(),s=0;s<n.length;s++)for(var i=n[s],c=0,u=e.columns;c<u.length;c++){var d=u[c],f=t[d.index];if(r>1)r--,delete i.cells[d.index];else if(f)f.cell.height+=i.height,r=f.cell.colSpan,delete i.cells[d.index],f.left--,f.left<=1&&delete t[d.index];else{var m=i.cells[d.index];if(!m)continue;if(m.height=i.height,m.rowSpan>1){var p=n.length-s,g=m.rowSpan>p?p:m.rowSpan;t[d.index]={cell:m,left:g,row:i}}}}}function nhe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],s=null,i=0,c=0,u=0;u<e.columns.length;u++){var d=e.columns[u];if(c-=1,c>1&&e.columns[u+1])i+=d.width,delete n.cells[d.index];else if(s){var f=s;delete n.cells[d.index],s=null,f.width=d.width+i}else{var f=n.cells[d.index];if(!f)continue;if(c=f.colSpan,i=0,f.colSpan>1){s=f,i+=d.width;continue}f.width=d.width+i}}}function ahe(e,t){for(var r={count:0,height:0},n=0,s=e.allRows();n<s.length;n++){for(var i=s[n],c=0,u=e.columns;c<u.length;c++){var d=u[c],f=i.cells[d.index];if(f){t.applyStyles(f.styles,!0);var m=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=t.splitTextToSize(f.text,m+1/t.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=KO(f.text,m,f.styles,t,"...");else if(f.styles.overflow==="hidden")f.text=KO(f.text,m,f.styles,t,"");else if(typeof f.styles.overflow=="function"){var p=f.styles.overflow(f.text,m);typeof p=="string"?f.text=[p]:f.text=p}f.contentHeight=f.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var g=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<g*f.rowSpan?r={height:g,count:f.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>i.height&&(i.height=g)}}r.count--}}function KO(e,t,r,n,s){return e.map(function(i){return she(i,t,r,n,s)})}function she(e,t,r,n,s){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Gb(e,r,n))return e;for(;t<Gb(e+s,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}function NI(e,t){var r=new Mh(e),n=ihe(t,r.scaleFactor()),s=new Zfe(t,n);return ehe(r,s),r.applyStyles(r.userStyles),s}function ihe(e,t){var r=e.content,n=lhe(r.columns);if(r.head.length===0){var s=VO(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=VO(n,"foot");s&&r.foot.push(s)}var i=e.settings.theme,c=e.styles;return{columns:n,head:Dw("head",r.head,n,c,i,t),body:Dw("body",r.body,n,c,i,t),foot:Dw("foot",r.foot,n,c,i,t)}}function Dw(e,t,r,n,s,i){var c={},u=t.map(function(d,f){for(var m=0,p={},g=0,b=0,y=0,N=r;y<N.length;y++){var j=N[y];if(c[j.index]==null||c[j.index].left===0)if(b===0){var S=void 0;Array.isArray(d)?S=d[j.index-g-m]:S=d[j.dataKey];var _={};typeof S=="object"&&!Array.isArray(S)&&(_=S?.styles||{});var E=che(e,j,f,s,n,i,_),k=new wI(S,E,e);p[j.dataKey]=k,p[j.index]=k,b=k.colSpan-1,c[j.index]={left:k.rowSpan-1,times:b}}else b--,g++;else c[j.index].left--,b=c[j.index].times,m++}return new vI(d,f,e,p)});return u}function VO(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var s=ohe(t,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function ohe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function lhe(e){return e.map(function(t,r){var n,s;return typeof t=="object"?s=(n=t.dataKey)!==null&&n!==void 0?n:r:s=r,new Jfe(s,t,r)})}function che(e,t,r,n,s,i,c){var u=Bfe(n),d;e==="head"?d=s.headStyles:e==="body"?d=s.bodyStyles:e==="foot"&&(d=s.footStyles);var f=Pc({},u.table,u[e],s.styles,d),m=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},p=e==="body"?m:{},g=e==="body"&&r%2===0?Pc({},u.alternateRow,s.alternateRowStyles):{},b=Mfe(i),y=Pc({},b,f,g,p);return Pc(y,c)}function uhe(e,t,r){var n;r===void 0&&(r={});var s=xI(e,t),i=new Map,c=[],u=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(g){var b=t.columns.find(function(y){return y.dataKey===g||y.index===g});b&&!i.has(b.index)&&(i.set(b.index,!0),c.push(b.index),u.push(t.columns[b.index]),s-=b.wrappedWidth)});for(var f=!0,m=(n=r?.start)!==null&&n!==void 0?n:0;m<t.columns.length;){if(i.has(m)){m++;continue}var p=t.columns[m].wrappedWidth;if(f||s>=p)f=!1,c.push(m),u.push(t.columns[m]),s-=p;else break;m++}return{colIndexes:c,columns:u,lastIndex:m-1}}function dhe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var s=uhe(e,t,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function jI(e,t){var r=t.settings,n=r.startY,s=r.margin,i={x:s.left,y:n},c=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),u=n+s.bottom+c;if(r.pageBreak==="avoid"){var d=t.body,f=d.reduce(function(g,b){return g+b.height},0);u+=f}var m=new Mh(e);(r.pageBreak==="always"||r.startY!=null&&u>m.pageSize().height)&&(AI(m),i.y=s.top),t.callWillDrawPageHooks(m,i);var p=Pc({},i);t.startPageNumber=m.pageNumber(),r.horizontalPageBreak?fhe(m,t,p,i):(m.applyStyles(m.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(g){return $c(m,t,g,i,t.columns)}),m.applyStyles(m.userStyles),t.body.forEach(function(g,b){var y=b===t.body.length-1;Kb(m,t,g,y,p,i,t.columns)}),m.applyStyles(m.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(g){return $c(m,t,g,i,t.columns)})),mI(m,t,p,i),t.callEndPageHooks(m,i),t.finalY=i.y,e.lastAutoTable=t,m.applyStyles(m.userStyles)}function fhe(e,t,r,n){var s=dhe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(f,m){e.applyStyles(e.userStyles),m>0?S0(e,t,r,n,f.columns,!0):WO(e,t,n,f.columns),hhe(e,t,r,n,f.columns),Iw(e,t,n,f.columns)});else for(var c=-1,u=s[0],d=function(){var f=c;if(u){e.applyStyles(e.userStyles);var m=u.columns;c>=0?S0(e,t,r,n,m,!0):WO(e,t,n,m),f=YO(e,t,c+1,n,m),Iw(e,t,n,m)}var p=f-c;s.slice(1).forEach(function(g){e.applyStyles(e.userStyles),S0(e,t,r,n,g.columns,!0),YO(e,t,c+1,n,g.columns,p),Iw(e,t,n,g.columns)}),c=f};c<t.body.length-1;)d()}function WO(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&t.head.forEach(function(i){return $c(e,t,i,r,n)})}function hhe(e,t,r,n,s){e.applyStyles(e.userStyles),t.body.forEach(function(i,c){var u=c===t.body.length-1;Kb(e,t,i,u,r,n,s)})}function YO(e,t,r,n,s,i){e.applyStyles(e.userStyles),i=i??t.body.length;var c=Math.min(r+i,t.body.length),u=-1;return t.body.slice(r,c).forEach(function(d,f){var m=r+f===t.body.length-1,p=SI(e,t,m,n);d.canEntireRowFit(p,s)&&($c(e,t,d,n,s),u=r+f)}),u}function Iw(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&t.foot.forEach(function(i){return $c(e,t,i,r,n)})}function mhe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),i=Math.floor((t-s)/n);return Math.max(0,i)}function phe(e,t,r,n){var s={};e.spansMultiplePages=!0,e.height=0;for(var i=0,c=0,u=r.columns;c<u.length;c++){var d=u[c],f=e.cells[d.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var m=new wI(f.raw,f.styles,f.section);m=Pc(m,f),m.text=[];var p=mhe(f,t,n);f.text.length>p&&(m.text=f.text.splice(p,f.text.length));var g=n.scaleFactor(),b=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(g,b),f.contentHeight>=t&&(f.contentHeight=t,m.styles.minCellHeight-=t),f.contentHeight>e.height&&(e.height=f.contentHeight),m.contentHeight=m.getContentHeight(g,b),m.contentHeight>i&&(i=m.contentHeight),s[d.index]=m}}var y=new vI(e.raw,-1,e.section,s,!0);y.height=i;for(var N=0,j=r.columns;N<j.length;N++){var d=j[N],m=y.cells[d.index];m&&(m.height=y.height);var f=e.cells[d.index];f&&(f.height=e.height)}return y}function xhe(e,t,r,n){var s=e.pageSize().height,i=n.settings.margin,c=i.top+i.bottom,u=s-c;t.section==="body"&&(u-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=t.getMinimumRowHeight(n.columns,e),f=d<r;if(d>u)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var m=t.hasRowSpan(n.columns),p=t.getMaxCellHeight(n.columns)>u;return p?(m&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(m||n.settings.rowPageBreak==="avoid")}function Kb(e,t,r,n,s,i,c){var u=SI(e,t,n,i);if(r.canEntireRowFit(u,c))$c(e,t,r,i,c);else if(xhe(e,r,u,t)){var d=phe(r,u,t,e);$c(e,t,r,i,c),S0(e,t,s,i,c),Kb(e,t,d,n,s,i,c)}else S0(e,t,s,i,c),Kb(e,t,r,n,s,i,c)}function $c(e,t,r,n,s){n.x=t.settings.margin.left;for(var i=0,c=s;i<c.length;i++){var u=c[i],d=r.cells[u.index];if(!d){n.x+=u.width;continue}e.applyStyles(d.styles),d.x=n.x,d.y=n.y;var f=t.callCellHooks(e,t.hooks.willDrawCell,d,r,u,n);if(f===!1){n.x+=u.width;continue}ghe(e,d,n);var m=d.getTextPos();dI(d.text,m.x,m.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,d,r,u,n),n.x+=u.width}n.y+=r.height}function ghe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=pI(n.lineWidth,n.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),bhe(e,t,r,n.lineWidth))}function bhe(e,t,r,n){var s,i,c,u;n.top&&(s=r.x,i=r.y,c=r.x+t.width,u=r.y,n.right&&(c+=.5*n.right),n.left&&(s-=.5*n.left),d(n.top,s,i,c,u)),n.bottom&&(s=r.x,i=r.y+t.height,c=r.x+t.width,u=r.y+t.height,n.right&&(c+=.5*n.right),n.left&&(s-=.5*n.left),d(n.bottom,s,i,c,u)),n.left&&(s=r.x,i=r.y,c=r.x,u=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),d(n.left,s,i,c,u)),n.right&&(s=r.x+t.width,i=r.y,c=r.x+t.width,u=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(u+=.5*n.bottom),d(n.right,s,i,c,u));function d(f,m,p,g,b){e.getDocument().setLineWidth(f),e.getDocument().line(m,p,g,b,"S")}}function SI(e,t,r,n){var s=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-s}function S0(e,t,r,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(u){return $c(e,t,u,n,s)}),t.callEndPageHooks(e,n);var c=t.settings.margin;mI(e,t,r,n),AI(e),t.pageNumber++,n.x=c.left,n.y=c.top,r.y=c.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(u){return $c(e,t,u,n,s)}),e.applyStyles(e.userStyles))}function AI(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function yhe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],s=yI(this,n),i=NI(this,s);return jI(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,s){dI(t,r,n,s,this)},e.API.autoTableSetDefaults=function(t){return Mh.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Mh.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Mh(this),i=bI(s,t,window,r,!1),c=i.head,u=i.body,d=((n=c[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:d,rows:u,data:u}}}var Mw;function vhe(e,t){var r=yI(e,t),n=NI(e,r);jI(e,n)}try{if(typeof window<"u"&&window){var XO=window,QO=XO.jsPDF||((Mw=XO.jspdf)===null||Mw===void 0?void 0:Mw.jsPDF);QO&&yhe(QO)}}catch(e){console.error("Could not apply autoTable plugin",e)}const Bw=e=>e?e.replace("CASH_FLOW_","").replace(/_/g," ").toLowerCase().replace(/\b\w/g,t=>t.toUpperCase()):"",whe=e=>{const t=(e||"").toLowerCase();return t.includes("paid_in")?a.jsx(X0,{className:"w-4 h-4 text-emerald-500"}):t.includes("paid_out")?a.jsx(Gc,{className:"w-4 h-4 text-red-500"}):t.includes("registration")?a.jsx(tm,{className:"w-4 h-4 text-blue-500"}):a.jsx(Xz,{className:"w-4 h-4 text-slate-400"})};function Nhe({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,type:i="info"}){return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden scale-100 animate-in zoom-in-95 duration-200",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`p-3 rounded-full ${i==="danger"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:a.jsx(ra,{className:"w-6 h-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-slate-800",children:n}),a.jsx("p",{className:"text-sm text-slate-500 mt-1 leading-relaxed",children:s})]})]})}),a.jsxs("div",{className:"bg-slate-50 px-6 py-4 flex justify-end gap-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-semibold text-slate-600 hover:text-slate-800 hover:bg-slate-100 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:r,className:`px-4 py-2 text-sm font-semibold text-white rounded-lg shadow-sm transition-all active:scale-95 ${i==="danger"?"bg-red-600 hover:bg-red-700 shadow-red-200":"bg-blue-600 hover:bg-blue-700 shadow-blue-200"}`,children:"Confirm Action"})]})]})}):null}function jhe(){const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(!0),[c,u]=v.useState(null),[d,f]=v.useState(null),[m,p]=v.useState({isOpen:!1,id:null,status:null,title:"",message:"",type:"info"});v.useEffect(()=>{g()},[]);const g=async()=>{try{i(!0),u(null);const _=(await uG()||[]).filter(E=>E.category!=="USER_REGISTRATION");t(_.filter(E=>E.status==="Pending")),n(_.filter(E=>E.status!=="Pending"))}catch(S){console.error("Error fetching approvals:",S),u("Failed to load approvals")}finally{i(!1)}},b=(S,_)=>{const E=_==="Approved";p({isOpen:!0,id:S,status:_,title:E?"Confirm Approval":"Reject Request",message:E?"Are you sure you want to approve this request? This action will update the system records immediately.":"Are you sure you want to reject this request? The requester will be notified.",type:E?"info":"danger"})},y=()=>{p(S=>({...S,isOpen:!1}))};async function N(){const{id:S,status:_}=m;if(!(!S||!_)){y();try{f(S),await dG(S,_);const E=e.find(k=>k.id===S);if(E){const k={...E,status:_,approvedAt:new Date().toLocaleString()};t(T=>T.filter(D=>D.id!==S)),n(T=>[k,...T])}}catch(E){console.error("Error updating status:",E),alert("Failed to update status. Please try again.")}finally{f(null)}}}const j=()=>{const S=new Pt;S.setFontSize(18),S.setTextColor(40),S.text("Approval History Report",14,22),S.setFontSize(10),S.setTextColor(100),S.text(`Generated: ${new Date().toLocaleString()}`,14,30);const _=["Type","Reference","Amount","Requested By","Req. Time","Appr. Time","Status"],E=[];r.forEach(k=>{let T="-";if(k.description){const M=k.description.match(/: (\d+(\.\d{1,2})?)/);M&&(T=M[1])}const D=[Bw(k.category),k.reference||"-",T,k.requestedBy||"-",new Date(k.time).toLocaleDateString(),k.approvedAt?new Date(k.approvedAt).toLocaleDateString():"-",k.status];E.push(D)}),vhe(S,{head:[_],body:E,startY:35,theme:"grid",styles:{fontSize:8,cellPadding:3},headStyles:{fillColor:[51,65,85]}}),S.save(`approval-history-${new Date().toISOString().split("T")[0]}.pdf`)};return c?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-xl font-extrabold text-slate-800",children:"Approvals & Requests"}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 flex items-center justify-between",children:[a.jsx("span",{children:c}),a.jsx("button",{onClick:g,className:"px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Retry"})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx(Nhe,{isOpen:m.isOpen,onClose:y,onConfirm:N,title:m.title,message:m.message,type:m.type}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-extrabold text-slate-800 tracking-tight",children:"Approvals & Requests"}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Manage pending requests and view history"})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{onClick:g,className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 rounded-xl text-sm font-bold hover:bg-slate-50 hover:border-slate-300 transition-all shadow-sm",children:"Refresh"})})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 flex items-center gap-3 bg-slate-50/50",children:[a.jsx("span",{className:"font-bold text-slate-700",children:"Pending Approvals"}),e.length>0&&a.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2.5 py-0.5 rounded-full text-xs font-bold shadow-sm border border-amber-200",children:[e.length," Waiting"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider w-12"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Type / Ref"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Description & Reason"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Requested By"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-slate-300 border-t-blue-600 rounded-full animate-spin"}),a.jsx("span",{children:"Checking for requests..."})]})})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{className:"p-12 text-center text-slate-400",colSpan:6,children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(Xr,{className:"w-8 h-8 text-emerald-100 text-emerald-400"}),a.jsx("span",{children:"No pending approvals found"})]})})}):e.map(S=>{const _=d===S.id;let E="-",k=S.description||"No description";if(S.description){const T=S.description.match(/: (\d+(\.\d{1,2})?)/);T&&(E="LKR "+Number(T[1]).toLocaleString())}return a.jsxs("tr",{className:`group hover:bg-blue-50/30 transition-colors ${_?"opacity-50 pointer-events-none":""}`,children:[a.jsx("td",{className:"p-4 pl-6",children:a.jsx("div",{className:"p-2 bg-white border border-slate-200 rounded-lg shadow-sm",children:whe(S.category)})}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"font-bold text-slate-700",children:Bw(S.category)}),a.jsx("div",{className:"font-mono text-xs text-slate-500 mt-1",children:S.reference})]}),a.jsxs("td",{className:"p-4 max-w-xs",children:[a.jsx("div",{className:"text-slate-600 text-sm leading-snug",children:k}),a.jsxs("div",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[a.jsx(Fh,{className:"w-3 h-3"})," ",S.time]})]}),a.jsx("td",{className:"p-4 font-bold text-slate-800",children:E}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center text-xs font-bold text-slate-600",children:S.requestedBy?.charAt(0)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-700",children:S.requestedBy}),a.jsx("div",{className:"text-[10px] text-slate-400",children:S.email||"Staff"})]})]})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>b(S.id,"Approved"),disabled:_,className:"px-3 py-1.5 bg-emerald-500 text-white rounded-lg text-xs font-bold hover:bg-emerald-600 shadow-sm hover:shadow-emerald-200 transition-all active:scale-95 disabled:opacity-50",children:"Approve"}),a.jsx("button",{onClick:()=>b(S.id,"Rejected"),disabled:_,className:"px-3 py-1.5 bg-white border border-slate-200 text-red-600 rounded-lg text-xs font-bold hover:bg-red-50 hover:border-red-200 transition-all active:scale-95 disabled:opacity-50",children:"Reject"})]})})]},S.id)})})]})})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{className:"font-bold text-slate-700 flex items-center gap-2",children:[a.jsx(Fh,{className:"w-4 h-4 text-slate-400"})," Approval History"]}),a.jsxs("button",{onClick:j,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded-lg text-xs font-bold transition-colors",children:[a.jsx(Yl,{className:"w-3 h-3"})," Export PDF"]})]}),a.jsx("div",{className:"overflow-x-auto max-h-[500px] overflow-y-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 border-b border-slate-200 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Reference"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Description / Reason"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Requested By"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Approved At"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:s?a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"p-8 text-center text-slate-400",children:"Loading history..."})}):r.length===0?a.jsx("tr",{children:a.jsx("td",{className:"p-8 text-center text-slate-400",colSpan:7,children:"No approval history"})}):r.map(S=>{let _="-";if(S.description){const E=S.description.match(/: (\d+(\.\d{1,2})?)/);E&&(_="LKR "+Number(E[1]).toLocaleString())}return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 font-medium text-slate-600",children:Bw(S.category)}),a.jsx("td",{className:"p-4 font-mono text-xs text-slate-500",children:S.reference}),a.jsx("td",{className:"p-4 text-slate-600 text-xs max-w-xs truncate",children:S.description}),a.jsx("td",{className:"p-4 font-bold text-slate-700 text-xs",children:_}),a.jsx("td",{className:"p-4 text-slate-600",children:S.requestedBy}),a.jsx("td",{className:"p-4 text-slate-500 text-xs font-mono",children:S.approvedAt||"-"}),a.jsx("td",{className:"p-4",children:a.jsx(fm,{label:S.status})})]},S.id)})})]})})]})]})}const ZO={SALE:{icon:oo,color:"bg-emerald-100 text-emerald-700 border-emerald-200",label:"Sale"},RETURN:{icon:Zd,color:"bg-red-100 text-red-700 border-red-200",label:"Return"},VOID_SALE:{icon:Hd,color:"bg-red-100 text-red-700 border-red-200",label:"Void Sale"},DISCOUNT:{icon:Ei,color:"bg-amber-100 text-amber-700 border-amber-200",label:"Discount"},SHIFT_OPEN:{icon:Z3,color:"bg-blue-100 text-blue-700 border-blue-200",label:"Shift Open"},SHIFT_CLOSE:{icon:ef,color:"bg-indigo-100 text-indigo-700 border-indigo-200",label:"Shift Close"},CASH_IN:{icon:Gc,color:"bg-emerald-100 text-emerald-700 border-emerald-200",label:"Cash In"},CASH_OUT:{icon:Zd,color:"bg-orange-100 text-orange-700 border-orange-200",label:"Cash Out"},CASH_FLOW_REQUEST:{icon:Ei,color:"bg-purple-100 text-purple-700 border-purple-200",label:"Cash Flow"},GRN:{icon:Ln,color:"bg-cyan-100 text-cyan-700 border-cyan-200",label:"GRN"},GRN_APPROVED:{icon:Xr,color:"bg-emerald-100 text-emerald-700 border-emerald-200",label:"GRN Approved"},STOCK_ADJUSTMENT:{icon:Ln,color:"bg-amber-100 text-amber-700 border-amber-200",label:"Stock Adjust"},STOCK_TRANSFER:{icon:Ln,color:"bg-blue-100 text-blue-700 border-blue-200",label:"Transfer"},LOGIN:{icon:Z3,color:"bg-slate-100 text-slate-700 border-slate-200",label:"Login"},LOGOUT:{icon:ef,color:"bg-slate-100 text-slate-700 border-slate-200",label:"Logout"},USER_CREATE:{icon:nf,color:"bg-blue-100 text-blue-700 border-blue-200",label:"User Created"},APPROVAL_REQUEST:{icon:Xo,color:"bg-purple-100 text-purple-700 border-purple-200",label:"Approval Requested"},APPROVAL_GRANTED:{icon:Xr,color:"bg-emerald-100 text-emerald-700 border-emerald-200",label:"Approved"},APPROVAL_REJECTED:{icon:Hd,color:"bg-red-100 text-red-700 border-red-200",label:"Rejected"},ALERT:{icon:ra,color:"bg-amber-100 text-amber-700 border-amber-200",label:"Alert"},DEFAULT:{icon:Tc,color:"bg-slate-100 text-slate-700 border-slate-200",label:"Activity"}};function h0({title:e,value:t,icon:r,color:n,trend:s,trendValue:i}){const c={blue:"bg-blue-50 text-blue-600 border-blue-100",emerald:"bg-emerald-50 text-emerald-600 border-emerald-100",amber:"bg-amber-50 text-amber-600 border-amber-100",red:"bg-red-50 text-red-600 border-red-100",purple:"bg-purple-50 text-purple-600 border-purple-100"};return a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl border ${c[n]}`,children:a.jsx(r,{size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wide",children:e}),a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:t})]}),s&&a.jsxs("div",{className:`text-xs font-bold px-2 py-1 rounded-full ${s==="up"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:[s==="up"?"+":"",i,"%"]})]})})}function She({activity:e,onExpand:t}){const r=ZO[e.actionType]||ZO.DEFAULT,n=r.icon;let s=e.username||`User ${e.userId||"?"}`,i="System",c={};try{if(e.metadata){const d=typeof e.metadata=="string"?JSON.parse(e.metadata):e.metadata;d.user&&(s=d.user),d.role&&(i=d.role),d.amount&&(c.amount=d.amount),d.invoice&&(c.invoice=d.invoice)}}catch{}const u={INFO:"bg-blue-50",WARNING:"bg-amber-50",CRITICAL:"bg-red-50",SUCCESS:"bg-emerald-50"};return a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors border-t border-slate-100 ${u[e.severity]||""}`,children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ks,{className:"w-3.5 h-3.5 text-slate-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-700",children:new Date(e.timestamp||e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),a.jsx("div",{className:"text-xs text-slate-400",children:new Date(e.timestamp||e.createdAt).toLocaleDateString()})]})]})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center text-sm font-bold text-slate-600",children:s.charAt(0).toUpperCase()}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-800",children:s}),a.jsx("div",{className:"text-xs text-slate-400 uppercase tracking-wide",children:i})]})]})}),a.jsx("td",{className:"p-4",children:a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-bold border ${r.color}`,children:[a.jsx(n,{size:12}),r.label||e.actionType?.replace(/_/g," ")]})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"max-w-md",children:[a.jsx("div",{className:"text-slate-700",children:e.description||e.details}),e.entityType&&e.entityId&&a.jsxs("div",{className:"text-xs text-slate-400 mt-1 font-mono",children:["Ref: ",e.entityType," #",e.entityId]}),c.amount&&a.jsxs("div",{className:"text-xs text-emerald-600 font-bold mt-1",children:["LKR ",c.amount.toLocaleString()]})]})}),a.jsx("td",{className:"p-4",children:e.terminalId?a.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[a.jsx(jN,{className:"w-4 h-4"}),a.jsxs("span",{className:"font-mono text-sm",children:["T-",String(e.terminalId).padStart(2,"0")]})]}):a.jsx("span",{className:"text-slate-300",children:"-"})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${e.status==="SUCCESS"?"bg-emerald-100 text-emerald-700":e.status==="FAILED"?"bg-red-100 text-red-700":"bg-slate-100 text-slate-600"}`,children:e.status||"OK"})})]})}function Ahe({selected:e,onChange:t,options:r}){return a.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(n=>a.jsxs("button",{onClick:()=>t(n.value),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${e===n.value?"bg-slate-800 text-white shadow-lg":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[n.label,n.count!==void 0&&a.jsx("span",{className:`ml-1.5 px-1.5 py-0.5 rounded-full text-xs ${e===n.value?"bg-white/20":"bg-slate-100"}`,children:n.count})]},n.value))})}function _he({isLive:e}){return a.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-emerald-50 border border-emerald-200 rounded-full",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${e?"bg-emerald-500 animate-pulse":"bg-slate-400"}`}),a.jsx("span",{className:"text-xs font-medium text-emerald-700",children:e?"Live Updates":"Paused"})]})}function Che(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(!1),[c,u]=v.useState(!0),[d,f]=v.useState(""),[m,p]=v.useState("ALL"),[g,b]=v.useState("ALL"),[y,N]=v.useState(new Date().toISOString().split("T")[0]),j=async()=>{try{i(!0);const M=await fG(1);Array.isArray(M)&&M.length>0?t(M):t(S())}catch(M){console.error("Failed to load activities",M),t(S())}finally{n(!1),i(!1)}},S=()=>{const M=["SALE","RETURN","SHIFT_OPEN","SHIFT_CLOSE","CASH_IN","CASH_OUT","GRN","LOGIN","APPROVAL_REQUEST","STOCK_ADJUSTMENT"],R=[{name:"John Perera",role:"CASHIER"},{name:"Sarah Silva",role:"CASHIER"},{name:"Mike Fernando",role:"SUPERVISOR"},{name:"Admin User",role:"MANAGER"}],B=[1,2,3,null],K=["INFO","INFO","INFO","SUCCESS","WARNING"];return Array.from({length:50},(U,F)=>{const X=M[Math.floor(Math.random()*M.length)],Q=R[Math.floor(Math.random()*R.length)],pe=new Date;return pe.setMinutes(pe.getMinutes()-F*Math.floor(Math.random()*30)),{id:F+1,activityId:F+1,actionType:X,username:Q.name,userRole:Q.role,userId:F+1,description:_(X),entityType:X==="SALE"?"SALE":X==="GRN"?"GRN":null,entityId:X==="SALE"?Math.floor(Math.random()*1e3)+1e3:null,terminalId:B[Math.floor(Math.random()*B.length)],timestamp:pe.toISOString(),createdAt:pe.toISOString(),severity:K[Math.floor(Math.random()*K.length)],status:"SUCCESS",metadata:JSON.stringify({user:Q.name,role:Q.role,amount:X==="SALE"?Math.floor(Math.random()*5e4)+1e3:null})}})},_=M=>({SALE:"Completed sale transaction",RETURN:"Processed customer return",SHIFT_OPEN:"Opened cash register shift",SHIFT_CLOSE:"Closed cash register shift",CASH_IN:"Received cash payment",CASH_OUT:"Issued cash payout",GRN:"Created goods received note",LOGIN:"User logged into system",APPROVAL_REQUEST:"Submitted approval request",STOCK_ADJUSTMENT:"Adjusted stock quantities"})[M]||"System activity";v.useEffect(()=>{j();let M;return c&&(M=setInterval(j,3e4)),()=>clearInterval(M)},[c]);const E=v.useMemo(()=>{const M=new Date().toDateString(),R=e.filter(X=>new Date(X.timestamp||X.createdAt).toDateString()===M),B=R.filter(X=>X.actionType==="SALE").length,K=R.filter(X=>X.actionType==="RETURN").length,U=R.filter(X=>X.severity==="WARNING"||X.severity==="CRITICAL").length,F=R.filter(X=>X.actionType==="LOGIN").length;return{total:R.length,sales:B,returns:K,warnings:U,logins:F}},[e]),k=v.useMemo(()=>{const M=d.toLowerCase();return e.filter(R=>{const B=!M||R.username?.toLowerCase().includes(M)||R.actionType?.toLowerCase().includes(M)||R.description?.toLowerCase().includes(M)||R.details?.toLowerCase().includes(M)||R.terminalId&&String(R.terminalId).includes(M),K=m==="ALL"||R.actionType===m,U=g==="ALL"||R.severity===g;return B&&K&&U})},[e,d,m,g]),T=v.useMemo(()=>{const M={};return e.forEach(R=>{M[R.actionType]=(M[R.actionType]||0)+1}),[{value:"ALL",label:"All",count:e.length},{value:"SALE",label:"Sales",count:M.SALE||0},{value:"RETURN",label:"Returns",count:M.RETURN||0},{value:"SHIFT_OPEN",label:"Shift Open",count:M.SHIFT_OPEN||0},{value:"SHIFT_CLOSE",label:"Shift Close",count:M.SHIFT_CLOSE||0},{value:"GRN",label:"GRN",count:M.GRN||0},{value:"LOGIN",label:"Logins",count:M.LOGIN||0}]},[e]),D=()=>{const M=[];M.push(" SMART RETAIL PRO - BRANCH ACTIVITY LOG"),M.push("=".repeat(80)),M.push(` Generated: ${new Date().toLocaleString()}`),M.push(` Total Activities: ${k.length}`),M.push("=".repeat(80)),M.push(""),M.push("Timestamp,User,Action,Description,Terminal,Status"),k.forEach(F=>{M.push([new Date(F.timestamp||F.createdAt).toLocaleString(),F.username||"System",F.actionType,`"${F.description||F.details||""}"`,F.terminalId?`T-${F.terminalId}`:"-",F.status||"OK"].join(","))});const R="\uFEFF"+M.join(`
`),B=new Blob([R],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(B),U=document.createElement("a");U.href=K,U.download=`activity-log-${new Date().toISOString().split("T")[0]}.csv`,U.click(),URL.revokeObjectURL(K)};return r?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Sa,{className:"w-10 h-10 text-blue-500 animate-spin mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500",children:"Loading activity log..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Tc,{className:"w-6 h-6 text-blue-600"}),"Branch Activity Log"]}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Real-time monitoring of all branch operations and transactions"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_he,{isLive:c}),a.jsxs("button",{onClick:()=>u(!c),className:`px-3 py-2 rounded-xl text-sm font-medium transition-colors ${c?"bg-slate-800 text-white":"bg-white border border-slate-200 text-slate-700"}`,children:[a.jsx(E0,{size:14,className:"inline mr-1"}),c?"Pause":"Resume"]}),a.jsx("button",{onClick:j,disabled:s,className:`p-2.5 rounded-xl border border-slate-200 hover:bg-slate-50 text-slate-500 transition-all ${s?"animate-spin":""}`,children:a.jsx(Sa,{size:18})}),a.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-800 hover:bg-slate-900 text-white rounded-xl text-sm font-medium transition-colors",children:[a.jsx(Yl,{size:16}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsx(h0,{title:"Total Actions",value:E.total,icon:Tc,color:"blue"}),a.jsx(h0,{title:"Sales",value:E.sales,icon:oo,color:"emerald",trend:"up",trendValue:"12"}),a.jsx(h0,{title:"Returns",value:E.returns,icon:Zd,color:"red"}),a.jsx(h0,{title:"Alerts",value:E.warnings,icon:ra,color:"amber"}),a.jsx(h0,{title:"Logins",value:E.logins,icon:nf,color:"purple"})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-4 shadow-sm space-y-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Aa,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:d,onChange:M=>f(M.target.value),placeholder:"Search by user, action, or description...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kc,{size:16,className:"text-slate-400"}),a.jsx("input",{type:"date",value:y,onChange:M=>N(M.target.value),className:"px-3 py-2 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"})]}),a.jsxs("select",{value:g,onChange:M=>b(M.target.value),className:"px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"ALL",children:"All Severity"}),a.jsx("option",{value:"INFO",children:"Info"}),a.jsx("option",{value:"SUCCESS",children:"Success"}),a.jsx("option",{value:"WARNING",children:"Warning"}),a.jsx("option",{value:"CRITICAL",children:"Critical"})]})]})]}),a.jsx(Ahe,{selected:m,onChange:p,options:T})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-slate-800",children:"Activity Feed"}),a.jsxs("span",{className:"ml-2 text-sm text-slate-400",children:[k.length," activities"]})]})}),a.jsx("div",{className:"overflow-x-auto max-h-[600px] overflow-y-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50/80 text-slate-600 sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-4 font-semibold",children:"Time"}),a.jsx("th",{className:"text-left p-4 font-semibold",children:"User"}),a.jsx("th",{className:"text-left p-4 font-semibold",children:"Action"}),a.jsx("th",{className:"text-left p-4 font-semibold",children:"Details"}),a.jsx("th",{className:"text-left p-4 font-semibold",children:"Terminal"}),a.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"})]})}),a.jsx("tbody",{children:k.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:[a.jsx(Tc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No activities found matching your criteria"]})}):k.map(M=>a.jsx(She,{activity:M,onExpand:()=>{}},M.id||M.activityId))})]})})]})]})}function Ehe({data:e,color:t="#10b981"}){const r=Math.max(...e.map(c=>c.value||c),1),n=80,s=24,i=e.map((c,u)=>{const d=typeof c=="number"?c:c.value||c.sales||0,f=u/(e.length-1)*n,m=s-Number(d)/r*s;return`${f},${m}`}).join(" ");return a.jsx("svg",{viewBox:`0 0 ${n} ${s}`,className:"w-20 h-6",preserveAspectRatio:"none",children:a.jsx("polyline",{fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",points:i})})}function Wx({title:e,value:t,icon:r,color:n,trend:s,trendValue:i,sparkData:c}){const u={emerald:{bg:"bg-emerald-50",text:"text-emerald-600",border:"border-emerald-100"},blue:{bg:"bg-blue-50",text:"text-blue-600",border:"border-blue-100"},purple:{bg:"bg-purple-50",text:"text-purple-600",border:"border-purple-100"},amber:{bg:"bg-amber-50",text:"text-amber-600",border:"border-amber-100"}},d=u[n]||u.blue;return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm hover:shadow-md transition-all duration-300",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl ${d.bg} ${d.border} border`,children:a.jsx(r,{size:20,className:d.text})}),s&&a.jsxs("div",{className:`flex items-center gap-1 text-xs font-bold px-2 py-1 rounded-full ${s==="up"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:[s==="up"?a.jsx(Gc,{size:12}):a.jsx(Zd,{size:12}),i,"%"]})]}),a.jsx("div",{className:"text-2xl font-bold text-slate-800 mb-1",children:t}),a.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2",children:e}),c&&c.length>0&&a.jsx(Ehe,{data:c,color:s==="up"?"#10b981":"#f59e0b"})]})}function khe({data:e}){const t=Math.max(...e.map(r=>Number(r.sales)||0),1);return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(ks,{size:18,className:"text-blue-500"}),"Sales by Hour"]}),a.jsx("div",{className:"flex items-end gap-1 h-40",children:e.map((r,n)=>{const s=Number(r.sales)||0,i=s/t*100,c=new Date().getHours()===parseInt(r.hour);return a.jsxs("div",{className:"flex-1 flex flex-col items-center group",children:[a.jsx("div",{className:"relative w-full flex justify-center mb-1",children:a.jsx("div",{className:`w-full max-w-[20px] rounded-t transition-all duration-300 cursor-pointer group-hover:opacity-80 ${c?"bg-gradient-to-t from-blue-600 to-blue-400":"bg-gradient-to-t from-slate-300 to-slate-200"}`,style:{height:`${Math.max(i,2)}%`},title:`${r.hour}: LKR ${s.toLocaleString()}`})}),n%3===0&&a.jsx("span",{className:"text-[10px] text-slate-400 mt-1",children:r.hour?.split(":")[0]})]},n)})})]})}function Ohe({data:e}){const t=e.reduce((i,c)=>i+Number(c.amount||0),0),r={CASH:{icon:ei,color:"#10b981",label:"Cash"},CARD:{icon:Wl,color:"#3b82f6",label:"Card"},QR:{icon:ey,color:"#8b5cf6",label:"QR"},OTHER:{icon:Ei,color:"#f59e0b",label:"Other"}};let n=0;const s=e.map(i=>{const c=t>0?Number(i.amount||0)/t*100:0,u=n;return n+=c,{...i,percentage:c,start:u,end:n}});return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(Ei,{size:18,className:"text-emerald-500"}),"Payment Methods"]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative w-32 h-32",children:[a.jsx("svg",{viewBox:"0 0 36 36",className:"w-full h-full -rotate-90",children:s.map((i,c)=>{const u=r[i.method]||r.OTHER;return a.jsx("circle",{cx:"18",cy:"18",r:"15.9",fill:"none",stroke:u.color,strokeWidth:"3",strokeDasharray:`${i.percentage} ${100-i.percentage}`,strokeDashoffset:-i.start,className:"transition-all duration-500"},c)})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-lg font-bold text-slate-800",children:e.length}),a.jsx("div",{className:"text-xs text-slate-400",children:"Types"})]})})]}),a.jsxs("div",{className:"flex-1 space-y-2",children:[e.map((i,c)=>{const u=r[i.method]||r.OTHER,d=u.icon;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:u.color}}),a.jsx(d,{size:14,className:"text-slate-400"}),a.jsx("span",{className:"text-sm text-slate-600 flex-1",children:u.label}),a.jsxs("span",{className:"text-sm font-bold text-slate-800",children:["LKR ",Number(i.amount||0).toLocaleString()]}),a.jsxs("span",{className:"text-xs text-slate-400",children:["(",i.percentage?.toFixed(1)||0,"%)"]})]},c)}),e.length===0&&a.jsx("div",{className:"text-sm text-slate-400 text-center py-4",children:"No payment data"})]})]})]})}function Phe({data:e}){return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(Tc,{size:18,className:"text-purple-500"}),"Recent Transactions"]}),a.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto",children:e.length===0?a.jsx("div",{className:"text-center py-8 text-slate-400",children:"No recent transactions"}):e.map((t,r)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-slate-50 hover:bg-slate-100 transition-colors",children:[a.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${t.type==="RETURN"?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:t.type==="RETURN"?a.jsx(Zd,{size:18}):a.jsx(Gc,{size:18})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-slate-800",children:t.invoiceNo}),a.jsxs("div",{className:"text-xs text-slate-400",children:[t.cashier,"  ",t.itemCount," items"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-sm font-bold ${t.type==="RETURN"?"text-red-600":"text-slate-800"}`,children:[t.type==="RETURN"?"-":"","LKR ",Number(t.amount||0).toLocaleString()]}),a.jsx("div",{className:"text-xs text-slate-400",children:t.time})]})]},r))})]})}function Lhe({data:e}){return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm",children:[a.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(Ln,{size:18,className:"text-amber-500"}),"Top Selling Products"]}),a.jsx("div",{className:"space-y-3",children:e.length===0?a.jsx("div",{className:"text-center py-8 text-slate-400",children:"No product data"}):e.map((t,r)=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center text-amber-700 font-bold text-sm",children:r+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-slate-800",children:t.name}),a.jsx("div",{className:"text-xs text-slate-400",children:t.sku})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-bold text-slate-800",children:[t.units," units"]}),a.jsx("div",{className:"text-xs text-emerald-600",children:t.revenue})]})]},r))})]})}function The(){const[e,t]=v.useState(null),[r,n]=v.useState([]),[s,i]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState("daily"),m=async()=>{try{u(!0);const[y,N]=await Promise.all([nG(d),hP(5)]);t(y),n(N||[])}catch(y){console.error("Failed to load sales data",y)}finally{i(!1),u(!1)}};v.useEffect(()=>{m();const y=setInterval(m,3e4);return()=>clearInterval(y)},[d]);const p=()=>{if(!e)return;const y=[];y.push(" SMART RETAIL PRO - SALES DASHBOARD"),y.push("=".repeat(60)),y.push(` Generated: ${new Date().toLocaleString()}`),y.push(` Period: ${d.toUpperCase()}`),y.push("=".repeat(60)),y.push(""),y.push("KEY METRICS:"),y.push(`Today's Revenue: LKR ${Number(e.todaySales||0).toLocaleString()}`),y.push(`Transactions: ${e.todayTransactions||0}`),y.push(`Avg Transaction: LKR ${Number(e.avgTransactionValue||0).toLocaleString()}`),y.push(`Customers Served: ${e.customersServed||0}`),y.push(`Growth: ${e.growthPercentage?.toFixed(1)||0}%`),y.push(""),y.push("PAYMENT BREAKDOWN:"),(e.paymentBreakdown||[]).forEach(E=>{y.push(`${E.method}: LKR ${Number(E.amount||0).toLocaleString()} (${E.count} transactions)`)});const N="\uFEFF"+y.join(`
`),j=new Blob([N],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(j),_=document.createElement("a");_.href=S,_.download=`sales-dashboard-${new Date().toISOString().split("T")[0]}.csv`,_.click(),URL.revokeObjectURL(S)};if(s)return a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Sa,{className:"w-10 h-10 text-blue-500 animate-spin mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500",children:"Loading sales data..."})]})});const g=e?.dailyTrend||[],b=(e?.growthPercentage||0)>=0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(oo,{className:"w-6 h-6 text-emerald-600"}),"Sales Dashboard"]}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Real-time sales analytics and performance metrics"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex bg-slate-100 rounded-xl p-1",children:["daily","weekly","monthly"].map(y=>a.jsx("button",{onClick:()=>f(y),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${d===y?"bg-white text-slate-800 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),a.jsx("button",{onClick:m,disabled:c,className:`p-2.5 rounded-xl border border-slate-200 hover:bg-slate-50 text-slate-500 transition-all ${c?"animate-spin":""}`,children:a.jsx(Sa,{size:18})}),a.jsxs("button",{onClick:p,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-800 hover:bg-slate-900 text-white rounded-xl text-sm font-medium transition-colors",children:[a.jsx(Yl,{size:16}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Wx,{title:"Today's Revenue",value:`LKR ${Number(e?.todaySales||0).toLocaleString()}`,icon:Ei,color:"emerald",trend:b?"up":"down",trendValue:Math.abs(e?.growthPercentage||0).toFixed(1),sparkData:g}),a.jsx(Wx,{title:"Transactions",value:e?.todayTransactions||0,icon:oo,color:"blue",trend:b?"up":"down",trendValue:Math.abs(e?.growthPercentage||0).toFixed(1)}),a.jsx(Wx,{title:"Avg Transaction",value:`LKR ${Number(e?.avgTransactionValue||0).toLocaleString()}`,icon:co,color:"purple"}),a.jsx(Wx,{title:"Customers Served",value:e?.customersServed||0,icon:nf,color:"amber"})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsx(khe,{data:e?.hourlySales||[]}),a.jsx(Ohe,{data:e?.paymentBreakdown||[]})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsx(Phe,{data:e?.recentTransactions||[]}),a.jsx(Lhe,{data:r})]})]})}function Yx({title:e,current:t,previous:r,prefix:n="",isCurrency:s=!1}){const i=Number(t)||0,c=Number(r)||0,u=c!==0?(i-c)/c*100:0,d=u>=0,f=m=>s?`${n}${m.toLocaleString()}`:`${n}${m.toLocaleString()}`;return a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:[a.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wide mb-2",children:e}),a.jsxs("div",{className:"flex items-end justify-between",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:f(i)}),a.jsxs("div",{className:`flex items-center gap-1 text-sm font-bold ${d?"text-emerald-600":"text-red-600"}`,children:[d?a.jsx(co,{size:14}):a.jsx(CN,{size:14}),Math.abs(u).toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:["vs previous: ",f(c)]})]})}function Rhe({report:e,isExpanded:t,onToggle:r}){const n=e.profitMargin>=30?"text-emerald-600":e.profitMargin>=20?"text-blue-600":e.profitMargin>=10?"text-amber-600":"text-red-600";return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer transition-colors border-t border-slate-100",onClick:r,children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[t?a.jsx(E8,{size:16,className:"text-slate-400"}):a.jsx(Rl,{size:16,className:"text-slate-400"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-slate-800",children:e.date}),a.jsx("div",{className:"text-xs text-slate-400",children:e.dayName})]})]})}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:"px-2.5 py-1 bg-blue-50 text-blue-700 rounded-full text-sm font-medium",children:e.invoices})}),a.jsxs("td",{className:"p-4 text-right font-bold text-slate-800",children:["LKR ",Number(e.revenue||0).toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right text-slate-600",children:["LKR ",Number(e.cost||0).toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-bold text-emerald-600",children:["LKR ",Number(e.profit||0).toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("span",{className:`font-bold ${n}`,children:[e.profitMargin?.toFixed(1)||0,"%"]})})]}),t&&a.jsx("tr",{className:"bg-slate-50",children:a.jsx("td",{colSpan:6,className:"p-4",children:a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 mb-1",children:[a.jsx(ei,{size:14}),a.jsx("span",{className:"text-xs font-medium uppercase",children:"Cash Sales"})]}),a.jsxs("div",{className:"text-lg font-bold text-slate-800",children:["LKR ",Number(e.cashSales||0).toLocaleString()]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:[a.jsx(Wl,{size:14}),a.jsx("span",{className:"text-xs font-medium uppercase",children:"Card Sales"})]}),a.jsxs("div",{className:"text-lg font-bold text-slate-800",children:["LKR ",Number(e.cardSales||0).toLocaleString()]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-1",children:[a.jsx(Zd,{size:14}),a.jsx("span",{className:"text-xs font-medium uppercase",children:"Returns"})]}),a.jsxs("div",{className:"text-lg font-bold text-slate-800",children:["LKR ",Number(e.returns||0).toLocaleString()]})]}),a.jsxs("div",{className:"bg-white rounded-lg p-3 border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2 text-purple-600 mb-1",children:[a.jsx(Ei,{size:14}),a.jsx("span",{className:"text-xs font-medium uppercase",children:"Avg Basket"})]}),a.jsxs("div",{className:"text-lg font-bold text-slate-800",children:["LKR ",Number(e.avgBasket||0).toLocaleString()]})]})]})})})]})}function Dhe({terminal:e}){return a.jsxs("tr",{className:"hover:bg-slate-50 border-t border-slate-100 transition-colors",children:[a.jsx("td",{className:"p-4 font-bold text-slate-700",children:e.name}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:"bg-slate-100 text-slate-700 px-2 py-1 rounded-lg text-xs font-mono",children:e.code})}),a.jsx("td",{className:"p-4 text-center font-bold text-slate-800",children:e.transactionCount}),a.jsxs("td",{className:"p-4 text-right font-bold text-slate-800",children:["LKR ",e.revenue.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right text-slate-600",children:["LKR ",e.cashSales.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right text-slate-600",children:["LKR ",e.cardSales.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right text-emerald-600 font-bold",children:[(e.revenue/(e.totalRevenue||1)*100).toFixed(1),"%"]})]})}function Ihe(){const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(""),[m,p]=v.useState(new Set),[g,b]=v.useState("daily"),[y,N]=v.useState(()=>{const R=new Date;return R.setDate(R.getDate()-7),R.toISOString().split("T")[0]}),[j,S]=v.useState(()=>new Date().toISOString().split("T")[0]),_=async()=>{try{if(u(!0),i(!0),g==="terminals"){const R=await sG({startDate:y,endDate:j});n(Array.isArray(R)?R:[])}else{const R=await aG({startDate:y,endDate:j});Array.isArray(R)&&R.length>0?t(R):t([])}}catch(R){console.error("Failed to load sales reports",R)}finally{i(!1),u(!1)}};v.useEffect(()=>{_()},[y,j,g]);const E=v.useMemo(()=>d?e.filter(R=>R.date?.toLowerCase().includes(d.toLowerCase())||R.dayName?.toLowerCase().includes(d.toLowerCase())):e,[e,d]),k=v.useMemo(()=>E.length===0?null:{invoices:E.reduce((R,B)=>R+(B.invoices||0),0),revenue:E.reduce((R,B)=>R+Number(B.revenue||0),0),cost:E.reduce((R,B)=>R+Number(B.cost||0),0),profit:E.reduce((R,B)=>R+Number(B.profit||0),0),cashSales:E.reduce((R,B)=>R+Number(B.cashSales||0),0),cardSales:E.reduce((R,B)=>R+Number(B.cardSales||0),0),returns:E.reduce((R,B)=>R+Number(B.returns||0),0)},[E]),T=v.useMemo(()=>{if(!k||E.length===0)return null;const R=k.revenue*.92,B=k.invoices-Math.floor(k.invoices*.05),K=k.cost*.93,U=k.profit*.88;return{currentRevenue:k.revenue,previousRevenue:R,currentTransactions:k.invoices,previousTransactions:B,currentCost:k.cost,previousCost:K,currentProfit:k.profit,previousProfit:U}},[k,E]),D=R=>{p(B=>{const K=new Set(B);return K.has(R)?K.delete(R):K.add(R),K})},M=()=>{const R=[];R.push(" SMART RETAIL PRO - SALES REPORTS"),R.push("=".repeat(80)),R.push(` Period: ${y} to ${j}`),R.push(` Generated: ${new Date().toLocaleString()}`),R.push("=".repeat(80)),R.push(""),g==="terminals"?(R.push("Terminal,Code,Transactions,Revenue,Cash Sales,Card Sales,Share %"),r.forEach(X=>{R.push([X.name,X.code,X.transactionCount,X.revenue,X.cashSales,X.cardSales,(X.revenue/X.totalRevenue*100).toFixed(1)].join(","))})):(R.push("Date,Day,Invoices,Revenue,Cost,Profit,Cash,Card,Returns,Avg Basket,Margin %"),E.forEach(X=>{R.push([X.date,X.dayName,X.invoices,Number(X.revenue||0).toFixed(2),Number(X.cost||0).toFixed(2),Number(X.profit||0).toFixed(2),Number(X.cashSales||0).toFixed(2),Number(X.cardSales||0).toFixed(2),Number(X.returns||0).toFixed(2),Number(X.avgBasket||0).toFixed(2),(X.profitMargin||0).toFixed(1)].join(","))}),k&&(R.push(""),R.push(`TOTALS,--,${k.invoices},${k.revenue.toFixed(2)},${k.cost.toFixed(2)},${k.profit.toFixed(2)},${k.cashSales.toFixed(2)},${k.cardSales.toFixed(2)},${k.returns.toFixed(2)},--,--`)));const B="\uFEFF"+R.join(`
`),K=new Blob([B],{type:"text/csv;charset=utf-8;"}),U=URL.createObjectURL(K),F=document.createElement("a");F.href=U,F.download=`sales-report-${g}-${y}-to-${j}.csv`,F.click(),URL.revokeObjectURL(U)};return s?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Sa,{className:"w-10 h-10 text-blue-500 animate-spin mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500",children:"Loading sales reports..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Jd,{className:"w-6 h-6 text-blue-600"}),"Sales Reports"]}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Detailed sales analytics and performance tracking"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:_,disabled:c,className:`p-2.5 rounded-xl border border-slate-200 hover:bg-slate-50 text-slate-500 transition-all ${c?"animate-spin":""}`,children:a.jsx(Sa,{size:18})}),a.jsx("button",{onClick:()=>window.print(),className:"p-2.5 rounded-xl border border-slate-200 hover:bg-slate-50 text-slate-500 transition-all",children:a.jsx(tf,{size:18})}),a.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-800 hover:bg-slate-900 text-white rounded-xl text-sm font-medium transition-colors",children:[a.jsx(Yl,{size:16}),"Export CSV"]})]})]}),a.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 p-4 shadow-sm",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kc,{size:16,className:"text-slate-400"}),a.jsx("span",{className:"text-sm text-slate-600",children:"From:"}),a.jsx("input",{type:"date",value:y,onChange:R=>N(R.target.value),className:"px-3 py-2 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"To:"}),a.jsx("input",{type:"date",value:j,onChange:R=>S(R.target.value),className:"px-3 py-2 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Aa,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:d,onChange:R=>f(R.target.value),placeholder:"Search by date...",className:"pl-9 pr-4 py-2 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none w-48"})]})]})}),T&&a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Yx,{title:"Total Revenue",current:T.currentRevenue,previous:T.previousRevenue,prefix:"LKR ",isCurrency:!0}),a.jsx(Yx,{title:"Transactions",current:T.currentTransactions,previous:T.previousTransactions}),a.jsx(Yx,{title:"Total Cost",current:T.currentCost,previous:T.previousCost,prefix:"LKR ",isCurrency:!0}),a.jsx(Yx,{title:"Net Profit",current:T.currentProfit,previous:T.previousProfit,prefix:"LKR ",isCurrency:!0})]}),a.jsx("div",{className:"flex gap-2 border-b border-slate-200 pb-2",children:[{id:"daily",label:"Daily Summary"},{id:"terminals",label:"Terminal Performance"},{id:"products",label:"Product Performance"},{id:"cashiers",label:"Cashier Performance"}].map(R=>a.jsx("button",{onClick:()=>b(R.id),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${g===R.id?"bg-slate-800 text-white":"text-slate-500 hover:bg-slate-100"}`,children:R.label},R.id))}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-slate-800",children:g==="terminals"?"Terminal Performance":"Daily Sales Report"}),a.jsx("span",{className:"ml-2 text-sm text-slate-400",children:g==="terminals"?`${r.length} terminals`:`${E.length} days`})]}),k&&g==="daily"&&a.jsxs("div",{className:"text-sm text-slate-600",children:["Total Revenue: ",a.jsxs("span",{className:"font-bold text-emerald-600",children:["LKR ",k.revenue.toLocaleString()]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-600",children:a.jsx("tr",{children:g==="terminals"?a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"text-left p-4 font-semibold",children:"Terminal Name"}),a.jsx("th",{className:"text-center p-4 font-semibold",children:"Terminal Code"}),a.jsx("th",{className:"text-center p-4 font-semibold",children:"Transactions"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Total Revenue"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Cash Sales"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Card Sales"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Contribution"})]}):a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"text-left p-4 font-semibold",children:"Date"}),a.jsx("th",{className:"text-center p-4 font-semibold",children:"Invoices"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Revenue"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Cost"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Profit"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Margin"})]})})}),a.jsx("tbody",{children:g==="terminals"?r.map(R=>a.jsx(Dhe,{terminal:R},R.id)):E.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:[a.jsx(Xo,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No sales data for the selected period"]})}):a.jsxs(a.Fragment,{children:[E.map(R=>a.jsx(Rhe,{report:R,isExpanded:m.has(R.date),onToggle:()=>D(R.date)},R.date)),k&&a.jsxs("tr",{className:"bg-slate-100 font-bold border-t-2 border-slate-300",children:[a.jsx("td",{className:"p-4 text-slate-800",children:"TOTAL"}),a.jsx("td",{className:"p-4 text-center text-slate-800",children:k.invoices}),a.jsxs("td",{className:"p-4 text-right text-slate-800",children:["LKR ",k.revenue.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right text-slate-600",children:["LKR ",k.cost.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right text-emerald-600",children:["LKR ",k.profit.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right text-slate-600",children:[k.revenue>0?(k.profit/k.revenue*100).toFixed(1):0,"%"]})]})]})})]})})]})]})}const uN={ASSET:{icon:Xb,color:"bg-blue-100 text-blue-700 border-blue-200",badgeColor:"bg-blue-500"},LIABILITY:{icon:Wl,color:"bg-red-100 text-red-700 border-red-200",badgeColor:"bg-red-500"},EQUITY:{icon:mF,color:"bg-purple-100 text-purple-700 border-purple-200",badgeColor:"bg-purple-500"},INCOME:{icon:co,color:"bg-emerald-100 text-emerald-700 border-emerald-200",badgeColor:"bg-emerald-500"},EXPENSE:{icon:CN,color:"bg-amber-100 text-amber-700 border-amber-200",badgeColor:"bg-amber-500"}};function _I({account:e,level:t=0,onEdit:r,onDelete:n,expandedIds:s,toggleExpand:i}){const c=uN[e.type]||uN.ASSET,u=c.icon,d=e.children&&e.children.length>0,f=s.has(e.accountId);return a.jsxs(a.Fragment,{children:[a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${t>0?"bg-slate-50/50":""}`,children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",style:{paddingLeft:`${t*24}px`},children:[d?a.jsx("button",{onClick:()=>i(e.accountId),className:"p-1 hover:bg-slate-200 rounded transition-colors",children:f?a.jsx(Rl,{size:14}):a.jsx(y0,{size:14})}):a.jsx("span",{className:"w-6"}),a.jsx("span",{className:"font-mono text-sm text-slate-600 bg-slate-100 px-2 py-0.5 rounded",children:e.code})]})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`p-1.5 rounded-lg ${c.color}`,children:a.jsx(u,{size:14})}),a.jsx("span",{className:"font-medium text-slate-800",children:e.name}),e.parentId&&a.jsx("span",{className:"text-xs text-slate-400",children:"Sub-account"})]})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${c.color} border`,children:e.type})}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("span",{className:`font-bold ${e.balance>=0?"text-slate-800":"text-red-600"}`,children:["LKR ",(e.balance||0).toLocaleString()]})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${e.isActive?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-500"}`,children:e.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>r(e),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:a.jsx(P8,{size:14})}),!d&&a.jsx("button",{onClick:()=>n(e),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(ni,{size:14})})]})})]}),d&&f&&e.children.map(m=>a.jsx(_I,{account:m,level:t+1,onEdit:r,onDelete:n,expandedIds:s,toggleExpand:i},m.accountId))]})}function Mhe({account:e,parentAccounts:t,onSave:r,onClose:n}){const[s,i]=v.useState({code:e?.code||"",name:e?.name||"",type:e?.type||"ASSET",parentId:e?.parentId||"",isActive:e?.isActive!==!1}),[c,u]=v.useState({}),d=()=>{const m={};return s.code.trim()||(m.code="Account code is required"),s.name.trim()||(m.name="Account name is required"),u(m),Object.keys(m).length===0},f=m=>{m.preventDefault(),d()&&r({...e,...s})};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg shadow-2xl",children:[a.jsx("div",{className:"p-6 border-b border-slate-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:e?"Edit Account":"New Account"}),a.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 rounded-lg",children:a.jsx(Qt,{size:20})})]})}),a.jsxs("form",{onSubmit:f,className:"p-6 space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Account Code *"}),a.jsx("input",{type:"text",value:s.code,onChange:m=>i(p=>({...p,code:m.target.value})),className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none ${c.code?"border-red-300":"border-slate-200"}`,placeholder:"e.g., 1000"}),c.code&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.code})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Account Type *"}),a.jsxs("select",{value:s.type,onChange:m=>i(p=>({...p,type:m.target.value})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"ASSET",children:"Asset"}),a.jsx("option",{value:"LIABILITY",children:"Liability"}),a.jsx("option",{value:"EQUITY",children:"Equity"}),a.jsx("option",{value:"INCOME",children:"Income"}),a.jsx("option",{value:"EXPENSE",children:"Expense"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Account Name *"}),a.jsx("input",{type:"text",value:s.name,onChange:m=>i(p=>({...p,name:m.target.value})),className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none ${c.name?"border-red-300":"border-slate-200"}`,placeholder:"e.g., Cash in Hand"}),c.name&&a.jsx("p",{className:"text-sm text-red-500 mt-1",children:c.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Parent Account (Optional)"}),a.jsxs("select",{value:s.parentId,onChange:m=>i(p=>({...p,parentId:m.target.value})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"-- No Parent (Top Level) --"}),t.filter(m=>m.type===s.type).map(m=>a.jsxs("option",{value:m.accountId,children:[m.code," - ",m.name]},m.accountId))]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",id:"isActive",checked:s.isActive,onChange:m=>i(p=>({...p,isActive:m.target.checked})),className:"w-4 h-4 text-blue-600 rounded border-slate-300"}),a.jsx("label",{htmlFor:"isActive",className:"text-sm text-slate-700",children:"Account is active"})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2.5 border border-slate-200 rounded-xl text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-slate-800 hover:bg-slate-900 text-white rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[a.jsx(SN,{size:16}),"Save Account"]})]})]})]})})}function Bhe({type:e,count:t,balance:r}){const n=uN[e],s=n?.icon||Xb;return a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-2.5 rounded-xl ${n?.color||"bg-slate-100"}`,children:a.jsx(s,{size:20})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm text-slate-500",children:e}),a.jsxs("div",{className:"text-lg font-bold text-slate-800",children:["LKR ",r.toLocaleString()]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:t}),a.jsx("div",{className:"text-xs text-slate-400",children:"accounts"})]})]})})}function zhe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(""),[c,u]=v.useState("ALL"),[d,f]=v.useState(new Set),[m,p]=v.useState(!1),[g,b]=v.useState(null),y=async()=>{try{n(!0);const R=await pP();R&&R.length>0?t(R):t(N())}catch(R){console.error("Error fetching accounts:",R),t(N())}finally{n(!1)}},N=()=>[{accountId:1,code:"1000",name:"Assets",type:"ASSET",isActive:!0,balance:15e5,children:[{accountId:11,code:"1100",name:"Cash & Bank",type:"ASSET",parentId:1,isActive:!0,balance:85e4,children:[{accountId:111,code:"1110",name:"Cash in Hand",type:"ASSET",parentId:11,isActive:!0,balance:15e4},{accountId:112,code:"1120",name:"Petty Cash",type:"ASSET",parentId:11,isActive:!0,balance:25e3},{accountId:113,code:"1130",name:"Bank - Commercial",type:"ASSET",parentId:11,isActive:!0,balance:675e3}]},{accountId:12,code:"1200",name:"Accounts Receivable",type:"ASSET",parentId:1,isActive:!0,balance:35e4},{accountId:13,code:"1300",name:"Inventory",type:"ASSET",parentId:1,isActive:!0,balance:3e5}]},{accountId:2,code:"2000",name:"Liabilities",type:"LIABILITY",isActive:!0,balance:45e4,children:[{accountId:21,code:"2100",name:"Accounts Payable",type:"LIABILITY",parentId:2,isActive:!0,balance:28e4},{accountId:22,code:"2200",name:"Supplier Payable",type:"LIABILITY",parentId:2,isActive:!0,balance:17e4}]},{accountId:3,code:"3000",name:"Equity",type:"EQUITY",isActive:!0,balance:5e5,children:[{accountId:31,code:"3100",name:"Owner's Capital",type:"EQUITY",parentId:3,isActive:!0,balance:4e5},{accountId:32,code:"3200",name:"Retained Earnings",type:"EQUITY",parentId:3,isActive:!0,balance:1e5}]},{accountId:4,code:"4000",name:"Income",type:"INCOME",isActive:!0,balance:25e5,children:[{accountId:41,code:"4100",name:"Sales Revenue",type:"INCOME",parentId:4,isActive:!0,balance:23e5},{accountId:42,code:"4200",name:"Other Income",type:"INCOME",parentId:4,isActive:!0,balance:2e5}]},{accountId:5,code:"5000",name:"Expenses",type:"EXPENSE",isActive:!0,balance:105e4,children:[{accountId:51,code:"5100",name:"Cost of Goods Sold",type:"EXPENSE",parentId:5,isActive:!0,balance:75e4},{accountId:52,code:"5200",name:"Operating Expenses",type:"EXPENSE",parentId:5,isActive:!0,balance:2e5},{accountId:53,code:"5300",name:"Salaries & Wages",type:"EXPENSE",parentId:5,isActive:!0,balance:1e5}]}];v.useEffect(()=>{y(),f(new Set([1,2,3,4,5]))},[]);const j=(R,B=[])=>(R.forEach(K=>{B.push(K),K.children&&j(K.children,B)}),B),{filteredAccounts:S,typeSummary:_,flatList:E}=v.useMemo(()=>{const R=j(e),B=s.toLowerCase(),K=X=>{const Q=!B||X.code.toLowerCase().includes(B)||X.name.toLowerCase().includes(B),pe=c==="ALL"||X.type===c;return Q&&pe},U=X=>X.filter(Q=>{if(K(Q))return!0;if(Q.children){const pe=U(Q.children);if(pe.length>0)return Q.children=pe,!0}return!1}),F={};return["ASSET","LIABILITY","EQUITY","INCOME","EXPENSE"].forEach(X=>{const Q=R.filter(pe=>pe.type===X);F[X]={count:Q.length,balance:Q.reduce((pe,re)=>pe+(re.balance||0),0)}}),{filteredAccounts:U(JSON.parse(JSON.stringify(e))),typeSummary:F,flatList:R}},[e,s,c]),k=R=>{f(B=>{const K=new Set(B);return K.has(R)?K.delete(R):K.add(R),K})},T=R=>{b(R),p(!0)},D=R=>{window.confirm(`Are you sure you want to delete "${R.name}"?`)&&console.log("Deleting account:",R)},M=R=>{console.log("Saving account:",R),p(!1),b(null),y()};return r?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Sa,{className:"w-10 h-10 text-blue-500 animate-spin mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500",children:"Loading chart of accounts..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Dz,{className:"w-6 h-6 text-blue-600"}),"Chart of Accounts"]}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Manage your accounting structure and track balances"})]}),a.jsxs("button",{onClick:()=>{b(null),p(!0)},className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors shadow-lg shadow-blue-500/25",children:[a.jsx(Oi,{size:18}),"Add Account"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:Object.entries(_).map(([R,B])=>a.jsx(Bhe,{type:R,count:B.count,balance:B.balance},R))}),a.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 p-4 shadow-sm",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Aa,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:s,onChange:R=>i(R.target.value),placeholder:"Search by code or name...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("select",{value:c,onChange:R=>u(R.target.value),className:"px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"ALL",children:"All Types"}),a.jsx("option",{value:"ASSET",children:"Assets"}),a.jsx("option",{value:"LIABILITY",children:"Liabilities"}),a.jsx("option",{value:"EQUITY",children:"Equity"}),a.jsx("option",{value:"INCOME",children:"Income"}),a.jsx("option",{value:"EXPENSE",children:"Expenses"})]}),a.jsx("button",{onClick:()=>f(new Set(E.map(R=>R.accountId))),className:"px-4 py-2.5 border border-slate-200 rounded-xl text-sm hover:bg-slate-50 transition-colors",children:"Expand All"}),a.jsx("button",{onClick:()=>f(new Set),className:"px-4 py-2.5 border border-slate-200 rounded-xl text-sm hover:bg-slate-50 transition-colors",children:"Collapse All"})]})]})}),a.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50/80 text-slate-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-4 font-semibold w-40",children:"Code"}),a.jsx("th",{className:"text-left p-4 font-semibold",children:"Account Name"}),a.jsx("th",{className:"text-left p-4 font-semibold w-32",children:"Type"}),a.jsx("th",{className:"text-right p-4 font-semibold w-40",children:"Balance"}),a.jsx("th",{className:"text-left p-4 font-semibold w-24",children:"Status"}),a.jsx("th",{className:"text-right p-4 font-semibold w-24",children:"Actions"})]})}),a.jsx("tbody",{children:S.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:[a.jsx(Cs,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No accounts found"]})}):S.map(R=>a.jsx(_I,{account:R,level:0,onEdit:T,onDelete:D,expandedIds:d,toggleExpand:k},R.accountId))})]})})}),m&&a.jsx(Mhe,{account:g,parentAccounts:E.filter(R=>!R.parentId),onSave:M,onClose:()=>{p(!1),b(null)}})]})}function Fhe({status:e}){const t={DRAFT:"bg-slate-100 text-slate-700 border-slate-200",PENDING:"bg-amber-100 text-amber-700 border-amber-200",POSTED:"bg-emerald-100 text-emerald-700 border-emerald-200",VOID:"bg-red-100 text-red-700 border-red-200"};return a.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold border ${t[e]||t.DRAFT}`,children:e})}function Uhe({line:e,index:t,accounts:r,onUpdate:n,onRemove:s,canEdit:i}){return r.find(c=>c.code===e.accountCode),a.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"text-sm text-slate-400 font-mono",children:t+1})}),a.jsx("td",{className:"p-3",children:i?a.jsxs("select",{value:e.accountCode,onChange:c=>{const u=r.find(d=>d.code===c.target.value);n(t,{accountCode:c.target.value,accountName:u?.name||""})},className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"",children:"Select Account"}),r.map(c=>a.jsxs("option",{value:c.code,children:[c.code," - ",c.name]},c.code))]}):a.jsxs("div",{children:[a.jsx("span",{className:"font-mono text-xs text-slate-500",children:e.accountCode}),a.jsx("span",{className:"ml-2 text-sm text-slate-700",children:e.accountName})]})}),a.jsx("td",{className:"p-3",children:i?a.jsx("input",{type:"text",value:e.description,onChange:c=>n(t,{description:c.target.value}),placeholder:"Line description",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"}):a.jsx("span",{className:"text-sm text-slate-600",children:e.description||"-"})}),a.jsx("td",{className:"p-3",children:i?a.jsx("input",{type:"number",value:e.debit||"",onChange:c=>n(t,{debit:parseFloat(c.target.value)||0,credit:0}),placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm text-right focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"}):a.jsx("span",{className:`text-sm text-right block ${e.debit>0?"font-bold text-slate-800":"text-slate-400"}`,children:e.debit>0?`LKR ${e.debit.toLocaleString()}`:"-"})}),a.jsx("td",{className:"p-3",children:i?a.jsx("input",{type:"number",value:e.credit||"",onChange:c=>n(t,{credit:parseFloat(c.target.value)||0,debit:0}),placeholder:"0.00",className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm text-right focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"}):a.jsx("span",{className:`text-sm text-right block ${e.credit>0?"font-bold text-slate-800":"text-slate-400"}`,children:e.credit>0?`LKR ${e.credit.toLocaleString()}`:"-"})}),a.jsx("td",{className:"p-3",children:i&&a.jsx("button",{onClick:()=>s(t),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(ni,{size:14})})})]})}function qhe({accounts:e,onSave:t,onCancel:r}){const[n,s]=v.useState({date:new Date().toISOString().split("T")[0],reference:"",memo:"",transactionType:"GENERAL",lines:[{accountCode:"",accountName:"",description:"",debit:0,credit:0},{accountCode:"",accountName:"",description:"",debit:0,credit:0}]}),[i,c]=v.useState({}),[u,d]=v.useState(!1),f=v.useMemo(()=>{const N=n.lines.reduce((S,_)=>S+(_.debit||0),0),j=n.lines.reduce((S,_)=>S+(_.credit||0),0);return{debit:N,credit:j,balanced:Math.abs(N-j)<.01}},[n.lines]),m=(N,j)=>{s(S=>({...S,lines:S.lines.map((_,E)=>E===N?{..._,...j}:_)}))},p=()=>{s(N=>({...N,lines:[...N.lines,{accountCode:"",accountName:"",description:"",debit:0,credit:0}]}))},g=N=>{n.lines.length>2&&s(j=>({...j,lines:j.lines.filter((S,_)=>_!==N)}))},b=()=>{const N={};return n.date||(N.date="Date is required"),n.memo||(N.memo="Description is required"),f.balanced||(N.balance="Debits must equal Credits"),f.debit===0&&(N.amount="Entry must have amounts"),n.lines.filter(S=>(S.debit>0||S.credit>0)&&!S.accountCode).length>0&&(N.lines="All lines with amounts must have an account"),c(N),Object.keys(N).length===0},y=async(N="DRAFT")=>{if(b()){d(!0);try{await t({...n,status:N,lines:n.lines.filter(j=>j.accountCode&&(j.debit>0||j.credit>0))})}catch(j){console.error("Error saving journal entry:",j),c({submit:"Failed to save journal entry"})}finally{d(!1)}}};return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-lg overflow-hidden",children:[a.jsx("div",{className:"p-5 border-b border-slate-100 bg-gradient-to-r from-slate-50 to-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"New Journal Entry"}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Create a new accounting entry"})]}),a.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-500",children:a.jsx(Qt,{size:20})})]})}),a.jsxs("div",{className:"p-5 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date *"}),a.jsx("input",{type:"date",value:n.date,onChange:N=>s(j=>({...j,date:N.target.value})),className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none ${i.date?"border-red-300":"border-slate-200"}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Transaction Type"}),a.jsxs("select",{value:n.transactionType,onChange:N=>s(j=>({...j,transactionType:N.target.value})),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"GENERAL",children:"General Entry"}),a.jsx("option",{value:"SALE",children:"Sales Entry"}),a.jsx("option",{value:"PURCHASE",children:"Purchase Entry"}),a.jsx("option",{value:"PAYMENT",children:"Payment Entry"}),a.jsx("option",{value:"RECEIPT",children:"Receipt Entry"}),a.jsx("option",{value:"ADJUSTMENT",children:"Adjustment Entry"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Reference No"}),a.jsx("input",{type:"text",value:n.reference,onChange:N=>s(j=>({...j,reference:N.target.value})),placeholder:"e.g., INV-001",className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Description *"}),a.jsx("input",{type:"text",value:n.memo,onChange:N=>s(j=>({...j,memo:N.target.value})),placeholder:"Entry description",className:`w-full px-4 py-2.5 border rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none ${i.memo?"border-red-300":"border-slate-200"}`})]})]}),a.jsxs("div",{className:"border border-slate-200 rounded-xl overflow-hidden",children:[a.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex items-center justify-between",children:[a.jsx("span",{className:"font-semibold text-slate-700",children:"Journal Lines"}),a.jsxs("button",{onClick:p,className:"flex items-center gap-1 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[a.jsx(Oi,{size:14}),"Add Line"]})]}),a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50/50",children:a.jsxs("tr",{className:"text-slate-600",children:[a.jsx("th",{className:"p-3 text-left w-12",children:"#"}),a.jsx("th",{className:"p-3 text-left",children:"Account"}),a.jsx("th",{className:"p-3 text-left",children:"Description"}),a.jsx("th",{className:"p-3 text-right w-36",children:"Debit"}),a.jsx("th",{className:"p-3 text-right w-36",children:"Credit"}),a.jsx("th",{className:"p-3 w-12"})]})}),a.jsxs("tbody",{children:[n.lines.map((N,j)=>a.jsx(Uhe,{line:N,index:j,accounts:e,onUpdate:m,onRemove:g,canEdit:!0},j)),a.jsxs("tr",{className:"bg-slate-100 border-t-2 border-slate-300",children:[a.jsx("td",{colSpan:3,className:"p-3 text-right font-bold text-slate-700",children:"TOTALS"}),a.jsxs("td",{className:"p-3 text-right font-bold text-slate-800",children:["LKR ",f.debit.toLocaleString()]}),a.jsxs("td",{className:"p-3 text-right font-bold text-slate-800",children:["LKR ",f.credit.toLocaleString()]}),a.jsx("td",{className:"p-3",children:f.balanced?a.jsx(kg,{size:18,className:"text-emerald-600"}):a.jsx(Cs,{size:18,className:"text-red-500"})})]})]})]})]}),!f.balanced&&f.debit>0&&a.jsxs("div",{className:"flex items-center gap-2 p-4 bg-amber-50 border border-amber-200 rounded-xl text-amber-700",children:[a.jsx(Cs,{size:18}),a.jsxs("span",{className:"text-sm font-medium",children:["Entry is unbalanced. Difference: LKR ",Math.abs(f.debit-f.credit).toLocaleString()]})]}),Object.keys(i).length>0&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-medium mb-2",children:[a.jsx(Cs,{size:18}),"Please fix the following errors:"]}),a.jsx("ul",{className:"list-disc list-inside text-sm text-red-600",children:Object.values(i).map((N,j)=>a.jsx("li",{children:N},j))})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[a.jsx("button",{onClick:r,className:"px-4 py-2.5 border border-slate-200 rounded-xl text-slate-700 font-medium hover:bg-slate-50 transition-colors",children:"Cancel"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:()=>y("DRAFT"),disabled:u,className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl text-slate-700 font-medium hover:bg-slate-50 transition-colors disabled:opacity-50",children:[a.jsx(SN,{size:16}),"Save as Draft"]}),a.jsxs("button",{onClick:()=>y("POSTED"),disabled:u||!f.balanced,className:"flex items-center gap-2 px-6 py-2.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(kg,{size:16}),u?"Posting...":"Post Entry"]})]})]})]})]})}function $he({entry:e,onView:t,onEdit:r,onDuplicate:n}){return a.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"font-mono text-sm text-slate-800",children:e.journalNo})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kc,{size:14,className:"text-slate-400"}),a.jsx("span",{className:"text-sm text-slate-700",children:e.date})]})}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2 py-1 bg-slate-100 text-slate-600 rounded text-xs font-medium",children:e.transactionType})}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:"max-w-xs truncate text-sm text-slate-700",children:e.memo}),e.reference&&a.jsxs("div",{className:"text-xs text-slate-400",children:["Ref: ",e.reference]})]}),a.jsxs("td",{className:"p-4 text-right font-bold text-slate-800",children:["LKR ",e.totalDebit?.toLocaleString()||0]}),a.jsx("td",{className:"p-4",children:a.jsx(Fhe,{status:e.status})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx("button",{onClick:()=>t(e),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View",children:a.jsx(Zb,{size:14})}),e.status==="DRAFT"&&a.jsx("button",{onClick:()=>r(e),className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Edit",children:a.jsx(P8,{size:14})}),a.jsx("button",{onClick:()=>n(e),className:"p-2 text-slate-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Duplicate",children:a.jsx(wz,{size:14})})]})})]})}function Hhe(){const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(""),[m,p]=v.useState("ALL"),[g,b]=v.useState({from:new Date(Date.now()-720*60*60*1e3).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]});v.useEffect(()=>{y()},[]);const y=async()=>{try{i(!0);const E=await pP(),k=[],T=D=>{D.forEach(M=>{k.push({code:M.code,name:M.name,type:M.type}),M.children&&T(M.children)})};E&&T(E),n(k.length>0?k:N()),t(j())}catch(E){console.error("Error fetching data:",E),n(N()),t(j())}finally{i(!1)}},N=()=>[{code:"1110",name:"Cash in Hand",type:"ASSET"},{code:"1120",name:"Petty Cash",type:"ASSET"},{code:"1130",name:"Bank - Commercial",type:"ASSET"},{code:"1200",name:"Accounts Receivable",type:"ASSET"},{code:"1300",name:"Inventory",type:"ASSET"},{code:"2100",name:"Accounts Payable",type:"LIABILITY"},{code:"2200",name:"Supplier Payable",type:"LIABILITY"},{code:"4100",name:"Sales Revenue",type:"INCOME"},{code:"4200",name:"Other Income",type:"INCOME"},{code:"5100",name:"Cost of Goods Sold",type:"EXPENSE"},{code:"5200",name:"Operating Expenses",type:"EXPENSE"},{code:"5300",name:"Salaries & Wages",type:"EXPENSE"}],j=()=>[{id:1,journalNo:"JE-2024-001",date:"2024-02-06",transactionType:"SALE",memo:"Daily sales posting",reference:"INV-0156",totalDebit:125e3,status:"POSTED"},{id:2,journalNo:"JE-2024-002",date:"2024-02-05",transactionType:"PURCHASE",memo:"Inventory purchase from supplier",reference:"GRN-0045",totalDebit:85e3,status:"POSTED"},{id:3,journalNo:"JE-2024-003",date:"2024-02-05",transactionType:"PAYMENT",memo:"Salary payment - January",reference:"PAY-0012",totalDebit:15e4,status:"POSTED"},{id:4,journalNo:"JE-2024-004",date:"2024-02-04",transactionType:"ADJUSTMENT",memo:"Stock adjustment - damaged goods",reference:"ADJ-003",totalDebit:12500,status:"DRAFT"},{id:5,journalNo:"JE-2024-005",date:"2024-02-04",transactionType:"GENERAL",memo:"Bank charges for February",totalDebit:2500,status:"PENDING"}],S=v.useMemo(()=>{const E=d.toLowerCase();return e.filter(k=>{const T=!E||k.journalNo?.toLowerCase().includes(E)||k.memo?.toLowerCase().includes(E)||k.reference?.toLowerCase().includes(E),D=m==="ALL"||k.status===m;return T&&D})},[e,d,m]),_=async E=>{console.log("Saving entry:",E),u(!1),y()};return s?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Sa,{className:"w-10 h-10 text-blue-500 animate-spin mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500",children:"Loading journal entries..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Xo,{className:"w-6 h-6 text-blue-600"}),"Journal Entries"]}),a.jsx("p",{className:"text-slate-500 mt-1",children:"Record and manage accounting transactions"})]}),!c&&a.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors shadow-lg shadow-blue-500/25",children:[a.jsx(Oi,{size:18}),"New Journal Entry"]})]}),c&&a.jsx(qhe,{accounts:r,onSave:_,onCancel:()=>u(!1)}),!c&&a.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 p-4 shadow-sm",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Aa,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),a.jsx("input",{type:"text",value:d,onChange:E=>f(E.target.value),placeholder:"Search by journal no, description, or reference...",className:"w-full pl-10 pr-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("select",{value:m,onChange:E=>p(E.target.value),className:"px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"ALL",children:"All Status"}),a.jsx("option",{value:"DRAFT",children:"Draft"}),a.jsx("option",{value:"PENDING",children:"Pending"}),a.jsx("option",{value:"POSTED",children:"Posted"}),a.jsx("option",{value:"VOID",children:"Void"})]}),a.jsx("button",{onClick:y,className:"p-2.5 border border-slate-200 rounded-xl hover:bg-slate-50 transition-colors",children:a.jsx(Sa,{size:18,className:"text-slate-500"})})]})]})}),!c&&a.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50/80 text-slate-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-4 font-semibold",children:"Journal No"}),a.jsx("th",{className:"text-left p-4 font-semibold",children:"Date"}),a.jsx("th",{className:"text-left p-4 font-semibold",children:"Type"}),a.jsx("th",{className:"text-left p-4 font-semibold",children:"Description"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Amount"}),a.jsx("th",{className:"text-left p-4 font-semibold",children:"Status"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Actions"})]})}),a.jsx("tbody",{children:S.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"p-12 text-center text-slate-400",children:[a.jsx(Xo,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"No journal entries found"]})}):S.map(E=>a.jsx($he,{entry:E,onView:()=>console.log("View:",E),onEdit:()=>console.log("Edit:",E),onDuplicate:()=>console.log("Duplicate:",E)},E.id))})]})})})]})}function Xx({title:e,value:t,subtitle:r,icon:n,trend:s,trendValue:i,color:c="blue"}){const u={blue:"from-blue-500 to-blue-600",emerald:"from-emerald-500 to-emerald-600",amber:"from-amber-500 to-amber-600",red:"from-red-500 to-red-600",purple:"from-purple-500 to-purple-600"};return a.jsxs("div",{className:`bg-gradient-to-br ${u[c]} rounded-2xl p-5 text-white relative overflow-hidden shadow-lg`,children:[a.jsx("div",{className:"absolute inset-0 opacity-10",children:a.jsx("div",{className:"absolute -right-8 -top-8 w-32 h-32 rounded-full bg-white/20"})}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"p-2 rounded-xl bg-white/20",children:a.jsx(n,{size:20})}),s&&a.jsxs("div",{className:`flex items-center gap-1 text-xs font-bold px-2 py-1 rounded-full ${s==="up"?"bg-emerald-400/30":"bg-red-400/30"}`,children:[s==="up"?a.jsx(Gc,{size:12}):a.jsx(Zd,{size:12}),i,"%"]})]}),a.jsx("div",{className:"text-2xl font-bold tracking-tight",children:t}),a.jsx("div",{className:"text-sm opacity-80 mt-1",children:e}),r&&a.jsx("div",{className:"text-xs opacity-60 mt-1",children:r})]})]})}function Ghe({expenses:e}){const t=e.reduce((n,s)=>n+s.amount,0)||1,r=["bg-blue-500","bg-emerald-500","bg-purple-500","bg-amber-500","bg-red-500","bg-cyan-500"];return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-bold text-slate-800",children:"Expense Breakdown"}),a.jsx(iz,{size:18,className:"text-slate-400"})]}),a.jsx("div",{className:"h-4 flex rounded-full overflow-hidden mb-4",children:e.map((n,s)=>a.jsx("div",{className:`${r[s%r.length]} transition-all`,style:{width:`${n.amount/t*100}%`},title:`${n.name}: LKR ${n.amount.toLocaleString()}`},s))}),a.jsx("div",{className:"space-y-2",children:e.slice(0,6).map((n,s)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${r[s%r.length]}`}),a.jsx("span",{className:"text-sm text-slate-600",children:n.name})]}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("span",{className:"font-semibold text-slate-800",children:["LKR ",n.amount.toLocaleString()]}),a.jsxs("span",{className:"text-slate-400 ml-2",children:["(",(n.amount/t*100).toFixed(1),"%)"]})]})]},s))})]})}function Khe({data:e}){const t=Math.max(...e.map(r=>Math.max(r.revenue,r.expenses)),1);return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-bold text-slate-800",children:"Monthly Comparison"}),a.jsx(az,{size:18,className:"text-slate-400"})]}),a.jsx("div",{className:"flex items-end gap-4 h-40",children:e.map((r,n)=>a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[a.jsxs("div",{className:"w-full flex gap-1 items-end justify-center h-32",children:[a.jsx("div",{className:"w-6 bg-gradient-to-t from-emerald-500 to-emerald-400 rounded-t",style:{height:`${r.revenue/t*100}%`},title:`Revenue: LKR ${r.revenue.toLocaleString()}`}),a.jsx("div",{className:"w-6 bg-gradient-to-t from-red-400 to-red-300 rounded-t",style:{height:`${r.expenses/t*100}%`},title:`Expenses: LKR ${r.expenses.toLocaleString()}`})]}),a.jsx("div",{className:"text-xs text-slate-500 font-medium",children:r.month})]},n))}),a.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 pt-4 border-t border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Revenue"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-400"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Expenses"})]})]})]})}function Vhe({margin:e}){const t=i=>i>=20?{bg:"bg-emerald-500",text:"text-emerald-700",status:"Excellent"}:i>=10?{bg:"bg-blue-500",text:"text-blue-700",status:"Good"}:i>=5?{bg:"bg-amber-500",text:"text-amber-700",status:"Fair"}:{bg:"bg-red-500",text:"text-red-700",status:"Needs Attention"},{bg:r,text:n,status:s}=t(e);return a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-bold text-slate-800",children:"Profit Margin"}),a.jsx(L8,{size:18,className:"text-slate-400"})]}),a.jsxs("div",{className:"relative pt-4",children:[a.jsx("div",{className:"h-4 bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${r} transition-all duration-1000`,style:{width:`${Math.min(e,100)}%`}})}),a.jsxs("div",{className:"absolute -top-1 left-0 right-0 flex justify-between text-xs text-slate-400",children:[a.jsx("span",{children:"0%"}),a.jsx("span",{children:"25%"}),a.jsx("span",{children:"50%"})]})]}),a.jsxs("div",{className:"mt-6 text-center",children:[a.jsxs("div",{className:"text-4xl font-bold text-slate-800",children:[e.toFixed(1),"%"]}),a.jsxs("div",{className:`text-sm font-medium ${n} mt-1`,children:[e>=0?a.jsx(Xr,{size:14,className:"inline mr-1"}):a.jsx(Cs,{size:14,className:"inline mr-1"}),s]})]})]})}function Whe(){const[e,t]=v.useState(null),[r,n]=v.useState(!0),[s,i]=v.useState("monthly"),[c,u]=v.useState(new Set),[d,f]=v.useState(!1),m=async()=>{try{n(!0);const y=await hG(s);t(y||p())}catch(y){console.error("Error fetching P&L:",y),t(p())}finally{n(!1)}},p=()=>({period:s==="monthly"?"February 2024":s==="quarterly"?"Q1 2024":s==="yearly"?"FY 2024":"Today",revenue:285e4,cogs:1852500,grossProfit:997500,expenses:[{id:1,name:"Salaries & Wages",amount:35e4,budget:4e5},{id:2,name:"Rent & Utilities",amount:12e4,budget:12e4},{id:3,name:"Marketing",amount:85e3,budget:1e5},{id:4,name:"Supplies & Materials",amount:45e3,budget:5e4},{id:5,name:"Insurance",amount:25e3,budget:25e3},{id:6,name:"Miscellaneous",amount:32500,budget:4e4}],previousRevenue:25e5,previousProfit:28e4,monthlyTrend:[{month:"Oct",revenue:21e5,expenses:185e4},{month:"Nov",revenue:23e5,expenses:195e4},{month:"Dec",revenue:265e4,expenses:21e5},{month:"Jan",revenue:25e5,expenses:205e4},{month:"Feb",revenue:285e4,expenses:251e4}]});v.useEffect(()=>{m()},[s]);const g=v.useMemo(()=>{if(!e)return null;const y=e.expenses?.reduce((D,M)=>D+M.amount,0)||0,N=e.grossProfit-y,j=N,S=e.revenue>0?e.grossProfit/e.revenue*100:0,_=e.revenue>0?j/e.revenue*100:0,E=e.previousRevenue>0?(e.revenue-e.previousRevenue)/e.previousRevenue*100:0,k=e.previousProfit>0?(j-e.previousProfit)/e.previousProfit*100:0,T=e.expenses?.map(D=>({...D,variance:D.budget>0?(D.budget-D.amount)/D.budget*100:0}))||[];return{totalExpenses:y,operatingProfit:N,netProfit:j,grossMargin:S,netMargin:_,revenueGrowth:E,profitGrowth:k,expensesWithVariance:T}},[e]),b=()=>{if(!e||!g)return;const y=[];y.push(" SMART RETAIL PRO - PROFIT & LOSS STATEMENT"),y.push("=".repeat(70)),y.push(` Generated: ${new Date().toLocaleString()}`),y.push(` Period: ${e.period}`),y.push("=".repeat(70)),y.push(""),y.push("INCOME"),y.push("-".repeat(70)),y.push(`Sales Revenue,LKR ${e.revenue.toLocaleString()}`),y.push(""),y.push("COST OF GOODS SOLD"),y.push("-".repeat(70)),y.push(`Cost of Goods Sold,LKR ${e.cogs.toLocaleString()}`),y.push(`GROSS PROFIT,LKR ${e.grossProfit.toLocaleString()}`),y.push(""),y.push("OPERATING EXPENSES"),y.push("-".repeat(70)),g.expensesWithVariance.forEach(E=>{y.push(`${E.name},LKR ${E.amount.toLocaleString()}`)}),y.push(`TOTAL EXPENSES,LKR ${g.totalExpenses.toLocaleString()}`),y.push(""),y.push("=".repeat(70)),y.push(`NET PROFIT,LKR ${g.netProfit.toLocaleString()}`),y.push(`Profit Margin,${g.netMargin.toFixed(1)}%`),y.push("=".repeat(70)),y.push(" End of Report");const N="\uFEFF"+y.join(`
`),j=new Blob([N],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(j),_=document.createElement("a");_.href=S,_.download=`profit-loss-${s}-${new Date().toISOString().split("T")[0]}.csv`,_.click(),URL.revokeObjectURL(S)};return r?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Sa,{className:"w-10 h-10 text-blue-500 animate-spin mx-auto mb-3"}),a.jsx("p",{className:"text-slate-500",children:"Loading P&L report..."})]})}):!e||!g?null:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(co,{className:"w-6 h-6 text-emerald-600"}),"Profit & Loss Statement"]}),a.jsxs("p",{className:"text-slate-500 mt-1",children:["Financial performance for ",a.jsx("span",{className:"font-medium text-slate-700",children:e.period})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("select",{value:s,onChange:y=>i(y.target.value),className:"px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none",children:[a.jsx("option",{value:"daily",children:"Daily"}),a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"quarterly",children:"Quarterly"}),a.jsx("option",{value:"yearly",children:"Yearly"})]}),a.jsxs("button",{onClick:()=>window.print(),className:"flex items-center gap-2 px-4 py-2.5 border border-slate-200 rounded-xl text-sm hover:bg-slate-50 transition-colors",children:[a.jsx(tf,{size:16}),"Print"]}),a.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2.5 bg-slate-800 hover:bg-slate-900 text-white rounded-xl text-sm font-medium transition-colors",children:[a.jsx(Yl,{size:16}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Xx,{title:"Total Revenue",value:`LKR ${e.revenue.toLocaleString()}`,subtitle:"Gross Sales",icon:Ei,color:"blue",trend:g.revenueGrowth>=0?"up":"down",trendValue:Math.abs(g.revenueGrowth).toFixed(1)}),a.jsx(Xx,{title:"Gross Profit",value:`LKR ${e.grossProfit.toLocaleString()}`,subtitle:`${g.grossMargin.toFixed(1)}% margin`,icon:co,color:"emerald"}),a.jsx(Xx,{title:"Operating Expenses",value:`LKR ${g.totalExpenses.toLocaleString()}`,subtitle:`${(g.totalExpenses/e.revenue*100).toFixed(1)}% of revenue`,icon:CN,color:"amber"}),a.jsx(Xx,{title:"Net Profit",value:`LKR ${g.netProfit.toLocaleString()}`,subtitle:`${g.netMargin.toFixed(1)}% margin`,icon:L8,color:g.netProfit>=0?"emerald":"red",trend:g.profitGrowth>=0?"up":"down",trendValue:Math.abs(g.profitGrowth).toFixed(1)})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(Khe,{data:e.monthlyTrend||[]}),a.jsx(Ghe,{expenses:g.expensesWithVariance}),a.jsx(Vhe,{margin:g.netMargin})]}),a.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"p-5 border-b border-slate-100 bg-gradient-to-r from-slate-50 to-white",children:[a.jsx("h3",{className:"font-bold text-slate-800",children:"Detailed Statement"}),a.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Click rows to expand details"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50/80 text-slate-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-4 font-semibold",children:"Description"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Budget"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Actual"}),a.jsx("th",{className:"text-right p-4 font-semibold",children:"Variance"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{className:"bg-blue-50/50 font-bold text-blue-800",children:[a.jsx("td",{className:"p-4",children:"REVENUE"}),a.jsx("td",{className:"p-4 text-right",children:"-"}),a.jsxs("td",{className:"p-4 text-right",children:["LKR ",e.revenue.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:"-"})]}),a.jsxs("tr",{className:"border-t border-slate-100",children:[a.jsx("td",{className:"p-4 pl-8 text-slate-600",children:"Sales Revenue"}),a.jsx("td",{className:"p-4 text-right text-slate-400",children:"-"}),a.jsxs("td",{className:"p-4 text-right font-semibold",children:["LKR ",e.revenue.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:"-"})]}),a.jsxs("tr",{className:"bg-red-50/50 font-bold text-red-800 border-t-2 border-slate-200",children:[a.jsx("td",{className:"p-4",children:"COST OF GOODS SOLD"}),a.jsx("td",{className:"p-4 text-right",children:"-"}),a.jsxs("td",{className:"p-4 text-right",children:["LKR ",e.cogs.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:"-"})]}),a.jsxs("tr",{className:"bg-emerald-50 font-bold text-emerald-800 border-t-2 border-slate-200",children:[a.jsx("td",{className:"p-4",children:"GROSS PROFIT"}),a.jsx("td",{className:"p-4 text-right",children:"-"}),a.jsxs("td",{className:"p-4 text-right",children:["LKR ",e.grossProfit.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("span",{className:"px-2 py-1 bg-emerald-100 rounded-full text-xs",children:[g.grossMargin.toFixed(1),"% margin"]})})]}),a.jsxs("tr",{className:"bg-amber-50/50 font-bold text-amber-800 border-t-2 border-slate-200",children:[a.jsx("td",{className:"p-4",children:"OPERATING EXPENSES"}),a.jsx("td",{className:"p-4 text-right",children:"-"}),a.jsxs("td",{className:"p-4 text-right",children:["LKR ",g.totalExpenses.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:"-"})]}),g.expensesWithVariance.map(y=>a.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"p-4 pl-8 text-slate-600",children:y.name}),a.jsx("td",{className:"p-4 text-right text-slate-400",children:y.budget>0?`LKR ${y.budget.toLocaleString()}`:"-"}),a.jsxs("td",{className:"p-4 text-right font-semibold",children:["LKR ",y.amount.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:y.budget>0&&a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${y.variance>=0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:[y.variance>=0?"Under":"Over"," ",Math.abs(y.variance).toFixed(0),"%"]})})]},y.id)),a.jsxs("tr",{className:`font-bold text-lg border-t-4 border-slate-300 ${g.netProfit>=0?"bg-emerald-100 text-emerald-900":"bg-red-100 text-red-900"}`,children:[a.jsx("td",{className:"p-5",children:"NET PROFIT / (LOSS)"}),a.jsx("td",{className:"p-5 text-right",children:"-"}),a.jsxs("td",{className:"p-5 text-right text-xl",children:[g.netProfit<0&&"(","LKR ",Math.abs(g.netProfit).toLocaleString(),g.netProfit<0&&")"]}),a.jsx("td",{className:"p-5 text-right",children:a.jsxs("span",{className:`px-3 py-1.5 rounded-full text-sm font-bold ${g.netProfit>=0?"bg-emerald-200":"bg-red-200"}`,children:[g.netMargin.toFixed(1),"% margin"]})})]})]})]})})]})]})}function Yhe(){const e=()=>{const r=d=>{if(d==null)return"";const f=String(d);return f.includes(",")||f.includes('"')||f.includes(`
`)?`"${f.replace(/"/g,'""')}"`:f},n=[];n.push(" SMART RETAIL PRO - DAILY SALES REPORT"),n.push("=".repeat(70)),n.push(` Generated: ${new Date().toLocaleString()}`),n.push(" Branch: Colombo Main"),n.push("=".repeat(70)),n.push(""),n.push("Daily sales summary data for today's operations."),n.push(""),n.push(["Date","Sales Value (LKR)","Transactions"].map(r).join(",")),n.push([new Date().toISOString().split("T")[0],"0","0"].map(r).join(",")),n.push("=".repeat(70)),n.push(" End of Report");const s="\uFEFF"+n.join(`
`),i=new Blob([s],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(i),u=document.createElement("a");u.href=c,u.download=`daily-sales-${new Date().toISOString().split("T")[0]}.csv`,u.click(),URL.revokeObjectURL(c)},t=()=>{const r=d=>{if(d==null)return"";const f=String(d);return f.includes(",")||f.includes('"')||f.includes(`
`)?`"${f.replace(/"/g,'""')}"`:f},n=[];n.push(" SMART RETAIL PRO - STOCK VALUATION REPORT"),n.push("=".repeat(70)),n.push(` Generated: ${new Date().toLocaleString()}`),n.push(" Branch: Colombo Main"),n.push("=".repeat(70)),n.push(""),n.push("Stock valuation report for inventory management."),n.push(""),n.push(["SKU","Product Name","Quantity","Unit Price (LKR)","Total Value (LKR)"].map(r).join(",")),n.push("=".repeat(70)),n.push(" End of Report");const s="\uFEFF"+n.join(`
`),i=new Blob([s],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(i),u=document.createElement("a");u.href=c,u.download=`stock-valuation-${new Date().toISOString().split("T")[0]}.csv`,u.click(),URL.revokeObjectURL(c)};return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-xl font-extrabold",children:"Reports"}),a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-5",children:[a.jsx("div",{className:"font-bold mb-1",children:"Branch Reports"}),a.jsx("p",{className:"text-sm text-brand-muted",children:"Typical manager reports: Daily Sales Summary, Stock Valuation, Top Products, and GRN Summary. Later you can connect these to your Spring Boot APIs."}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[a.jsx("button",{type:"button",onClick:e,className:"py-2 rounded-xl bg-brand-primary hover:bg-brand-secondary text-white font-bold transition",children:" Download Daily Sales (CSV)"}),a.jsx("button",{type:"button",onClick:t,className:"py-2 rounded-xl bg-brand-primary hover:bg-brand-secondary text-white font-bold transition",children:" Export Stock (CSV)"}),a.jsx("button",{type:"button",className:"py-2 rounded-xl bg-brand-primary hover:bg-brand-secondary text-white font-bold transition",children:" View Top Products"})]})]})]})}const Xhe=["STORE_KEEPER","CASHIER","SUPERVISOR"];function Qhe(){const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState({}),[c,u]=v.useState({}),[d,f]=v.useState(!0),[m,p]=v.useState(!0),[g,b]=v.useState(null),[y,N]=v.useState(null);v.useEffect(()=>{j(),S()},[]);const j=async()=>{try{f(!0),b(null),console.log("Fetching pending registrations...");const k=await RN("PENDING");if(console.log("Raw Pending API Response:",k),!Array.isArray(k)){console.warn("API response is not an array:",k),t([]);return}const T=k.map(M=>({...M,name:M.requestedBy||M.reference||"Unknown",username:M.username||(M.referenceNo?M.referenceNo.replace("USER-",""):"-"),email:M.email||"No Email",time:M.time||"Recently"}));t(T);const D={};T.forEach(M=>{D[M.id]=M.role||"CASHIER"}),i(D)}catch(k){console.error("Error fetching pending registrations:",k),b("Failed to connect to server. Ensure Backend is running.")}finally{f(!1)}},S=async()=>{try{p(!0);const T=(await mP()||[]).map(M=>({id:M.userId,name:M.name,username:"-",email:"-",role:M.role,lastLogin:M.lastLogin,isActive:M.status==="Active"||M.status==="Online",statusRaw:M.status})).filter(M=>M.role!=="ADMIN");n(T);const D={};T.forEach(M=>{D[M.id]=M.role||"CASHIER"}),u(D)}catch(k){console.error("Error fetching users:",k)}finally{p(!1)}},_=async k=>{const T=k.id,D=s[T]||"CASHIER";try{N(T),await M6(T,"APPROVED",D),t(M=>M.filter(R=>R.id!==T)),setTimeout(S,500)}catch(M){console.error("Error approving registration:",M),alert("Failed to approve. Check console for details.")}finally{N(null)}},E=async k=>{const T=k.id;try{N(T),await M6(T,"REJECTED"),t(D=>D.filter(M=>M.id!==T))}catch(D){console.error("Error rejecting registration:",D),alert("Failed to reject.")}finally{N(null)}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-xl font-extrabold text-slate-800",children:"User Management"}),a.jsx("button",{onClick:()=>{j(),S()},className:"text-xs px-3 py-1.5 bg-slate-100 hover:bg-slate-200 text-slate-600 rounded font-bold transition-colors",children:"Refresh Data"})]}),g&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3 text-red-700 animate-in fade-in slide-in-from-top-2",children:[a.jsxs("span",{className:"font-bold relative flex h-3 w-3",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),a.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]}),a.jsx("span",{className:"font-semibold",children:g})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:[a.jsxs("div",{className:"px-6 py-5 border-b border-slate-100 flex items-center gap-3",children:[a.jsx("span",{className:"font-bold text-slate-700",children:"Pending Approvals"}),e.length>0&&a.jsxs("span",{className:"bg-amber-100 text-amber-700 px-2.5 py-0.5 rounded-full text-xs font-bold shadow-sm border border-amber-200",children:[e.length," Waiting"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50/50 text-slate-500 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Name"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Username"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Email"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Assign Role"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Action"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:d?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-400",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-brand border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Syncing requests..."})]})})}):e.length===0?a.jsx("tr",{children:a.jsx("td",{className:"p-8 text-center text-slate-400",colSpan:5,children:a.jsxs("div",{className:"flex flex-col items-center gap-1",children:[a.jsx("span",{className:"text-lg opacity-50",children:""}),a.jsx("span",{children:"No pending registrations found"})]})})}):e.map(k=>{const T=k.id,D=s[T]||"CASHIER",M=y===T;return a.jsxs("tr",{className:`group hover:bg-slate-50 transition-colors ${M?"opacity-50 pointer-events-none":""}`,children:[a.jsxs("td",{className:"p-4 font-semibold text-slate-700",children:[k.name,a.jsx("div",{className:"text-[10px] text-slate-400 font-normal mt-0.5 max-w-[150px] truncate",children:k.reference})]}),a.jsx("td",{className:"p-4 font-mono text-xs text-slate-600",children:k.username}),a.jsx("td",{className:"p-4 text-slate-600",children:a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded bg-slate-100 text-xs font-medium text-slate-600 border border-slate-200 max-w-[180px] break-all",children:k.email})}),a.jsx("td",{className:"p-4",children:a.jsx("select",{value:D,onChange:R=>i(B=>({...B,[T]:R.target.value})),className:"px-3 py-1.5 rounded-lg border border-slate-200 bg-white text-xs font-semibold focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand cursor-pointer hover:border-slate-300 transition-colors",children:Xhe.map(R=>a.jsx("option",{value:R,children:R},R))})}),a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>_(k),disabled:M,className:"px-3 py-1.5 bg-emerald-500 text-white rounded-lg text-xs font-bold hover:bg-emerald-600 hover:shadow-lg hover:shadow-emerald-200 transition-all active:scale-95 disabled:opacity-50",children:"Approve"}),a.jsx("button",{type:"button",onClick:()=>E(k),disabled:M,className:"px-3 py-1.5 bg-white border border-slate-200 text-red-600 rounded-lg text-xs font-bold hover:bg-red-50 hover:border-red-200 transition-all active:scale-95 disabled:opacity-50",children:"Reject"})]})})]},T)})})]})})]}),a.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"px-6 py-5 border-b border-slate-100 font-bold text-slate-700",children:"Staff Directory"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50/50 text-slate-500 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Name"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Role"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Last Login"}),a.jsx("th",{className:"text-left p-4 font-semibold uppercase text-xs tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:m?a.jsx("tr",{children:a.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400",children:"Loading staff..."})}):r.length===0?a.jsx("tr",{children:a.jsx("td",{className:"p-8 text-center text-slate-400",colSpan:4,children:"No staff found"})}):r.map(k=>{const T=k.id,D=k.role||"CASHIER",M=k.isActive;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 font-medium text-slate-700",children:k.name}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:"px-2.5 py-1 bg-slate-100 rounded-md text-xs font-bold border border-slate-200 text-slate-600",children:D})}),a.jsx("td",{className:"p-4 text-slate-500 font-mono text-xs",children:k.lastLogin||"Never"}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2.5 py-1 rounded-full text-[10px] uppercase font-bold tracking-wide border ${M?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-slate-100 text-slate-500 border-slate-200"}`,children:k.statusRaw||"Inactive"})})]},T)})})]})})]})]})}function Zhe({customer:e,onClose:t,onUpdate:r}){const[n,s]=v.useState("details"),[i,c]=v.useState(!1),[u,d]=v.useState({}),[f,m]=v.useState(!1),[p,g]=v.useState([]),[b,y]=v.useState(!1),[N,j]=v.useState({amount:0,reason:""}),[S,_]=v.useState(!1);v.useEffect(()=>{e&&(d({...e,dateOfBirth:e.dateOfBirth||"",address:e.address||"",city:e.city||""}),E(e.id))},[e]);const E=async R=>{y(!0);try{const B=await bG(R);g(B||[])}catch(B){console.error("Failed to load transactions",B)}finally{y(!1)}};if(!e)return null;const k=e.status==="Inactive",T=async()=>{m(!0);try{await B6(e.id,u),r(),c(!1)}catch{alert("Failed to update customer")}finally{m(!1)}},D=async R=>{R.preventDefault(),_(!0);try{await xG(e.id,parseInt(N.amount),N.reason),r(),j({amount:0,reason:""}),alert("Points adjusted successfully")}catch{alert("Failed to adjust points")}finally{_(!1)}},M=async()=>{if(!confirm(`Are you sure you want to ${k?"UNBLOCK":"BLOCK"} this customer?`))return;const R=k?"Active":"Inactive";try{await B6(e.id,{...e,status:R}),r()}catch{alert("Failed to change status")}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:a.jsxs("div",{className:`bg-white w-full max-w-2xl rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh] transition-all ${k?"border-4 border-red-500":""}`,children:[a.jsxs("div",{className:`p-6 flex justify-between items-start text-white transition-colors duration-300 ${k?"bg-red-600":"bg-slate-900"}`,children:[a.jsxs("div",{className:"flex gap-4 items-center",children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold shadow-lg transition-transform ${k?"bg-white text-red-600 scale-110":"bg-gradient-to-br from-brand-secondary to-brand scale-100"}`,children:e.name.charAt(0)}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.name,k&&a.jsx(yx,{size:24,className:"text-white drop-shadow-md"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-white/80 text-sm mt-1",children:[k?a.jsx("span",{className:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide bg-white text-red-600 shadow-sm",children:"Blocked / Inactive"}):a.jsxs("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wide ${e.tier==="Platinum"?"bg-purple-500/20 text-purple-200 border border-purple-500/30":e.tier==="Gold"?"bg-yellow-500/20 text-yellow-200 border border-yellow-500/30":"bg-slate-700 text-slate-300"}`,children:[e.tier," Member"]}),a.jsxs("span",{className:"flex items-center gap-1 opacity-80",children:[a.jsx(zg,{size:12})," ",e.phone]})]})]})]}),a.jsx("button",{onClick:t,className:"text-white/60 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10",children:a.jsx(Qt,{size:24})})]}),a.jsxs("div",{className:"flex border-b border-slate-200 bg-white",children:[a.jsx("button",{onClick:()=>s("details"),className:`flex-1 py-3 text-sm font-bold border-b-2 transition-colors ${n==="details"?"border-brand text-brand":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Profile Details"}),a.jsx("button",{onClick:()=>s("history"),className:`flex-1 py-3 text-sm font-bold border-b-2 transition-colors ${n==="history"?"border-brand text-brand":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Sales History"}),a.jsx("button",{onClick:()=>s("points"),className:`flex-1 py-3 text-sm font-bold border-b-2 transition-colors ${n==="points"?"border-brand text-brand":"border-transparent text-slate-500 hover:text-slate-700"}`,children:"Points & Rewards"})]}),a.jsxs("div",{className:`p-6 overflow-y-auto flex-1 ${k?"bg-red-50":"bg-white"}`,children:[n==="details"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"Personal Information"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:M,className:`px-3 py-1.5 rounded text-xs font-bold flex items-center gap-1 transition-colors shadow-sm ${k?"bg-emerald-100 text-emerald-700 hover:bg-emerald-200 border border-emerald-200":"bg-red-100 text-red-700 hover:bg-red-200 border border-red-200"}`,children:k?a.jsxs(a.Fragment,{children:[a.jsx(tm,{size:14})," UNBLOCK USER"]}):a.jsxs(a.Fragment,{children:[a.jsx(yx,{size:14})," BLOCK USER"]})}),!k&&(i?a.jsxs("div",{className:"flex gap-2 ml-2",children:[a.jsx("button",{onClick:()=>c(!1),className:"text-slate-500 hover:text-slate-700 text-sm font-bold",children:"Cancel"}),a.jsxs("button",{onClick:T,disabled:f,className:"bg-brand text-white px-3 py-1 rounded text-sm font-bold flex items-center gap-1",children:[f&&a.jsx(_r,{size:14,className:"animate-spin"})," Save"]})]}):a.jsx("button",{onClick:()=>c(!0),className:"text-brand hover:text-brand-hover text-sm font-bold ml-2",children:"Edit Details"}))]})]}),k&&a.jsxs("div",{className:"bg-red-100 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm flex items-start gap-2",children:[a.jsx(yx,{size:16,className:"mt-0.5 shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:"This account is currently blocked."}),a.jsx("p",{className:"opacity-80",children:"Editing details and earning points are disabled while the account is inactive."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-y-6 gap-x-8",children:[a.jsx(jh,{label:"Full Name",icon:uo,value:u.name,editMode:i&&!k,onChange:R=>d({...u,name:R}),disabled:k}),a.jsx(jh,{label:"Phone Number",icon:zg,value:u.phone,editMode:i&&!k,onChange:R=>d({...u,phone:R}),disabled:k}),a.jsx(jh,{label:"Email Address",icon:NN,value:u.email,editMode:i&&!k,onChange:R=>d({...u,email:R}),disabled:k}),a.jsx(jh,{label:"Date of Birth",icon:Kc,value:u.dateOfBirth,type:"date",editMode:i&&!k,onChange:R=>d({...u,dateOfBirth:R}),disabled:k}),a.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx(jh,{label:"Address",icon:$w,value:u.address,editMode:i&&!k,onChange:R=>d({...u,address:R}),disabled:k})}),a.jsx(jh,{label:"City",icon:$w,value:u.city,editMode:i&&!k,onChange:R=>d({...u,city:R}),disabled:k})]})]})]}),n==="history"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"font-bold text-slate-800 text-lg flex items-center gap-2",children:[a.jsx(qh,{size:20,className:"text-brand"})," Recent Purchases"]}),b?a.jsx("div",{className:"py-8 flex justify-center text-brand",children:a.jsx(_r,{size:32,className:"animate-spin"})}):p.length===0?a.jsxs("div",{className:"py-12 text-center text-slate-400 border-2 border-dashed rounded-xl",children:[a.jsx(qh,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No recent transactions found."})]}):a.jsx("div",{className:"space-y-3",children:p.map(R=>a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 flex justify-between items-center hover:bg-slate-100 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center border border-slate-200 text-brand-secondary shadow-sm",children:a.jsx(Fl,{size:18})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-slate-700",children:R.invoiceNo}),a.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-1",children:[a.jsx(ks,{size:10})," ",R.date]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-mono font-bold text-slate-800",children:["LKR ",R.amount?.toLocaleString()]}),a.jsx("div",{className:`text-[10px] font-bold uppercase tracking-wider ${R.paymentStatus==="PAID"?"text-emerald-500":"text-orange-500"}`,children:R.paymentStatus})]})]},R.id))}),p.length>0&&a.jsxs("button",{className:"w-full py-2 text-xs font-bold text-slate-400 hover:text-brand flex items-center justify-center gap-1 mt-2",children:["View Full History ",a.jsx(Q0,{size:12})]})]}),n==="points"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 text-center shadow-sm",children:[a.jsx("div",{className:"text-slate-500 text-xs font-bold uppercase mb-1",children:"Available Points"}),a.jsx("div",{className:"text-2xl font-extrabold text-brand-secondary",children:e.availablePoints})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 text-center shadow-sm",children:[a.jsx("div",{className:"text-slate-500 text-xs font-bold uppercase mb-1",children:"Lifetime Spend"}),a.jsx("div",{className:"text-lg font-bold text-slate-800",children:e.totalSpend})]}),a.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 text-center shadow-sm",children:[a.jsx("div",{className:"text-slate-500 text-xs font-bold uppercase mb-1",children:"Current Tier"}),a.jsx("div",{className:"text-lg font-bold text-brand",children:e.tier})]})]}),k?a.jsxs("div",{className:"p-8 text-center text-slate-400 bg-white border border-slate-200 rounded-xl border-dashed",children:[a.jsx(yx,{size:32,className:"mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"font-bold",children:"Points operations disabled"}),a.jsx("p",{className:"text-xs",children:"Unblock this customer to adjust points."})]}):a.jsxs("div",{className:"bg-white p-5 rounded-xl border border-slate-200 shadow-sm",children:[a.jsxs("h4",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx(zh,{size:18,className:"text-brand"})," Adjust Loyalty Points"]}),a.jsxs("form",{onSubmit:D,className:"space-y-3",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Points (+/-)"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border rounded font-mono text-sm",placeholder:"e.g. 100 or -50",value:N.amount,onChange:R=>j({...N,amount:R.target.value}),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Reason"}),a.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded text-sm",placeholder:"e.g. Manual Correction",value:N.reason,onChange:R=>j({...N,reason:R.target.value}),required:!0})]})]}),a.jsxs("button",{type:"submit",disabled:S||!N.amount,className:"w-full bg-slate-800 text-white py-2 rounded font-bold text-sm hover:bg-slate-900 transition flex justify-center items-center gap-2",children:[S&&a.jsx(_r,{size:16,className:"animate-spin"})," Update Balance"]})]})]})]})]})]})})}const jh=({label:e,icon:t,value:r,editMode:n,onChange:s,type:i="text",disabled:c})=>a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-bold text-slate-400 uppercase mb-1 flex items-center gap-1",children:[a.jsx(t,{size:12})," ",e]}),n&&!c?a.jsx("input",{type:i,className:"w-full border border-slate-300 rounded px-3 py-2 text-sm focus:outline-none focus:border-brand",value:r||"",onChange:u=>s(u.target.value)}):a.jsx("div",{className:`p-2 rounded border border-transparent ${r?"text-slate-800 font-medium":"text-slate-400 italic"} ${c?"opacity-70":""}`,children:r||"Not provided"})]});function Jhe({onClose:e,onUpdate:t}){const[r,n]=v.useState({Silver:0,Gold:0,Platinum:0}),[s,i]=v.useState(!0),[c,u]=v.useState(!1);v.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await xP();n({Silver:m.Silver||1e4,Gold:m.Gold||5e4,Platinum:m.Platinum||1e5})}catch(m){console.error("Failed to load tier rules",m)}finally{i(!1)}},f=async m=>{m.preventDefault(),u(!0);try{await gG(r),t(),e()}catch{alert("Failed to save rules")}finally{u(!1)}};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/50 backdrop-blur-sm p-4",children:a.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"bg-slate-900 p-4 flex justify-between items-center text-white",children:[a.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2",children:[a.jsx(Z0,{size:20,className:"text-brand-secondary"})," Tier Point Rules"]}),a.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:a.jsx(Qt,{size:20})})]}),a.jsx("div",{className:"p-6",children:s?a.jsx("div",{className:"flex justify-center py-8 text-brand",children:a.jsx(_r,{className:"animate-spin",size:32})}):a.jsxs("form",{onSubmit:f,className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Define the minimum total spend (LKR) required for customers to reach each loyalty tier. Changes apply immediately."}),["Silver","Gold","Platinum"].map(m=>a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs font-bold text-slate-700 uppercase mb-1 block",children:[m," Threshold"]}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-2.5 text-slate-400 text-sm font-mono",children:"LKR"}),a.jsx("input",{type:"number",value:r[m],onChange:p=>n({...r,[m]:parseFloat(p.target.value)}),className:"w-full pl-12 pr-4 py-2 border border-slate-300 rounded-lg text-sm font-mono text-slate-800 focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand",placeholder:"0.00",min:"0"})]})]},m)),a.jsxs("div",{className:"pt-4 flex gap-3",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 py-2.5 border border-slate-200 text-slate-600 font-bold rounded-lg hover:bg-slate-50 text-sm",children:"Cancel"}),a.jsxs("button",{type:"submit",disabled:c,className:"flex-1 py-2.5 bg-brand text-white font-bold rounded-lg hover:bg-brand-hover text-sm flex justify-center items-center gap-2 shadow-lg shadow-brand/20",children:[c&&a.jsx(_r,{size:16,className:"animate-spin"})," Save Changes"]})]})]})})]})})}function eme({onClose:e}){return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-gradient-to-r from-brand-deep to-brand"}),a.jsx("div",{className:"absolute top-[-50px] right-[-50px] w-40 h-40 bg-white/10 rounded-full blur-3xl"}),a.jsxs("div",{className:"relative pt-10 px-8 pb-8 text-center",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-white/70 hover:text-white transition-colors bg-black/10 hover:bg-black/20 rounded-full p-2",children:a.jsx(Qt,{size:20})}),a.jsx("div",{className:"w-24 h-24 bg-white rounded-full mx-auto shadow-xl flex items-center justify-center mb-6 relative z-10 border-4 border-white",children:a.jsx(NF,{size:40,className:"text-brand animate-pulse"})}),a.jsx("h2",{className:"text-2xl font-extrabold text-slate-800 mb-2",children:"Campaign Manager"}),a.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-amber-50 text-amber-600 border border-amber-200 rounded-full text-xs font-bold uppercase tracking-wider mb-6",children:[a.jsx(yz,{size:12})," Under Development"]}),a.jsxs("p",{className:"text-slate-500 mb-8 leading-relaxed",children:["We're currently building a powerful engine to manage loyalty campaigns, automated rewards, and targeted offers.",a.jsx("br",{}),"Get ready to boost customer engagement like never before!"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left mb-8",children:[a.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center mb-3",children:a.jsx(Bh,{size:16})}),a.jsx("h4",{className:"font-bold text-slate-800 text-sm mb-1",children:"Automated Alerts"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Trigger notifications based on spending habits."})]}),a.jsxs("div",{className:"p-4 rounded-2xl bg-slate-50 border border-slate-100",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mb-3",children:a.jsx(ks,{size:16})}),a.jsx("h4",{className:"font-bold text-slate-800 text-sm mb-1",children:"Seasonal Offers"}),a.jsx("p",{className:"text-xs text-slate-400",children:"Schedule doubling point events in advance."})]})]}),a.jsx("button",{onClick:e,className:"w-full py-3.5 bg-brand text-white font-bold rounded-xl shadow-lg shadow-brand/30 hover:bg-brand-hover hover:shadow-brand/40 transition-all transform hover:-translate-y-0.5 active:translate-y-0",children:"Got it, I'll wait!"})]})]})})}const tme=({title:e,value:t,desc:r,icon:n,trend:s})=>a.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 flex items-start justify-between hover:shadow-md transition-shadow cursor-pointer",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-500 text-xs font-bold uppercase tracking-wider mb-1",children:e}),a.jsx("h3",{className:"text-2xl font-extrabold text-slate-800",children:t}),a.jsx("p",{className:`text-xs mt-1 font-medium ${s==="up"?"text-emerald-500":s==="down"?"text-red-500":"text-slate-400"}`,children:r})]}),a.jsx("div",{className:"p-3 bg-brand-light/10 rounded-xl text-brand",children:a.jsx(n,{size:22})})]}),JO=({children:e,type:t})=>{const n={Bronze:"bg-orange-50 text-orange-700 border-orange-200",Silver:"bg-slate-100 text-slate-600 border-slate-200",Gold:"bg-yellow-50 text-yellow-700 border-yellow-200",Platinum:"bg-purple-50 text-purple-700 border-purple-200",Active:"bg-emerald-50 text-emerald-700 border-emerald-200",Inactive:"bg-red-50 text-red-700 border-red-200",Blocked:"bg-red-50 text-red-700 border-red-200"}[e]||"bg-gray-100 text-gray-600 border-gray-200";return a.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-[10px] font-bold border ${n}`,children:e})};function rme(){const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(!0),[c,u]=v.useState(""),[d,f]=v.useState("All"),[m,p]=v.useState(null),[g,b]=v.useState(!1),[y,N]=v.useState(!1),[j,S]=v.useState({Silver:1e4,Gold:5e4,Platinum:1e5});v.useEffect(()=>{_()},[]);const _=async()=>{try{i(!0);const[k,T,D]=await Promise.all([mG(),pG(),xP().catch(()=>null)]);t(k||[]);const M=(T||[]).sort((R,B)=>B.availablePoints-R.availablePoints);n(M),D&&S(D)}catch(k){console.error("Failed to load loyalty data",k)}finally{i(!1)}},E=r.filter(k=>{const T=k.name.toLowerCase().includes(c.toLowerCase())||k.phone.includes(c)||k.email&&k.email.toLowerCase().includes(c.toLowerCase()),D=d==="All"||k.tier===d;return T&&D});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-extrabold text-slate-800",children:"Loyalty & Customers"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Manage customer relationships, tiers, and rewards."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm font-bold text-slate-600 hover:bg-slate-50",children:[a.jsx(Yl,{size:16})," Export CSV"]}),a.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-4 py-2 bg-brand text-white rounded-lg text-sm font-bold shadow-lg shadow-brand/20 hover:bg-brand-hover",children:[a.jsx(Q3,{size:16})," Campaign Config"]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.length>0?e.map((k,T)=>a.jsx(tme,{title:k.title,value:k.value,desc:k.description,trend:k.trend,icon:k.icon==="users"?nf:k.icon==="star"?rf:k.icon==="percent"?Uh:Tc},T)):Array(4).fill(0).map((k,T)=>a.jsx("div",{className:"h-32 bg-white rounded-2xl shadow-sm border border-slate-200 animate-pulse"},T))}),m&&a.jsx(Zhe,{customer:m,onClose:()=>p(null),onUpdate:()=>{_(),p(null)}}),g&&a.jsx(Jhe,{onClose:()=>b(!1),onUpdate:()=>{_()}}),y&&a.jsx(eme,{onClose:()=>N(!1)}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 bg-white border border-slate-200 rounded-2xl shadow-sm overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-slate-100 flex gap-4 flex-wrap",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(Aa,{className:"absolute left-3 top-2.5 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"Search customers...",value:c,onChange:k=>u(k.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand"})]}),a.jsxs("div",{className:"flex items-center gap-2 relative",children:[a.jsx(vN,{size:16,className:"text-slate-400 absolute left-3 pointer-events-none"}),a.jsxs("select",{value:d,onChange:k=>f(k.target.value),className:"pl-9 pr-10 py-2 bg-white border border-slate-200 rounded-lg text-sm font-medium text-slate-600 focus:outline-none focus:border-brand appearance-none cursor-pointer hover:bg-slate-50 transition-colors",children:[a.jsx("option",{value:"All",children:"All Tiers"}),a.jsx("option",{value:"Bronze",children:"Bronze"}),a.jsx("option",{value:"Silver",children:"Silver"}),a.jsx("option",{value:"Gold",children:"Gold"}),a.jsx("option",{value:"Platinum",children:"Platinum"})]}),a.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:a.jsx("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M1 1L5 5L9 1",stroke:"#64748B",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),a.jsx("div",{className:"overflow-x-auto flex-1",children:a.jsxs("table",{className:"w-full text-sm text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 font-semibold border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-10",children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 cursor-pointer"})}),a.jsx("th",{className:"p-4",children:"Customer"}),a.jsx("th",{className:"p-4",children:"Tier"}),a.jsx("th",{className:"p-4 text-right",children:"Points"}),a.jsx("th",{className:"p-4 text-right",children:"Total Spend"}),a.jsx("th",{className:"p-4",children:"Status"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:s?Array(5).fill(0).map((k,T)=>a.jsx("tr",{className:"animate-pulse",children:a.jsx("td",{colSpan:6,className:"p-4",children:a.jsx("div",{className:"h-8 bg-slate-100 rounded"})})},T)):E.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:r.length===0?"No customers enrolled yet.":"No customers found matching filters."})}):E.map(k=>a.jsxs("tr",{onClick:()=>p(k),className:`group transition-colors cursor-pointer border-l-4 ${k.status==="Inactive"||k.status==="Blocked"?"bg-red-50 hover:bg-red-100 border-l-red-500":"hover:bg-slate-50 border-l-transparent"}`,children:[a.jsx("td",{className:"p-4",onClick:T=>T.stopPropagation(),children:a.jsx("input",{type:"checkbox",className:"rounded border-slate-300 cursor-pointer"})}),a.jsxs("td",{className:"p-4",children:[a.jsx("div",{className:`font-bold ${k.status==="Inactive"?"text-red-700":"text-slate-700"}`,children:k.name}),a.jsx("div",{className:"text-xs text-slate-400 font-mono",children:k.phone})]}),a.jsx("td",{className:"p-4",children:a.jsx(JO,{children:k.tier})}),a.jsx("td",{className:"p-4 text-right font-mono font-medium text-brand-secondary",children:k.availablePoints}),a.jsx("td",{className:"p-4 text-right font-mono text-slate-600",children:k.totalSpend}),a.jsx("td",{className:"p-4",children:a.jsx(JO,{children:k.status})})]},k.id))})]})}),a.jsxs("div",{className:"p-4 border-t border-slate-100 flex justify-between items-center text-xs text-slate-500",children:[a.jsxs("span",{children:["Showing ",E.length," customers"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{disabled:!0,className:"px-3 py-1 border rounded disabled:opacity-50",children:"Prev"}),a.jsx("button",{className:"px-3 py-1 border rounded hover:bg-slate-50",children:"Next"})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsxs("h3",{className:"font-bold text-slate-800 mb-4 flex items-center gap-2",children:["Smart Insights ",a.jsx("span",{className:"bg-purple-100 text-purple-700 text-[10px] px-2 py-0.5 rounded-full",children:"AI"})]}),a.jsxs("ul",{className:"space-y-4",children:[a.jsxs("li",{className:"flex gap-3 items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-orange-100 text-orange-600 flex items-center justify-center shrink-0",children:a.jsx(Tc,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 mb-0.5",children:"Churn Risk"}),a.jsxs("p",{className:"text-sm font-medium text-slate-700 leading-snug",children:["12 Gold customers haven't visited in 30+ days.",a.jsx("span",{className:"block mt-1 text-brand text-xs font-bold cursor-pointer hover:underline",children:"Send 'We miss you' offer?"})]})]})]}),a.jsxs("li",{className:"border-t border-slate-100 pt-4 flex gap-3 items-start",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center shrink-0",children:a.jsx(Q3,{size:16})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 mb-0.5",children:"Upsell Opportunity"}),a.jsx("p",{className:"text-sm font-medium text-slate-700 leading-snug",children:"8 customers are < 500 pts away from Platinum."})]})]})]})]}),a.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-bold text-slate-800",children:"Tier Rules"}),a.jsx("button",{onClick:()=>b(!0),className:"text-xs font-bold text-brand hover:text-brand-hover hover:underline",children:"Edit"})]}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between items-center p-2 rounded bg-slate-50 border border-slate-100",children:[a.jsx("span",{className:"font-bold text-slate-600",children:"Silver"}),a.jsxs("span",{className:"text-slate-400 text-xs text-right",children:["> ",j.Silver?.toLocaleString()," LKR"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 rounded bg-yellow-50 border border-yellow-100",children:[a.jsx("span",{className:"font-bold text-yellow-700",children:"Gold"}),a.jsxs("span",{className:"text-yellow-600 text-xs text-right",children:["> ",j.Gold?.toLocaleString()," LKR"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-2 rounded bg-purple-50 border border-purple-100",children:[a.jsx("span",{className:"font-bold text-purple-700",children:"Platinum"}),a.jsxs("span",{className:"text-purple-600 text-xs text-right",children:["> ",j.Platinum?.toLocaleString()," LKR"]})]})]})]})]})]})]})}const e8={PENDING:{label:"Pending",color:"bg-amber-100 text-amber-700 border-amber-200",icon:ks},SUPERVISOR_APPROVED:{label:"Supervisor Approved",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Xr},TRANSFERRED_TO_MANAGER:{label:"Awaiting Payment",color:"bg-purple-100 text-purple-700 border-purple-200",icon:AN},PROCESSING:{label:"Processing",color:"bg-cyan-100 text-cyan-700 border-cyan-200",icon:_r},PAID:{label:"Paid",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:Xr},REJECTED:{label:"Rejected",color:"bg-red-100 text-red-700 border-red-200",icon:ra}},Qx={URGENT:{label:"Urgent",color:"bg-red-500 text-white",order:1},HIGH:{label:"High",color:"bg-orange-500 text-white",order:2},NORMAL:{label:"Normal",color:"bg-blue-500 text-white",order:3},LOW:{label:"Low",color:"bg-gray-500 text-white",order:4}},nme=[{value:"BANK_TRANSFER",label:"Bank Transfer",icon:Wl},{value:"CHEQUE",label:"Cheque",icon:Xo},{value:"CASH",label:"Cash",icon:ei}];function ame(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState("pending"),[c,u]=v.useState(""),[d,f]=v.useState(null),[m,p]=v.useState(!1),[g,b]=v.useState(!1),[y,N]=v.useState({paymentMethod:"BANK_TRANSFER",paymentReference:"",notes:""}),[j,S]=v.useState({pending:0,totalPending:0,paidToday:0}),_=v.useCallback(async()=>{n(!0);try{let B;if(s==="pending")B=await ao.getManagerPaymentRequests();else if(s==="paid")B=await ao.getPaymentRequestsByStatus("PAID");else{const[U,F,X]=await Promise.all([ao.getManagerPaymentRequests(),ao.getPaymentRequestsByStatus("PAID"),ao.getPaymentRequestsByStatus("REJECTED")]),Q=[...U.data?.data||[],...F.data?.data||[],...X.data?.data||[]];t(Q),E(Q),n(!1);return}const K=B.data?.data||B.data||[];t(Array.isArray(K)?K:[]),E(K)}catch(B){console.error("Failed to fetch payment requests:",B)}finally{n(!1)}},[s]),E=B=>{const K=B.filter(Q=>Q.status==="TRANSFERRED_TO_MANAGER"||Q.status==="PROCESSING"),U=K.reduce((Q,pe)=>Q+(parseFloat(pe.amount)||0),0),F=new Date().toDateString(),X=B.filter(Q=>Q.status==="PAID"&&Q.processedAt&&new Date(Q.processedAt).toDateString()===F).reduce((Q,pe)=>Q+(parseFloat(pe.amount)||0),0);S({pending:K.length,totalPending:U,paidToday:X})};v.useEffect(()=>{_()},[_]);const k=async()=>{if(d){if(!y.paymentReference){alert("Please enter a payment reference");return}b(!0);try{await ao.processPayment(d.requestId,{paymentMethod:y.paymentMethod,paymentReference:y.paymentReference,amountPaid:d.amount,notes:y.notes}),p(!1),f(null),N({paymentMethod:"BANK_TRANSFER",paymentReference:"",notes:""}),_()}catch(B){console.error("Payment processing failed:",B),alert(B.response?.data?.message||"Failed to process payment")}finally{b(!1)}}},T=async(B,K)=>{try{await ao.rejectRequest(B,K||"Rejected by manager"),_()}catch(U){console.error("Rejection failed:",U),alert("Failed to reject request")}},D=B=>new Intl.NumberFormat("en-LK",{style:"currency",currency:"LKR",minimumFractionDigits:2}).format(B||0),M=B=>B?new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-",R=e.filter(B=>{if(!c)return!0;const K=c.toLowerCase();return B.grnNo?.toLowerCase().includes(K)||B.supplierName?.toLowerCase().includes(K)||B.invoiceNo?.toLowerCase().includes(K)}).sort((B,K)=>{const U=Qx[B.priority]?.order||3,F=Qx[K.priority]?.order||3;return U!==F?U-F:new Date(K.createdAt)-new Date(B.createdAt)});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"GRN Payments"}),a.jsx("p",{className:"text-gray-500 mt-1",children:"Manage and process supplier payment requests"})]}),a.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Sa,{className:"w-4 h-4"}),"Refresh"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-indigo-600 rounded-xl p-5 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Pending Payments"}),a.jsx("p",{className:"text-3xl font-bold mt-1",children:j.pending})]}),a.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center",children:a.jsx(ks,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl p-5 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-amber-100 text-sm font-medium",children:"Total Pending Amount"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:D(j.totalPending)})]}),a.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center",children:a.jsx(Ei,{className:"w-6 h-6"})})]})}),a.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl p-5 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-emerald-100 text-sm font-medium",children:"Paid Today"}),a.jsx("p",{className:"text-2xl font-bold mt-1",children:D(j.paidToday)})]}),a.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center",children:a.jsx(Xr,{className:"w-6 h-6"})})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200 flex flex-col md:flex-row gap-4",children:[a.jsx("div",{className:"flex gap-2",children:[{key:"pending",label:"Pending"},{key:"paid",label:"Paid"},{key:"all",label:"All"}].map(B=>a.jsx("button",{onClick:()=>i(B.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s===B.key?"bg-indigo-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:B.label},B.key))}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Aa,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",value:c,onChange:B=>u(B.target.value),placeholder:"Search by GRN No, Supplier, or Invoice...",className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:r?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(_r,{className:"w-8 h-8 text-indigo-600 animate-spin"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading payment requests..."})]}):R.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:a.jsx(Fl,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"No Payment Requests"}),a.jsx("p",{className:"text-gray-500 mt-1",children:s==="pending"?"No pending payment requests at the moment.":"No payment requests match your criteria."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"GRN / Invoice"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Supplier"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"text-left px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"text-right px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-100",children:R.map(B=>{const K=e8[B.status]||e8.PENDING,U=K.icon,F=Qx[B.priority]||Qx.NORMAL,X=["TRANSFERRED_TO_MANAGER","PROCESSING"].includes(B.status);return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4",children:[a.jsx("div",{className:"font-semibold text-gray-800",children:B.grnNo}),a.jsx("div",{className:"text-sm text-gray-500",children:B.invoiceNo||"-"})]}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yN,{className:"w-4 h-4 text-gray-400"}),a.jsx("span",{className:"text-gray-700",children:B.supplierName})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"font-bold text-gray-800",children:D(B.amount)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:`px-2 py-1 text-xs font-bold rounded ${F.color}`,children:F.label})}),a.jsx("td",{className:"px-6 py-4 text-gray-600 text-sm",children:M(B.dueDate)?.split(",")[0]||"-"}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${K.color}`,children:[a.jsx(U,{className:"w-3 h-3 inline mr-1"}),K.label]})}),a.jsxs("td",{className:"px-6 py-4 text-right",children:[X&&a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx("button",{onClick:()=>{f(B),p(!0)},className:"px-3 py-1.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-sm font-medium transition-colors",children:"Process Payment"}),a.jsx("button",{onClick:()=>{const Q=prompt("Enter rejection reason:");Q&&T(B.requestId,Q)},className:"px-3 py-1.5 border border-red-200 text-red-600 hover:bg-red-50 rounded-lg text-sm font-medium transition-colors",children:"Reject"})]}),B.status==="PAID"&&a.jsx("span",{className:"text-sm text-emerald-600 font-medium",children:" Completed"})]})]},B.requestId)})})]})})}),m&&d&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 px-6 py-4 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:"Process Payment"}),a.jsx("button",{onClick:()=>p(!1),className:"p-1 rounded hover:bg-white/20 text-white",children:a.jsx(Qt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"bg-emerald-50 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-semibold text-gray-800",children:d.grnNo}),a.jsx("span",{className:"text-sm text-gray-600",children:d.invoiceNo})]}),a.jsx("div",{className:"text-sm text-gray-600",children:d.supplierName}),a.jsx("div",{className:"text-2xl font-bold text-emerald-700 mt-2",children:D(d.amount)})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Payment Method"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:nme.map(B=>{const K=B.icon;return a.jsxs("button",{onClick:()=>N(U=>({...U,paymentMethod:B.value})),className:`p-3 rounded-lg border-2 text-center transition-all ${y.paymentMethod===B.value?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 hover:border-gray-300 text-gray-600"}`,children:[a.jsx(K,{className:"w-5 h-5 mx-auto mb-1"}),a.jsx("span",{className:"text-xs font-medium",children:B.label})]},B.value)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Payment Reference / Transaction ID *"}),a.jsx("input",{type:"text",value:y.paymentReference,onChange:B=>N(K=>({...K,paymentReference:B.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Enter reference number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Notes (Optional)"}),a.jsx("textarea",{value:y.notes,onChange:B=>N(K=>({...K,notes:B.target.value})),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Add payment notes..."})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:k,disabled:g||!y.paymentReference,className:"flex-1 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 disabled:bg-emerald-400 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:g?a.jsxs(a.Fragment,{children:[a.jsx(_r,{className:"w-4 h-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xr,{className:"w-4 h-4"}),"Confirm Payment"]})})]})]})]})})]})}const sme="w-full flex items-center gap-3 px-3 py-2 rounded-lg transition-all duration-200 text-gray-300 hover:bg-gray-800 hover:translate-x-1 hover:text-white",ime="bg-brand-primary text-white shadow-lg translate-x-1",Sh=({to:e,icon:t,label:r,end:n=!1})=>a.jsxs(bN,{to:e,end:n,className:({isActive:s})=>`${sme} ${s?ime:""}`,children:[a.jsx(t,{size:18,className:"shrink-0 transition-transform duration-200"}),a.jsx("span",{className:"text-sm",children:r})]});function ome(){return a.jsxs("aside",{className:"w-72 shrink-0 bg-gray-900 text-white h-screen flex flex-col min-h-0",children:[a.jsxs("div",{className:"p-6 border-b border-gray-800",children:[a.jsxs("h1",{className:"text-xl font-bold",children:["SmartRetail ",a.jsx("span",{className:"text-emerald-400",children:"Pro"})]}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Admin Dashboard"})]}),a.jsxs("nav",{className:"sidebar-scroll p-4 flex-1 min-h-0 overflow-y-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Overview"}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx(Sh,{to:"/admin",end:!0,icon:O8,label:"Overview"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Administration"}),a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx(Sh,{to:"/admin/users",icon:nf,label:"User Registration"}),a.jsx(Sh,{to:"/admin/branches",icon:Xb,label:"Branch Management"}),a.jsx(Sh,{to:"/admin/terminals",icon:jN,label:"Terminals"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Audit & Logs"}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx(Sh,{to:"/admin/system-activity",icon:Tc,label:"System Activity"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center px-3 py-2 text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Reports"}),a.jsx("div",{className:"mt-2 space-y-1",children:a.jsx(Sh,{to:"/admin/reports",icon:Xo,label:"Reports"})})]})]})]})}function lme(){const e=Vl(),[t,r]=v.useState(new Date),{unreadCount:n,setIsOpen:s}=ap(),i=localStorage.getItem("user");let c="Admin";if(i)try{const d=JSON.parse(i);c=d.username||d.name||"Admin"}catch{}v.useEffect(()=>{const d=setInterval(()=>r(new Date),1e3);return()=>clearInterval(d)},[]);const u=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e("/login")};return a.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center px-6 gap-4 shrink-0 shadow-sm",children:[a.jsxs("div",{className:"flex flex-col flex-1",children:[a.jsx("h1",{className:"font-bold text-lg text-slate-800",children:"Admin Dashboard"}),a.jsx("span",{className:"text-xs text-slate-500",children:"System Administration"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:()=>e("/inventory"),className:"group flex items-center gap-2 px-3 py-2 bg-slate-100 hover:bg-blue-50 rounded-lg text-sm font-medium transition-all duration-300 hover:shadow-[0_0_15px_rgba(59,130,246,0.3)] hover:border hover:border-blue-200",children:[a.jsx(wN,{size:16,className:"text-slate-600 group-hover:text-blue-600 transition-colors"}),a.jsx("span",{className:"hidden sm:inline text-slate-700 group-hover:text-blue-700 transition-colors",children:"Inventory"})]}),a.jsxs("button",{onClick:()=>s(!0),className:"p-2 rounded-full hover:bg-slate-100 transition-colors text-slate-600 relative",children:[a.jsx(Bh,{className:"w-5 h-5"}),n>0&&a.jsx("span",{className:"absolute top-1 right-1 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white animate-pulse"})]}),a.jsxs("div",{className:"text-right leading-tight",children:[a.jsx("div",{className:"font-mono text-lg font-bold tracking-wider text-slate-700",children:t.toLocaleTimeString("en-US",{hour12:!1})}),a.jsx("div",{className:"text-xs text-slate-400 uppercase font-bold tracking-wider",children:t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}).toUpperCase()})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-3 px-4 py-2 bg-white/80 backdrop-blur-md rounded-full border border-blue-100 shadow-[0_0_15px_rgba(59,130,246,0.15)] hover:shadow-[0_0_20px_rgba(59,130,246,0.25)] transition-all duration-300 group cursor-default",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-tr from-blue-600 to-indigo-600 flex items-center justify-center text-white text-xs font-bold shadow-md transform group-hover:scale-110 transition-transform duration-300 ring-2 ring-blue-100",children:c.charAt(0).toUpperCase()}),a.jsx("span",{className:"text-sm font-semibold text-slate-700 group-hover:text-blue-700 transition-colors",children:c})]}),a.jsxs("button",{type:"button",onClick:u,className:"group relative overflow-hidden flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 hover:border-red-100 text-slate-700 hover:text-red-600 rounded-xl transition-all duration-300 shadow-sm hover:shadow-md hover:-translate-y-0.5",children:[a.jsx("div",{className:"absolute inset-0 bg-red-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),a.jsx(ef,{size:18,className:"relative z-10 transition-transform duration-300 group-hover:scale-110 group-hover:-translate-x-0.5"}),a.jsx("span",{className:"relative z-10 hidden sm:inline text-sm font-semibold",children:"Sign Out"})]})]})]})}function cme({children:e}){return a.jsxs(TN,{children:[a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsx(ome,{}),a.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[a.jsx(lme,{}),a.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 p-8",children:e})]})]}),a.jsx(aP,{})]})}const t8=async()=>(await He.get("/admin/dashboard/today-sales")).data,ume=async()=>(await He.get("/admin/dashboard/user-stats")).data,Ec=async()=>(await He.get("/admin/branches")).data,dme=async e=>(await He.get(`/admin/branches/${e}/summary`)).data,fme=async e=>(await He.get("/admin/branches/search",{params:{q:e}})).data,hme=async()=>(await He.get("/admin/dashboard/top-branches")).data,mme=async()=>(await He.get("/admin/dashboard/customer-recurrence")).data,pme=async()=>(await He.get("/admin/dashboard/top-managers")).data,xme=async()=>(await He.get("/admin/dashboard/weekly-trend")).data,gme=async e=>(await He.get(`/admin/branches/${e}/realtime-sales`)).data,Uu=async()=>(await He.get("/admin/users")).data,bme=async e=>(await He.get("/admin/users/search",{params:{q:e}})).data,yme=async e=>(await He.post("/admin/users/register-manager",e)).data,vme=async(e,t)=>(await He.put(`/admin/users/${e}`,t)).data,wme=async e=>(await He.delete(`/admin/users/${e}`)).data,Nme=async e=>(await He.patch(`/admin/users/${e}/toggle-status`)).data,jme=async e=>(await He.post("/admin/branches",e)).data,Sme=async(e,t)=>(await He.put(`/admin/branches/${e}`,t)).data,Ame=async e=>(await He.delete(`/admin/branches/${e}`)).data,_me=async e=>(await He.patch(`/admin/branches/${e}/toggle-status`)).data,Cme=async()=>(await He.get("/admin/users/managers")).data,Eme=async e=>(await He.get(`/admin/branches/${e}/users`)).data,m0=async()=>(await He.get("/admin/terminals")).data,kme=async e=>(await He.post("/admin/terminals",e)).data,Ome=async(e,t)=>(await He.put(`/admin/terminals/${e}`,t)).data,Pme=async e=>(await He.delete(`/admin/terminals/${e}`)).data,Lme=async e=>(await He.patch(`/admin/terminals/${e}/toggle-status`)).data,r8=async(e={})=>(await He.get("/admin/activity-logs",{params:e})).data;function Tme(){const[e,t]=v.useState({totalSales:0,totalTransactions:0,comparedToYesterday:0}),[r,n]=v.useState([]),[s,i]=v.useState(new Date),[c,u]=v.useState(!0),[d,f]=v.useState(null);v.useEffect(()=>{(async()=>{try{u(!0);const[y,N]=await Promise.all([t8(),xme()]);t(y),n(N),i(new Date),f(null)}catch(y){console.error("Failed to fetch sales data:",y),f("Failed to load sales data")}finally{u(!1)}})();const b=setInterval(async()=>{try{const y=await t8();t(y),i(new Date)}catch(y){console.error("Failed to refresh sales data:",y)}},3e4);return()=>clearInterval(b)},[]);const m=g=>`LKR ${(g||0).toLocaleString()}`,p=g=>g.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return c?a.jsxs("div",{className:"bg-gradient-to-br from-brand-primary via-blue-600 to-blue-800 rounded-2xl shadow-xl p-6 text-white animate-pulse",children:[a.jsx("div",{className:"h-6 bg-white/20 rounded w-3/4 mb-4"}),a.jsx("div",{className:"h-10 bg-white/20 rounded w-1/2 mb-4"}),a.jsx("div",{className:"h-20 bg-white/10 rounded"})]}):d?a.jsxs("div",{className:"bg-gradient-to-br from-red-500 via-red-600 to-red-700 rounded-2xl shadow-xl p-6 text-white",children:[a.jsx("p",{className:"text-lg font-bold",children:"Error Loading Data"}),a.jsx("p",{className:"text-sm text-red-200",children:d})]}):a.jsxs("div",{className:"bg-gradient-to-br from-brand-primary via-blue-600 to-blue-800 rounded-2xl shadow-xl p-6 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold",children:"Today's Total Sales"}),a.jsx("p",{className:"text-xs text-blue-200",children:"All Branches Combined"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${e.comparedToYesterday>=0?"text-green-300":"text-red-300"}`,children:[a.jsx("span",{children:e.comparedToYesterday>=0?"":""}),a.jsxs("span",{children:[Math.abs(e.comparedToYesterday||0),"%"]})]}),a.jsx("p",{className:"text-xs text-blue-200",children:"vs yesterday"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-4xl font-extrabold tracking-tight",children:m(e.totalSales)}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-blue-200",children:[a.jsxs("span",{children:[e.totalTransactions||0," transactions"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"Live"]})]})]}),r.length>0&&a.jsxs("div",{className:"bg-white/10 rounded-xl p-3 mt-4",children:[a.jsx("p",{className:"text-xs text-blue-200 mb-2",children:"Weekly Trend"}),a.jsx("div",{style:{width:"100%",height:"80px"},children:a.jsx(_y,{width:"100%",height:"100%",children:a.jsxs(bD,{data:r,children:[a.jsx(jp,{dataKey:"day",tick:{fill:"#93C5FD",fontSize:10},axisLine:!1,tickLine:!1}),a.jsx(Sp,{hide:!0}),a.jsx(Jy,{contentStyle:{backgroundColor:"#1F3C88",border:"none",borderRadius:"8px",color:"#fff"},formatter:g=>[`LKR ${(g||0).toLocaleString()}`,"Sales"]}),a.jsx(lS,{type:"monotone",dataKey:"sales",stroke:"#93C5FD",strokeWidth:2,dot:!1})]})})})]}),a.jsxs("div",{className:"mt-3 text-xs text-blue-300 text-right",children:["Last updated: ",p(s)]})]})}function Rme({branch:e,onClose:t}){const[r,n]=v.useState(e),[s,i]=v.useState(new Date),[c,u]=v.useState(!1);v.useEffect(()=>{const N=async()=>{const S=e?.branchId||e?.id;if(S)try{u(!0);const _=await gme(S);n(E=>({...E,dailySales:_.dailySales,activeTerminals:_.activeTerminals,registeredCustomers:_.registeredCustomers})),i(new Date)}catch(_){console.error("Failed to fetch real-time sales:",_)}finally{u(!1)}};N();const j=setInterval(N,1e4);return()=>clearInterval(j)},[e]);const d=N=>`LKR ${(N||0).toLocaleString()}`,f=N=>N.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),m=r?.users||[],p=m.filter(N=>N.status==="Active"||N.accountStatus==="ACTIVE").length,g=m.length,b=m.find(N=>(N.userId||N.id)===r?.managerId)||{name:r?.managerName},y=r?.isActive||r?.status==="Active";return a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden animate-in fade-in zoom-in duration-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-brand-primary to-brand-secondary p-6 text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:r?.name||"Branch"}),a.jsx("p",{className:"text-blue-200 text-sm",children:r?.address||r?.location||""})]}),a.jsx("button",{onClick:t,className:"w-10 h-10 bg-white/20 hover:bg-white/30 rounded-xl flex items-center justify-center transition-colors",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[a.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-5 mb-5",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-700 font-medium mb-1",children:"Daily Total Sales"}),a.jsx("div",{className:"text-3xl font-extrabold text-green-800",children:c?"...":d(r?.dailySales)})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-600 text-sm",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live Updates"]}),a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Last: ",f(s)]})]})]})}),a.jsxs("div",{className:"mb-5",children:[a.jsx("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Assigned Manager"}),b?.name?a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-blue-50 rounded-xl",children:[a.jsx("div",{className:"w-14 h-14 bg-brand-primary rounded-full flex items-center justify-center text-white text-xl font-bold",children:b.name.split(" ").map(N=>N[0]).join("").substring(0,2)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-bold text-gray-800",children:b.name||b.fullName}),a.jsx("div",{className:"text-sm text-gray-500",children:b.email}),a.jsx("div",{className:"text-sm text-gray-500",children:b.phone})]}),a.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-medium",children:"Active"})]}):a.jsx("div",{className:"p-4 bg-gray-50 rounded-xl text-gray-500 text-center",children:"No manager assigned"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-5",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-extrabold text-brand-primary",children:r?.activeTerminals||0}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Active Terminals"}),a.jsxs("div",{className:"text-xs text-gray-400",children:["of ",r?.totalTerminals||0," total"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-extrabold text-amber-600",children:r?.registeredCustomers||0}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Registered"}),a.jsx("div",{className:"text-xs text-gray-400",children:"Customers"})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-extrabold text-green-600",children:p}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Active Users"}),a.jsxs("div",{className:"text-xs text-gray-400",children:["of ",g," total"]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-extrabold text-purple-600",children:y?"Active":"Inactive"}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Branch Status"}),a.jsx("div",{className:`text-xs ${y?"text-green-500":"text-red-500"}`,children:y?"Operational":"Closed"})]})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider mb-3",children:["Users in Branch (",g,")"]}),m.length>0?a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:m.map(N=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-9 h-9 bg-brand-soft rounded-full flex items-center justify-center text-brand-primary text-sm font-bold",children:(N.name||N.fullName||"U").split(" ").map(j=>j[0]).join("").substring(0,2)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-800 text-sm",children:N.name||N.fullName}),a.jsx("div",{className:"text-xs text-gray-500",children:N.role})]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.status==="Active"||N.accountStatus==="ACTIVE"?"bg-green-100 text-green-700":"bg-gray-200 text-gray-600"}`,children:N.status||N.accountStatus})]},N.userId||N.id))}):a.jsx("div",{className:"p-4 bg-gray-50 rounded-xl text-gray-500 text-center",children:"No users assigned to this branch"})]}),a.jsxs("div",{className:"mt-5 pt-4 border-t border-gray-100 flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Branch ID: ",r?.branchId||r?.id||r?.code]}),a.jsxs("span",{children:["Created: ",r?.createdAt?new Date(r.createdAt).toLocaleDateString():r?.openedAt||"N/A"]})]})]})]})})}function Dme(){const[e,t]=v.useState([]),[r,n]=v.useState(""),[s,i]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(null),[m,p]=v.useState([]),[g,b]=v.useState(!0),[y,N]=v.useState(!1),[j,S]=v.useState(null);v.useEffect(()=>{const D=async()=>{try{b(!0);const R=await Ec();t(R),S(null)}catch(R){console.error("Failed to fetch branches:",R),S("Failed to load branches")}finally{b(!1)}};D();const M=setInterval(D,3e4);return()=>clearInterval(M)},[]),v.useEffect(()=>{const M=setTimeout(async()=>{if(r.trim())try{N(!0);const R=await fme(r);p(R)}catch{const B=e.filter(K=>K.name?.toLowerCase().includes(r.toLowerCase())||K.address?.toLowerCase().includes(r.toLowerCase())||K.managerName?.toLowerCase().includes(r.toLowerCase()));p(B)}finally{N(!1)}else p([])},300);return()=>clearTimeout(M)},[r,e]),v.useEffect(()=>{(async()=>{if(c)try{const M=await dme(c);f({...M.branch,users:M.users,userCount:M.userCount})}catch(M){console.error("Failed to fetch branch summary:",M);const R=e.find(B=>B.branchId===c||B.id===c);f(R)}})()},[c,e]);const _=e.length,E=e.filter(D=>D.isActive||D.status==="Active").length,k=e.slice(0,2),T=D=>`LKR ${(D||0).toLocaleString()}`;return g?a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6 animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-5"}),a.jsx("div",{className:"space-y-3",children:[1,2].map(D=>a.jsx("div",{className:"h-20 bg-gray-100 rounded-xl"},D))})]}):j?a.jsx("div",{className:"bg-white border border-red-200 rounded-2xl shadow-sm p-6",children:a.jsx("p",{className:"text-red-600 font-medium",children:j})}):a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-5",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Total Branches"}),a.jsxs("p",{className:"text-sm text-gray-500",children:[E," active of ",_]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-3xl font-extrabold text-brand-primary",children:_}),a.jsx("button",{onClick:()=>i(!s),className:"w-10 h-10 bg-brand-soft hover:bg-brand-primary hover:text-white rounded-xl flex items-center justify-center transition-all",title:"Search Branches",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),s&&a.jsxs("div",{className:"relative mb-4",children:[a.jsx("input",{type:"text",placeholder:"Search by branch name, address, or manager...",value:r,onChange:D=>n(D.target.value),className:"w-full px-4 py-3 pl-10 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition-all",autoFocus:!0}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),y&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-lg z-10 p-4 text-center",children:a.jsx("p",{className:"text-gray-500",children:"Searching..."})}),!y&&m.length>0&&a.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-lg z-10 max-h-64 overflow-y-auto",children:m.map(D=>a.jsxs("button",{onClick:()=>{u(D.branchId||D.id),n(""),i(!1)},className:"w-full px-4 py-3 flex items-center gap-3 hover:bg-gray-50 transition-colors text-left border-b border-gray-100 last:border-b-0",children:[a.jsx("div",{className:"w-10 h-10 bg-brand-soft rounded-lg flex items-center justify-center text-brand-primary font-bold",children:D.name?.charAt(0)||"B"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-medium text-gray-800 truncate",children:D.name}),a.jsxs("div",{className:"text-xs text-gray-500 truncate",children:[D.managerName||"No Manager","  ",D.address||D.location]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-bold text-green-600",children:T(D.dailySales)}),a.jsx("div",{className:"text-xs text-gray-400",children:"today"})]})]},D.branchId||D.id))})]}),a.jsx("div",{className:"space-y-3",children:k.map(D=>a.jsx("button",{onClick:()=>u(D.branchId||D.id),className:"w-full p-4 bg-gradient-to-r from-gray-50 to-white border border-gray-100 rounded-xl hover:shadow-md hover:border-brand-primary/30 transition-all text-left group",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-11 h-11 bg-brand-soft group-hover:bg-brand-primary group-hover:text-white rounded-xl flex items-center justify-center font-bold text-brand-primary transition-colors",children:D.name?.charAt(0)||"B"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-gray-800 group-hover:text-brand-primary transition-colors",children:D.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Manager: ",D.managerName||"Not Assigned"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-bold text-green-600",children:T(D.dailySales)}),a.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500 justify-end",children:a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full"}),D.activeTerminals||0," terminals"]})})]})]})},D.branchId||D.id))}),a.jsxs("button",{onClick:()=>i(!0),className:"w-full mt-4 py-2.5 text-sm font-medium text-brand-primary hover:bg-brand-soft rounded-xl transition-colors",children:["View All ",_," Branches "]}),d&&a.jsx(Rme,{branch:d,onClose:()=>{f(null),u(null)}})]})}const Zx=({label:e,count:t,color:r})=>a.jsxs("div",{className:`flex flex-col items-center justify-center p-4 rounded-xl ${r} transition-transform hover:scale-105`,children:[a.jsx("div",{className:"text-2xl font-extrabold text-gray-800",children:(t||0).toLocaleString()}),a.jsx("div",{className:"text-sm font-medium text-gray-600 text-center",children:e})]});function Ime(){const[e,t]=v.useState({totalUsers:0,loyaltyCustomers:0,managers:0,cashiers:0,storeKeepers:0,admins:0}),[r,n]=v.useState(!0),[s,i]=v.useState(null);return v.useEffect(()=>{(async()=>{try{n(!0);const u=await ume();t(u),i(null)}catch(u){console.error("Failed to fetch user stats:",u),i("Failed to load user statistics")}finally{n(!1)}})()},[]),r?a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6 animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-5"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3,4].map(c=>a.jsx("div",{className:"h-20 bg-gray-100 rounded-xl"},c))})]}):s?a.jsx("div",{className:"bg-white border border-red-200 rounded-2xl shadow-sm p-6",children:a.jsx("p",{className:"text-red-600 font-medium",children:s})}):a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-5",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Users by Role"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Total registered: ",e.totalUsers]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(Zx,{label:"Loyalty Customers",count:e.loyaltyCustomers,color:"bg-gradient-to-br from-amber-100 to-amber-50"}),a.jsx(Zx,{label:"Managers",count:e.managers,color:"bg-gradient-to-br from-blue-100 to-blue-50"}),a.jsx(Zx,{label:"Cashiers",count:e.cashiers,color:"bg-gradient-to-br from-green-100 to-green-50"}),a.jsx(Zx,{label:"Store Keepers",count:e.storeKeepers,color:"bg-gradient-to-br from-purple-100 to-purple-50"})]}),a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"System Admins"}),a.jsx("span",{className:"font-bold text-brand-primary",children:e.admins})]})})]})}const zw=["#1F3C88","#2563EB","#16A34A","#F59E0B","#EF4444"];function Mme(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null);v.useEffect(()=>{(async()=>{try{n(!0);const d=await hme();t(d),i(null)}catch(d){console.error("Failed to fetch top branches:",d),i("Failed to load data")}finally{n(!1)}})()},[]);const c=u=>`LKR ${((u||0)/1e3).toFixed(0)}K`;return r?a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6 animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-5"}),a.jsx("div",{className:"h-64 bg-gray-100 rounded"})]}):s?a.jsx("div",{className:"bg-white border border-red-200 rounded-2xl shadow-sm p-6",children:a.jsx("p",{className:"text-red-600 font-medium",children:s})}):a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-5",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Performing Branches"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Today's sales comparison"})]})}),e.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{width:"100%",height:"280px"},children:a.jsx(_y,{width:"100%",height:"100%",children:a.jsxs(yD,{data:e,layout:"vertical",margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx(jp,{type:"number",tickFormatter:c,tick:{fill:"#6B7280",fontSize:12},axisLine:!1,tickLine:!1}),a.jsx(Sp,{type:"category",dataKey:"branchName",tick:{fill:"#374151",fontSize:12,fontWeight:500},axisLine:!1,tickLine:!1,width:100}),a.jsx(Jy,{formatter:u=>[`LKR ${(u||0).toLocaleString()}`,"Sales"],contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},cursor:{fill:"rgba(31, 60, 136, 0.1)"}}),a.jsx(cS,{dataKey:"totalSales",radius:[0,8,8,0],barSize:32,children:e.map((u,d)=>a.jsx(ev,{fill:zw[d%zw.length]},`cell-${d}`))})]})})}),a.jsx("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-gray-100",children:e.slice(0,3).map((u,d)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:zw[d]}}),a.jsxs("span",{className:"text-xs text-gray-600",children:[d+1,". ",u.branchName]})]},u.branchId||u.branchName||d))})]}):a.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No data available"})]})}const n8=["#8B5CF6","#A78BFA","#C4B5FD","#DDD6FE","#EDE9FE"];function Bme(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null);if(v.useEffect(()=>{(async()=>{try{n(!0);const f=await mme();t(f),i(null)}catch(f){console.error("Failed to fetch customer recurrence:",f),i("Failed to load data")}finally{n(!1)}})()},[]),r)return a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6 animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-5"}),a.jsx("div",{className:"h-64 bg-gray-100 rounded"})]});if(s)return a.jsx("div",{className:"bg-white border border-red-200 rounded-2xl shadow-sm p-6",children:a.jsx("p",{className:"text-red-600 font-medium",children:s})});const c=e.length>0?Math.round(e.reduce((d,f)=>d+(f.recurrenceRate||0),0)/e.length):0,u=e.reduce((d,f)=>d+(f.totalVisits||0),0);return a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-5",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Customer Recurrence Rate"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Repeat customer visits by branch"})]})}),e.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{width:"100%",height:"280px"},children:a.jsx(_y,{width:"100%",height:"100%",children:a.jsxs(yD,{data:e,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(jp,{dataKey:"name",tick:{fill:"#374151",fontSize:11},axisLine:!1,tickLine:!1,interval:0,angle:-15,textAnchor:"end",height:60}),a.jsx(Sp,{tick:{fill:"#6B7280",fontSize:12},axisLine:!1,tickLine:!1,domain:[0,100],tickFormatter:d=>`${d}%`}),a.jsx(Jy,{formatter:(d,f)=>f==="recurrenceRate"?[`${d}%`,"Recurrence Rate"]:[(d||0).toLocaleString(),"Total Visits"],contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},cursor:{fill:"rgba(139, 92, 246, 0.1)"}}),a.jsxs(cS,{dataKey:"recurrenceRate",radius:[8,8,0,0],barSize:40,children:[e.map((d,f)=>a.jsx(ev,{fill:n8[f%n8.length]},`cell-${f}`)),a.jsx(w0,{dataKey:"recurrenceRate",position:"top",formatter:d=>`${d}%`,fill:"#374151",fontSize:12,fontWeight:600})]})]})})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-100",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[c,"%"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Avg. Recurrence"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:u.toLocaleString()}),a.jsx("div",{className:"text-xs text-gray-500",children:"Total Visits Today"})]})]})]}):a.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:"No data available"})]})}const zme=["#FFD700","#C0C0C0","#CD7F32"],Fme=({manager:e,rank:t})=>{const r=t<=3,n=zme[t-1],s=(e.name||e.fullName||"").split(" ").map(i=>i[0]).join("").substring(0,2);return a.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl transition-all hover:shadow-md ${t===1?"bg-gradient-to-r from-amber-50 to-yellow-50 border border-amber-200":"bg-gray-50 hover:bg-gray-100"}`,children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg ${t===1?"bg-gradient-to-br from-amber-400 to-amber-600":t===2?"bg-gradient-to-br from-gray-300 to-gray-500":t===3?"bg-gradient-to-br from-amber-600 to-amber-800":"bg-brand-primary"}`,children:s}),r&&a.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold border-2 border-white",style:{backgroundColor:n},children:t})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:"font-bold text-gray-800 truncate",children:e.name||e.fullName})}),a.jsx("div",{className:"text-sm text-gray-500 truncate",children:e.branch||e.branchName})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-bold text-green-600",children:["LKR ",((e.sales||0)/1e3).toFixed(0),"K"]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 justify-end",children:[a.jsxs("span",{children:[e.rating||0," rating"]}),a.jsx("span",{className:"text-gray-300",children:"|"}),a.jsxs("span",{children:[e.transactions||0," txns"]})]})]})]})};function Ume(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null);if(v.useEffect(()=>{(async()=>{try{n(!0);const d=await pme();t(d),i(null)}catch(d){console.error("Failed to fetch top managers:",d),i("Failed to load data")}finally{n(!1)}})()},[]),r)return a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6 animate-pulse",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-5"}),a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>a.jsx("div",{className:"h-16 bg-gray-100 rounded-xl"},u))})]});if(s)return a.jsx("div",{className:"bg-white border border-red-200 rounded-2xl shadow-sm p-6",children:a.jsx("p",{className:"text-red-600 font-medium",children:s})});const c=e.reduce((u,d)=>u+(d.sales||0),0);return a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-5",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Top Performing Managers"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Based on today's sales"})]})}),e.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"space-y-3",children:e.map((u,d)=>a.jsx(Fme,{manager:u,rank:d+1},u.userId||u.id||d))}),a.jsx("div",{className:"mt-5 pt-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Total Manager Sales Today"}),a.jsxs("span",{className:"font-bold text-brand-primary",children:["LKR ",c.toLocaleString()]})]})})]}):a.jsx("div",{className:"py-8 text-center text-gray-500",children:"No data available"})]})}const Jx=({label:e,onClick:t,color:r="brand"})=>{const n={brand:"bg-brand-primary hover:bg-brand-secondary text-white",green:"bg-green-600 hover:bg-green-700 text-white",amber:"bg-amber-500 hover:bg-amber-600 text-white",purple:"bg-purple-600 hover:bg-purple-700 text-white"};return a.jsx("button",{onClick:t,className:`flex items-center justify-center p-4 rounded-xl ${n[r]} font-medium transition-all hover:shadow-lg hover:-translate-y-0.5 text-center`,children:e})};function qme(){const e=Vl();return a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-5",children:a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Quick Actions"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Admin control panel shortcuts"})]})}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsx(Jx,{label:"Manage Users",onClick:()=>e("/admin/users"),color:"brand"}),a.jsx(Jx,{label:"Manage Branches",onClick:()=>e("/admin/branches"),color:"green"}),a.jsx(Jx,{label:"Terminals",onClick:()=>e("/admin/terminals"),color:"amber"}),a.jsx(Jx,{label:"Reports",onClick:()=>e("/admin/reports"),color:"purple"})]})]})}function a8(){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-extrabold text-gray-800",children:"Admin Dashboard"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"System-wide overview and performance metrics"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-5",children:[a.jsx(Tme,{}),a.jsx(Dme,{}),a.jsx(Ime,{})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[a.jsx(Mme,{}),a.jsx(Bme,{})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-5",children:[a.jsx(Ume,{}),a.jsx(qme,{})]})]})}function $me(){const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(!0),[c,u]=v.useState(!1),[d,f]=v.useState(null),[m,p]=v.useState(""),[g,b]=v.useState(""),[y,N]=v.useState(""),[j,S]=v.useState(""),[_,E]=v.useState(""),[k,T]=v.useState(""),[D,M]=v.useState(null),[R,B]=v.useState(null),[K,U]=v.useState(null),[F,X]=v.useState({top:0,left:0}),[Q,pe]=v.useState(!1),re=v.useRef({}),ue=v.useRef(null),V=ce=>{if(D===ce)M(null);else{const oe=re.current[ce];if(oe){const me=oe.getBoundingClientRect();X({top:me.bottom+window.scrollY+4,left:me.left+window.scrollX-120})}M(ce)}};v.useEffect(()=>{(async()=>{try{i(!0);const[oe,me]=await Promise.all([Uu(),Ec()]);t(oe||[]),n(me||[]),me?.length>0&&E(me[0].id||me[0].branchId||me[0].branch_id||"")}catch(oe){console.error("Error fetching data:",oe),f("Failed to load data")}finally{i(!1)}})()},[]),v.useEffect(()=>{if(ue.current&&clearTimeout(ue.current),!k.trim()){(async()=>{try{const oe=await Uu();t(oe||[])}catch(oe){console.error("Error fetching users:",oe)}})();return}return ue.current=setTimeout(async()=>{try{u(!0);const ce=await bme(k.trim());t(ce||[])}catch(ce){console.error("Error searching users:",ce)}finally{u(!1)}},300),()=>{ue.current&&clearTimeout(ue.current)}},[k]);function Z(){p(""),b(""),N(""),S(""),E(r[0]?.id||r[0]?.branchId||r[0]?.branch_id||""),B(null)}function ge(ce){B(ce),p(ce.fullName||ce.full_name||""),b(ce.username||""),N(ce.email||""),S(ce.employeeId||ce.employee_id||"");const oe=ce.branch?.branchId||ce.branch?.id||ce.branchId||ce.branch_id||"";E(oe),M(null)}async function G(ce){if(ce.preventDefault(),!m.trim()||!y.trim())return alert("Full name and email are required");try{pe(!0);const oe=R.userId||R.user_id||R.id;await vme(oe,{fullName:m.trim(),email:y.trim(),employeeId:j.trim(),branchId:_});const me=await Uu();t(me||[]),Z()}catch(oe){console.error("Error updating user:",oe),alert("Failed to update user. Please try again.")}finally{pe(!1)}}async function P(ce){if(window.confirm("Are you sure you want to delete this user?"))try{await wme(ce);const oe=await Uu();t(oe||[]),M(null)}catch(oe){console.error("Error deleting user:",oe),alert("Failed to delete user. Please try again.")}}async function H(ce){ce.preventDefault();const oe=m.trim(),me=g.trim(),Ae=y.trim(),xe=j.trim();if(!oe||!me||!Ae){alert("Full name, username and email are required.");return}try{pe(!0),await yme({fullName:oe,username:me,email:Ae,employeeId:xe,branchId:_,role:"BRANCH_MANAGER",status:"ACTIVE"});const Ie=await Uu();t(Ie||[]),Z()}catch(Ie){console.error("Error registering manager:",Ie),Ie.response?.data?.message?.includes("username")?alert("Username already exists. Please choose another."):Ie.response?.data?.message?.includes("employee")?alert("Employee ID already exists. Please use a different ID."):alert("Failed to register manager. Please try again.")}finally{pe(!1)}}async function $(ce){try{await Nme(ce);const oe=await Uu();t(oe||[]),M(null)}catch(oe){console.error("Error toggling status:",oe),alert("Failed to update user status. Please try again.")}}if(s)return a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(_r,{className:"w-8 h-8 animate-spin text-brand-primary"})});if(d)return a.jsx("div",{className:"flex items-center justify-center h-64 text-red-500",children:d});const ae=ce=>ce.userId||ce.user_id||ce.id,le=ce=>ce.accountStatus||ce.account_status||ce.status||"INACTIVE",be=ce=>ce==="ACTIVE"||ce==="Active";return a.jsxs("div",{className:"space-y-4",onClick:()=>M(null),children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-extrabold",children:"User Management"}),a.jsxs("p",{className:"text-sm text-brand-muted",children:["Admin can register ",a.jsx("span",{className:"font-bold",children:"Managers only"}),". New managers are created as ",a.jsx("span",{className:"font-bold",children:"Active"}),". Search any user by Employee ID or Name."]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:`lg:col-span-1 bg-white border rounded-2xl shadow-sm p-5 transition-all duration-300 ${R?"border-blue-400 ring-2 ring-blue-100":"border-brand-border"}`,children:[R&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 px-3 py-2 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx(lo,{size:16,className:"text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Editing: ",R.fullName||R.full_name]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(EN,{size:18,className:"text-brand-primary"}),a.jsx("span",{className:"font-bold",children:R?"Edit User":"Register New Manager"})]}),R&&a.jsx("button",{type:"button",onClick:Z,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Qt,{size:18})})]}),a.jsxs("form",{onSubmit:R?G:H,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Full Name"}),a.jsx("input",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary",value:m,onChange:ce=>p(ce.target.value),placeholder:"e.g., Nimal Perera"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Username"}),a.jsx("input",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary disabled:bg-gray-100 disabled:text-gray-500",value:g,onChange:ce=>b(ce.target.value),placeholder:"e.g., nimal",disabled:!!R})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Employee ID"}),a.jsx("input",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary",value:j,onChange:ce=>S(ce.target.value),placeholder:"e.g., EMP001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Email"}),a.jsx("input",{type:"email",className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary",value:y,onChange:ce=>N(ce.target.value),placeholder:"e.g., nimal@smartretailpro.lk"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Assign to Branch"}),a.jsx("select",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border bg-white",value:_,onChange:ce=>E(ce.target.value),children:r.map(ce=>a.jsx("option",{value:ce.id||ce.branchId||ce.branch_id,children:ce.name||ce.branchName||ce.branch_name},ce.id||ce.branchId||ce.branch_id))})]}),!R&&a.jsx("div",{className:"bg-indigo-50 border border-indigo-200 rounded-xl p-3",children:a.jsxs("p",{className:"text-xs text-indigo-700",children:[a.jsx("span",{className:"font-bold",children:"Role:"})," Manager (Admin can only register Managers)"]})}),a.jsxs("button",{type:"submit",disabled:Q,className:"w-full py-2 rounded-xl bg-brand-primary hover:bg-brand-secondary text-white font-bold transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[Q&&a.jsx(_r,{size:16,className:"animate-spin"}),R?"Save Changes":"Register Manager"]})]})]}),a.jsxs("div",{className:"lg:col-span-2 bg-white border border-brand-border rounded-2xl shadow-sm overflow-visible",children:[a.jsxs("div",{className:"p-5 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("div",{className:"font-bold",children:"All Users"}),a.jsxs("div",{className:"relative",children:[a.jsx(Aa,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),a.jsx("input",{value:k,onChange:ce=>T(ce.target.value),placeholder:"Search by Employee ID or Name...",className:"w-full sm:w-80 pl-9 pr-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary"}),c&&a.jsx(_r,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 animate-spin"})]})]}),a.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3",children:"User"}),a.jsx("th",{className:"text-left p-3",children:"Employee ID"}),a.jsx("th",{className:"text-left p-3",children:"Role"}),a.jsx("th",{className:"text-left p-3",children:"Branch"}),a.jsx("th",{className:"text-center p-3",children:"Status"}),a.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),a.jsxs("tbody",{children:[e.map(ce=>{const oe=ae(ce),me=le(ce);return a.jsxs("tr",{className:"border-t hover:bg-slate-50",children:[a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-indigo-100 text-indigo-600",children:a.jsx(uo,{size:18})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-gray-900",children:ce.fullName||ce.full_name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["@",ce.username,"  ",ce.email]})]})]})}),a.jsx("td",{className:"p-3 font-mono text-gray-600",children:ce.employeeId||ce.employee_id||"-"}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${(ce.role||"").toUpperCase()==="MANAGER"||(ce.role||"").toUpperCase()==="BRANCH_MANAGER"?"bg-purple-100 text-purple-700":(ce.role||"").toUpperCase()==="CASHIER"?"bg-blue-100 text-blue-700":(ce.role||"").toUpperCase()==="ADMIN"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700"}`,children:ce.role||"N/A"})}),a.jsx("td",{className:"p-3",children:ce.branch?.name||ce.branchName||ce.branch_name||"-"}),a.jsx("td",{className:"p-3 text-center",children:a.jsx("span",{className:`text-xs px-3 py-1 rounded-full font-bold ${be(me)?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:me})}),a.jsx("td",{className:"p-3 text-right relative",children:a.jsx("button",{ref:Ae=>re.current[oe]=Ae,onClick:Ae=>{Ae.stopPropagation(),V(oe)},className:"p-2 hover:bg-gray-100 rounded-lg transition",children:a.jsx(Qb,{size:18})})})]},oe)}),e.length===0&&a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"p-6 text-center text-brand-muted",children:"No users found"})})]})]})})]})]}),D&&Vu.createPortal(a.jsxs("div",{className:"fixed bg-white border border-gray-200 rounded-xl shadow-lg py-1 min-w-[160px] z-[200]",style:{top:F.top,left:F.left},onClick:ce=>ce.stopPropagation(),children:[a.jsxs("button",{onClick:()=>{const ce=e.find(oe=>ae(oe)===D);U(ce),M(null)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(Zb,{size:16,className:"text-gray-500"}),"View Details"]}),a.jsxs("button",{onClick:()=>ge(e.find(ce=>ae(ce)===D)),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(lo,{size:16,className:"text-blue-500"}),"Edit User"]}),a.jsxs("button",{onClick:()=>{$(D)},className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(_0,{size:16,className:"text-orange-500"}),be(le(e.find(ce=>ae(ce)===D)))?"Deactivate":"Activate"]}),a.jsxs("button",{onClick:()=>P(D),className:"w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 text-red-600",children:[a.jsx(ni,{size:16}),"Delete User"]})]}),document.body),K&&Vu.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[300]",children:a.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold",children:"User Details"}),a.jsx("button",{onClick:()=>U(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:a.jsx(Qt,{size:20})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-3 rounded-xl bg-indigo-100 text-indigo-600",children:a.jsx(uo,{size:24})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-lg",children:K.fullName||K.full_name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["@",K.username]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[a.jsx("div",{className:"text-gray-500 text-xs",children:"Employee ID"}),a.jsx("div",{className:"font-medium font-mono",children:K.employeeId||K.employee_id||"-"})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[a.jsx("div",{className:"text-gray-500 text-xs",children:"Email"}),a.jsx("div",{className:"font-medium truncate",children:K.email})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[a.jsx("div",{className:"text-gray-500 text-xs",children:"Role"}),a.jsx("div",{className:"font-medium",children:K.role})]}),a.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[a.jsx("div",{className:"text-gray-500 text-xs",children:"Branch"}),a.jsx("div",{className:"font-medium",children:K.branch?.name||K.branchName||K.branch_name||"-"})]}),a.jsxs("div",{className:"col-span-2 bg-gray-50 p-3 rounded-xl",children:[a.jsx("div",{className:"text-gray-500 text-xs",children:"Status"}),a.jsx("div",{className:`font-medium ${be(le(K))?"text-green-600":"text-red-600"}`,children:le(K)})]})]})]}),a.jsx("button",{onClick:()=>U(null),className:"w-full mt-4 py-2 rounded-xl bg-gray-100 hover:bg-gray-200 font-medium transition",children:"Close"})]})}),document.body)]})}function Hme(){return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-xl font-extrabold",children:"Reports"}),a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm p-5",children:[a.jsx("div",{className:"font-bold mb-1",children:"Coming soon"}),a.jsx("p",{className:"text-sm text-brand-muted",children:"Add Daily Sales, Stock Reports, Export PDF/Excel later."})]})]})}const Gme=e=>{const t=e.toUpperCase();return t.includes("ERROR")||t.includes("CRITICAL")||t.includes("DELETE")?"bg-brand-danger":t.includes("WARNING")||t.includes("UPDATE")?"bg-brand-warning":t.includes("LOGIN")||t.includes("CREATE")?"bg-brand-success":"bg-slate-500"};function Kme(){const[e,t]=v.useState(""),[r,n]=v.useState("All"),[s,i]=v.useState("All"),[c,u]=v.useState([]),[d,f]=v.useState([]),[m,p]=v.useState([]),[g,b]=v.useState(!0),[y,N]=v.useState(null);v.useEffect(()=>{(async()=>{try{b(!0);const[M,R,B]=await Promise.all([r8(),Ec(),Uu()]);u(M||[]),f(R||[]),p(B||[])}catch(M){console.error("Error fetching data:",M),N("Failed to load activity logs")}finally{b(!1)}})()},[]);async function j(){try{b(!0);const D={};r!=="All"&&(D.type=r),s!=="All"&&(D.branchId=s);const M=await r8(D);u(M||[])}catch(D){console.error("Error refreshing logs:",D)}finally{b(!1)}}const S=D=>{if(!D)return"-";const M=d.find(R=>(R.id||R.branchId)===D);return M?M.name||M.branchName:"Unknown Branch"},_=D=>{if(!D)return"-";const M=m.find(R=>(R.userId||R.id)===D);return M?M.fullName||M.username:`User ${D}`},E=D=>D.id||D.branchId||D.branch_id,k=D=>D.name||D.branchName||D.branch_name,T=c.filter(D=>{const M=r==="All"?!0:D.activityType===r,R=s==="All"?!0:D.branchId==s;if(!M||!R)return!1;const B=e.trim().toLowerCase();if(!B)return!0;const K=(D.createdAt||"").toLowerCase(),U=_(D.userId||D.performedBy).toLowerCase(),F=(D.description||"").toLowerCase(),X=(D.activityType||"").toLowerCase(),Q=S(D.branchId).toLowerCase();return K.includes(B)||U.includes(B)||X.includes(B)||F.includes(B)||Q.includes(B)});return g?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(_r,{className:"w-8 h-8 animate-spin text-brand-primary"})}):y?a.jsx("div",{className:"flex items-center justify-center h-64 text-red-500",children:y}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-extrabold",children:"System Activity (Merged Logs)"}),a.jsx("p",{className:"text-sm text-brand-muted",children:"Includes system actions and login history in one place."})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsx("button",{type:"button",onClick:j,className:"hidden sm:inline-flex items-center justify-center px-3 py-2 rounded-xl bg-slate-100 border border-brand-border hover:bg-slate-200 transition text-sm font-bold",children:"Refresh"}),a.jsxs("select",{value:r,onChange:D=>n(D.target.value),className:"w-40 px-3 py-2 rounded-xl border border-brand-border bg-white text-sm",children:[a.jsx("option",{children:"All"}),a.jsx("option",{value:"LOGIN",children:"Login"}),a.jsx("option",{value:"LOGOUT",children:"Logout"}),a.jsx("option",{value:"CREATE",children:"Create"}),a.jsx("option",{value:"UPDATE",children:"Update"}),a.jsx("option",{value:"DELETE",children:"Delete"}),a.jsx("option",{value:"ERROR",children:"Error"})]}),a.jsxs("select",{value:s,onChange:D=>i(D.target.value),className:"w-40 px-3 py-2 rounded-xl border border-brand-border bg-white text-sm",children:[a.jsx("option",{value:"All",children:"All Branches"}),d.map(D=>a.jsx("option",{value:E(D),children:k(D)},E(D)))]}),a.jsx("input",{value:e,onChange:D=>t(D.target.value),placeholder:"Search...",className:"flex-1 sm:w-80 px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary"})]})]}),a.jsxs("div",{className:"bg-white border border-brand-border rounded-2xl shadow-sm overflow-hidden",children:[a.jsx("div",{className:"p-5 font-bold",children:"Audit Log"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3",children:"Time"}),a.jsx("th",{className:"text-left p-3",children:"Actor"}),a.jsx("th",{className:"text-left p-3",children:"Branch"}),a.jsx("th",{className:"text-left p-3",children:"Type"}),a.jsx("th",{className:"text-left p-3",children:"Action"}),a.jsx("th",{className:"text-left p-3",children:"Severity (Type)"})]})}),a.jsxs("tbody",{children:[T.map((D,M)=>{const R=D.activityId||M,B=D.createdAt?new Date(D.createdAt).toLocaleString():"-",K=_(D.userId||D.performedBy),U=S(D.branchId),F=D.description||"-",X=D.activityType||"UNKNOWN";return a.jsxs("tr",{className:"border-t hover:bg-slate-50",children:[a.jsx("td",{className:"p-3 text-brand-muted whitespace-nowrap",children:B}),a.jsx("td",{className:"p-3 font-medium text-slate-900 whitespace-nowrap",children:K}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 border border-blue-300 text-blue-700",children:U})}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-slate-100 border border-brand-border",children:X})}),a.jsx("td",{className:"p-3 max-w-xs truncate",title:F,children:F}),a.jsx("td",{className:"p-3",children:a.jsx("span",{className:`text-xs px-3 py-1 rounded-full text-white font-bold ${Gme(X)}`,children:X})})]},R)}),T.length===0&&a.jsx("tr",{children:a.jsx("td",{className:"p-6 text-center text-brand-muted",colSpan:6,children:"No activity found"})})]})]})})]})]})}function Vme(){const[e,t]=v.useState(""),[r,n]=v.useState([]),[s,i]=v.useState({code:"",branchName:"",address:"",managerId:"",status:"INACTIVE"}),[c,u]=v.useState([]),[d,f]=v.useState(null),[m,p]=v.useState([]),[g,b]=v.useState(null),[y,N]=v.useState(null),[j,S]=v.useState({top:0,left:0}),[_,E]=v.useState(!0),[k,T]=v.useState(!1),[D,M]=v.useState(null),R=v.useRef({}),B=P=>{if(g===P)b(null);else{const H=R.current[P];if(H){const $=H.getBoundingClientRect();S({top:$.bottom+window.scrollY+4,left:$.left+window.scrollX-160})}b(P)}};v.useEffect(()=>{(async()=>{try{E(!0);const[H,$]=await Promise.all([Ec(),Cme()]);n(H||[]),u($||[])}catch(H){console.error("Error fetching data:",H),M("Failed to load data")}finally{E(!1)}})()},[]);const K=r.filter(P=>{const H=e.trim().toLowerCase();if(!H)return!0;const $=P.code||"",ae=P.branchName||P.branch_name||P.name||"",le=P.address||"",be=P.status||"";return $.toLowerCase().includes(H)||ae.toLowerCase().includes(H)||le.toLowerCase().includes(H)||be.toLowerCase().includes(H)}),U=()=>{i({code:"",branchName:"",address:"",managerId:"",status:"INACTIVE"}),N(null)};async function F(P){if(P.preventDefault(),!s.code||!s.branchName)return alert("Branch Code and Name are required");try{T(!0);const H={code:s.code,name:s.branchName,address:s.address,managerId:s.managerId,isActive:s.status==="ACTIVE"};await jme(H);const $=await Ec();n($||[]),U()}catch(H){console.error("Error creating branch:",H);const $=H.response?.data?.message||"";$.includes("exists")||$.includes("Duplicate")?alert("Branch Code already exists"):alert("Failed to create branch. Please try again.")}finally{T(!1)}}async function X(P){try{await _me(P);const H=await Ec();n(H||[]),b(null)}catch(H){console.error("Error toggling status:",H),alert("Failed to update branch status. Please try again.")}}function Q(P){N(P),i({code:P.code||"",branchName:P.branchName||P.branch_name||P.name||"",address:P.address||"",managerId:P.managerId||P.manager_id||"",status:G(P)?"ACTIVE":"INACTIVE"}),b(null)}async function pe(P){if(P.preventDefault(),!s.branchName)return alert("Branch Name is required");try{T(!0);const H=V(y),$={code:s.code,name:s.branchName,address:s.address,managerId:s.managerId,isActive:s.status==="ACTIVE"};await Sme(H,$);const ae=await Ec();n(ae||[]),U()}catch(H){console.error("Error updating branch:",H),alert("Failed to update branch. Please try again.")}finally{T(!1)}}async function re(P){if(window.confirm("Are you sure you want to delete this branch?"))try{await Ame(P);const H=await Ec();n(H||[]),b(null)}catch(H){console.error("Error deleting branch:",H),alert("Failed to delete branch. Please try again.")}}async function ue(P){f(P),b(null);try{const H=V(P),$=await Eme(H);p($||[])}catch(H){console.error("Error fetching branch users:",H),p([])}}const V=P=>P.id||P.branchId||P.branch_id,Z=P=>P.name||P.branchName||P.branch_name,ge=P=>G(P)?"ACTIVE":"INACTIVE",G=P=>typeof P=="object"?P.isActive===!0||P.status==="ACTIVE"||P.status==="Active":P==="ACTIVE"||P==="Active"||P===!0;return _?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(_r,{className:"w-8 h-8 animate-spin text-brand-primary"})}):D?a.jsx("div",{className:"flex items-center justify-center h-64 text-red-500",children:D}):a.jsxs("div",{className:"space-y-4",onClick:()=>b(null),children:[a.jsx("h1",{className:"text-xl font-extrabold",children:"Create & Manage Branches"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:`lg:col-span-1 bg-white border rounded-2xl shadow-sm p-5 transition-all duration-300 ${y?"border-blue-400 ring-2 ring-blue-100":"border-brand-border"}`,children:[y&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 px-3 py-2 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx(lo,{size:16,className:"text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Editing: ",Z(y)]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"font-bold",children:y?"Edit Branch":"Add New Branch"}),y&&a.jsx("button",{onClick:U,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Qt,{size:18})})]}),a.jsxs("form",{onSubmit:y?pe:F,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Branch Code (ID)"}),a.jsx("input",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary disabled:bg-gray-100 disabled:text-gray-500",placeholder:"e.g., BR-004",value:s.code,onChange:P=>i({...s,code:P.target.value}),disabled:!!y})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Branch Name"}),a.jsx("input",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary",placeholder:"e.g., Colombo Branch",value:s.branchName,onChange:P=>i({...s,branchName:P.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Address / City"}),a.jsx("input",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary",placeholder:"e.g., Colombo",value:s.address,onChange:P=>i({...s,address:P.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Branch Manager"}),a.jsxs("select",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border bg-white",value:s.managerId,onChange:P=>i({...s,managerId:P.target.value}),children:[a.jsx("option",{value:"",children:"Select Manager"}),c.map(P=>{const H=P.userId||P.user_id||P.id,$=P.fullName||P.full_name;return a.jsx("option",{value:H,children:$},H)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Status"}),a.jsxs("select",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border bg-white",value:s.status,onChange:P=>i({...s,status:P.target.value}),children:[a.jsx("option",{value:"ACTIVE",children:"Active"}),a.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]}),a.jsxs("button",{type:"submit",disabled:k,className:"w-full py-2 rounded-xl bg-brand-primary hover:bg-brand-secondary text-white font-bold transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[k&&a.jsx(_r,{size:16,className:"animate-spin"}),y?"Save Changes":"Create Branch"]})]})]}),a.jsxs("div",{className:"lg:col-span-2 bg-white border border-brand-border rounded-2xl shadow-sm overflow-visible",children:[a.jsxs("div",{className:"p-5 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("div",{className:"font-bold",children:"Branch List"}),a.jsx("input",{value:e,onChange:P=>t(P.target.value),placeholder:"Search branch...",className:"w-full sm:w-80 px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary"})]}),a.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3",children:"Branch ID"}),a.jsx("th",{className:"text-left p-3",children:"Name"}),a.jsx("th",{className:"text-left p-3",children:"Address"}),a.jsx("th",{className:"text-left p-3",children:"Manager"}),a.jsx("th",{className:"text-center p-3",children:"Status"}),a.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),a.jsxs("tbody",{children:[K.map(P=>{const H=V(P),$=Z(P),ae=P.managerName||P.manager_name||P.manager||"-";return a.jsxs("tr",{className:"border-t hover:bg-slate-50",children:[a.jsx("td",{className:"p-3 font-mono text-xs",children:H}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-blue-100 text-blue-600",children:a.jsx($w,{size:18})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-bold text-gray-900",children:$}),a.jsx("span",{className:"text-xs text-gray-500",children:P.address})]})]})}),a.jsx("td",{className:"p-3",children:P.address}),a.jsx("td",{className:"p-3 text-sm",children:ae}),a.jsx("td",{className:"p-3 text-center",children:a.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-medium ${G(P)?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:ge(P)})}),a.jsx("td",{className:"p-3 text-right",children:a.jsx("button",{ref:le=>R.current[H]=le,onClick:le=>{le.stopPropagation(),B(H)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:a.jsx(Qb,{size:16})})})]},H)}),K.length===0&&a.jsx("tr",{children:a.jsx("td",{className:"p-6 text-center text-brand-muted",colSpan:6,children:"No branches found"})})]})]})})]})]}),g&&Vu.createPortal(a.jsxs("div",{className:"fixed w-48 bg-white rounded-lg shadow-xl border border-gray-100 z-[200] py-1",style:{top:j.top,left:j.left},onClick:P=>P.stopPropagation(),children:[a.jsxs("button",{onClick:()=>ue(r.find(P=>V(P)===g)),className:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(Zb,{size:14})," View Details"]}),a.jsxs("button",{onClick:()=>Q(r.find(P=>V(P)===g)),className:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(lo,{size:14})," Edit Branch"]}),a.jsxs("button",{onClick:()=>X(g),className:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(_0,{size:14})," ",G(r.find(P=>V(P)===g))?"Deactivate":"Activate"]}),a.jsx("div",{className:"h-px bg-gray-100 my-1"}),a.jsxs("button",{onClick:()=>re(g),className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[a.jsx(ni,{size:14})," Delete"]})]}),document.body),d&&Vu.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-brand-border sticky top-0 bg-white",children:[a.jsx("h2",{className:"text-2xl font-extrabold",children:Z(d)}),a.jsx("button",{onClick:()=>{f(null),p([])},className:"text-slate-500 hover:text-slate-700 transition",children:a.jsx(Qt,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-slate-600 mb-1",children:"Branch ID"}),a.jsx("div",{className:"text-lg font-mono",children:V(d)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-slate-600 mb-1",children:"Location"}),a.jsx("div",{className:"text-lg",children:d.address})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-slate-600 mb-2",children:"Branch Manager"}),a.jsx("div",{className:"bg-blue-50 p-4 rounded-xl border border-blue-200",children:d.managerName||d.manager_name||d.manager?a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-blue-900",children:d.managerName||d.manager_name||d.manager}),a.jsx("div",{className:"text-sm text-blue-700",children:"Assigned Manager"})]}):a.jsx("div",{className:"text-slate-500",children:"No manager assigned"})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-bold text-slate-600 mb-2",children:["Users (",m.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:m.length>0?m.map(P=>{const H=P.userId||P.user_id||P.id,$=P.fullName||P.full_name;return a.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[a.jsx("div",{className:"font-bold text-sm",children:$}),a.jsxs("div",{className:"text-xs text-slate-600",children:[P.role,"  @",P.username]})]},H)}):a.jsx("div",{className:"text-slate-500 text-sm p-3",children:"No users assigned to this branch"})})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-slate-600 mb-2",children:"Status"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold text-white ${G(d)?"bg-brand-success":"bg-slate-500"}`,children:ge(d)})]})]})]})}),document.body)]})}function Wme(){const[e,t]=v.useState(""),[r,n]=v.useState([]),[s,i]=v.useState({terminalId:"",terminalName:"",branchId:"",location:"",assignedUserId:"",status:"INACTIVE"}),[c,u]=v.useState([]),[d,f]=v.useState([]),[m,p]=v.useState(null),[g,b]=v.useState(null),[y,N]=v.useState(null),[j,S]=v.useState({top:0,left:0}),[_,E]=v.useState(!0),[k,T]=v.useState(!1),[D,M]=v.useState(null),R=v.useRef({}),B=P=>{if(g===P)b(null);else{const H=R.current[P];if(H){const $=H.getBoundingClientRect();S({top:$.bottom+window.scrollY+4,left:$.left+window.scrollX-160})}b(P)}};v.useEffect(()=>{(async()=>{try{E(!0);const[H,$,ae]=await Promise.all([m0(),Uu(),Ec()]);n(H||[]),u($||[]),f(ae||[])}catch(H){console.error("Error fetching data:",H),M("Failed to load data")}finally{E(!1)}})()},[]);const K=r.filter(P=>{const H=e.trim().toLowerCase();if(!H)return!0;const $=P.terminalCode||"",ae=P.name||P.terminalName||"",le=d.find(ce=>ue(ce)===P.branchId),be=le?V(le):"";return $.toLowerCase().includes(H)||ae.toLowerCase().includes(H)||be.toLowerCase().includes(H)}),U=()=>{i({terminalId:"",terminalName:"",branchId:"",location:"",assignedUserId:"",status:"INACTIVE"}),N(null)};async function F(P){if(P.preventDefault(),!s.terminalId||!s.terminalName||!s.branchId)return alert("Terminal ID, Name, and Branch are required");try{T(!0);const H={terminalCode:s.terminalId,name:s.terminalName,branchId:s.branchId,isActive:s.status==="ACTIVE"};await kme(H);const $=await m0();n($||[]),U()}catch(H){console.error("Error creating terminal:",H);const $=H.response?.data?.message||"";$.includes("exists")||$.includes("Duplicate")?alert("Terminal ID already exists"):alert("Failed to create terminal. Please try again.")}finally{T(!1)}}async function X(P){try{await Lme(P);const H=await m0();n(H||[]),b(null)}catch(H){console.error("Error toggling status:",H),alert("Failed to update terminal status. Please try again.")}}function Q(P){N(P),i({terminalId:P.terminalCode||"",terminalName:P.name||"",branchId:P.branchId||"",location:"",assignedUserId:"",status:P.isActive?"ACTIVE":"INACTIVE"}),b(null)}async function pe(P){if(P.preventDefault(),!s.terminalName||!s.branchId)return alert("Terminal Name and Branch are required");try{T(!0);const H=y.terminalId,$={terminalCode:s.terminalId,name:s.terminalName,branchId:s.branchId,isActive:s.status==="ACTIVE"};await Ome(H,$);const ae=await m0();n(ae||[]),U()}catch(H){console.error("Error updating terminal:",H),alert("Failed to update terminal. Please try again.")}finally{T(!1)}}async function re(P){if(window.confirm("Are you sure you want to delete this terminal?"))try{await Pme(P);const H=await m0();n(H||[]),b(null)}catch(H){console.error("Error deleting terminal:",H),alert("Failed to delete terminal. Please try again.")}}const ue=P=>P.id||P.branchId||P.branch_id,V=P=>P.name||P.branchName||P.branch_name,Z=P=>P.terminalId,ge=P=>P.terminalCode,G=P=>P===void 0?!1:typeof P=="object"?P.isActive===!0:P==="ACTIVE"||P==="Active"||P===!0;return _?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(_r,{className:"w-8 h-8 animate-spin text-brand-primary"})}):D?a.jsx("div",{className:"flex items-center justify-center h-64 text-red-500",children:D}):a.jsxs("div",{className:"space-y-4",onClick:()=>b(null),children:[a.jsx("h1",{className:"text-xl font-extrabold",children:"Terminal Management"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:`lg:col-span-1 bg-white border rounded-2xl shadow-sm p-5 transition-all duration-300 ${y?"border-blue-400 ring-2 ring-blue-100":"border-brand-border"}`,children:[y&&a.jsxs("div",{className:"flex items-center gap-2 mb-3 px-3 py-2 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx(lo,{size:16,className:"text-blue-600"}),a.jsxs("span",{className:"text-sm font-medium text-blue-700",children:["Editing: ",y.name]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:"font-bold",children:y?"Edit Terminal":"Add New Terminal"}),y&&a.jsx("button",{onClick:U,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Qt,{size:18})})]}),a.jsxs("form",{onSubmit:y?pe:F,className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Terminal ID (Code)"}),a.jsx("input",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary disabled:bg-gray-100 disabled:text-gray-500",placeholder:"e.g., POS-004",value:s.terminalId,onChange:P=>i({...s,terminalId:P.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Terminal Name"}),a.jsx("input",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary",placeholder:"e.g., Terminal 4",value:s.terminalName,onChange:P=>i({...s,terminalName:P.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Branch"}),a.jsxs("select",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border bg-white",value:s.branchId,onChange:P=>i({...s,branchId:P.target.value}),children:[a.jsx("option",{value:"",children:"Select Branch"}),d.map(P=>a.jsx("option",{value:ue(P),children:V(P)},ue(P)))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-bold",children:"Status"}),a.jsxs("select",{className:"mt-1 w-full px-3 py-2 rounded-xl border border-brand-border bg-white",value:s.status,onChange:P=>i({...s,status:P.target.value}),children:[a.jsx("option",{value:"ACTIVE",children:"Active"}),a.jsx("option",{value:"INACTIVE",children:"Inactive"})]})]}),a.jsxs("button",{type:"submit",disabled:k,className:"w-full py-2 rounded-xl bg-brand-primary hover:bg-brand-secondary text-white font-bold transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[k&&a.jsx(_r,{size:16,className:"animate-spin"}),y?"Save Changes":"Add Terminal"]})]})]}),a.jsxs("div",{className:"lg:col-span-2 bg-white border border-brand-border rounded-2xl shadow-sm overflow-visible",children:[a.jsxs("div",{className:"p-5 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("div",{className:"font-bold",children:"Terminal List"}),a.jsx("input",{value:e,onChange:P=>t(P.target.value),placeholder:"Search terminal...",className:"w-full sm:w-80 px-3 py-2 rounded-xl border border-brand-border outline-none focus:ring-2 focus:ring-brand-secondary"})]}),a.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-600",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left p-3",children:"Terminal ID"}),a.jsx("th",{className:"text-left p-3",children:"Name"}),a.jsx("th",{className:"text-left p-3",children:"Branch"}),a.jsx("th",{className:"text-center p-3",children:"Status"}),a.jsx("th",{className:"text-right p-3",children:"Actions"})]})}),a.jsxs("tbody",{children:[K.map(P=>{const H=Z(P),$=ge(P),ae=P.name,le=d.find(ce=>ue(ce)===P.branchId),be=le?V(le):"Unknown Branch";return a.jsxs("tr",{className:"border-t hover:bg-slate-50",children:[a.jsx("td",{className:"p-3 font-mono text-xs",children:$}),a.jsx("td",{className:"p-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-purple-100 text-purple-600",children:a.jsx(jN,{size:18})}),a.jsx("div",{className:"flex flex-col",children:a.jsx("span",{className:"font-bold text-gray-900",children:ae})})]})}),a.jsx("td",{className:"p-3",children:be}),a.jsx("td",{className:"p-3 text-center",children:a.jsx("span",{className:`inline-flex px-2.5 py-1 rounded-full text-xs font-medium ${G(P)?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:G(P)?"ACTIVE":"INACTIVE"})}),a.jsx("td",{className:"p-3 text-right",children:a.jsx("button",{ref:ce=>R.current[H]=ce,onClick:ce=>{ce.stopPropagation(),B(H)},className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:a.jsx(Qb,{size:16})})})]},H)}),K.length===0&&a.jsx("tr",{children:a.jsx("td",{className:"p-6 text-center text-brand-muted",colSpan:5,children:"No terminals found"})})]})]})})]})]}),g&&Vu.createPortal(a.jsxs("div",{className:"fixed w-48 bg-white rounded-lg shadow-xl border border-gray-100 z-[200] py-1",style:{top:j.top,left:j.left},onClick:P=>P.stopPropagation(),children:[a.jsxs("button",{onClick:()=>Q(r.find(P=>Z(P)===g)),className:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(lo,{size:14})," Edit Terminal"]}),a.jsxs("button",{onClick:()=>X(g),className:"w-full text-left px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(_0,{size:14})," ",G(r.find(P=>Z(P)===g))?"Deactivate":"Activate"]}),a.jsx("div",{className:"h-px bg-gray-100 my-1"}),a.jsxs("button",{onClick:()=>re(g),className:"w-full text-left px-4 py-2.5 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[a.jsx(ni,{size:14})," Delete"]})]}),document.body),m&&Vu.createPortal(a.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-brand-border sticky top-0 bg-white",children:[a.jsx("h2",{className:"text-2xl font-extrabold",children:m.name}),a.jsx("button",{onClick:()=>p(null),className:"text-slate-500 hover:text-slate-700 transition",children:a.jsx(Qt,{size:24})})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-slate-600 mb-1",children:"Terminal ID (Code)"}),a.jsx("div",{className:"text-lg font-mono",children:m.terminalCode})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-slate-600 mb-1",children:"Branch"}),a.jsx("div",{className:"text-lg",children:(()=>{const P=d.find(H=>ue(H)===m.branchId);return P?V(P):"Unknown Branch"})()})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-slate-600 mb-2",children:"Status"}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold text-white ${G(m)?"bg-brand-success":"bg-slate-500"}`,children:G(m)?"ACTIVE":"INACTIVE"})]})]})]})}),document.body)]})}function Yme(){return a.jsx(cme,{children:a.jsxs(v8,{children:[a.jsx(Ir,{index:!0,element:a.jsx(a8,{})}),a.jsx(Ir,{path:"overview",element:a.jsx(a8,{})}),a.jsx(Ir,{path:"users",element:a.jsx($me,{})}),a.jsx(Ir,{path:"terminals",element:a.jsx(Wme,{})}),a.jsx(Ir,{path:"system-activity",element:a.jsx(Kme,{})}),a.jsx(Ir,{path:"branches",element:a.jsx(Vme,{})}),a.jsx(Ir,{path:"reports",element:a.jsx(Hme,{})}),a.jsx(Ir,{path:"*",element:a.jsx(Sg,{to:"/admin",replace:!0})})]})})}const eg=({children:e,allowedRoles:t=[]})=>{const r=localStorage.getItem("token"),n=localStorage.getItem("user");if(!r)return a.jsx(Sg,{to:"/login",replace:!0});if(t.length>0&&n)try{const s=JSON.parse(n),i=(s.role||s.userRole||"").toUpperCase();if(!t.includes(i))return a.jsx(Sg,{to:Xme(i),replace:!0})}catch(s){console.error("Error parsing user data:",s)}return e};function Xme(e){switch(e){case"ADMIN":return"/admin";case"BRANCH_MANAGER":return"/manager";case"STORE_KEEPER":return"/inventory";default:return"/pos"}}function Qme(){return a.jsx(SB,{children:a.jsxs(mB,{children:[a.jsxs(v8,{children:[a.jsx(Ir,{path:"/login",element:a.jsx(cU,{})}),a.jsx(Ir,{path:"/register",element:a.jsx(dU,{})}),a.jsx(Ir,{path:"/",element:a.jsx(Sg,{to:"/login",replace:!0})}),a.jsx(Ir,{path:"/pos",element:a.jsx(eg,{allowedRoles:["CASHIER","SUPERVISOR","ADMIN","BRANCH_MANAGER"],children:a.jsx(u$,{})})}),a.jsx(Ir,{path:"/inventory/*",element:a.jsx(eg,{allowedRoles:["STORE_KEEPER","ADMIN","BRANCH_MANAGER"],children:a.jsx(tG,{})})}),a.jsx(Ir,{path:"/admin/*",element:a.jsx(eg,{allowedRoles:["ADMIN"],children:a.jsx(Yme,{})})}),a.jsxs(Ir,{path:"/manager",element:a.jsx(eg,{allowedRoles:["BRANCH_MANAGER"],children:a.jsx(TN,{children:a.jsx(jG,{})})}),children:[a.jsx(Ir,{index:!0,element:a.jsx(Hce,{})}),a.jsx(Ir,{path:"approvals",element:a.jsx(jhe,{})}),a.jsx(Ir,{path:"branch-activity",element:a.jsx(Che,{})}),a.jsx(Ir,{path:"sales",element:a.jsx(The,{})}),a.jsx(Ir,{path:"sales-reports",element:a.jsx(Ihe,{})}),a.jsx(Ir,{path:"chart-of-accounts",element:a.jsx(zhe,{})}),a.jsx(Ir,{path:"journal-entry",element:a.jsx(Hhe,{})}),a.jsx(Ir,{path:"profit-loss",element:a.jsx(Whe,{})}),a.jsx(Ir,{path:"manager-payments",element:a.jsx(ame,{})}),a.jsx(Ir,{path:"loyalty",element:a.jsx(rme,{})}),a.jsx(Ir,{path:"user-registrations",element:a.jsx(Qhe,{})}),a.jsx(Ir,{path:"reports",element:a.jsx(Yhe,{})})]}),a.jsx(Ir,{path:"*",element:a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-slate-300 mb-4",children:"404"}),a.jsx("p",{className:"text-slate-600 mb-6",children:"Page not found"}),a.jsx("a",{href:"/login",className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Go to Login"})]})})})]}),a.jsx(lU,{})]})})}console.log("=== Smart Retail Pro - ROCS Frontend ===");console.log("Environment:","production");console.log("Backend API: http://localhost:8080/api/v1");console.log("==========================================");GM.createRoot(document.getElementById("root")).render(a.jsx(Ju.StrictMode,{children:a.jsx(Qme,{})}));export{zr as _,Zme as c,Kl as g};
